import{a as cP,b as ew,c as lP,d as Rh,e as tw,f as lv,g as uP,h as dP,i as rw,j as ui,k as El,l as Ca,m as uv,n as Fh,o as mP,p as hP,q as Js,r as On}from"./chunk-JIGWWYPB.js";import{$ as nt,$a as Ih,$b as Nh,A as Ur,Aa as Je,Ab as ii,Ac as ZO,B as Ux,Ba as pl,Bb as Xs,Bc as kh,C as $s,Ca as At,Cb as Jg,Cc as JO,D as Hs,Da as Qg,Db as Nt,Dc as eP,E as _h,Ea as DO,Eb as ev,Ec as wl,F as qx,Fa as Ch,Fb as Pt,Fc as sv,G as ao,Ga as AO,Gb as vr,Gc as Zu,H as xh,Ha as Fn,Hb as Tt,Hc as Qs,I as wh,Ia as li,Ib as Ei,Ic as tP,J as rs,Ja as Sh,Jb as kr,Jc as rP,K as Da,Ka as Xu,Kb as Bt,Kc as iP,L as jx,La as Ku,Lb as Lt,Lc as nP,M as bO,Ma as CO,Mb as UO,Mc as Ys,N as Eh,Na as SO,Nb as qO,Nc as oP,O as $u,Oa as TO,Ob as Ni,Oc as aP,P as _O,Pa as IO,Pb as Ie,Pc as Zs,Q as Hu,Qa as MO,Qb as co,Qc as sP,R as Xg,Ra as NO,Rb as Co,Rc as cv,S as Do,Sa as kO,Sb as $n,Sc as as,T as wi,Ta as so,Tb as Hn,Tc as So,U as $x,Ua as RO,Ub as Gn,Uc as bn,V as qr,Va as Th,Vb as mr,Vc as Jo,W as ri,Wa as ke,Wb as Yt,Wc as To,X as Nr,Xa as ue,Xb as Ks,Y as Gs,Ya as gl,Yb as tv,Z as Ui,Za as vl,Zb as Kx,_ as qe,_a as FO,_b as jO,a as Yo,aa as xO,ab as Qu,ac as Yu,ad as fP,b as gO,ba as Ve,bb as Mh,bc as $O,bd as Oh,c as gn,ca as Hx,cb as yl,cc as rv,cd as dv,d as Bx,da as me,db as Yg,dc as HO,e as Lx,ea as Pe,eb as ns,ec as iv,f as Dt,fa as Gu,fb as OO,fc as nv,g as vn,ga as Gx,gb as wr,gc as Qx,h as $g,ha as Dh,hb as qi,hc as ov,hd as pP,i as vO,ia as dt,ib as PO,ic as Yx,id as mv,j as Ea,ja as ot,jb as Xx,jc as Zx,k as hl,ka as yt,kb as lt,kc as _l,kd as gP,l as Uu,la as wO,lb as BO,lc as av,m as Zr,ma as Wu,mb as Zg,mc as GO,n as ut,na as EO,nb as Aa,nc as Jx,o as fl,oa as is,ob as lr,oc as Hr,p as Hg,pa as Ao,pb as rt,pc as WO,pd as vP,q as yO,qa as yn,qb as bl,qc as XO,r as ct,ra as Kt,rb as $t,rc as Tr,s as qu,sa as Qt,sb as jn,sc as lo,t as oo,ta as Kg,tb as Br,tc as os,u as Vx,ua as Wx,ub as LO,uc as Zo,v as Gg,va as rn,vb as VO,vc as KO,w as zx,wa as Ws,wb as zO,wc as xl,x as Wg,xa as gi,xb as oe,xc as QO,y as ju,ya as Ah,yb as ne,yc as YO,z as js,za as Sr,zb as Ct,zc as St}from"./chunk-6SVQ363C.js";import{a as Le,b as Cr,d as gt,f as zu,g as Ox,h as xe,i as Px}from"./chunk-B4KBCH7I.js";var w1=gt((_1,x1)=>{"use strict";(function(r,e){typeof _1=="object"&&typeof x1<"u"?x1.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis<"u"?globalThis:r||self,r["'typed'"]=e())})(_1,function(){"use strict";function r(){return!0}function e(){return!1}function t(){}let i="Argument is not a typed-function.";function n(){function a(Y){return typeof Y=="object"&&Y!==null&&Y.constructor===Object}let s=[{name:"number",test:function(Y){return typeof Y=="number"}},{name:"string",test:function(Y){return typeof Y=="string"}},{name:"boolean",test:function(Y){return typeof Y=="boolean"}},{name:"Function",test:function(Y){return typeof Y=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(Y){return Y instanceof Date}},{name:"RegExp",test:function(Y){return Y instanceof RegExp}},{name:"Object",test:a},{name:"null",test:function(Y){return Y===null}},{name:"undefined",test:function(Y){return Y===void 0}}],c={name:"any",test:r,isAny:!0},l,u,d=0,m={createCount:0};function h(Y){let le=l.get(Y);if(le)return le;let ge='Unknown type "'+Y+'"',Te=Y.toLowerCase(),Ne;for(Ne of u)if(Ne.toLowerCase()===Te){ge+='. Did you mean "'+Ne+'" ?';break}throw new TypeError(ge)}function f(Y){let le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any",ge=le?h(le).index:u.length,Te=[];for(let we=0;we<Y.length;++we){if(!Y[we]||typeof Y[we].name!="string"||typeof Y[we].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");let $e=Y[we].name;if(l.has($e))throw new TypeError('Duplicate type name "'+$e+'"');Te.push($e),l.set($e,{name:$e,test:Y[we].test,isAny:Y[we].isAny,index:ge+we,conversionsTo:[]})}let Ne=u.slice(ge);u=u.slice(0,ge).concat(Te).concat(Ne);for(let we=ge+Te.length;we<u.length;++we)l.get(u[we]).index=we}function p(){l=new Map,u=[],d=0,f([c],!1)}p(),f(s);function w(){let Y;for(Y of u)l.get(Y).conversionsTo=[];d=0}function C(Y){let le=u.filter(ge=>{let Te=l.get(ge);return!Te.isAny&&Te.test(Y)});return le.length?le:["any"]}function T(Y){return Y&&typeof Y=="function"&&"_typedFunctionData"in Y}function g(Y,le,ge){if(!T(Y))throw new TypeError(i);let Te=ge&&ge.exact,Ne=Array.isArray(le)?le.join(","):le,we=D(Ne),$e=y(we);if(!Te||$e in Y.signatures){let De=Y._typedFunctionData.signatureMap.get($e);if(De)return De}let R=we.length,X;if(Te){X=[];let De;for(De in Y.signatures)X.push(Y._typedFunctionData.signatureMap.get(De))}else X=Y._typedFunctionData.signatures;for(let De=0;De<R;++De){let et=we[De],ht=[],gr;for(gr of X){let xi=q(gr.params,De);if(!(!xi||et.restParam&&!xi.restParam)){if(!xi.hasAny){let Rn=E(xi);if(et.types.some(zi=>!Rn.has(zi.name)))continue}ht.push(gr)}}if(X=ht,X.length===0)break}let te;for(te of X)if(te.params.length<=R)return te;throw new TypeError("Signature not found (signature: "+(Y.name||"unnamed")+"("+y(we,", ")+"))")}function _(Y,le,ge){return g(Y,le,ge).implementation}function v(Y,le){let ge=h(le);if(ge.test(Y))return Y;let Te=ge.conversionsTo;if(Te.length===0)throw new Error("There are no conversions to "+le+" defined.");for(let Ne=0;Ne<Te.length;Ne++)if(h(Te[Ne].from).test(Y))return Te[Ne].convert(Y);throw new Error("Cannot convert "+Y+" to "+le)}function y(Y){let le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return Y.map(ge=>ge.name).join(le)}function A(Y){let le=Y.indexOf("...")===0,Te=(le?Y.length>3?Y.slice(3):"any":Y).split("|").map(R=>h(R.trim())),Ne=!1,we=le?"...":"";return{types:Te.map(function(R){return Ne=R.isAny||Ne,we+=R.name+"|",{name:R.name,typeIndex:R.index,test:R.test,isAny:R.isAny,conversion:null,conversionIndex:-1}}),name:we.slice(0,-1),hasAny:Ne,hasConversion:!1,restParam:le}}function b(Y){let le=Y.types.map($e=>$e.name),ge=H(le),Te=Y.hasAny,Ne=Y.name,we=ge.map(function($e){let R=h($e.from);return Te=R.isAny||Te,Ne+="|"+$e.from,{name:$e.from,typeIndex:R.index,test:R.test,isAny:R.isAny,conversion:$e,conversionIndex:$e.index}});return{types:Y.types.concat(we),name:Ne,hasAny:Te,hasConversion:we.length>0,restParam:Y.restParam}}function E(Y){return Y.typeSet||(Y.typeSet=new Set,Y.types.forEach(le=>Y.typeSet.add(le.name))),Y.typeSet}function D(Y){let le=[];if(typeof Y!="string")throw new TypeError("Signatures must be strings");let ge=Y.trim();if(ge==="")return le;let Te=ge.split(",");for(let Ne=0;Ne<Te.length;++Ne){let we=A(Te[Ne].trim());if(we.restParam&&Ne!==Te.length-1)throw new SyntaxError('Unexpected rest parameter "'+Te[Ne]+'": only allowed for the last parameter');if(we.types.length===0)return null;le.push(we)}return le}function S(Y){let le=$(Y);return le?le.restParam:!1}function I(Y){if(!Y||Y.types.length===0)return r;if(Y.types.length===1)return h(Y.types[0].name).test;if(Y.types.length===2){let le=h(Y.types[0].name).test,ge=h(Y.types[1].name).test;return function(Ne){return le(Ne)||ge(Ne)}}else{let le=Y.types.map(function(ge){return h(ge.name).test});return function(Te){for(let Ne=0;Ne<le.length;Ne++)if(le[Ne](Te))return!0;return!1}}}function M(Y){let le,ge,Te;if(S(Y)){le=fe(Y).map(I);let Ne=le.length,we=I($(Y)),$e=function(R){for(let X=Ne;X<R.length;X++)if(!we(R[X]))return!1;return!0};return function(X){for(let te=0;te<le.length;te++)if(!le[te](X[te]))return!1;return $e(X)&&X.length>=Ne+1}}else return Y.length===0?function(we){return we.length===0}:Y.length===1?(ge=I(Y[0]),function(we){return ge(we[0])&&we.length===1}):Y.length===2?(ge=I(Y[0]),Te=I(Y[1]),function(we){return ge(we[0])&&Te(we[1])&&we.length===2}):(le=Y.map(I),function(we){for(let $e=0;$e<le.length;$e++)if(!le[$e](we[$e]))return!1;return we.length===le.length})}function q(Y,le){return le<Y.length?Y[le]:S(Y)?$(Y):null}function U(Y,le){let ge=q(Y,le);return ge?E(ge):new Set}function F(Y){return Y.conversion===null||Y.conversion===void 0}function O(Y,le){let ge=new Set;return Y.forEach(Te=>{let Ne=U(Te.params,le),we;for(we of Ne)ge.add(we)}),ge.has("any")?["any"]:Array.from(ge)}function G(Y,le,ge){let Te,Ne,we=Y||"unnamed",$e=ge,R;for(R=0;R<le.length;R++){let et=[];if($e.forEach(ht=>{let gr=q(ht.params,R),xi=I(gr);(R<ht.params.length||S(ht.params))&&xi(le[R])&&et.push(ht)}),et.length===0){if(Ne=O($e,R),Ne.length>0){let ht=C(le[R]);return Te=new TypeError("Unexpected type of argument in function "+we+" (expected: "+Ne.join(" or ")+", actual: "+ht.join(" | ")+", index: "+R+")"),Te.data={category:"wrongType",fn:we,index:R,actual:ht,expected:Ne},Te}}else $e=et}let X=$e.map(function(et){return S(et.params)?1/0:et.params.length});if(le.length<Math.min.apply(null,X))return Ne=O($e,R),Te=new TypeError("Too few arguments in function "+we+" (expected: "+Ne.join(" or ")+", index: "+le.length+")"),Te.data={category:"tooFewArgs",fn:we,index:le.length,expected:Ne},Te;let te=Math.max.apply(null,X);if(le.length>te)return Te=new TypeError("Too many arguments in function "+we+" (expected: "+te+", actual: "+le.length+")"),Te.data={category:"tooManyArgs",fn:we,index:le.length,expectedLength:te},Te;let De=[];for(let et=0;et<le.length;++et)De.push(C(le[et]).join("|"));return Te=new TypeError('Arguments of type "'+De.join(", ")+'" do not match any of the defined signatures of function '+we+"."),Te.data={category:"mismatch",actual:De},Te}function B(Y){let le=u.length+1;for(let ge=0;ge<Y.types.length;ge++)F(Y.types[ge])&&(le=Math.min(le,Y.types[ge].typeIndex));return le}function ee(Y){let le=d+1;for(let ge=0;ge<Y.types.length;ge++)F(Y.types[ge])||(le=Math.min(le,Y.types[ge].conversionIndex));return le}function ae(Y,le){if(Y.hasAny){if(!le.hasAny)return 1}else if(le.hasAny)return-1;if(Y.restParam){if(!le.restParam)return 1}else if(le.restParam)return-1;if(Y.hasConversion){if(!le.hasConversion)return 1}else if(le.hasConversion)return-1;let ge=B(Y)-B(le);if(ge<0)return-1;if(ge>0)return 1;let Te=ee(Y)-ee(le);return Te<0?-1:Te>0?1:0}function J(Y,le){let ge=Y.params,Te=le.params,Ne=$(ge),we=$(Te),$e=S(ge),R=S(Te);if($e&&Ne.hasAny){if(!R||!we.hasAny)return 1}else if(R&&we.hasAny)return-1;let X=0,te=0,De;for(De of ge)De.hasAny&&++X,De.hasConversion&&++te;let et=0,ht=0;for(De of Te)De.hasAny&&++et,De.hasConversion&&++ht;if(X!==et)return X-et;if($e&&Ne.hasConversion){if(!R||!we.hasConversion)return 1}else if(R&&we.hasConversion)return-1;if(te!==ht)return te-ht;if($e){if(!R)return 1}else if(R)return-1;let gr=(ge.length-Te.length)*($e?-1:1);if(gr!==0)return gr;let xi=[],Rn=0;for(let Za=0;Za<ge.length;++Za){let Ja=ae(ge[Za],Te[Za]);xi.push(Ja),Rn+=Ja}if(Rn!==0)return Rn;let zi;for(zi of xi)if(zi!==0)return zi;return 0}function H(Y){if(Y.length===0)return[];let le=Y.map(h);Y.length>1&&le.sort((Ne,we)=>Ne.index-we.index);let ge=le[0].conversionsTo;if(Y.length===1)return ge;ge=ge.concat([]);let Te=new Set(Y);for(let Ne=1;Ne<le.length;++Ne){let we;for(we of le[Ne].conversionsTo)Te.has(we.from)||(ge.push(we),Te.add(we.from))}return ge}function ce(Y,le){let ge=le;if(Y.some(Ne=>Ne.hasConversion)){let Ne=S(Y),we=Y.map(ye);ge=function(){let R=[],X=Ne?arguments.length-1:arguments.length;for(let te=0;te<X;te++)R[te]=we[te](arguments[te]);return Ne&&(R[X]=arguments[X].map(we[X])),le.apply(this,R)}}let Te=ge;if(S(Y)){let Ne=Y.length-1;Te=function(){return ge.apply(this,K(arguments,0,Ne).concat([K(arguments,Ne)]))}}return Te}function ye(Y){let le,ge,Te,Ne,we=[],$e=[];switch(Y.types.forEach(function(R){R.conversion&&(we.push(h(R.conversion.from).test),$e.push(R.conversion.convert))}),$e.length){case 0:return function(X){return X};case 1:return le=we[0],Te=$e[0],function(X){return le(X)?Te(X):X};case 2:return le=we[0],ge=we[1],Te=$e[0],Ne=$e[1],function(X){return le(X)?Te(X):ge(X)?Ne(X):X};default:return function(X){for(let te=0;te<$e.length;te++)if(we[te](X))return $e[te](X);return X}}}function V(Y){function le(ge,Te,Ne){if(Te<ge.length){let we=ge[Te],$e=[];if(we.restParam){let R=we.types.filter(F);R.length<we.types.length&&$e.push({types:R,name:"..."+R.map(X=>X.name).join("|"),hasAny:R.some(X=>X.isAny),hasConversion:!1,restParam:!0}),$e.push(we)}else $e=we.types.map(function(R){return{types:[R],name:R.name,hasAny:R.isAny,hasConversion:R.conversion,restParam:!1}});return de($e,function(R){return le(ge,Te+1,Ne.concat([R]))})}else return[Ne]}return le(Y,0,[])}function P(Y,le){let ge=Math.max(Y.length,le.length);for(let R=0;R<ge;R++){let X=U(Y,R),te=U(le,R),De=!1,et;for(et of te)if(X.has(et)){De=!0;break}if(!De)return!1}let Te=Y.length,Ne=le.length,we=S(Y),$e=S(le);return we?$e?Te===Ne:Ne>=Te:$e?Te>=Ne:Te===Ne}function j(Y){return Y.map(le=>Mt(le)?Be(le.referToSelf.callback):We(le)?Se(le.referTo.references,le.referTo.callback):le)}function z(Y,le,ge){let Te=[],Ne;for(Ne of Y){let we=ge[Ne];if(typeof we!="number")throw new TypeError('No definition for referenced signature "'+Ne+'"');if(we=le[we],typeof we!="function")return!1;Te.push(we)}return Te}function Q(Y,le,ge){let Te=j(Y),Ne=new Array(Te.length).fill(!1),we=!0;for(;we;){we=!1;let $e=!0;for(let R=0;R<Te.length;++R){if(Ne[R])continue;let X=Te[R];if(Mt(X))Te[R]=X.referToSelf.callback(ge),Te[R].referToSelf=X.referToSelf,Ne[R]=!0,$e=!1;else if(We(X)){let te=z(X.referTo.references,Te,le);te?(Te[R]=X.referTo.callback.apply(this,te),Te[R].referTo=X.referTo,Ne[R]=!0,$e=!1):we=!0}}if($e&&we)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return Te}function ie(Y){let le=/\bthis(\(|\.signatures\b)/;Object.keys(Y).forEach(ge=>{let Te=Y[ge];if(le.test(Te.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function re(Y,le){if(m.createCount++,Object.keys(le).length===0)throw new SyntaxError("No signatures provided");m.warnAgainstDeprecatedThis&&ie(le);let ge=[],Te=[],Ne={},we=[],$e;for($e in le){if(!Object.prototype.hasOwnProperty.call(le,$e))continue;let xr=D($e);if(!xr)continue;ge.forEach(function(zs){if(P(zs,xr))throw new TypeError('Conflicting signatures "'+y(zs)+'" and "'+y(xr)+'".')}),ge.push(xr);let hn=Te.length;Te.push(le[$e]);let Rg=xr.map(b),ul;for(ul of V(Rg)){let zs=y(ul);we.push({params:ul,name:zs,fn:hn}),ul.every(dh=>!dh.hasConversion)&&(Ne[zs]=hn)}}we.sort(J);let R=Q(Te,Ne,io),X;for(X in Ne)Object.prototype.hasOwnProperty.call(Ne,X)&&(Ne[X]=R[Ne[X]]);let te=[],De=new Map;for(X of we)De.has(X.name)||(X.fn=R[X.fn],te.push(X),De.set(X.name,X));let et=te[0]&&te[0].params.length<=2&&!S(te[0].params),ht=te[1]&&te[1].params.length<=2&&!S(te[1].params),gr=te[2]&&te[2].params.length<=2&&!S(te[2].params),xi=te[3]&&te[3].params.length<=2&&!S(te[3].params),Rn=te[4]&&te[4].params.length<=2&&!S(te[4].params),zi=te[5]&&te[5].params.length<=2&&!S(te[5].params),Za=et&&ht&&gr&&xi&&Rn&&zi;for(let xr=0;xr<te.length;++xr)te[xr].test=M(te[xr].params);let Ja=et?I(te[0].params[0]):e,Dg=ht?I(te[1].params[0]):e,al=gr?I(te[2].params[0]):e,Ag=xi?I(te[3].params[0]):e,en=Rn?I(te[4].params[0]):e,Cg=zi?I(te[5].params[0]):e,sl=et?I(te[0].params[1]):e,cl=ht?I(te[1].params[1]):e,Dx=gr?I(te[2].params[1]):e,Ax=xi?I(te[3].params[1]):e,Vs=Rn?I(te[4].params[1]):e,Cx=zi?I(te[5].params[1]):e;for(let xr=0;xr<te.length;++xr)te[xr].implementation=ce(te[xr].params,te[xr].fn);let Sx=et?te[0].implementation:t,Fu=ht?te[1].implementation:t,Sg=gr?te[2].implementation:t,sh=xi?te[3].implementation:t,Ou=Rn?te[4].implementation:t,wa=zi?te[5].implementation:t,Tg=et?te[0].params.length:-1,Ig=ht?te[1].params.length:-1,ch=gr?te[2].params.length:-1,lh=xi?te[3].params.length:-1,Mg=Rn?te[4].params.length:-1,Ng=zi?te[5].params.length:-1,Tx=Za?6:0,Pu=te.length,kg=te.map(xr=>xr.test),uh=te.map(xr=>xr.implementation),ll=function(){for(let hn=Tx;hn<Pu;hn++)if(kg[hn](arguments))return uh[hn].apply(this,arguments);return m.onMismatch(Y,arguments,te)};function io(xr,hn){return arguments.length===Tg&&Ja(xr)&&sl(hn)?Sx.apply(this,arguments):arguments.length===Ig&&Dg(xr)&&cl(hn)?Fu.apply(this,arguments):arguments.length===ch&&al(xr)&&Dx(hn)?Sg.apply(this,arguments):arguments.length===lh&&Ag(xr)&&Ax(hn)?sh.apply(this,arguments):arguments.length===Mg&&en(xr)&&Vs(hn)?Ou.apply(this,arguments):arguments.length===Ng&&Cg(xr)&&Cx(hn)?wa.apply(this,arguments):ll.apply(this,arguments)}try{Object.defineProperty(io,"name",{value:Y})}catch{}return io.signatures=Ne,io._typedFunctionData={signatures:te,signatureMap:De},io}function pe(Y,le,ge){throw G(Y,le,ge)}function fe(Y){return K(Y,0,Y.length-1)}function $(Y){return Y[Y.length-1]}function K(Y,le,ge){return Array.prototype.slice.call(Y,le,ge)}function se(Y,le){for(let ge=0;ge<Y.length;ge++)if(le(Y[ge]))return Y[ge]}function de(Y,le){return Array.prototype.concat.apply([],Y.map(le))}function Ee(){let Y=fe(arguments).map(ge=>y(D(ge))),le=$(arguments);if(typeof le!="function")throw new TypeError("Callback function expected as last argument");return Se(Y,le)}function Se(Y,le){return{referTo:{references:Y,callback:le}}}function Be(Y){if(typeof Y!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:Y}}}function We(Y){return Y&&typeof Y.referTo=="object"&&Array.isArray(Y.referTo.references)&&typeof Y.referTo.callback=="function"}function Mt(Y){return Y&&typeof Y.referToSelf=="object"&&typeof Y.referToSelf.callback=="function"}function ft(Y,le){if(!Y)return le;if(le&&le!==Y){let ge=new Error("Function names do not match (expected: "+Y+", actual: "+le+")");throw ge.data={actual:le,expected:Y},ge}return Y}function sr(Y){let le;for(let ge in Y)Object.prototype.hasOwnProperty.call(Y,ge)&&(T(Y[ge])||typeof Y[ge].signature=="string")&&(le=ft(le,Y[ge].name));return le}function rr(Y,le){let ge;for(ge in le)if(Object.prototype.hasOwnProperty.call(le,ge)){if(ge in Y&&le[ge]!==Y[ge]){let Te=new Error('Signature "'+ge+'" is defined twice');throw Te.data={signature:ge,sourceFunction:le[ge],destFunction:Y[ge]},Te}Y[ge]=le[ge]}}let Xt=m;m=function(Y){let le=typeof Y=="string",ge=le?1:0,Te=le?Y:"",Ne={};for(let we=ge;we<arguments.length;++we){let $e=arguments[we],R={},X;if(typeof $e=="function"?(X=$e.name,typeof $e.signature=="string"?R[$e.signature]=$e:T($e)&&(R=$e.signatures)):a($e)&&(R=$e,le||(X=sr($e))),Object.keys(R).length===0){let te=new TypeError("Argument to 'typed' at index "+we+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw te.data={index:we,argument:$e},te}le||(Te=ft(Te,X)),rr(Ne,R)}return re(Te||"",Ne)},m.create=n,m.createCount=Xt.createCount,m.onMismatch=pe,m.throwMismatchError=pe,m.createError=G,m.clear=p,m.clearConversions=w,m.addTypes=f,m._findType=h,m.referTo=Ee,m.referToSelf=Be,m.convert=v,m.findSignature=g,m.find=_,m.isTypedFunction=T,m.warnAgainstDeprecatedThis=!0,m.addType=function(Y,le){let ge="any";le!==!1&&l.has("Object")&&(ge="Object"),m.addTypes([Y],ge)};function cr(Y){if(!Y||typeof Y.from!="string"||typeof Y.to!="string"||typeof Y.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(Y.to===Y.from)throw new SyntaxError('Illegal to define conversion from "'+Y.from+'" to itself.')}return m.addConversion=function(Y){let le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};cr(Y);let ge=h(Y.to),Te=ge.conversionsTo.find(Ne=>Ne.from===Y.from);if(Te)if(le&&le.override)m.removeConversion({from:Te.from,to:Y.to,convert:Te.convert});else throw new Error('There is already a conversion from "'+Y.from+'" to "'+ge.name+'"');ge.conversionsTo.push({from:Y.from,convert:Y.convert,index:d++})},m.addConversions=function(Y,le){Y.forEach(ge=>m.addConversion(ge,le))},m.removeConversion=function(Y){cr(Y);let le=h(Y.to),ge=se(le.conversionsTo,Ne=>Ne.from===Y.from);if(!ge)throw new Error("Attempt to remove nonexistent conversion from "+Y.from+" to "+Y.to);if(ge.convert!==Y.convert)throw new Error("Conversion to remove does not match existing conversion");let Te=le.conversionsTo.indexOf(ge);le.conversionsTo.splice(Te,1)},m.resolve=function(Y,le){if(!T(Y))throw new TypeError(i);let ge=Y._typedFunctionData.signatures;for(let Te=0;Te<ge.length;++Te)if(ge[Te].test(le))return ge[Te];return null},m}var o=n();return o})});var M4=gt((nFe,I4)=>{"use strict";I4.exports=function r(e,t){"use strict";var i=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,n=/(^[ ]*|[ ]*$)/g,o=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,a=/^0x[0-9a-f]+$/i,s=/^0/,c=function(g){return r.insensitive&&(""+g).toLowerCase()||""+g},l=c(e).replace(n,"")||"",u=c(t).replace(n,"")||"",d=l.replace(i,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=u.replace(i,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),h=parseInt(l.match(a),16)||d.length!==1&&l.match(o)&&Date.parse(l),f=parseInt(u.match(a),16)||h&&u.match(o)&&Date.parse(u)||null,p,w;if(f){if(h<f)return-1;if(h>f)return 1}for(var C=0,T=Math.max(d.length,m.length);C<T;C++){if(p=!(d[C]||"").match(s)&&parseFloat(d[C])||d[C]||0,w=!(m[C]||"").match(s)&&parseFloat(m[C])||m[C]||0,isNaN(p)!==isNaN(w))return isNaN(p)?1:-1;if(typeof p!=typeof w&&(p+="",w+=""),p<w)return-1;if(p>w)return 1}return 0}});var Fz=gt((C3e,Rz)=>{"use strict";var cS=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Mue={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},Nue={"\u2013":"\\--","\u2014":"\\---"," ":"~","	":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},kue=function(e,t){return cS({},e,t)};Rz.exports=function(r){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.preserveFormatting,i=t===void 0?!1:t,n=e.escapeMapFn,o=n===void 0?kue:n,a=String(r),s="",c=o(cS({},Mue),i?cS({},Nue):{}),l=Object.keys(c),u=function(){var m=!1;l.forEach(function(h,f){m||a.length>=h.length&&a.slice(0,h.length)===h&&(s+=c[l[f]],a=a.slice(h.length,a.length),m=!0)}),m||(s+=a.slice(0,1),a=a.slice(1,a.length))};a;)u();return s}});var d9=gt((u9,lT)=>{"use strict";(function(r,e,t){function i(s){var c=this,l=a();c.next=function(){var u=2091639*c.s0+c.c*23283064365386963e-26;return c.s0=c.s1,c.s1=c.s2,c.s2=u-(c.c=u|0)},c.c=1,c.s0=l(" "),c.s1=l(" "),c.s2=l(" "),c.s0-=l(s),c.s0<0&&(c.s0+=1),c.s1-=l(s),c.s1<0&&(c.s1+=1),c.s2-=l(s),c.s2<0&&(c.s2+=1),l=null}function n(s,c){return c.c=s.c,c.s0=s.s0,c.s1=s.s1,c.s2=s.s2,c}function o(s,c){var l=new i(s),u=c&&c.state,d=l.next;return d.int32=function(){return l.next()*4294967296|0},d.double=function(){return d()+(d()*2097152|0)*11102230246251565e-32},d.quick=d,u&&(typeof u=="object"&&n(u,l),d.state=function(){return n(l,{})}),d}function a(){var s=4022871197,c=function(l){l=String(l);for(var u=0;u<l.length;u++){s+=l.charCodeAt(u);var d=.02519603282416938*s;s=d>>>0,d-=s,d*=s,s=d>>>0,d-=s,s+=d*4294967296}return(s>>>0)*23283064365386963e-26};return c}e&&e.exports?e.exports=o:t&&t.amd?t(function(){return o}):this.alea=o})(u9,typeof lT=="object"&&lT,typeof define=="function"&&define)});var h9=gt((m9,uT)=>{"use strict";(function(r,e,t){function i(a){var s=this,c="";s.x=0,s.y=0,s.z=0,s.w=0,s.next=function(){var u=s.x^s.x<<11;return s.x=s.y,s.y=s.z,s.z=s.w,s.w^=s.w>>>19^u^u>>>8},a===(a|0)?s.x=a:c+=a;for(var l=0;l<c.length+64;l++)s.x^=c.charCodeAt(l)|0,s.next()}function n(a,s){return s.x=a.x,s.y=a.y,s.z=a.z,s.w=a.w,s}function o(a,s){var c=new i(a),l=s&&s.state,u=function(){return(c.next()>>>0)/4294967296};return u.double=function(){do var d=c.next()>>>11,m=(c.next()>>>0)/4294967296,h=(d+m)/(1<<21);while(h===0);return h},u.int32=c.next,u.quick=u,l&&(typeof l=="object"&&n(l,c),u.state=function(){return n(c,{})}),u}e&&e.exports?e.exports=o:t&&t.amd?t(function(){return o}):this.xor128=o})(m9,typeof uT=="object"&&uT,typeof define=="function"&&define)});var p9=gt((f9,dT)=>{"use strict";(function(r,e,t){function i(a){var s=this,c="";s.next=function(){var u=s.x^s.x>>>2;return s.x=s.y,s.y=s.z,s.z=s.w,s.w=s.v,(s.d=s.d+362437|0)+(s.v=s.v^s.v<<4^(u^u<<1))|0},s.x=0,s.y=0,s.z=0,s.w=0,s.v=0,a===(a|0)?s.x=a:c+=a;for(var l=0;l<c.length+64;l++)s.x^=c.charCodeAt(l)|0,l==c.length&&(s.d=s.x<<10^s.x>>>4),s.next()}function n(a,s){return s.x=a.x,s.y=a.y,s.z=a.z,s.w=a.w,s.v=a.v,s.d=a.d,s}function o(a,s){var c=new i(a),l=s&&s.state,u=function(){return(c.next()>>>0)/4294967296};return u.double=function(){do var d=c.next()>>>11,m=(c.next()>>>0)/4294967296,h=(d+m)/(1<<21);while(h===0);return h},u.int32=c.next,u.quick=u,l&&(typeof l=="object"&&n(l,c),u.state=function(){return n(c,{})}),u}e&&e.exports?e.exports=o:t&&t.amd?t(function(){return o}):this.xorwow=o})(f9,typeof dT=="object"&&dT,typeof define=="function"&&define)});var v9=gt((g9,mT)=>{"use strict";(function(r,e,t){function i(a){var s=this;s.next=function(){var l=s.x,u=s.i,d,m,h;return d=l[u],d^=d>>>7,m=d^d<<24,d=l[u+1&7],m^=d^d>>>10,d=l[u+3&7],m^=d^d>>>3,d=l[u+4&7],m^=d^d<<7,d=l[u+7&7],d=d^d<<13,m^=d^d<<9,l[u]=m,s.i=u+1&7,m};function c(l,u){var d,m,h=[];if(u===(u|0))m=h[0]=u;else for(u=""+u,d=0;d<u.length;++d)h[d&7]=h[d&7]<<15^u.charCodeAt(d)+h[d+1&7]<<13;for(;h.length<8;)h.push(0);for(d=0;d<8&&h[d]===0;++d);for(d==8?m=h[7]=-1:m=h[d],l.x=h,l.i=0,d=256;d>0;--d)l.next()}c(s,a)}function n(a,s){return s.x=a.x.slice(),s.i=a.i,s}function o(a,s){a==null&&(a=+new Date);var c=new i(a),l=s&&s.state,u=function(){return(c.next()>>>0)/4294967296};return u.double=function(){do var d=c.next()>>>11,m=(c.next()>>>0)/4294967296,h=(d+m)/(1<<21);while(h===0);return h},u.int32=c.next,u.quick=u,l&&(l.x&&n(l,c),u.state=function(){return n(c,{})}),u}e&&e.exports?e.exports=o:t&&t.amd?t(function(){return o}):this.xorshift7=o})(g9,typeof mT=="object"&&mT,typeof define=="function"&&define)});var b9=gt((y9,hT)=>{"use strict";(function(r,e,t){function i(a){var s=this;s.next=function(){var l=s.w,u=s.X,d=s.i,m,h;return s.w=l=l+1640531527|0,h=u[d+34&127],m=u[d=d+1&127],h^=h<<13,m^=m<<17,h^=h>>>15,m^=m>>>12,h=u[d]=h^m,s.i=d,h+(l^l>>>16)|0};function c(l,u){var d,m,h,f,p,w=[],C=128;for(u===(u|0)?(m=u,u=null):(u=u+"\0",m=0,C=Math.max(C,u.length)),h=0,f=-32;f<C;++f)u&&(m^=u.charCodeAt((f+32)%u.length)),f===0&&(p=m),m^=m<<10,m^=m>>>15,m^=m<<4,m^=m>>>13,f>=0&&(p=p+1640531527|0,d=w[f&127]^=m+p,h=d==0?h+1:0);for(h>=128&&(w[(u&&u.length||0)&127]=-1),h=127,f=4*128;f>0;--f)m=w[h+34&127],d=w[h=h+1&127],m^=m<<13,d^=d<<17,m^=m>>>15,d^=d>>>12,w[h]=m^d;l.w=p,l.X=w,l.i=h}c(s,a)}function n(a,s){return s.i=a.i,s.w=a.w,s.X=a.X.slice(),s}function o(a,s){a==null&&(a=+new Date);var c=new i(a),l=s&&s.state,u=function(){return(c.next()>>>0)/4294967296};return u.double=function(){do var d=c.next()>>>11,m=(c.next()>>>0)/4294967296,h=(d+m)/(1<<21);while(h===0);return h},u.int32=c.next,u.quick=u,l&&(l.X&&n(l,c),u.state=function(){return n(c,{})}),u}e&&e.exports?e.exports=o:t&&t.amd?t(function(){return o}):this.xor4096=o})(y9,typeof hT=="object"&&hT,typeof define=="function"&&define)});var x9=gt((_9,fT)=>{"use strict";(function(r,e,t){function i(a){var s=this,c="";s.next=function(){var u=s.b,d=s.c,m=s.d,h=s.a;return u=u<<25^u>>>7^d,d=d-m|0,m=m<<24^m>>>8^h,h=h-u|0,s.b=u=u<<20^u>>>12^d,s.c=d=d-m|0,s.d=m<<16^d>>>16^h,s.a=h-u|0},s.a=0,s.b=0,s.c=-1640531527,s.d=1367130551,a===Math.floor(a)?(s.a=a/4294967296|0,s.b=a|0):c+=a;for(var l=0;l<c.length+20;l++)s.b^=c.charCodeAt(l)|0,s.next()}function n(a,s){return s.a=a.a,s.b=a.b,s.c=a.c,s.d=a.d,s}function o(a,s){var c=new i(a),l=s&&s.state,u=function(){return(c.next()>>>0)/4294967296};return u.double=function(){do var d=c.next()>>>11,m=(c.next()>>>0)/4294967296,h=(d+m)/(1<<21);while(h===0);return h},u.int32=c.next,u.quick=u,l&&(typeof l=="object"&&n(l,c),u.state=function(){return n(c,{})}),u}e&&e.exports?e.exports=o:t&&t.amd?t(function(){return o}):this.tychei=o})(_9,typeof fT=="object"&&fT,typeof define=="function"&&define)});var w9=gt(()=>{"use strict"});var D9=gt((E9,dy)=>{"use strict";(function(r,e,t){var i=256,n=6,o=52,a="random",s=t.pow(i,n),c=t.pow(2,o),l=c*2,u=i-1,d;function m(g,_,v){var y=[];_=_==!0?{entropy:!0}:_||{};var A=w(p(_.entropy?[g,T(e)]:g??C(),3),y),b=new h(y),E=function(){for(var D=b.g(n),S=s,I=0;D<c;)D=(D+I)*i,S*=i,I=b.g(1);for(;D>=l;)D/=2,S/=2,I>>>=1;return(D+I)/S};return E.int32=function(){return b.g(4)|0},E.quick=function(){return b.g(4)/4294967296},E.double=E,w(T(b.S),e),(_.pass||v||function(D,S,I,M){return M&&(M.S&&f(M,b),D.state=function(){return f(b,{})}),I?(t[a]=D,S):D})(E,A,"global"in _?_.global:this==t,_.state)}function h(g){var _,v=g.length,y=this,A=0,b=y.i=y.j=0,E=y.S=[];for(v||(g=[v++]);A<i;)E[A]=A++;for(A=0;A<i;A++)E[A]=E[b=u&b+g[A%v]+(_=E[A])],E[b]=_;(y.g=function(D){for(var S,I=0,M=y.i,q=y.j,U=y.S;D--;)S=U[M=u&M+1],I=I*i+U[u&(U[M]=U[q=u&q+S])+(U[q]=S)];return y.i=M,y.j=q,I})(i)}function f(g,_){return _.i=g.i,_.j=g.j,_.S=g.S.slice(),_}function p(g,_){var v=[],y=typeof g,A;if(_&&y=="object")for(A in g)try{v.push(p(g[A],_-1))}catch{}return v.length?v:y=="string"?g:g+"\0"}function w(g,_){for(var v=g+"",y,A=0;A<v.length;)_[u&A]=u&(y^=_[u&A]*19)+v.charCodeAt(A++);return T(_)}function C(){try{var g;return d&&(g=d.randomBytes)?g=g(i):(g=new Uint8Array(i),(r.crypto||r.msCrypto).getRandomValues(g)),T(g)}catch{var _=r.navigator,v=_&&_.plugins;return[+new Date,r,v,r.screen,T(e)]}}function T(g){return String.fromCharCode.apply(0,g)}if(w(t.random(),e),typeof dy=="object"&&dy.exports){dy.exports=m;try{d=w9()}catch{}}else typeof define=="function"&&define.amd?define(function(){return m}):t["seed"+a]=m})(typeof self<"u"?self:E9,[],Math)});var C9=gt((YGe,A9)=>{"use strict";var Kde=d9(),Qde=h9(),Yde=p9(),Zde=v9(),Jde=b9(),eme=x9(),Hl=D9();Hl.alea=Kde;Hl.xor128=Qde;Hl.xorwow=Yde;Hl.xorshift7=Zde;Hl.xor4096=Jde;Hl.tychei=eme;A9.exports=Hl});var ub=gt($N=>{"use strict";(function(){$N.defaults={"0.1":{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},"0.2":{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:`
`},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call($N)});var Ba=gt((iW,Bc)=>{"use strict";(function(){var r,e,t,i,n,o,a,s=[].slice,c={}.hasOwnProperty;r=function(){var l,u,d,m,h,f;if(f=arguments[0],h=2<=arguments.length?s.call(arguments,1):[],n(Object.assign))Object.assign.apply(null,arguments);else for(l=0,d=h.length;l<d;l++)if(m=h[l],m!=null)for(u in m)c.call(m,u)&&(f[u]=m[u]);return f},n=function(l){return!!l&&Object.prototype.toString.call(l)==="[object Function]"},o=function(l){var u;return!!l&&((u=typeof l)=="function"||u==="object")},t=function(l){return n(Array.isArray)?Array.isArray(l):Object.prototype.toString.call(l)==="[object Array]"},i=function(l){var u;if(t(l))return!l.length;for(u in l)if(c.call(l,u))return!1;return!0},a=function(l){var u,d;return o(l)&&(d=Object.getPrototypeOf(l))&&(u=d.constructor)&&typeof u=="function"&&u instanceof u&&Function.prototype.toString.call(u)===Function.prototype.toString.call(Object)},e=function(l){return n(l.valueOf)?l.valueOf():l},Bc.exports.assign=r,Bc.exports.isFunction=n,Bc.exports.isObject=o,Bc.exports.isArray=t,Bc.exports.isEmpty=i,Bc.exports.isPlainObject=a,Bc.exports.getValue=e}).call(iW)});var HN=gt((nW,oW)=>{"use strict";(function(){var r;oW.exports=r=function(){function e(){}return e.prototype.hasFeature=function(t,i){return!0},e.prototype.createDocumentType=function(t,i,n){throw new Error("This DOM method is not implemented.")},e.prototype.createDocument=function(t,i,n){throw new Error("This DOM method is not implemented.")},e.prototype.createHTMLDocument=function(t){throw new Error("This DOM method is not implemented.")},e.prototype.getFeature=function(t,i){throw new Error("This DOM method is not implemented.")},e}()}).call(nW)});var cW=gt((aW,sW)=>{"use strict";(function(){var r;sW.exports=r=function(){function e(){}return e.prototype.handleError=function(t){throw new Error(t)},e}()}).call(aW)});var dW=gt((lW,uW)=>{"use strict";(function(){var r;uW.exports=r=function(){function e(t){this.arr=t||[]}return Object.defineProperty(e.prototype,"length",{get:function(){return this.arr.length}}),e.prototype.item=function(t){return this.arr[t]||null},e.prototype.contains=function(t){return this.arr.indexOf(t)!==-1},e}()}).call(lW)});var fW=gt((mW,hW)=>{"use strict";(function(){var r,e,t;e=cW(),t=dW(),hW.exports=r=function(){function i(){var n;this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new e,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=n=Object.create(this.defaultParams)}return Object.defineProperty(i.prototype,"parameterNames",{get:function(){return new t(Object.keys(this.defaultParams))}}),i.prototype.getParameter=function(n){return this.params.hasOwnProperty(n)?this.params[n]:null},i.prototype.canSetParameter=function(n,o){return!0},i.prototype.setParameter=function(n,o){return o!=null?this.params[n]=o:delete this.params[n]},i}()}).call(mW)});var Ci=gt((pW,gW)=>{"use strict";(function(){gW.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(pW)});var GN=gt((vW,yW)=>{"use strict";(function(){var r,e,t;r=Ci(),t=xo(),yW.exports=e=function(){function i(n,o,a){if(this.parent=n,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),o==null)throw new Error("Missing attribute name. "+this.debugInfo(o));this.name=this.stringify.name(o),this.value=this.stringify.attValue(a),this.type=r.Attribute,this.isId=!1,this.schemaTypeInfo=null}return Object.defineProperty(i.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(i.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(i.prototype,"textContent",{get:function(){return this.value},set:function(n){return this.value=n||""}}),Object.defineProperty(i.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(i.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(i.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(i.prototype,"specified",{get:function(){return!0}}),i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(n){return this.options.writer.attribute(this,this.options.writer.filterOptions(n))},i.prototype.debugInfo=function(n){return n=n||this.name,n==null?"parent: <"+this.parent.name+">":"attribute: {"+n+"}, parent: <"+this.parent.name+">"},i.prototype.isEqualNode=function(n){return!(n.namespaceURI!==this.namespaceURI||n.prefix!==this.prefix||n.localName!==this.localName||n.value!==this.value)},i}()}).call(vW)});var db=gt((bW,_W)=>{"use strict";(function(){var r;_W.exports=r=function(){function e(t){this.nodes=t}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),e.prototype.clone=function(){return this.nodes=null},e.prototype.getNamedItem=function(t){return this.nodes[t]},e.prototype.setNamedItem=function(t){var i;return i=this.nodes[t.nodeName],this.nodes[t.nodeName]=t,i||null},e.prototype.removeNamedItem=function(t){var i;return i=this.nodes[t],delete this.nodes[t],i||null},e.prototype.item=function(t){return this.nodes[Object.keys(this.nodes)[t]]||null},e.prototype.getNamedItemNS=function(t,i){throw new Error("This DOM method is not implemented.")},e.prototype.setNamedItemNS=function(t){throw new Error("This DOM method is not implemented.")},e.prototype.removeNamedItemNS=function(t,i){throw new Error("This DOM method is not implemented.")},e}()}).call(bW)});var mb=gt((xW,wW)=>{"use strict";(function(){var r,e,t,i,n,o,a,s,c,l=function(d,m){for(var h in m)u.call(m,h)&&(d[h]=m[h]);function f(){this.constructor=d}return f.prototype=m.prototype,d.prototype=new f,d.__super__=m.prototype,d},u={}.hasOwnProperty;c=Ba(),s=c.isObject,a=c.isFunction,o=c.getValue,n=xo(),r=Ci(),e=GN(),i=db(),wW.exports=t=function(d){l(m,d);function m(h,f,p){var w,C,T,g;if(m.__super__.constructor.call(this,h),f==null)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(f),this.type=r.Element,this.attribs={},this.schemaTypeInfo=null,p!=null&&this.attribute(p),h.type===r.Document&&(this.isRoot=!0,this.documentObject=h,h.rootObject=this,h.children)){for(g=h.children,C=0,T=g.length;C<T;C++)if(w=g[C],w.type===r.DocType){w.name=this.name;break}}}return Object.defineProperty(m.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(m.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(m.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(m.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(m.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(m.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(m.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(m.prototype,"attributes",{get:function(){return(!this.attributeMap||!this.attributeMap.nodes)&&(this.attributeMap=new i(this.attribs)),this.attributeMap}}),m.prototype.clone=function(){var h,f,p,w;p=Object.create(this),p.isRoot&&(p.documentObject=null),p.attribs={},w=this.attribs;for(f in w)u.call(w,f)&&(h=w[f],p.attribs[f]=h.clone());return p.children=[],this.children.forEach(function(C){var T;return T=C.clone(),T.parent=p,p.children.push(T)}),p},m.prototype.attribute=function(h,f){var p,w;if(h!=null&&(h=o(h)),s(h))for(p in h)u.call(h,p)&&(w=h[p],this.attribute(p,w));else a(f)&&(f=f.apply()),this.options.keepNullAttributes&&f==null?this.attribs[h]=new e(this,h,""):f!=null&&(this.attribs[h]=new e(this,h,f));return this},m.prototype.removeAttribute=function(h){var f,p,w;if(h==null)throw new Error("Missing attribute name. "+this.debugInfo());if(h=o(h),Array.isArray(h))for(p=0,w=h.length;p<w;p++)f=h[p],delete this.attribs[f];else delete this.attribs[h];return this},m.prototype.toString=function(h){return this.options.writer.element(this,this.options.writer.filterOptions(h))},m.prototype.att=function(h,f){return this.attribute(h,f)},m.prototype.a=function(h,f){return this.attribute(h,f)},m.prototype.getAttribute=function(h){return this.attribs.hasOwnProperty(h)?this.attribs[h].value:null},m.prototype.setAttribute=function(h,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},m.prototype.getAttributeNode=function(h){return this.attribs.hasOwnProperty(h)?this.attribs[h]:null},m.prototype.setAttributeNode=function(h){throw new Error("This DOM method is not implemented."+this.debugInfo())},m.prototype.removeAttributeNode=function(h){throw new Error("This DOM method is not implemented."+this.debugInfo())},m.prototype.getElementsByTagName=function(h){throw new Error("This DOM method is not implemented."+this.debugInfo())},m.prototype.getAttributeNS=function(h,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},m.prototype.setAttributeNS=function(h,f,p){throw new Error("This DOM method is not implemented."+this.debugInfo())},m.prototype.removeAttributeNS=function(h,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},m.prototype.getAttributeNodeNS=function(h,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},m.prototype.setAttributeNodeNS=function(h){throw new Error("This DOM method is not implemented."+this.debugInfo())},m.prototype.getElementsByTagNameNS=function(h,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},m.prototype.hasAttribute=function(h){return this.attribs.hasOwnProperty(h)},m.prototype.hasAttributeNS=function(h,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},m.prototype.setIdAttribute=function(h,f){return this.attribs.hasOwnProperty(h)?this.attribs[h].isId:f},m.prototype.setIdAttributeNS=function(h,f,p){throw new Error("This DOM method is not implemented."+this.debugInfo())},m.prototype.setIdAttributeNode=function(h,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},m.prototype.getElementsByTagName=function(h){throw new Error("This DOM method is not implemented."+this.debugInfo())},m.prototype.getElementsByTagNameNS=function(h,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},m.prototype.getElementsByClassName=function(h){throw new Error("This DOM method is not implemented."+this.debugInfo())},m.prototype.isEqualNode=function(h){var f,p,w;if(!m.__super__.isEqualNode.apply(this,arguments).isEqualNode(h)||h.namespaceURI!==this.namespaceURI||h.prefix!==this.prefix||h.localName!==this.localName||h.attribs.length!==this.attribs.length)return!1;for(f=p=0,w=this.attribs.length-1;0<=w?p<=w:p>=w;f=0<=w?++p:--p)if(!this.attribs[f].isEqualNode(h.attribs[f]))return!1;return!0},m}(n)}).call(xW)});var Sp=gt((EW,DW)=>{"use strict";(function(){var r,e,t=function(n,o){for(var a in o)i.call(o,a)&&(n[a]=o[a]);function s(){this.constructor=n}return s.prototype=o.prototype,n.prototype=new s,n.__super__=o.prototype,n},i={}.hasOwnProperty;e=xo(),DW.exports=r=function(n){t(o,n);function o(a){o.__super__.constructor.call(this,a),this.value=""}return Object.defineProperty(o.prototype,"data",{get:function(){return this.value},set:function(a){return this.value=a||""}}),Object.defineProperty(o.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(o.prototype,"textContent",{get:function(){return this.value},set:function(a){return this.value=a||""}}),o.prototype.clone=function(){return Object.create(this)},o.prototype.substringData=function(a,s){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.appendData=function(a){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.insertData=function(a,s){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.deleteData=function(a,s){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.replaceData=function(a,s,c){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.isEqualNode=function(a){return!(!o.__super__.isEqualNode.apply(this,arguments).isEqualNode(a)||a.data!==this.data)},o}(e)}).call(EW)});var hb=gt((AW,CW)=>{"use strict";(function(){var r,e,t,i=function(o,a){for(var s in a)n.call(a,s)&&(o[s]=a[s]);function c(){this.constructor=o}return c.prototype=a.prototype,o.prototype=new c,o.__super__=a.prototype,o},n={}.hasOwnProperty;r=Ci(),t=Sp(),CW.exports=e=function(o){i(a,o);function a(s,c){if(a.__super__.constructor.call(this,s),c==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=r.CData,this.value=this.stringify.cdata(c)}return a.prototype.clone=function(){return Object.create(this)},a.prototype.toString=function(s){return this.options.writer.cdata(this,this.options.writer.filterOptions(s))},a}(t)}).call(AW)});var fb=gt((SW,TW)=>{"use strict";(function(){var r,e,t,i=function(o,a){for(var s in a)n.call(a,s)&&(o[s]=a[s]);function c(){this.constructor=o}return c.prototype=a.prototype,o.prototype=new c,o.__super__=a.prototype,o},n={}.hasOwnProperty;r=Ci(),e=Sp(),TW.exports=t=function(o){i(a,o);function a(s,c){if(a.__super__.constructor.call(this,s),c==null)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=r.Comment,this.value=this.stringify.comment(c)}return a.prototype.clone=function(){return Object.create(this)},a.prototype.toString=function(s){return this.options.writer.comment(this,this.options.writer.filterOptions(s))},a}(e)}).call(SW)});var pb=gt((IW,MW)=>{"use strict";(function(){var r,e,t,i,n=function(a,s){for(var c in s)o.call(s,c)&&(a[c]=s[c]);function l(){this.constructor=a}return l.prototype=s.prototype,a.prototype=new l,a.__super__=s.prototype,a},o={}.hasOwnProperty;i=Ba().isObject,t=xo(),r=Ci(),MW.exports=e=function(a){n(s,a);function s(c,l,u,d){var m;s.__super__.constructor.call(this,c),i(l)&&(m=l,l=m.version,u=m.encoding,d=m.standalone),l||(l="1.0"),this.type=r.Declaration,this.version=this.stringify.xmlVersion(l),u!=null&&(this.encoding=this.stringify.xmlEncoding(u)),d!=null&&(this.standalone=this.stringify.xmlStandalone(d))}return s.prototype.toString=function(c){return this.options.writer.declaration(this,this.options.writer.filterOptions(c))},s}(t)}).call(IW)});var gb=gt((NW,kW)=>{"use strict";(function(){var r,e,t,i=function(o,a){for(var s in a)n.call(a,s)&&(o[s]=a[s]);function c(){this.constructor=o}return c.prototype=a.prototype,o.prototype=new c,o.__super__=a.prototype,o},n={}.hasOwnProperty;t=xo(),r=Ci(),kW.exports=e=function(o){i(a,o);function a(s,c,l,u,d,m){if(a.__super__.constructor.call(this,s),c==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(l==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(c));if(!u)throw new Error("Missing DTD attribute type. "+this.debugInfo(c));if(!d)throw new Error("Missing DTD attribute default. "+this.debugInfo(c));if(d.indexOf("#")!==0&&(d="#"+d),!d.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(c));if(m&&!d.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(c));this.elementName=this.stringify.name(c),this.type=r.AttributeDeclaration,this.attributeName=this.stringify.name(l),this.attributeType=this.stringify.dtdAttType(u),m&&(this.defaultValue=this.stringify.dtdAttDefault(m)),this.defaultValueType=d}return a.prototype.toString=function(s){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(s))},a}(t)}).call(NW)});var vb=gt((RW,FW)=>{"use strict";(function(){var r,e,t,i,n=function(a,s){for(var c in s)o.call(s,c)&&(a[c]=s[c]);function l(){this.constructor=a}return l.prototype=s.prototype,a.prototype=new l,a.__super__=s.prototype,a},o={}.hasOwnProperty;i=Ba().isObject,t=xo(),r=Ci(),FW.exports=e=function(a){n(s,a);function s(c,l,u,d){if(s.__super__.constructor.call(this,c),u==null)throw new Error("Missing DTD entity name. "+this.debugInfo(u));if(d==null)throw new Error("Missing DTD entity value. "+this.debugInfo(u));if(this.pe=!!l,this.name=this.stringify.name(u),this.type=r.EntityDeclaration,!i(d))this.value=this.stringify.dtdEntityValue(d),this.internal=!0;else{if(!d.pubID&&!d.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(u));if(d.pubID&&!d.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(u));if(this.internal=!1,d.pubID!=null&&(this.pubID=this.stringify.dtdPubID(d.pubID)),d.sysID!=null&&(this.sysID=this.stringify.dtdSysID(d.sysID)),d.nData!=null&&(this.nData=this.stringify.dtdNData(d.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(u))}}return Object.defineProperty(s.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(s.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(s.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(s.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(s.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(s.prototype,"xmlVersion",{get:function(){return null}}),s.prototype.toString=function(c){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(c))},s}(t)}).call(RW)});var yb=gt((OW,PW)=>{"use strict";(function(){var r,e,t,i=function(o,a){for(var s in a)n.call(a,s)&&(o[s]=a[s]);function c(){this.constructor=o}return c.prototype=a.prototype,o.prototype=new c,o.__super__=a.prototype,o},n={}.hasOwnProperty;t=xo(),r=Ci(),PW.exports=e=function(o){i(a,o);function a(s,c,l){if(a.__super__.constructor.call(this,s),c==null)throw new Error("Missing DTD element name. "+this.debugInfo());l||(l="(#PCDATA)"),Array.isArray(l)&&(l="("+l.join(",")+")"),this.name=this.stringify.name(c),this.type=r.ElementDeclaration,this.value=this.stringify.dtdElementValue(l)}return a.prototype.toString=function(s){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(s))},a}(t)}).call(OW)});var bb=gt((BW,LW)=>{"use strict";(function(){var r,e,t,i=function(o,a){for(var s in a)n.call(a,s)&&(o[s]=a[s]);function c(){this.constructor=o}return c.prototype=a.prototype,o.prototype=new c,o.__super__=a.prototype,o},n={}.hasOwnProperty;t=xo(),r=Ci(),LW.exports=e=function(o){i(a,o);function a(s,c,l){if(a.__super__.constructor.call(this,s),c==null)throw new Error("Missing DTD notation name. "+this.debugInfo(c));if(!l.pubID&&!l.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(c));this.name=this.stringify.name(c),this.type=r.NotationDeclaration,l.pubID!=null&&(this.pubID=this.stringify.dtdPubID(l.pubID)),l.sysID!=null&&(this.sysID=this.stringify.dtdSysID(l.sysID))}return Object.defineProperty(a.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(a.prototype,"systemId",{get:function(){return this.sysID}}),a.prototype.toString=function(s){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(s))},a}(t)}).call(BW)});var _b=gt((VW,zW)=>{"use strict";(function(){var r,e,t,i,n,o,a,s,c,l=function(d,m){for(var h in m)u.call(m,h)&&(d[h]=m[h]);function f(){this.constructor=d}return f.prototype=m.prototype,d.prototype=new f,d.__super__=m.prototype,d},u={}.hasOwnProperty;c=Ba().isObject,s=xo(),r=Ci(),e=gb(),i=vb(),t=yb(),n=bb(),a=db(),zW.exports=o=function(d){l(m,d);function m(h,f,p){var w,C,T,g,_,v;if(m.__super__.constructor.call(this,h),this.type=r.DocType,h.children){for(g=h.children,C=0,T=g.length;C<T;C++)if(w=g[C],w.type===r.Element){this.name=w.name;break}}this.documentObject=h,c(f)&&(_=f,f=_.pubID,p=_.sysID),p==null&&(v=[f,p],p=v[0],f=v[1]),f!=null&&(this.pubID=this.stringify.dtdPubID(f)),p!=null&&(this.sysID=this.stringify.dtdSysID(p))}return Object.defineProperty(m.prototype,"entities",{get:function(){var h,f,p,w,C;for(w={},C=this.children,f=0,p=C.length;f<p;f++)h=C[f],h.type===r.EntityDeclaration&&!h.pe&&(w[h.name]=h);return new a(w)}}),Object.defineProperty(m.prototype,"notations",{get:function(){var h,f,p,w,C;for(w={},C=this.children,f=0,p=C.length;f<p;f++)h=C[f],h.type===r.NotationDeclaration&&(w[h.name]=h);return new a(w)}}),Object.defineProperty(m.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(m.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(m.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),m.prototype.element=function(h,f){var p;return p=new t(this,h,f),this.children.push(p),this},m.prototype.attList=function(h,f,p,w,C){var T;return T=new e(this,h,f,p,w,C),this.children.push(T),this},m.prototype.entity=function(h,f){var p;return p=new i(this,!1,h,f),this.children.push(p),this},m.prototype.pEntity=function(h,f){var p;return p=new i(this,!0,h,f),this.children.push(p),this},m.prototype.notation=function(h,f){var p;return p=new n(this,h,f),this.children.push(p),this},m.prototype.toString=function(h){return this.options.writer.docType(this,this.options.writer.filterOptions(h))},m.prototype.ele=function(h,f){return this.element(h,f)},m.prototype.att=function(h,f,p,w,C){return this.attList(h,f,p,w,C)},m.prototype.ent=function(h,f){return this.entity(h,f)},m.prototype.pent=function(h,f){return this.pEntity(h,f)},m.prototype.not=function(h,f){return this.notation(h,f)},m.prototype.up=function(){return this.root()||this.documentObject},m.prototype.isEqualNode=function(h){return!(!m.__super__.isEqualNode.apply(this,arguments).isEqualNode(h)||h.name!==this.name||h.publicId!==this.publicId||h.systemId!==this.systemId)},m}(s)}).call(VW)});var xb=gt((UW,qW)=>{"use strict";(function(){var r,e,t,i=function(o,a){for(var s in a)n.call(a,s)&&(o[s]=a[s]);function c(){this.constructor=o}return c.prototype=a.prototype,o.prototype=new c,o.__super__=a.prototype,o},n={}.hasOwnProperty;r=Ci(),e=xo(),qW.exports=t=function(o){i(a,o);function a(s,c){if(a.__super__.constructor.call(this,s),c==null)throw new Error("Missing raw text. "+this.debugInfo());this.type=r.Raw,this.value=this.stringify.raw(c)}return a.prototype.clone=function(){return Object.create(this)},a.prototype.toString=function(s){return this.options.writer.raw(this,this.options.writer.filterOptions(s))},a}(e)}).call(UW)});var wb=gt((jW,$W)=>{"use strict";(function(){var r,e,t,i=function(o,a){for(var s in a)n.call(a,s)&&(o[s]=a[s]);function c(){this.constructor=o}return c.prototype=a.prototype,o.prototype=new c,o.__super__=a.prototype,o},n={}.hasOwnProperty;r=Ci(),e=Sp(),$W.exports=t=function(o){i(a,o);function a(s,c){if(a.__super__.constructor.call(this,s),c==null)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=r.Text,this.value=this.stringify.text(c)}return Object.defineProperty(a.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(a.prototype,"wholeText",{get:function(){var s,c,l;for(l="",c=this.previousSibling;c;)l=c.data+l,c=c.previousSibling;for(l+=this.data,s=this.nextSibling;s;)l=l+s.data,s=s.nextSibling;return l}}),a.prototype.clone=function(){return Object.create(this)},a.prototype.toString=function(s){return this.options.writer.text(this,this.options.writer.filterOptions(s))},a.prototype.splitText=function(s){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.replaceWholeText=function(s){throw new Error("This DOM method is not implemented."+this.debugInfo())},a}(e)}).call(jW)});var Eb=gt((HW,GW)=>{"use strict";(function(){var r,e,t,i=function(o,a){for(var s in a)n.call(a,s)&&(o[s]=a[s]);function c(){this.constructor=o}return c.prototype=a.prototype,o.prototype=new c,o.__super__=a.prototype,o},n={}.hasOwnProperty;r=Ci(),e=Sp(),GW.exports=t=function(o){i(a,o);function a(s,c,l){if(a.__super__.constructor.call(this,s),c==null)throw new Error("Missing instruction target. "+this.debugInfo());this.type=r.ProcessingInstruction,this.target=this.stringify.insTarget(c),this.name=this.target,l&&(this.value=this.stringify.insValue(l))}return a.prototype.clone=function(){return Object.create(this)},a.prototype.toString=function(s){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(s))},a.prototype.isEqualNode=function(s){return!(!a.__super__.isEqualNode.apply(this,arguments).isEqualNode(s)||s.target!==this.target)},a}(e)}).call(HW)});var WN=gt((WW,XW)=>{"use strict";(function(){var r,e,t,i=function(o,a){for(var s in a)n.call(a,s)&&(o[s]=a[s]);function c(){this.constructor=o}return c.prototype=a.prototype,o.prototype=new c,o.__super__=a.prototype,o},n={}.hasOwnProperty;t=xo(),r=Ci(),XW.exports=e=function(o){i(a,o);function a(s){a.__super__.constructor.call(this,s),this.type=r.Dummy}return a.prototype.clone=function(){return Object.create(this)},a.prototype.toString=function(s){return""},a}(t)}).call(WW)});var YW=gt((KW,QW)=>{"use strict";(function(){var r;QW.exports=r=function(){function e(t){this.nodes=t}return Object.defineProperty(e.prototype,"length",{get:function(){return this.nodes.length||0}}),e.prototype.clone=function(){return this.nodes=null},e.prototype.item=function(t){return this.nodes[t]||null},e}()}).call(KW)});var eX=gt((ZW,JW)=>{"use strict";(function(){JW.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(ZW)});var xo=gt((tX,rX)=>{"use strict";(function(){var r,e,t,i,n,o,a,s,c,l,u,d,m,h,f,p,w,C,T,g={}.hasOwnProperty;T=Ba(),C=T.isObject,w=T.isFunction,p=T.isEmpty,f=T.getValue,s=null,t=null,i=null,n=null,o=null,m=null,h=null,d=null,a=null,e=null,u=null,c=null,r=null,rX.exports=l=function(){function _(v){this.parent=v,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,s||(s=mb(),t=hb(),i=fb(),n=pb(),o=_b(),m=xb(),h=wb(),d=Eb(),a=WN(),e=Ci(),u=YW(),c=db(),r=eX())}return Object.defineProperty(_.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(_.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(_.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(_.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(_.prototype,"childNodes",{get:function(){return(!this.childNodeList||!this.childNodeList.nodes)&&(this.childNodeList=new u(this.children)),this.childNodeList}}),Object.defineProperty(_.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(_.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(_.prototype,"previousSibling",{get:function(){var v;return v=this.parent.children.indexOf(this),this.parent.children[v-1]||null}}),Object.defineProperty(_.prototype,"nextSibling",{get:function(){var v;return v=this.parent.children.indexOf(this),this.parent.children[v+1]||null}}),Object.defineProperty(_.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(_.prototype,"textContent",{get:function(){var v,y,A,b,E;if(this.nodeType===e.Element||this.nodeType===e.DocumentFragment){for(E="",b=this.children,y=0,A=b.length;y<A;y++)v=b[y],v.textContent&&(E+=v.textContent);return E}else return null},set:function(v){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),_.prototype.setParent=function(v){var y,A,b,E,D;for(this.parent=v,v&&(this.options=v.options,this.stringify=v.stringify),E=this.children,D=[],A=0,b=E.length;A<b;A++)y=E[A],D.push(y.setParent(this));return D},_.prototype.element=function(v,y,A){var b,E,D,S,I,M,q,U,F,O,G;if(M=null,y===null&&A==null&&(F=[{},null],y=F[0],A=F[1]),y==null&&(y={}),y=f(y),C(y)||(O=[y,A],A=O[0],y=O[1]),v!=null&&(v=f(v)),Array.isArray(v))for(D=0,q=v.length;D<q;D++)E=v[D],M=this.element(E);else if(w(v))M=this.element(v.apply());else if(C(v)){for(I in v)if(g.call(v,I))if(G=v[I],w(G)&&(G=G.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&I.indexOf(this.stringify.convertAttKey)===0)M=this.attribute(I.substr(this.stringify.convertAttKey.length),G);else if(!this.options.separateArrayItems&&Array.isArray(G)&&p(G))M=this.dummy();else if(C(G)&&p(G))M=this.element(I);else if(!this.options.keepNullNodes&&G==null)M=this.dummy();else if(!this.options.separateArrayItems&&Array.isArray(G))for(S=0,U=G.length;S<U;S++)E=G[S],b={},b[I]=E,M=this.element(b);else C(G)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&I.indexOf(this.stringify.convertTextKey)===0?M=this.element(G):(M=this.element(I),M.element(G)):M=this.element(I,G)}else!this.options.keepNullNodes&&A===null?M=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&v.indexOf(this.stringify.convertTextKey)===0?M=this.text(A):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&v.indexOf(this.stringify.convertCDataKey)===0?M=this.cdata(A):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&v.indexOf(this.stringify.convertCommentKey)===0?M=this.comment(A):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&v.indexOf(this.stringify.convertRawKey)===0?M=this.raw(A):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&v.indexOf(this.stringify.convertPIKey)===0?M=this.instruction(v.substr(this.stringify.convertPIKey.length),A):M=this.node(v,y,A);if(M==null)throw new Error("Could not create any elements with: "+v+". "+this.debugInfo());return M},_.prototype.insertBefore=function(v,y,A){var b,E,D,S,I;if(v?.type)return D=v,S=y,D.setParent(this),S?(E=children.indexOf(S),I=children.splice(E),children.push(D),Array.prototype.push.apply(children,I)):children.push(D),D;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(v));return E=this.parent.children.indexOf(this),I=this.parent.children.splice(E),b=this.parent.element(v,y,A),Array.prototype.push.apply(this.parent.children,I),b},_.prototype.insertAfter=function(v,y,A){var b,E,D;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(v));return E=this.parent.children.indexOf(this),D=this.parent.children.splice(E+1),b=this.parent.element(v,y,A),Array.prototype.push.apply(this.parent.children,D),b},_.prototype.remove=function(){var v,y;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return v=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[v,v-v+1].concat(y=[])),this.parent},_.prototype.node=function(v,y,A){var b,E;return v!=null&&(v=f(v)),y||(y={}),y=f(y),C(y)||(E=[y,A],A=E[0],y=E[1]),b=new s(this,v,y),A!=null&&b.text(A),this.children.push(b),b},_.prototype.text=function(v){var y;return C(v)&&this.element(v),y=new h(this,v),this.children.push(y),this},_.prototype.cdata=function(v){var y;return y=new t(this,v),this.children.push(y),this},_.prototype.comment=function(v){var y;return y=new i(this,v),this.children.push(y),this},_.prototype.commentBefore=function(v){var y,A,b;return A=this.parent.children.indexOf(this),b=this.parent.children.splice(A),y=this.parent.comment(v),Array.prototype.push.apply(this.parent.children,b),this},_.prototype.commentAfter=function(v){var y,A,b;return A=this.parent.children.indexOf(this),b=this.parent.children.splice(A+1),y=this.parent.comment(v),Array.prototype.push.apply(this.parent.children,b),this},_.prototype.raw=function(v){var y;return y=new m(this,v),this.children.push(y),this},_.prototype.dummy=function(){var v;return v=new a(this),v},_.prototype.instruction=function(v,y){var A,b,E,D,S;if(v!=null&&(v=f(v)),y!=null&&(y=f(y)),Array.isArray(v))for(D=0,S=v.length;D<S;D++)A=v[D],this.instruction(A);else if(C(v))for(A in v)g.call(v,A)&&(b=v[A],this.instruction(A,b));else w(y)&&(y=y.apply()),E=new d(this,v,y),this.children.push(E);return this},_.prototype.instructionBefore=function(v,y){var A,b,E;return b=this.parent.children.indexOf(this),E=this.parent.children.splice(b),A=this.parent.instruction(v,y),Array.prototype.push.apply(this.parent.children,E),this},_.prototype.instructionAfter=function(v,y){var A,b,E;return b=this.parent.children.indexOf(this),E=this.parent.children.splice(b+1),A=this.parent.instruction(v,y),Array.prototype.push.apply(this.parent.children,E),this},_.prototype.declaration=function(v,y,A){var b,E;return b=this.document(),E=new n(b,v,y,A),b.children.length===0?b.children.unshift(E):b.children[0].type===e.Declaration?b.children[0]=E:b.children.unshift(E),b.root()||b},_.prototype.dtd=function(v,y){var A,b,E,D,S,I,M,q,U,F;for(b=this.document(),E=new o(b,v,y),U=b.children,D=S=0,M=U.length;S<M;D=++S)if(A=U[D],A.type===e.DocType)return b.children[D]=E,E;for(F=b.children,D=I=0,q=F.length;I<q;D=++I)if(A=F[D],A.isRoot)return b.children.splice(D,0,E),E;return b.children.push(E),E},_.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},_.prototype.root=function(){var v;for(v=this;v;){if(v.type===e.Document)return v.rootObject;if(v.isRoot)return v;v=v.parent}},_.prototype.document=function(){var v;for(v=this;v;){if(v.type===e.Document)return v;v=v.parent}},_.prototype.end=function(v){return this.document().end(v)},_.prototype.prev=function(){var v;if(v=this.parent.children.indexOf(this),v<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[v-1]},_.prototype.next=function(){var v;if(v=this.parent.children.indexOf(this),v===-1||v===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[v+1]},_.prototype.importDocument=function(v){var y;return y=v.root().clone(),y.parent=this,y.isRoot=!1,this.children.push(y),this},_.prototype.debugInfo=function(v){var y,A;return v=v||this.name,v==null&&!((y=this.parent)!=null&&y.name)?"":v==null?"parent: <"+this.parent.name+">":(A=this.parent)!=null&&A.name?"node: <"+v+">, parent: <"+this.parent.name+">":"node: <"+v+">"},_.prototype.ele=function(v,y,A){return this.element(v,y,A)},_.prototype.nod=function(v,y,A){return this.node(v,y,A)},_.prototype.txt=function(v){return this.text(v)},_.prototype.dat=function(v){return this.cdata(v)},_.prototype.com=function(v){return this.comment(v)},_.prototype.ins=function(v,y){return this.instruction(v,y)},_.prototype.doc=function(){return this.document()},_.prototype.dec=function(v,y,A){return this.declaration(v,y,A)},_.prototype.e=function(v,y,A){return this.element(v,y,A)},_.prototype.n=function(v,y,A){return this.node(v,y,A)},_.prototype.t=function(v){return this.text(v)},_.prototype.d=function(v){return this.cdata(v)},_.prototype.c=function(v){return this.comment(v)},_.prototype.r=function(v){return this.raw(v)},_.prototype.i=function(v,y){return this.instruction(v,y)},_.prototype.u=function(){return this.up()},_.prototype.importXMLBuilder=function(v){return this.importDocument(v)},_.prototype.replaceChild=function(v,y){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.removeChild=function(v){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.appendChild=function(v){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.hasChildNodes=function(){return this.children.length!==0},_.prototype.cloneNode=function(v){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.isSupported=function(v,y){return!0},_.prototype.hasAttributes=function(){return this.attribs.length!==0},_.prototype.compareDocumentPosition=function(v){var y,A;return y=this,y===v?0:this.document()!==v.document()?(A=r.Disconnected|r.ImplementationSpecific,Math.random()<.5?A|=r.Preceding:A|=r.Following,A):y.isAncestor(v)?r.Contains|r.Preceding:y.isDescendant(v)?r.Contains|r.Following:y.isPreceding(v)?r.Preceding:r.Following},_.prototype.isSameNode=function(v){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.lookupPrefix=function(v){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.isDefaultNamespace=function(v){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.lookupNamespaceURI=function(v){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.isEqualNode=function(v){var y,A,b;if(v.nodeType!==this.nodeType||v.children.length!==this.children.length)return!1;for(y=A=0,b=this.children.length-1;0<=b?A<=b:A>=b;y=0<=b?++A:--A)if(!this.children[y].isEqualNode(v.children[y]))return!1;return!0},_.prototype.getFeature=function(v,y){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.setUserData=function(v,y,A){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.getUserData=function(v){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.contains=function(v){return v?v===this||this.isDescendant(v):!1},_.prototype.isDescendant=function(v){var y,A,b,E,D;for(D=this.children,b=0,E=D.length;b<E;b++)if(y=D[b],v===y||(A=y.isDescendant(v),A))return!0;return!1},_.prototype.isAncestor=function(v){return v.isDescendant(this)},_.prototype.isPreceding=function(v){var y,A;return y=this.treePosition(v),A=this.treePosition(this),y===-1||A===-1?!1:y<A},_.prototype.isFollowing=function(v){var y,A;return y=this.treePosition(v),A=this.treePosition(this),y===-1||A===-1?!1:y>A},_.prototype.treePosition=function(v){var y,A;return A=0,y=!1,this.foreachTreeNode(this.document(),function(b){if(A++,!y&&b===v)return y=!0}),y?A:-1},_.prototype.foreachTreeNode=function(v,y){var A,b,E,D,S;for(v||(v=this.document()),D=v.children,b=0,E=D.length;b<E;b++){if(A=D[b],S=y(A))return S;if(S=this.foreachTreeNode(A,y),S)return S}},_}()}).call(tX)});var XN=gt((iX,nX)=>{"use strict";(function(){var r,e=function(i,n){return function(){return i.apply(n,arguments)}},t={}.hasOwnProperty;nX.exports=r=function(){function i(n){this.assertLegalName=e(this.assertLegalName,this),this.assertLegalChar=e(this.assertLegalChar,this);var o,a,s;n||(n={}),this.options=n,this.options.version||(this.options.version="1.0"),a=n.stringify||{};for(o in a)t.call(a,o)&&(s=a[o],this[o]=s)}return i.prototype.name=function(n){return this.options.noValidation?n:this.assertLegalName(""+n||"")},i.prototype.text=function(n){return this.options.noValidation?n:this.assertLegalChar(this.textEscape(""+n||""))},i.prototype.cdata=function(n){return this.options.noValidation?n:(n=""+n||"",n=n.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(n))},i.prototype.comment=function(n){if(this.options.noValidation)return n;if(n=""+n||"",n.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+n);return this.assertLegalChar(n)},i.prototype.raw=function(n){return this.options.noValidation?n:""+n||""},i.prototype.attValue=function(n){return this.options.noValidation?n:this.assertLegalChar(this.attEscape(n=""+n||""))},i.prototype.insTarget=function(n){return this.options.noValidation?n:this.assertLegalChar(""+n||"")},i.prototype.insValue=function(n){if(this.options.noValidation)return n;if(n=""+n||"",n.match(/\?>/))throw new Error("Invalid processing instruction value: "+n);return this.assertLegalChar(n)},i.prototype.xmlVersion=function(n){if(this.options.noValidation)return n;if(n=""+n||"",!n.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+n);return n},i.prototype.xmlEncoding=function(n){if(this.options.noValidation)return n;if(n=""+n||"",!n.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+n);return this.assertLegalChar(n)},i.prototype.xmlStandalone=function(n){return this.options.noValidation?n:n?"yes":"no"},i.prototype.dtdPubID=function(n){return this.options.noValidation?n:this.assertLegalChar(""+n||"")},i.prototype.dtdSysID=function(n){return this.options.noValidation?n:this.assertLegalChar(""+n||"")},i.prototype.dtdElementValue=function(n){return this.options.noValidation?n:this.assertLegalChar(""+n||"")},i.prototype.dtdAttType=function(n){return this.options.noValidation?n:this.assertLegalChar(""+n||"")},i.prototype.dtdAttDefault=function(n){return this.options.noValidation?n:this.assertLegalChar(""+n||"")},i.prototype.dtdEntityValue=function(n){return this.options.noValidation?n:this.assertLegalChar(""+n||"")},i.prototype.dtdNData=function(n){return this.options.noValidation?n:this.assertLegalChar(""+n||"")},i.prototype.convertAttKey="@",i.prototype.convertPIKey="?",i.prototype.convertTextKey="#text",i.prototype.convertCDataKey="#cdata",i.prototype.convertCommentKey="#comment",i.prototype.convertRawKey="#raw",i.prototype.assertLegalChar=function(n){var o,a;if(this.options.noValidation)return n;if(o="",this.options.version==="1.0"){if(o=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,a=n.match(o))throw new Error("Invalid character in string: "+n+" at index "+a.index)}else if(this.options.version==="1.1"&&(o=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,a=n.match(o)))throw new Error("Invalid character in string: "+n+" at index "+a.index);return n},i.prototype.assertLegalName=function(n){var o;if(this.options.noValidation)return n;if(this.assertLegalChar(n),o=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,!n.match(o))throw new Error("Invalid character in name");return n},i.prototype.textEscape=function(n){var o;return this.options.noValidation?n:(o=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,n.replace(o,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;"))},i.prototype.attEscape=function(n){var o;return this.options.noValidation?n:(o=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,n.replace(o,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))},i}()}).call(iX)});var Tp=gt((oX,aX)=>{"use strict";(function(){aX.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(oX)});var KN=gt((sX,cX)=>{"use strict";(function(){var r,e,t,i,n,o,a,s,c,l,u,d,m,h,f,p,w,C={}.hasOwnProperty;w=Ba().assign,r=Ci(),c=pb(),l=_b(),t=hb(),i=fb(),d=mb(),h=xb(),f=wb(),m=Eb(),u=WN(),n=gb(),o=yb(),a=vb(),s=bb(),e=Tp(),cX.exports=p=function(){function T(g){var _,v,y;g||(g={}),this.options=g,v=g.writer||{};for(_ in v)C.call(v,_)&&(y=v[_],this["_"+_]=this[_],this[_]=y)}return T.prototype.filterOptions=function(g){var _,v,y,A,b,E,D,S;return g||(g={}),g=w({},this.options,g),_={writer:this},_.pretty=g.pretty||!1,_.allowEmpty=g.allowEmpty||!1,_.indent=(v=g.indent)!=null?v:"  ",_.newline=(y=g.newline)!=null?y:`
`,_.offset=(A=g.offset)!=null?A:0,_.dontPrettyTextNodes=(b=(E=g.dontPrettyTextNodes)!=null?E:g.dontprettytextnodes)!=null?b:0,_.spaceBeforeSlash=(D=(S=g.spaceBeforeSlash)!=null?S:g.spacebeforeslash)!=null?D:"",_.spaceBeforeSlash===!0&&(_.spaceBeforeSlash=" "),_.suppressPrettyCount=0,_.user={},_.state=e.None,_},T.prototype.indent=function(g,_,v){var y;return!_.pretty||_.suppressPrettyCount?"":_.pretty&&(y=(v||0)+_.offset+1,y>0)?new Array(y).join(_.indent):""},T.prototype.endline=function(g,_,v){return!_.pretty||_.suppressPrettyCount?"":_.newline},T.prototype.attribute=function(g,_,v){var y;return this.openAttribute(g,_,v),y=" "+g.name+'="'+g.value+'"',this.closeAttribute(g,_,v),y},T.prototype.cdata=function(g,_,v){var y;return this.openNode(g,_,v),_.state=e.OpenTag,y=this.indent(g,_,v)+"<![CDATA[",_.state=e.InsideTag,y+=g.value,_.state=e.CloseTag,y+="]]>"+this.endline(g,_,v),_.state=e.None,this.closeNode(g,_,v),y},T.prototype.comment=function(g,_,v){var y;return this.openNode(g,_,v),_.state=e.OpenTag,y=this.indent(g,_,v)+"<!-- ",_.state=e.InsideTag,y+=g.value,_.state=e.CloseTag,y+=" -->"+this.endline(g,_,v),_.state=e.None,this.closeNode(g,_,v),y},T.prototype.declaration=function(g,_,v){var y;return this.openNode(g,_,v),_.state=e.OpenTag,y=this.indent(g,_,v)+"<?xml",_.state=e.InsideTag,y+=' version="'+g.version+'"',g.encoding!=null&&(y+=' encoding="'+g.encoding+'"'),g.standalone!=null&&(y+=' standalone="'+g.standalone+'"'),_.state=e.CloseTag,y+=_.spaceBeforeSlash+"?>",y+=this.endline(g,_,v),_.state=e.None,this.closeNode(g,_,v),y},T.prototype.docType=function(g,_,v){var y,A,b,E,D;if(v||(v=0),this.openNode(g,_,v),_.state=e.OpenTag,E=this.indent(g,_,v),E+="<!DOCTYPE "+g.root().name,g.pubID&&g.sysID?E+=' PUBLIC "'+g.pubID+'" "'+g.sysID+'"':g.sysID&&(E+=' SYSTEM "'+g.sysID+'"'),g.children.length>0){for(E+=" [",E+=this.endline(g,_,v),_.state=e.InsideTag,D=g.children,A=0,b=D.length;A<b;A++)y=D[A],E+=this.writeChildNode(y,_,v+1);_.state=e.CloseTag,E+="]"}return _.state=e.CloseTag,E+=_.spaceBeforeSlash+">",E+=this.endline(g,_,v),_.state=e.None,this.closeNode(g,_,v),E},T.prototype.element=function(g,_,v){var y,A,b,E,D,S,I,M,q,U,F,O,G,B;v||(v=0),U=!1,F="",this.openNode(g,_,v),_.state=e.OpenTag,F+=this.indent(g,_,v)+"<"+g.name,O=g.attribs;for(q in O)C.call(O,q)&&(y=O[q],F+=this.attribute(y,_,v));if(b=g.children.length,E=b===0?null:g.children[0],b===0||g.children.every(function(ee){return(ee.type===r.Text||ee.type===r.Raw)&&ee.value===""}))_.allowEmpty?(F+=">",_.state=e.CloseTag,F+="</"+g.name+">"+this.endline(g,_,v)):(_.state=e.CloseTag,F+=_.spaceBeforeSlash+"/>"+this.endline(g,_,v));else if(_.pretty&&b===1&&(E.type===r.Text||E.type===r.Raw)&&E.value!=null)F+=">",_.state=e.InsideTag,_.suppressPrettyCount++,U=!0,F+=this.writeChildNode(E,_,v+1),_.suppressPrettyCount--,U=!1,_.state=e.CloseTag,F+="</"+g.name+">"+this.endline(g,_,v);else{if(_.dontPrettyTextNodes){for(G=g.children,D=0,I=G.length;D<I;D++)if(A=G[D],(A.type===r.Text||A.type===r.Raw)&&A.value!=null){_.suppressPrettyCount++,U=!0;break}}for(F+=">"+this.endline(g,_,v),_.state=e.InsideTag,B=g.children,S=0,M=B.length;S<M;S++)A=B[S],F+=this.writeChildNode(A,_,v+1);_.state=e.CloseTag,F+=this.indent(g,_,v)+"</"+g.name+">",U&&_.suppressPrettyCount--,F+=this.endline(g,_,v),_.state=e.None}return this.closeNode(g,_,v),F},T.prototype.writeChildNode=function(g,_,v){switch(g.type){case r.CData:return this.cdata(g,_,v);case r.Comment:return this.comment(g,_,v);case r.Element:return this.element(g,_,v);case r.Raw:return this.raw(g,_,v);case r.Text:return this.text(g,_,v);case r.ProcessingInstruction:return this.processingInstruction(g,_,v);case r.Dummy:return"";case r.Declaration:return this.declaration(g,_,v);case r.DocType:return this.docType(g,_,v);case r.AttributeDeclaration:return this.dtdAttList(g,_,v);case r.ElementDeclaration:return this.dtdElement(g,_,v);case r.EntityDeclaration:return this.dtdEntity(g,_,v);case r.NotationDeclaration:return this.dtdNotation(g,_,v);default:throw new Error("Unknown XML node type: "+g.constructor.name)}},T.prototype.processingInstruction=function(g,_,v){var y;return this.openNode(g,_,v),_.state=e.OpenTag,y=this.indent(g,_,v)+"<?",_.state=e.InsideTag,y+=g.target,g.value&&(y+=" "+g.value),_.state=e.CloseTag,y+=_.spaceBeforeSlash+"?>",y+=this.endline(g,_,v),_.state=e.None,this.closeNode(g,_,v),y},T.prototype.raw=function(g,_,v){var y;return this.openNode(g,_,v),_.state=e.OpenTag,y=this.indent(g,_,v),_.state=e.InsideTag,y+=g.value,_.state=e.CloseTag,y+=this.endline(g,_,v),_.state=e.None,this.closeNode(g,_,v),y},T.prototype.text=function(g,_,v){var y;return this.openNode(g,_,v),_.state=e.OpenTag,y=this.indent(g,_,v),_.state=e.InsideTag,y+=g.value,_.state=e.CloseTag,y+=this.endline(g,_,v),_.state=e.None,this.closeNode(g,_,v),y},T.prototype.dtdAttList=function(g,_,v){var y;return this.openNode(g,_,v),_.state=e.OpenTag,y=this.indent(g,_,v)+"<!ATTLIST",_.state=e.InsideTag,y+=" "+g.elementName+" "+g.attributeName+" "+g.attributeType,g.defaultValueType!=="#DEFAULT"&&(y+=" "+g.defaultValueType),g.defaultValue&&(y+=' "'+g.defaultValue+'"'),_.state=e.CloseTag,y+=_.spaceBeforeSlash+">"+this.endline(g,_,v),_.state=e.None,this.closeNode(g,_,v),y},T.prototype.dtdElement=function(g,_,v){var y;return this.openNode(g,_,v),_.state=e.OpenTag,y=this.indent(g,_,v)+"<!ELEMENT",_.state=e.InsideTag,y+=" "+g.name+" "+g.value,_.state=e.CloseTag,y+=_.spaceBeforeSlash+">"+this.endline(g,_,v),_.state=e.None,this.closeNode(g,_,v),y},T.prototype.dtdEntity=function(g,_,v){var y;return this.openNode(g,_,v),_.state=e.OpenTag,y=this.indent(g,_,v)+"<!ENTITY",_.state=e.InsideTag,g.pe&&(y+=" %"),y+=" "+g.name,g.value?y+=' "'+g.value+'"':(g.pubID&&g.sysID?y+=' PUBLIC "'+g.pubID+'" "'+g.sysID+'"':g.sysID&&(y+=' SYSTEM "'+g.sysID+'"'),g.nData&&(y+=" NDATA "+g.nData)),_.state=e.CloseTag,y+=_.spaceBeforeSlash+">"+this.endline(g,_,v),_.state=e.None,this.closeNode(g,_,v),y},T.prototype.dtdNotation=function(g,_,v){var y;return this.openNode(g,_,v),_.state=e.OpenTag,y=this.indent(g,_,v)+"<!NOTATION",_.state=e.InsideTag,y+=" "+g.name,g.pubID&&g.sysID?y+=' PUBLIC "'+g.pubID+'" "'+g.sysID+'"':g.pubID?y+=' PUBLIC "'+g.pubID+'"':g.sysID&&(y+=' SYSTEM "'+g.sysID+'"'),_.state=e.CloseTag,y+=_.spaceBeforeSlash+">"+this.endline(g,_,v),_.state=e.None,this.closeNode(g,_,v),y},T.prototype.openNode=function(g,_,v){},T.prototype.closeNode=function(g,_,v){},T.prototype.openAttribute=function(g,_,v){},T.prototype.closeAttribute=function(g,_,v){},T}()}).call(sX)});var Db=gt((lX,uX)=>{"use strict";(function(){var r,e,t=function(n,o){for(var a in o)i.call(o,a)&&(n[a]=o[a]);function s(){this.constructor=n}return s.prototype=o.prototype,n.prototype=new s,n.__super__=o.prototype,n},i={}.hasOwnProperty;e=KN(),uX.exports=r=function(n){t(o,n);function o(a){o.__super__.constructor.call(this,a)}return o.prototype.document=function(a,s){var c,l,u,d,m;for(s=this.filterOptions(s),d="",m=a.children,l=0,u=m.length;l<u;l++)c=m[l],d+=this.writeChildNode(c,s,0);return s.pretty&&d.slice(-s.newline.length)===s.newline&&(d=d.slice(0,-s.newline.length)),d},o}(e)}).call(lX)});var QN=gt((dX,mX)=>{"use strict";(function(){var r,e,t,i,n,o,a,s,c=function(u,d){for(var m in d)l.call(d,m)&&(u[m]=d[m]);function h(){this.constructor=u}return h.prototype=d.prototype,u.prototype=new h,u.__super__=d.prototype,u},l={}.hasOwnProperty;s=Ba().isPlainObject,t=HN(),e=fW(),n=xo(),r=Ci(),a=XN(),o=Db(),mX.exports=i=function(u){c(d,u);function d(m){d.__super__.constructor.call(this,null),this.name="#document",this.type=r.Document,this.documentURI=null,this.domConfig=new e,m||(m={}),m.writer||(m.writer=new o),this.options=m,this.stringify=new a(m)}return Object.defineProperty(d.prototype,"implementation",{value:new t}),Object.defineProperty(d.prototype,"doctype",{get:function(){var m,h,f,p;for(p=this.children,h=0,f=p.length;h<f;h++)if(m=p[h],m.type===r.DocType)return m;return null}}),Object.defineProperty(d.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(d.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(d.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(d.prototype,"xmlEncoding",{get:function(){return this.children.length!==0&&this.children[0].type===r.Declaration?this.children[0].encoding:null}}),Object.defineProperty(d.prototype,"xmlStandalone",{get:function(){return this.children.length!==0&&this.children[0].type===r.Declaration?this.children[0].standalone==="yes":!1}}),Object.defineProperty(d.prototype,"xmlVersion",{get:function(){return this.children.length!==0&&this.children[0].type===r.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(d.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(d.prototype,"origin",{get:function(){return null}}),Object.defineProperty(d.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(d.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(d.prototype,"contentType",{get:function(){return null}}),d.prototype.end=function(m){var h;return h={},m?s(m)&&(h=m,m=this.options.writer):m=this.options.writer,m.document(this,m.filterOptions(h))},d.prototype.toString=function(m){return this.options.writer.document(this,this.options.writer.filterOptions(m))},d.prototype.createElement=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.createTextNode=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.createComment=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.createCDATASection=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.createProcessingInstruction=function(m,h){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.createAttribute=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.createEntityReference=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.getElementsByTagName=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.importNode=function(m,h){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.createElementNS=function(m,h){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.createAttributeNS=function(m,h){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.getElementsByTagNameNS=function(m,h){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.getElementById=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.adoptNode=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.renameNode=function(m,h,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.getElementsByClassName=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.createEvent=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.createNodeIterator=function(m,h,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.createTreeWalker=function(m,h,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},d}(n)}).call(dX)});var pX=gt((hX,fX)=>{"use strict";(function(){var r,e,t,i,n,o,a,s,c,l,u,d,m,h,f,p,w,C,T,g,_,v,y,A,b={}.hasOwnProperty;A=Ba(),v=A.isObject,_=A.isFunction,y=A.isPlainObject,g=A.getValue,r=Ci(),d=QN(),h=mb(),i=hb(),n=fb(),p=xb(),T=wb(),f=Eb(),l=pb(),u=_b(),o=gb(),s=vb(),a=yb(),c=bb(),t=GN(),C=XN(),w=Db(),e=Tp(),fX.exports=m=function(){function E(D,S,I){var M;this.name="?xml",this.type=r.Document,D||(D={}),M={},D.writer?y(D.writer)&&(M=D.writer,D.writer=new w):D.writer=new w,this.options=D,this.writer=D.writer,this.writerOptions=this.writer.filterOptions(M),this.stringify=new C(D),this.onDataCallback=S||function(){},this.onEndCallback=I||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return E.prototype.createChildNode=function(D){var S,I,M,q,U,F,O,G;switch(D.type){case r.CData:this.cdata(D.value);break;case r.Comment:this.comment(D.value);break;case r.Element:M={},O=D.attribs;for(I in O)b.call(O,I)&&(S=O[I],M[I]=S.value);this.node(D.name,M);break;case r.Dummy:this.dummy();break;case r.Raw:this.raw(D.value);break;case r.Text:this.text(D.value);break;case r.ProcessingInstruction:this.instruction(D.target,D.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+D.constructor.name)}for(G=D.children,U=0,F=G.length;U<F;U++)q=G[U],this.createChildNode(q),q.type===r.Element&&this.up();return this},E.prototype.dummy=function(){return this},E.prototype.node=function(D,S,I){var M;if(D==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(D));return this.openCurrent(),D=g(D),S==null&&(S={}),S=g(S),v(S)||(M=[S,I],I=M[0],S=M[1]),this.currentNode=new h(this,D,S),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,I!=null&&this.text(I),this},E.prototype.element=function(D,S,I){var M,q,U,F,O,G;if(this.currentNode&&this.currentNode.type===r.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(D)||v(D)||_(D))for(F=this.options.noValidation,this.options.noValidation=!0,G=new d(this.options).element("TEMP_ROOT"),G.element(D),this.options.noValidation=F,O=G.children,q=0,U=O.length;q<U;q++)M=O[q],this.createChildNode(M),M.type===r.Element&&this.up();else this.node(D,S,I);return this},E.prototype.attribute=function(D,S){var I,M;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(D));if(D!=null&&(D=g(D)),v(D))for(I in D)b.call(D,I)&&(M=D[I],this.attribute(I,M));else _(S)&&(S=S.apply()),this.options.keepNullAttributes&&S==null?this.currentNode.attribs[D]=new t(this,D,""):S!=null&&(this.currentNode.attribs[D]=new t(this,D,S));return this},E.prototype.text=function(D){var S;return this.openCurrent(),S=new T(this,D),this.onData(this.writer.text(S,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},E.prototype.cdata=function(D){var S;return this.openCurrent(),S=new i(this,D),this.onData(this.writer.cdata(S,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},E.prototype.comment=function(D){var S;return this.openCurrent(),S=new n(this,D),this.onData(this.writer.comment(S,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},E.prototype.raw=function(D){var S;return this.openCurrent(),S=new p(this,D),this.onData(this.writer.raw(S,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},E.prototype.instruction=function(D,S){var I,M,q,U,F;if(this.openCurrent(),D!=null&&(D=g(D)),S!=null&&(S=g(S)),Array.isArray(D))for(I=0,U=D.length;I<U;I++)M=D[I],this.instruction(M);else if(v(D))for(M in D)b.call(D,M)&&(q=D[M],this.instruction(M,q));else _(S)&&(S=S.apply()),F=new f(this,D,S),this.onData(this.writer.processingInstruction(F,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this},E.prototype.declaration=function(D,S,I){var M;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return M=new l(this,D,S,I),this.onData(this.writer.declaration(M,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},E.prototype.doctype=function(D,S,I){if(this.openCurrent(),D==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new u(this,S,I),this.currentNode.rootNodeName=D,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},E.prototype.dtdElement=function(D,S){var I;return this.openCurrent(),I=new a(this,D,S),this.onData(this.writer.dtdElement(I,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},E.prototype.attList=function(D,S,I,M,q){var U;return this.openCurrent(),U=new o(this,D,S,I,M,q),this.onData(this.writer.dtdAttList(U,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},E.prototype.entity=function(D,S){var I;return this.openCurrent(),I=new s(this,!1,D,S),this.onData(this.writer.dtdEntity(I,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},E.prototype.pEntity=function(D,S){var I;return this.openCurrent(),I=new s(this,!0,D,S),this.onData(this.writer.dtdEntity(I,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},E.prototype.notation=function(D,S){var I;return this.openCurrent(),I=new c(this,D,S),this.onData(this.writer.dtdNotation(I,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},E.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},E.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},E.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},E.prototype.openNode=function(D){var S,I,M,q;if(!D.isOpen){if(!this.root&&this.currentLevel===0&&D.type===r.Element&&(this.root=D),I="",D.type===r.Element){this.writerOptions.state=e.OpenTag,I=this.writer.indent(D,this.writerOptions,this.currentLevel)+"<"+D.name,q=D.attribs;for(M in q)b.call(q,M)&&(S=q[M],I+=this.writer.attribute(S,this.writerOptions,this.currentLevel));I+=(D.children?">":"/>")+this.writer.endline(D,this.writerOptions,this.currentLevel),this.writerOptions.state=e.InsideTag}else this.writerOptions.state=e.OpenTag,I=this.writer.indent(D,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+D.rootNodeName,D.pubID&&D.sysID?I+=' PUBLIC "'+D.pubID+'" "'+D.sysID+'"':D.sysID&&(I+=' SYSTEM "'+D.sysID+'"'),D.children?(I+=" [",this.writerOptions.state=e.InsideTag):(this.writerOptions.state=e.CloseTag,I+=">"),I+=this.writer.endline(D,this.writerOptions,this.currentLevel);return this.onData(I,this.currentLevel),D.isOpen=!0}},E.prototype.closeNode=function(D){var S;if(!D.isClosed)return S="",this.writerOptions.state=e.CloseTag,D.type===r.Element?S=this.writer.indent(D,this.writerOptions,this.currentLevel)+"</"+D.name+">"+this.writer.endline(D,this.writerOptions,this.currentLevel):S=this.writer.indent(D,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(D,this.writerOptions,this.currentLevel),this.writerOptions.state=e.None,this.onData(S,this.currentLevel),D.isClosed=!0},E.prototype.onData=function(D,S){return this.documentStarted=!0,this.onDataCallback(D,S+1)},E.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},E.prototype.debugInfo=function(D){return D==null?"":"node: <"+D+">"},E.prototype.ele=function(){return this.element.apply(this,arguments)},E.prototype.nod=function(D,S,I){return this.node(D,S,I)},E.prototype.txt=function(D){return this.text(D)},E.prototype.dat=function(D){return this.cdata(D)},E.prototype.com=function(D){return this.comment(D)},E.prototype.ins=function(D,S){return this.instruction(D,S)},E.prototype.dec=function(D,S,I){return this.declaration(D,S,I)},E.prototype.dtd=function(D,S,I){return this.doctype(D,S,I)},E.prototype.e=function(D,S,I){return this.element(D,S,I)},E.prototype.n=function(D,S,I){return this.node(D,S,I)},E.prototype.t=function(D){return this.text(D)},E.prototype.d=function(D){return this.cdata(D)},E.prototype.c=function(D){return this.comment(D)},E.prototype.r=function(D){return this.raw(D)},E.prototype.i=function(D,S){return this.instruction(D,S)},E.prototype.att=function(){return this.currentNode&&this.currentNode.type===r.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},E.prototype.a=function(){return this.currentNode&&this.currentNode.type===r.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},E.prototype.ent=function(D,S){return this.entity(D,S)},E.prototype.pent=function(D,S){return this.pEntity(D,S)},E.prototype.not=function(D,S){return this.notation(D,S)},E}()}).call(hX)});var yX=gt((gX,vX)=>{"use strict";(function(){var r,e,t,i,n=function(a,s){for(var c in s)o.call(s,c)&&(a[c]=s[c]);function l(){this.constructor=a}return l.prototype=s.prototype,a.prototype=new l,a.__super__=s.prototype,a},o={}.hasOwnProperty;r=Ci(),i=KN(),e=Tp(),vX.exports=t=function(a){n(s,a);function s(c,l){this.stream=c,s.__super__.constructor.call(this,l)}return s.prototype.endline=function(c,l,u){return c.isLastRootNode&&l.state===e.CloseTag?"":s.__super__.endline.call(this,c,l,u)},s.prototype.document=function(c,l){var u,d,m,h,f,p,w,C,T;for(w=c.children,d=m=0,f=w.length;m<f;d=++m)u=w[d],u.isLastRootNode=d===c.children.length-1;for(l=this.filterOptions(l),C=c.children,T=[],h=0,p=C.length;h<p;h++)u=C[h],T.push(this.writeChildNode(u,l,0));return T},s.prototype.attribute=function(c,l,u){return this.stream.write(s.__super__.attribute.call(this,c,l,u))},s.prototype.cdata=function(c,l,u){return this.stream.write(s.__super__.cdata.call(this,c,l,u))},s.prototype.comment=function(c,l,u){return this.stream.write(s.__super__.comment.call(this,c,l,u))},s.prototype.declaration=function(c,l,u){return this.stream.write(s.__super__.declaration.call(this,c,l,u))},s.prototype.docType=function(c,l,u){var d,m,h,f;if(u||(u=0),this.openNode(c,l,u),l.state=e.OpenTag,this.stream.write(this.indent(c,l,u)),this.stream.write("<!DOCTYPE "+c.root().name),c.pubID&&c.sysID?this.stream.write(' PUBLIC "'+c.pubID+'" "'+c.sysID+'"'):c.sysID&&this.stream.write(' SYSTEM "'+c.sysID+'"'),c.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(c,l,u)),l.state=e.InsideTag,f=c.children,m=0,h=f.length;m<h;m++)d=f[m],this.writeChildNode(d,l,u+1);l.state=e.CloseTag,this.stream.write("]")}return l.state=e.CloseTag,this.stream.write(l.spaceBeforeSlash+">"),this.stream.write(this.endline(c,l,u)),l.state=e.None,this.closeNode(c,l,u)},s.prototype.element=function(c,l,u){var d,m,h,f,p,w,C,T,g,_;u||(u=0),this.openNode(c,l,u),l.state=e.OpenTag,this.stream.write(this.indent(c,l,u)+"<"+c.name),g=c.attribs;for(C in g)o.call(g,C)&&(d=g[C],this.attribute(d,l,u));if(h=c.children.length,f=h===0?null:c.children[0],h===0||c.children.every(function(v){return(v.type===r.Text||v.type===r.Raw)&&v.value===""}))l.allowEmpty?(this.stream.write(">"),l.state=e.CloseTag,this.stream.write("</"+c.name+">")):(l.state=e.CloseTag,this.stream.write(l.spaceBeforeSlash+"/>"));else if(l.pretty&&h===1&&(f.type===r.Text||f.type===r.Raw)&&f.value!=null)this.stream.write(">"),l.state=e.InsideTag,l.suppressPrettyCount++,T=!0,this.writeChildNode(f,l,u+1),l.suppressPrettyCount--,T=!1,l.state=e.CloseTag,this.stream.write("</"+c.name+">");else{for(this.stream.write(">"+this.endline(c,l,u)),l.state=e.InsideTag,_=c.children,p=0,w=_.length;p<w;p++)m=_[p],this.writeChildNode(m,l,u+1);l.state=e.CloseTag,this.stream.write(this.indent(c,l,u)+"</"+c.name+">")}return this.stream.write(this.endline(c,l,u)),l.state=e.None,this.closeNode(c,l,u)},s.prototype.processingInstruction=function(c,l,u){return this.stream.write(s.__super__.processingInstruction.call(this,c,l,u))},s.prototype.raw=function(c,l,u){return this.stream.write(s.__super__.raw.call(this,c,l,u))},s.prototype.text=function(c,l,u){return this.stream.write(s.__super__.text.call(this,c,l,u))},s.prototype.dtdAttList=function(c,l,u){return this.stream.write(s.__super__.dtdAttList.call(this,c,l,u))},s.prototype.dtdElement=function(c,l,u){return this.stream.write(s.__super__.dtdElement.call(this,c,l,u))},s.prototype.dtdEntity=function(c,l,u){return this.stream.write(s.__super__.dtdEntity.call(this,c,l,u))},s.prototype.dtdNotation=function(c,l,u){return this.stream.write(s.__super__.dtdNotation.call(this,c,l,u))},s}(i)}).call(gX)});var _X=gt((bX,Lc)=>{"use strict";(function(){var r,e,t,i,n,o,a,s,c,l;l=Ba(),s=l.assign,c=l.isFunction,t=HN(),i=QN(),n=pX(),a=Db(),o=yX(),r=Ci(),e=Tp(),Lc.exports.create=function(u,d,m,h){var f,p;if(u==null)throw new Error("Root element needs a name.");return h=s({},d,m,h),f=new i(h),p=f.element(u),h.headless||(f.declaration(h),(h.pubID!=null||h.sysID!=null)&&f.dtd(h)),p},Lc.exports.begin=function(u,d,m){var h;return c(u)&&(h=[u,d],d=h[0],m=h[1],u={}),d?new n(u,d,m):new i(u)},Lc.exports.stringWriter=function(u){return new a(u)},Lc.exports.streamWriter=function(u,d){return new o(u,d)},Lc.exports.implementation=new t,Lc.exports.nodeType=r,Lc.exports.writerState=e}).call(bX)});var xX=gt(YN=>{"use strict";(function(){"use strict";var r,e,t,i,n,o={}.hasOwnProperty;r=_X(),e=ub().defaults,i=function(a){return typeof a=="string"&&(a.indexOf("&")>=0||a.indexOf(">")>=0||a.indexOf("<")>=0)},n=function(a){return"<![CDATA["+t(a)+"]]>"},t=function(a){return a.replace("]]>","]]]]><![CDATA[>")},YN.Builder=function(){function a(s){var c,l,u;this.options={},l=e["0.2"];for(c in l)o.call(l,c)&&(u=l[c],this.options[c]=u);for(c in s)o.call(s,c)&&(u=s[c],this.options[c]=u)}return a.prototype.buildObject=function(s){var c,l,u,d,m;return c=this.options.attrkey,l=this.options.charkey,Object.keys(s).length===1&&this.options.rootName===e["0.2"].rootName?(m=Object.keys(s)[0],s=s[m]):m=this.options.rootName,u=function(h){return function(f,p){var w,C,T,g,_,v;if(typeof p!="object")h.options.cdata&&i(p)?f.raw(n(p)):f.txt(p);else if(Array.isArray(p)){for(g in p)if(o.call(p,g)){C=p[g];for(_ in C)T=C[_],f=u(f.ele(_),T).up()}}else for(_ in p)if(o.call(p,_))if(C=p[_],_===c){if(typeof C=="object")for(w in C)v=C[w],f=f.att(w,v)}else if(_===l)h.options.cdata&&i(C)?f=f.raw(n(C)):f=f.txt(C);else if(Array.isArray(C))for(g in C)o.call(C,g)&&(T=C[g],typeof T=="string"?h.options.cdata&&i(T)?f=f.ele(_).raw(n(T)).up():f=f.ele(_,T).up():f=u(f.ele(_),T).up());else typeof C=="object"?f=u(f.ele(_),C).up():typeof C=="string"&&h.options.cdata&&i(C)?f=f.ele(_).raw(n(C)).up():(C==null&&(C=""),f=f.ele(_,C.toString()).up());return f}}(this),d=r.create(m,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),u(d,s).end(this.options.renderOpts)},a}()}).call(YN)});var wX=gt((eat,ZN)=>{"use strict";function un(r){if(r)return Mge(r);this._callbacks=new Map}function Mge(r){return Object.assign(r,un.prototype),r._callbacks=new Map,r}un.prototype.on=function(r,e){let t=this._callbacks.get(r)??[];return t.push(e),this._callbacks.set(r,t),this};un.prototype.once=function(r,e){let t=(...i)=>{this.off(r,t),e.apply(this,i)};return t.fn=e,this.on(r,t),this};un.prototype.off=function(r,e){if(r===void 0&&e===void 0)return this._callbacks.clear(),this;if(e===void 0)return this._callbacks.delete(r),this;let t=this._callbacks.get(r);if(t){for(let[i,n]of t.entries())if(n===e||n.fn===e){t.splice(i,1);break}t.length===0?this._callbacks.delete(r):this._callbacks.set(r,t)}return this};un.prototype.emit=function(r,...e){let t=this._callbacks.get(r);if(t){let i=[...t];for(let n of i)n.apply(this,e)}return this};un.prototype.listeners=function(r){return this._callbacks.get(r)??[]};un.prototype.listenerCount=function(r){if(r)return this.listeners(r).length;let e=0;for(let t of this._callbacks.values())e+=t.length;return e};un.prototype.hasListeners=function(r){return this.listenerCount(r)>0};un.prototype.addEventListener=un.prototype.on;un.prototype.removeListener=un.prototype.off;un.prototype.removeEventListener=un.prototype.off;un.prototype.removeAllListeners=un.prototype.off;typeof ZN<"u"&&(ZN.exports=un)});var AX=gt((tat,DX)=>{"use strict";var EX=wX();function Ip(){EX.call(this)}Ip.prototype=new EX;DX.exports=Ip;Ip.Stream=Ip;Ip.prototype.pipe=function(r,e){var t=this;function i(u){r.writable&&r.write(u)===!1&&t.pause&&t.pause()}t.on("data",i);function n(){t.readable&&t.resume&&t.resume()}r.on("drain",n),!r._isStdio&&(!e||e.end!==!1)&&(t.on("end",a),t.on("close",s));var o=!1;function a(){o||(o=!0,r.end())}function s(){o||(o=!0,typeof r.destroy=="function"&&r.destroy())}function c(u){if(l(),!this.hasListeners("error"))throw u}t.on("error",c),r.on("error",c);function l(){t.off("data",i),r.off("drain",n),t.off("end",a),t.off("close",s),t.off("error",c),r.off("error",c),t.off("end",l),t.off("close",l),r.off("end",l),r.off("close",l)}return t.on("end",l),t.on("close",l),r.on("end",l),r.on("close",l),r.emit("pipe",t),r}});var TX=gt(Ab=>{"use strict";Ab.byteLength=kge;Ab.toByteArray=Fge;Ab.fromByteArray=Bge;var La=[],Go=[],Nge=typeof Uint8Array<"u"?Uint8Array:Array,JN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(tu=0,CX=JN.length;tu<CX;++tu)La[tu]=JN[tu],Go[JN.charCodeAt(tu)]=tu;var tu,CX;Go[45]=62;Go[95]=63;function SX(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var i=t===e?0:4-t%4;return[t,i]}function kge(r){var e=SX(r),t=e[0],i=e[1];return(t+i)*3/4-i}function Rge(r,e,t){return(e+t)*3/4-t}function Fge(r){var e,t=SX(r),i=t[0],n=t[1],o=new Nge(Rge(r,i,n)),a=0,s=n>0?i-4:i,c;for(c=0;c<s;c+=4)e=Go[r.charCodeAt(c)]<<18|Go[r.charCodeAt(c+1)]<<12|Go[r.charCodeAt(c+2)]<<6|Go[r.charCodeAt(c+3)],o[a++]=e>>16&255,o[a++]=e>>8&255,o[a++]=e&255;return n===2&&(e=Go[r.charCodeAt(c)]<<2|Go[r.charCodeAt(c+1)]>>4,o[a++]=e&255),n===1&&(e=Go[r.charCodeAt(c)]<<10|Go[r.charCodeAt(c+1)]<<4|Go[r.charCodeAt(c+2)]>>2,o[a++]=e>>8&255,o[a++]=e&255),o}function Oge(r){return La[r>>18&63]+La[r>>12&63]+La[r>>6&63]+La[r&63]}function Pge(r,e,t){for(var i,n=[],o=e;o<t;o+=3)i=(r[o]<<16&16711680)+(r[o+1]<<8&65280)+(r[o+2]&255),n.push(Oge(i));return n.join("")}function Bge(r){for(var e,t=r.length,i=t%3,n=[],o=16383,a=0,s=t-i;a<s;a+=o)n.push(Pge(r,a,a+o>s?s:a+o));return i===1?(e=r[t-1],n.push(La[e>>2]+La[e<<4&63]+"==")):i===2&&(e=(r[t-2]<<8)+r[t-1],n.push(La[e>>10]+La[e>>4&63]+La[e<<2&63]+"=")),n.join("")}});var IX=gt(ek=>{"use strict";ek.read=function(r,e,t,i,n){var o,a,s=n*8-i-1,c=(1<<s)-1,l=c>>1,u=-7,d=t?n-1:0,m=t?-1:1,h=r[e+d];for(d+=m,o=h&(1<<-u)-1,h>>=-u,u+=s;u>0;o=o*256+r[e+d],d+=m,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=i;u>0;a=a*256+r[e+d],d+=m,u-=8);if(o===0)o=1-l;else{if(o===c)return a?NaN:(h?-1:1)*(1/0);a=a+Math.pow(2,i),o=o-l}return(h?-1:1)*a*Math.pow(2,o-i)};ek.write=function(r,e,t,i,n,o){var a,s,c,l=o*8-n-1,u=(1<<l)-1,d=u>>1,m=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:o-1,f=i?1:-1,p=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),a+d>=1?e+=m/c:e+=m*Math.pow(2,1-d),e*c>=2&&(a++,c/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(e*c-1)*Math.pow(2,n),a=a+d):(s=e*Math.pow(2,d-1)*Math.pow(2,n),a=0));n>=8;r[t+h]=s&255,h+=f,s/=256,n-=8);for(a=a<<n|s,l+=n;l>0;r[t+h]=a&255,h+=f,a/=256,l-=8);r[t+h-f]|=p*128}});var qX=gt(pm=>{"use strict";var tk=TX(),fm=IX(),MX=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;pm.Buffer=Me;pm.SlowBuffer=jge;pm.INSPECT_MAX_BYTES=50;var Cb=2147483647;pm.kMaxLength=Cb;Me.TYPED_ARRAY_SUPPORT=Lge();!Me.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Lge(){try{var r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch{return!1}}Object.defineProperty(Me.prototype,"parent",{enumerable:!0,get:function(){if(Me.isBuffer(this))return this.buffer}});Object.defineProperty(Me.prototype,"offset",{enumerable:!0,get:function(){if(Me.isBuffer(this))return this.byteOffset}});function Ds(r){if(r>Cb)throw new RangeError('The value "'+r+'" is invalid for option "size"');var e=new Uint8Array(r);return Object.setPrototypeOf(e,Me.prototype),e}function Me(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return ok(r)}return RX(r,e,t)}Me.poolSize=8192;function RX(r,e,t){if(typeof r=="string")return zge(r,e);if(ArrayBuffer.isView(r))return Uge(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(Va(r,ArrayBuffer)||r&&Va(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Va(r,SharedArrayBuffer)||r&&Va(r.buffer,SharedArrayBuffer)))return ik(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var i=r.valueOf&&r.valueOf();if(i!=null&&i!==r)return Me.from(i,e,t);var n=qge(r);if(n)return n;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return Me.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}Me.from=function(r,e,t){return RX(r,e,t)};Object.setPrototypeOf(Me.prototype,Uint8Array.prototype);Object.setPrototypeOf(Me,Uint8Array);function FX(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function Vge(r,e,t){return FX(r),r<=0?Ds(r):e!==void 0?typeof t=="string"?Ds(r).fill(e,t):Ds(r).fill(e):Ds(r)}Me.alloc=function(r,e,t){return Vge(r,e,t)};function ok(r){return FX(r),Ds(r<0?0:ak(r)|0)}Me.allocUnsafe=function(r){return ok(r)};Me.allocUnsafeSlow=function(r){return ok(r)};function zge(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!Me.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var t=OX(r,e)|0,i=Ds(t),n=i.write(r,e);return n!==t&&(i=i.slice(0,n)),i}function rk(r){for(var e=r.length<0?0:ak(r.length)|0,t=Ds(e),i=0;i<e;i+=1)t[i]=r[i]&255;return t}function Uge(r){if(Va(r,Uint8Array)){var e=new Uint8Array(r);return ik(e.buffer,e.byteOffset,e.byteLength)}return rk(r)}function ik(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');var i;return e===void 0&&t===void 0?i=new Uint8Array(r):t===void 0?i=new Uint8Array(r,e):i=new Uint8Array(r,e,t),Object.setPrototypeOf(i,Me.prototype),i}function qge(r){if(Me.isBuffer(r)){var e=ak(r.length)|0,t=Ds(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||sk(r.length)?Ds(0):rk(r);if(r.type==="Buffer"&&Array.isArray(r.data))return rk(r.data)}function ak(r){if(r>=Cb)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Cb.toString(16)+" bytes");return r|0}function jge(r){return+r!=r&&(r=0),Me.alloc(+r)}Me.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==Me.prototype};Me.compare=function(e,t){if(Va(e,Uint8Array)&&(e=Me.from(e,e.offset,e.byteLength)),Va(t,Uint8Array)&&(t=Me.from(t,t.offset,t.byteLength)),!Me.isBuffer(e)||!Me.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var i=e.length,n=t.length,o=0,a=Math.min(i,n);o<a;++o)if(e[o]!==t[o]){i=e[o],n=t[o];break}return i<n?-1:n<i?1:0};Me.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};Me.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return Me.alloc(0);var i;if(t===void 0)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var n=Me.allocUnsafe(t),o=0;for(i=0;i<e.length;++i){var a=e[i];if(Va(a,Uint8Array))o+a.length>n.length?Me.from(a).copy(n,o):Uint8Array.prototype.set.call(n,a,o);else if(Me.isBuffer(a))a.copy(n,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=a.length}return n};function OX(r,e){if(Me.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||Va(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);var t=r.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&t===0)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return nk(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return UX(r).length;default:if(n)return i?-1:nk(r).length;e=(""+e).toLowerCase(),n=!0}}Me.byteLength=OX;function $ge(r,e,t){var i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return eve(this,e,t);case"utf8":case"utf-8":return BX(this,e,t);case"ascii":return Zge(this,e,t);case"latin1":case"binary":return Jge(this,e,t);case"base64":return Qge(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return tve(this,e,t);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),i=!0}}Me.prototype._isBuffer=!0;function ru(r,e,t){var i=r[e];r[e]=r[t],r[t]=i}Me.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)ru(this,t,t+1);return this};Me.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)ru(this,t,t+3),ru(this,t+1,t+2);return this};Me.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)ru(this,t,t+7),ru(this,t+1,t+6),ru(this,t+2,t+5),ru(this,t+3,t+4);return this};Me.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?BX(this,0,e):$ge.apply(this,arguments)};Me.prototype.toLocaleString=Me.prototype.toString;Me.prototype.equals=function(e){if(!Me.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:Me.compare(this,e)===0};Me.prototype.inspect=function(){var e="",t=pm.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};MX&&(Me.prototype[MX]=Me.prototype.inspect);Me.prototype.compare=function(e,t,i,n,o){if(Va(e,Uint8Array)&&(e=Me.from(e,e.offset,e.byteLength)),!Me.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),i===void 0&&(i=e?e.length:0),n===void 0&&(n=0),o===void 0&&(o=this.length),t<0||i>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=i)return 0;if(n>=o)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,o>>>=0,this===e)return 0;for(var a=o-n,s=i-t,c=Math.min(a,s),l=this.slice(n,o),u=e.slice(t,i),d=0;d<c;++d)if(l[d]!==u[d]){a=l[d],s=u[d];break}return a<s?-1:s<a?1:0};function PX(r,e,t,i,n){if(r.length===0)return-1;if(typeof t=="string"?(i=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,sk(t)&&(t=n?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(n)return-1;t=r.length-1}else if(t<0)if(n)t=0;else return-1;if(typeof e=="string"&&(e=Me.from(e,i)),Me.isBuffer(e))return e.length===0?-1:NX(r,e,t,i,n);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):NX(r,[e],t,i,n);throw new TypeError("val must be string, number or Buffer")}function NX(r,e,t,i,n){var o=1,a=r.length,s=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(r.length<2||e.length<2)return-1;o=2,a/=2,s/=2,t/=2}function c(h,f){return o===1?h[f]:h.readUInt16BE(f*o)}var l;if(n){var u=-1;for(l=t;l<a;l++)if(c(r,l)===c(e,u===-1?0:l-u)){if(u===-1&&(u=l),l-u+1===s)return u*o}else u!==-1&&(l-=l-u),u=-1}else for(t+s>a&&(t=a-s),l=t;l>=0;l--){for(var d=!0,m=0;m<s;m++)if(c(r,l+m)!==c(e,m)){d=!1;break}if(d)return l}return-1}Me.prototype.includes=function(e,t,i){return this.indexOf(e,t,i)!==-1};Me.prototype.indexOf=function(e,t,i){return PX(this,e,t,i,!0)};Me.prototype.lastIndexOf=function(e,t,i){return PX(this,e,t,i,!1)};function Hge(r,e,t,i){t=Number(t)||0;var n=r.length-t;i?(i=Number(i),i>n&&(i=n)):i=n;var o=e.length;i>o/2&&(i=o/2);for(var a=0;a<i;++a){var s=parseInt(e.substr(a*2,2),16);if(sk(s))return a;r[t+a]=s}return a}function Gge(r,e,t,i){return Sb(nk(e,r.length-t),r,t,i)}function Wge(r,e,t,i){return Sb(nve(e),r,t,i)}function Xge(r,e,t,i){return Sb(UX(e),r,t,i)}function Kge(r,e,t,i){return Sb(ove(e,r.length-t),r,t,i)}Me.prototype.write=function(e,t,i,n){if(t===void 0)n="utf8",i=this.length,t=0;else if(i===void 0&&typeof t=="string")n=t,i=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(i)?(i=i>>>0,n===void 0&&(n="utf8")):(n=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o=this.length-t;if((i===void 0||i>o)&&(i=o),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return Hge(this,e,t,i);case"utf8":case"utf-8":return Gge(this,e,t,i);case"ascii":case"latin1":case"binary":return Wge(this,e,t,i);case"base64":return Xge(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Kge(this,e,t,i);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}};Me.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Qge(r,e,t){return e===0&&t===r.length?tk.fromByteArray(r):tk.fromByteArray(r.slice(e,t))}function BX(r,e,t){t=Math.min(r.length,t);for(var i=[],n=e;n<t;){var o=r[n],a=null,s=o>239?4:o>223?3:o>191?2:1;if(n+s<=t){var c,l,u,d;switch(s){case 1:o<128&&(a=o);break;case 2:c=r[n+1],(c&192)===128&&(d=(o&31)<<6|c&63,d>127&&(a=d));break;case 3:c=r[n+1],l=r[n+2],(c&192)===128&&(l&192)===128&&(d=(o&15)<<12|(c&63)<<6|l&63,d>2047&&(d<55296||d>57343)&&(a=d));break;case 4:c=r[n+1],l=r[n+2],u=r[n+3],(c&192)===128&&(l&192)===128&&(u&192)===128&&(d=(o&15)<<18|(c&63)<<12|(l&63)<<6|u&63,d>65535&&d<1114112&&(a=d))}}a===null?(a=65533,s=1):a>65535&&(a-=65536,i.push(a>>>10&1023|55296),a=56320|a&1023),i.push(a),n+=s}return Yge(i)}var kX=4096;function Yge(r){var e=r.length;if(e<=kX)return String.fromCharCode.apply(String,r);for(var t="",i=0;i<e;)t+=String.fromCharCode.apply(String,r.slice(i,i+=kX));return t}function Zge(r,e,t){var i="";t=Math.min(r.length,t);for(var n=e;n<t;++n)i+=String.fromCharCode(r[n]&127);return i}function Jge(r,e,t){var i="";t=Math.min(r.length,t);for(var n=e;n<t;++n)i+=String.fromCharCode(r[n]);return i}function eve(r,e,t){var i=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>i)&&(t=i);for(var n="",o=e;o<t;++o)n+=ave[r[o]];return n}function tve(r,e,t){for(var i=r.slice(e,t),n="",o=0;o<i.length-1;o+=2)n+=String.fromCharCode(i[o]+i[o+1]*256);return n}Me.prototype.slice=function(e,t){var i=this.length;e=~~e,t=t===void 0?i:~~t,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,Me.prototype),n};function Ji(r,e,t){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}Me.prototype.readUintLE=Me.prototype.readUIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||Ji(e,t,this.length);for(var n=this[e],o=1,a=0;++a<t&&(o*=256);)n+=this[e+a]*o;return n};Me.prototype.readUintBE=Me.prototype.readUIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||Ji(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n};Me.prototype.readUint8=Me.prototype.readUInt8=function(e,t){return e=e>>>0,t||Ji(e,1,this.length),this[e]};Me.prototype.readUint16LE=Me.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||Ji(e,2,this.length),this[e]|this[e+1]<<8};Me.prototype.readUint16BE=Me.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||Ji(e,2,this.length),this[e]<<8|this[e+1]};Me.prototype.readUint32LE=Me.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||Ji(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};Me.prototype.readUint32BE=Me.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||Ji(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};Me.prototype.readIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||Ji(e,t,this.length);for(var n=this[e],o=1,a=0;++a<t&&(o*=256);)n+=this[e+a]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*t)),n};Me.prototype.readIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||Ji(e,t,this.length);for(var n=t,o=1,a=this[e+--n];n>0&&(o*=256);)a+=this[e+--n]*o;return o*=128,a>=o&&(a-=Math.pow(2,8*t)),a};Me.prototype.readInt8=function(e,t){return e=e>>>0,t||Ji(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};Me.prototype.readInt16LE=function(e,t){e=e>>>0,t||Ji(e,2,this.length);var i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};Me.prototype.readInt16BE=function(e,t){e=e>>>0,t||Ji(e,2,this.length);var i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};Me.prototype.readInt32LE=function(e,t){return e=e>>>0,t||Ji(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};Me.prototype.readInt32BE=function(e,t){return e=e>>>0,t||Ji(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};Me.prototype.readFloatLE=function(e,t){return e=e>>>0,t||Ji(e,4,this.length),fm.read(this,e,!0,23,4)};Me.prototype.readFloatBE=function(e,t){return e=e>>>0,t||Ji(e,4,this.length),fm.read(this,e,!1,23,4)};Me.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||Ji(e,8,this.length),fm.read(this,e,!0,52,8)};Me.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||Ji(e,8,this.length),fm.read(this,e,!1,52,8)};function eo(r,e,t,i,n,o){if(!Me.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<o)throw new RangeError('"value" argument is out of bounds');if(t+i>r.length)throw new RangeError("Index out of range")}Me.prototype.writeUintLE=Me.prototype.writeUIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){var o=Math.pow(2,8*i)-1;eo(this,e,t,i,o,0)}var a=1,s=0;for(this[t]=e&255;++s<i&&(a*=256);)this[t+s]=e/a&255;return t+i};Me.prototype.writeUintBE=Me.prototype.writeUIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){var o=Math.pow(2,8*i)-1;eo(this,e,t,i,o,0)}var a=i-1,s=1;for(this[t+a]=e&255;--a>=0&&(s*=256);)this[t+a]=e/s&255;return t+i};Me.prototype.writeUint8=Me.prototype.writeUInt8=function(e,t,i){return e=+e,t=t>>>0,i||eo(this,e,t,1,255,0),this[t]=e&255,t+1};Me.prototype.writeUint16LE=Me.prototype.writeUInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||eo(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};Me.prototype.writeUint16BE=Me.prototype.writeUInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||eo(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};Me.prototype.writeUint32LE=Me.prototype.writeUInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||eo(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};Me.prototype.writeUint32BE=Me.prototype.writeUInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||eo(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};Me.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){var o=Math.pow(2,8*i-1);eo(this,e,t,i,o-1,-o)}var a=0,s=1,c=0;for(this[t]=e&255;++a<i&&(s*=256);)e<0&&c===0&&this[t+a-1]!==0&&(c=1),this[t+a]=(e/s>>0)-c&255;return t+i};Me.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){var o=Math.pow(2,8*i-1);eo(this,e,t,i,o-1,-o)}var a=i-1,s=1,c=0;for(this[t+a]=e&255;--a>=0&&(s*=256);)e<0&&c===0&&this[t+a+1]!==0&&(c=1),this[t+a]=(e/s>>0)-c&255;return t+i};Me.prototype.writeInt8=function(e,t,i){return e=+e,t=t>>>0,i||eo(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};Me.prototype.writeInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||eo(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};Me.prototype.writeInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||eo(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};Me.prototype.writeInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||eo(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};Me.prototype.writeInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||eo(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function LX(r,e,t,i,n,o){if(t+i>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function VX(r,e,t,i,n){return e=+e,t=t>>>0,n||LX(r,e,t,4,34028234663852886e22,-34028234663852886e22),fm.write(r,e,t,i,23,4),t+4}Me.prototype.writeFloatLE=function(e,t,i){return VX(this,e,t,!0,i)};Me.prototype.writeFloatBE=function(e,t,i){return VX(this,e,t,!1,i)};function zX(r,e,t,i,n){return e=+e,t=t>>>0,n||LX(r,e,t,8,17976931348623157e292,-17976931348623157e292),fm.write(r,e,t,i,52,8),t+8}Me.prototype.writeDoubleLE=function(e,t,i){return zX(this,e,t,!0,i)};Me.prototype.writeDoubleBE=function(e,t,i){return zX(this,e,t,!1,i)};Me.prototype.copy=function(e,t,i,n){if(!Me.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!n&&n!==0&&(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var o=n-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),t),o};Me.prototype.fill=function(e,t,i,n){if(typeof e=="string"){if(typeof t=="string"?(n=t,t=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!Me.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){var o=e.charCodeAt(0);(n==="utf8"&&o<128||n==="latin1")&&(e=o)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t=t>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);var a;if(typeof e=="number")for(a=t;a<i;++a)this[a]=e;else{var s=Me.isBuffer(e)?e:Me.from(e,n),c=s.length;if(c===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<i-t;++a)this[a+t]=s[a%c]}return this};var rve=/[^+/0-9A-Za-z-_]/g;function ive(r){if(r=r.split("=")[0],r=r.trim().replace(rve,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function nk(r,e){e=e||1/0;for(var t,i=r.length,n=null,o=[],a=0;a<i;++a){if(t=r.charCodeAt(a),t>55295&&t<57344){if(!n){if(t>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(a+1===i){(e-=3)>-1&&o.push(239,191,189);continue}n=t;continue}if(t<56320){(e-=3)>-1&&o.push(239,191,189),n=t;continue}t=(n-55296<<10|t-56320)+65536}else n&&(e-=3)>-1&&o.push(239,191,189);if(n=null,t<128){if((e-=1)<0)break;o.push(t)}else if(t<2048){if((e-=2)<0)break;o.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;o.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;o.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return o}function nve(r){for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function ove(r,e){for(var t,i,n,o=[],a=0;a<r.length&&!((e-=2)<0);++a)t=r.charCodeAt(a),i=t>>8,n=t%256,o.push(n),o.push(i);return o}function UX(r){return tk.toByteArray(ive(r))}function Sb(r,e,t,i){for(var n=0;n<i&&!(n+t>=e.length||n>=r.length);++n)e[n+t]=r[n];return n}function Va(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function sk(r){return r!==r}var ave=function(){for(var r="0123456789abcdef",e=new Array(256),t=0;t<16;++t)for(var i=t*16,n=0;n<16;++n)e[i+n]=r[t]+r[n];return e}()});var HX=gt((ck,$X)=>{"use strict";var Tb=qX(),za=Tb.Buffer;function jX(r,e){for(var t in r)e[t]=r[t]}za.from&&za.alloc&&za.allocUnsafe&&za.allocUnsafeSlow?$X.exports=Tb:(jX(Tb,ck),ck.Buffer=iu);function iu(r,e,t){return za(r,e,t)}iu.prototype=Object.create(za.prototype);jX(za,iu);iu.from=function(r,e,t){if(typeof r=="number")throw new TypeError("Argument must not be a number");return za(r,e,t)};iu.alloc=function(r,e,t){if(typeof r!="number")throw new TypeError("Argument must be a number");var i=za(r);return e!==void 0?typeof t=="string"?i.fill(e,t):i.fill(e):i.fill(0),i};iu.allocUnsafe=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return za(r)};iu.allocUnsafeSlow=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return Tb.SlowBuffer(r)}});var XX=gt(WX=>{"use strict";var uk=HX().Buffer,GX=uk.isEncoding||function(r){switch(r=""+r,r&&r.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function sve(r){if(!r)return"utf8";for(var e;;)switch(r){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return r;default:if(e)return;r=(""+r).toLowerCase(),e=!0}}function cve(r){var e=sve(r);if(typeof e!="string"&&(uk.isEncoding===GX||!GX(r)))throw new Error("Unknown encoding: "+r);return e||r}WX.StringDecoder=Mp;function Mp(r){this.encoding=cve(r);var e;switch(this.encoding){case"utf16le":this.text=fve,this.end=pve,e=4;break;case"utf8":this.fillLast=dve,e=4;break;case"base64":this.text=gve,this.end=vve,e=3;break;default:this.write=yve,this.end=bve;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=uk.allocUnsafe(e)}Mp.prototype.write=function(r){if(r.length===0)return"";var e,t;if(this.lastNeed){if(e=this.fillLast(r),e===void 0)return"";t=this.lastNeed,this.lastNeed=0}else t=0;return t<r.length?e?e+this.text(r,t):this.text(r,t):e||""};Mp.prototype.end=hve;Mp.prototype.text=mve;Mp.prototype.fillLast=function(r){if(this.lastNeed<=r.length)return r.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);r.copy(this.lastChar,this.lastTotal-this.lastNeed,0,r.length),this.lastNeed-=r.length};function lk(r){return r<=127?0:r>>5===6?2:r>>4===14?3:r>>3===30?4:r>>6===2?-1:-2}function lve(r,e,t){var i=e.length-1;if(i<t)return 0;var n=lk(e[i]);return n>=0?(n>0&&(r.lastNeed=n-1),n):--i<t||n===-2?0:(n=lk(e[i]),n>=0?(n>0&&(r.lastNeed=n-2),n):--i<t||n===-2?0:(n=lk(e[i]),n>=0?(n>0&&(n===2?n=0:r.lastNeed=n-3),n):0))}function uve(r,e,t){if((e[0]&192)!==128)return r.lastNeed=0,"\uFFFD";if(r.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return r.lastNeed=1,"\uFFFD";if(r.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return r.lastNeed=2,"\uFFFD"}}function dve(r){var e=this.lastTotal-this.lastNeed,t=uve(this,r,e);if(t!==void 0)return t;if(this.lastNeed<=r.length)return r.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);r.copy(this.lastChar,e,0,r.length),this.lastNeed-=r.length}function mve(r,e){var t=lve(this,r,e);if(!this.lastNeed)return r.toString("utf8",e);this.lastTotal=t;var i=r.length-(t-this.lastNeed);return r.copy(this.lastChar,0,i),r.toString("utf8",e,i)}function hve(r){var e=r&&r.length?this.write(r):"";return this.lastNeed?e+"\uFFFD":e}function fve(r,e){if((r.length-e)%2===0){var t=r.toString("utf16le",e);if(t){var i=t.charCodeAt(t.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=r[r.length-2],this.lastChar[1]=r[r.length-1],t.slice(0,-1)}return t}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=r[r.length-1],r.toString("utf16le",e,r.length-1)}function pve(r){var e=r&&r.length?this.write(r):"";if(this.lastNeed){var t=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,t)}return e}function gve(r,e){var t=(r.length-e)%3;return t===0?r.toString("base64",e):(this.lastNeed=3-t,this.lastTotal=3,t===1?this.lastChar[0]=r[r.length-1]:(this.lastChar[0]=r[r.length-2],this.lastChar[1]=r[r.length-1]),r.toString("base64",e,r.length-t))}function vve(r){var e=r&&r.length?this.write(r):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function yve(r){return r.toString(this.encoding)}function bve(r){return r&&r.length?this.write(r):""}});var KX=gt(Ib=>{"use strict";(function(r){r.parser=function(V,P){return new t(V,P)},r.SAXParser=t,r.SAXStream=l,r.createStream=c,r.MAX_BUFFER_LENGTH=64*1024;var e=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];r.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function t(V,P){if(!(this instanceof t))return new t(V,P);var j=this;n(j),j.q=j.c="",j.bufferCheckPosition=r.MAX_BUFFER_LENGTH,j.opt=P||{},j.opt.lowercase=j.opt.lowercase||j.opt.lowercasetags,j.looseCase=j.opt.lowercase?"toLowerCase":"toUpperCase",j.tags=[],j.closed=j.closedRoot=j.sawRoot=!1,j.tag=j.error=null,j.strict=!!V,j.noscript=!!(V||j.opt.noscript),j.state=b.BEGIN,j.strictEntities=j.opt.strictEntities,j.ENTITIES=j.strictEntities?Object.create(r.XML_ENTITIES):Object.create(r.ENTITIES),j.attribList=[],j.opt.xmlns&&(j.ns=Object.create(f)),j.opt.unquotedAttributeValues===void 0&&(j.opt.unquotedAttributeValues=!V),j.trackPosition=j.opt.position!==!1,j.trackPosition&&(j.position=j.line=j.column=0),D(j,"onready")}Object.create||(Object.create=function(V){function P(){}P.prototype=V;var j=new P;return j}),Object.keys||(Object.keys=function(V){var P=[];for(var j in V)V.hasOwnProperty(j)&&P.push(j);return P});function i(V){for(var P=Math.max(r.MAX_BUFFER_LENGTH,10),j=0,z=0,Q=e.length;z<Q;z++){var ie=V[e[z]].length;if(ie>P)switch(e[z]){case"textNode":I(V);break;case"cdata":S(V,"oncdata",V.cdata),V.cdata="";break;case"script":S(V,"onscript",V.script),V.script="";break;default:q(V,"Max buffer length exceeded: "+e[z])}j=Math.max(j,ie)}var re=r.MAX_BUFFER_LENGTH-j;V.bufferCheckPosition=re+V.position}function n(V){for(var P=0,j=e.length;P<j;P++)V[e[P]]=""}function o(V){I(V),V.cdata!==""&&(S(V,"oncdata",V.cdata),V.cdata=""),V.script!==""&&(S(V,"onscript",V.script),V.script="")}t.prototype={end:function(){U(this)},write:ye,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){o(this)}};var a;try{a=AX().Stream}catch{a=function(){}}a||(a=function(){});var s=r.EVENTS.filter(function(V){return V!=="error"&&V!=="end"});function c(V,P){return new l(V,P)}function l(V,P){if(!(this instanceof l))return new l(V,P);a.apply(this),this._parser=new t(V,P),this.writable=!0,this.readable=!0;var j=this;this._parser.onend=function(){j.emit("end")},this._parser.onerror=function(z){j.emit("error",z),j._parser.error=null},this._decoder=null,s.forEach(function(z){Object.defineProperty(j,"on"+z,{get:function(){return j._parser["on"+z]},set:function(Q){if(!Q)return j.removeAllListeners(z),j._parser["on"+z]=Q,Q;j.on(z,Q)},enumerable:!0,configurable:!1})})}l.prototype=Object.create(a.prototype,{constructor:{value:l}}),l.prototype.write=function(V){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(V)){if(!this._decoder){var P=XX().StringDecoder;this._decoder=new P("utf8")}V=this._decoder.write(V)}return this._parser.write(V.toString()),this.emit("data",V),!0},l.prototype.end=function(V){return V&&V.length&&this.write(V),this._parser.end(),!0},l.prototype.on=function(V,P){var j=this;return!j._parser["on"+V]&&s.indexOf(V)!==-1&&(j._parser["on"+V]=function(){var z=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);z.splice(0,0,V),j.emit.apply(j,z)}),a.prototype.on.call(j,V,P)};var u="[CDATA[",d="DOCTYPE",m="http://www.w3.org/XML/1998/namespace",h="http://www.w3.org/2000/xmlns/",f={xml:m,xmlns:h},p=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,w=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,C=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,T=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function g(V){return V===" "||V===`
`||V==="\r"||V==="	"}function _(V){return V==='"'||V==="'"}function v(V){return V===">"||g(V)}function y(V,P){return V.test(P)}function A(V,P){return!y(V,P)}var b=0;r.STATE={BEGIN:b++,BEGIN_WHITESPACE:b++,TEXT:b++,TEXT_ENTITY:b++,OPEN_WAKA:b++,SGML_DECL:b++,SGML_DECL_QUOTED:b++,DOCTYPE:b++,DOCTYPE_QUOTED:b++,DOCTYPE_DTD:b++,DOCTYPE_DTD_QUOTED:b++,COMMENT_STARTING:b++,COMMENT:b++,COMMENT_ENDING:b++,COMMENT_ENDED:b++,CDATA:b++,CDATA_ENDING:b++,CDATA_ENDING_2:b++,PROC_INST:b++,PROC_INST_BODY:b++,PROC_INST_ENDING:b++,OPEN_TAG:b++,OPEN_TAG_SLASH:b++,ATTRIB:b++,ATTRIB_NAME:b++,ATTRIB_NAME_SAW_WHITE:b++,ATTRIB_VALUE:b++,ATTRIB_VALUE_QUOTED:b++,ATTRIB_VALUE_CLOSED:b++,ATTRIB_VALUE_UNQUOTED:b++,ATTRIB_VALUE_ENTITY_Q:b++,ATTRIB_VALUE_ENTITY_U:b++,CLOSE_TAG:b++,CLOSE_TAG_SAW_WHITE:b++,SCRIPT:b++,SCRIPT_ENDING:b++},r.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},r.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(r.ENTITIES).forEach(function(V){var P=r.ENTITIES[V],j=typeof P=="number"?String.fromCharCode(P):P;r.ENTITIES[V]=j});for(var E in r.STATE)r.STATE[r.STATE[E]]=E;b=r.STATE;function D(V,P,j){V[P]&&V[P](j)}function S(V,P,j){V.textNode&&I(V),D(V,P,j)}function I(V){V.textNode=M(V.opt,V.textNode),V.textNode&&D(V,"ontext",V.textNode),V.textNode=""}function M(V,P){return V.trim&&(P=P.trim()),V.normalize&&(P=P.replace(/\s+/g," ")),P}function q(V,P){return I(V),V.trackPosition&&(P+=`
Line: `+V.line+`
Column: `+V.column+`
Char: `+V.c),P=new Error(P),V.error=P,D(V,"onerror",P),V}function U(V){return V.sawRoot&&!V.closedRoot&&F(V,"Unclosed root tag"),V.state!==b.BEGIN&&V.state!==b.BEGIN_WHITESPACE&&V.state!==b.TEXT&&q(V,"Unexpected end"),I(V),V.c="",V.closed=!0,D(V,"onend"),t.call(V,V.strict,V.opt),V}function F(V,P){if(typeof V!="object"||!(V instanceof t))throw new Error("bad call to strictFail");V.strict&&q(V,P)}function O(V){V.strict||(V.tagName=V.tagName[V.looseCase]());var P=V.tags[V.tags.length-1]||V,j=V.tag={name:V.tagName,attributes:{}};V.opt.xmlns&&(j.ns=P.ns),V.attribList.length=0,S(V,"onopentagstart",j)}function G(V,P){var j=V.indexOf(":"),z=j<0?["",V]:V.split(":"),Q=z[0],ie=z[1];return P&&V==="xmlns"&&(Q="xmlns",ie=""),{prefix:Q,local:ie}}function B(V){if(V.strict||(V.attribName=V.attribName[V.looseCase]()),V.attribList.indexOf(V.attribName)!==-1||V.tag.attributes.hasOwnProperty(V.attribName)){V.attribName=V.attribValue="";return}if(V.opt.xmlns){var P=G(V.attribName,!0),j=P.prefix,z=P.local;if(j==="xmlns")if(z==="xml"&&V.attribValue!==m)F(V,"xml: prefix must be bound to "+m+`
Actual: `+V.attribValue);else if(z==="xmlns"&&V.attribValue!==h)F(V,"xmlns: prefix must be bound to "+h+`
Actual: `+V.attribValue);else{var Q=V.tag,ie=V.tags[V.tags.length-1]||V;Q.ns===ie.ns&&(Q.ns=Object.create(ie.ns)),Q.ns[z]=V.attribValue}V.attribList.push([V.attribName,V.attribValue])}else V.tag.attributes[V.attribName]=V.attribValue,S(V,"onattribute",{name:V.attribName,value:V.attribValue});V.attribName=V.attribValue=""}function ee(V,P){if(V.opt.xmlns){var j=V.tag,z=G(V.tagName);j.prefix=z.prefix,j.local=z.local,j.uri=j.ns[z.prefix]||"",j.prefix&&!j.uri&&(F(V,"Unbound namespace prefix: "+JSON.stringify(V.tagName)),j.uri=z.prefix);var Q=V.tags[V.tags.length-1]||V;j.ns&&Q.ns!==j.ns&&Object.keys(j.ns).forEach(function(Be){S(V,"onopennamespace",{prefix:Be,uri:j.ns[Be]})});for(var ie=0,re=V.attribList.length;ie<re;ie++){var pe=V.attribList[ie],fe=pe[0],$=pe[1],K=G(fe,!0),se=K.prefix,de=K.local,Ee=se===""?"":j.ns[se]||"",Se={name:fe,value:$,prefix:se,local:de,uri:Ee};se&&se!=="xmlns"&&!Ee&&(F(V,"Unbound namespace prefix: "+JSON.stringify(se)),Se.uri=se),V.tag.attributes[fe]=Se,S(V,"onattribute",Se)}V.attribList.length=0}V.tag.isSelfClosing=!!P,V.sawRoot=!0,V.tags.push(V.tag),S(V,"onopentag",V.tag),P||(!V.noscript&&V.tagName.toLowerCase()==="script"?V.state=b.SCRIPT:V.state=b.TEXT,V.tag=null,V.tagName=""),V.attribName=V.attribValue="",V.attribList.length=0}function ae(V){if(!V.tagName){F(V,"Weird empty close tag."),V.textNode+="</>",V.state=b.TEXT;return}if(V.script){if(V.tagName!=="script"){V.script+="</"+V.tagName+">",V.tagName="",V.state=b.SCRIPT;return}S(V,"onscript",V.script),V.script=""}var P=V.tags.length,j=V.tagName;V.strict||(j=j[V.looseCase]());for(var z=j;P--;){var Q=V.tags[P];if(Q.name!==z)F(V,"Unexpected close tag");else break}if(P<0){F(V,"Unmatched closing tag: "+V.tagName),V.textNode+="</"+V.tagName+">",V.state=b.TEXT;return}V.tagName=j;for(var ie=V.tags.length;ie-- >P;){var re=V.tag=V.tags.pop();V.tagName=V.tag.name,S(V,"onclosetag",V.tagName);var pe={};for(var fe in re.ns)pe[fe]=re.ns[fe];var $=V.tags[V.tags.length-1]||V;V.opt.xmlns&&re.ns!==$.ns&&Object.keys(re.ns).forEach(function(K){var se=re.ns[K];S(V,"onclosenamespace",{prefix:K,uri:se})})}P===0&&(V.closedRoot=!0),V.tagName=V.attribValue=V.attribName="",V.attribList.length=0,V.state=b.TEXT}function J(V){var P=V.entity,j=P.toLowerCase(),z,Q="";return V.ENTITIES[P]?V.ENTITIES[P]:V.ENTITIES[j]?V.ENTITIES[j]:(P=j,P.charAt(0)==="#"&&(P.charAt(1)==="x"?(P=P.slice(2),z=parseInt(P,16),Q=z.toString(16)):(P=P.slice(1),z=parseInt(P,10),Q=z.toString(10))),P=P.replace(/^0+/,""),isNaN(z)||Q.toLowerCase()!==P?(F(V,"Invalid character entity"),"&"+V.entity+";"):String.fromCodePoint(z))}function H(V,P){P==="<"?(V.state=b.OPEN_WAKA,V.startTagPosition=V.position):g(P)||(F(V,"Non-whitespace before first tag."),V.textNode=P,V.state=b.TEXT)}function ce(V,P){var j="";return P<V.length&&(j=V.charAt(P)),j}function ye(V){var P=this;if(this.error)throw this.error;if(P.closed)return q(P,"Cannot write after close. Assign an onready handler.");if(V===null)return U(P);typeof V=="object"&&(V=V.toString());for(var j=0,z="";z=ce(V,j++),P.c=z,!!z;)switch(P.trackPosition&&(P.position++,z===`
`?(P.line++,P.column=0):P.column++),P.state){case b.BEGIN:if(P.state=b.BEGIN_WHITESPACE,z==="\uFEFF")continue;H(P,z);continue;case b.BEGIN_WHITESPACE:H(P,z);continue;case b.TEXT:if(P.sawRoot&&!P.closedRoot){for(var Q=j-1;z&&z!=="<"&&z!=="&";)z=ce(V,j++),z&&P.trackPosition&&(P.position++,z===`
`?(P.line++,P.column=0):P.column++);P.textNode+=V.substring(Q,j-1)}z==="<"&&!(P.sawRoot&&P.closedRoot&&!P.strict)?(P.state=b.OPEN_WAKA,P.startTagPosition=P.position):(!g(z)&&(!P.sawRoot||P.closedRoot)&&F(P,"Text data outside of root node."),z==="&"?P.state=b.TEXT_ENTITY:P.textNode+=z);continue;case b.SCRIPT:z==="<"?P.state=b.SCRIPT_ENDING:P.script+=z;continue;case b.SCRIPT_ENDING:z==="/"?P.state=b.CLOSE_TAG:(P.script+="<"+z,P.state=b.SCRIPT);continue;case b.OPEN_WAKA:if(z==="!")P.state=b.SGML_DECL,P.sgmlDecl="";else if(!g(z))if(y(p,z))P.state=b.OPEN_TAG,P.tagName=z;else if(z==="/")P.state=b.CLOSE_TAG,P.tagName="";else if(z==="?")P.state=b.PROC_INST,P.procInstName=P.procInstBody="";else{if(F(P,"Unencoded <"),P.startTagPosition+1<P.position){var ie=P.position-P.startTagPosition;z=new Array(ie).join(" ")+z}P.textNode+="<"+z,P.state=b.TEXT}continue;case b.SGML_DECL:if(P.sgmlDecl+z==="--"){P.state=b.COMMENT,P.comment="",P.sgmlDecl="";continue}P.doctype&&P.doctype!==!0&&P.sgmlDecl?(P.state=b.DOCTYPE_DTD,P.doctype+="<!"+P.sgmlDecl+z,P.sgmlDecl=""):(P.sgmlDecl+z).toUpperCase()===u?(S(P,"onopencdata"),P.state=b.CDATA,P.sgmlDecl="",P.cdata=""):(P.sgmlDecl+z).toUpperCase()===d?(P.state=b.DOCTYPE,(P.doctype||P.sawRoot)&&F(P,"Inappropriately located doctype declaration"),P.doctype="",P.sgmlDecl=""):z===">"?(S(P,"onsgmldeclaration",P.sgmlDecl),P.sgmlDecl="",P.state=b.TEXT):(_(z)&&(P.state=b.SGML_DECL_QUOTED),P.sgmlDecl+=z);continue;case b.SGML_DECL_QUOTED:z===P.q&&(P.state=b.SGML_DECL,P.q=""),P.sgmlDecl+=z;continue;case b.DOCTYPE:z===">"?(P.state=b.TEXT,S(P,"ondoctype",P.doctype),P.doctype=!0):(P.doctype+=z,z==="["?P.state=b.DOCTYPE_DTD:_(z)&&(P.state=b.DOCTYPE_QUOTED,P.q=z));continue;case b.DOCTYPE_QUOTED:P.doctype+=z,z===P.q&&(P.q="",P.state=b.DOCTYPE);continue;case b.DOCTYPE_DTD:z==="]"?(P.doctype+=z,P.state=b.DOCTYPE):z==="<"?(P.state=b.OPEN_WAKA,P.startTagPosition=P.position):_(z)?(P.doctype+=z,P.state=b.DOCTYPE_DTD_QUOTED,P.q=z):P.doctype+=z;continue;case b.DOCTYPE_DTD_QUOTED:P.doctype+=z,z===P.q&&(P.state=b.DOCTYPE_DTD,P.q="");continue;case b.COMMENT:z==="-"?P.state=b.COMMENT_ENDING:P.comment+=z;continue;case b.COMMENT_ENDING:z==="-"?(P.state=b.COMMENT_ENDED,P.comment=M(P.opt,P.comment),P.comment&&S(P,"oncomment",P.comment),P.comment=""):(P.comment+="-"+z,P.state=b.COMMENT);continue;case b.COMMENT_ENDED:z!==">"?(F(P,"Malformed comment"),P.comment+="--"+z,P.state=b.COMMENT):P.doctype&&P.doctype!==!0?P.state=b.DOCTYPE_DTD:P.state=b.TEXT;continue;case b.CDATA:z==="]"?P.state=b.CDATA_ENDING:P.cdata+=z;continue;case b.CDATA_ENDING:z==="]"?P.state=b.CDATA_ENDING_2:(P.cdata+="]"+z,P.state=b.CDATA);continue;case b.CDATA_ENDING_2:z===">"?(P.cdata&&S(P,"oncdata",P.cdata),S(P,"onclosecdata"),P.cdata="",P.state=b.TEXT):z==="]"?P.cdata+="]":(P.cdata+="]]"+z,P.state=b.CDATA);continue;case b.PROC_INST:z==="?"?P.state=b.PROC_INST_ENDING:g(z)?P.state=b.PROC_INST_BODY:P.procInstName+=z;continue;case b.PROC_INST_BODY:if(!P.procInstBody&&g(z))continue;z==="?"?P.state=b.PROC_INST_ENDING:P.procInstBody+=z;continue;case b.PROC_INST_ENDING:z===">"?(S(P,"onprocessinginstruction",{name:P.procInstName,body:P.procInstBody}),P.procInstName=P.procInstBody="",P.state=b.TEXT):(P.procInstBody+="?"+z,P.state=b.PROC_INST_BODY);continue;case b.OPEN_TAG:y(w,z)?P.tagName+=z:(O(P),z===">"?ee(P):z==="/"?P.state=b.OPEN_TAG_SLASH:(g(z)||F(P,"Invalid character in tag name"),P.state=b.ATTRIB));continue;case b.OPEN_TAG_SLASH:z===">"?(ee(P,!0),ae(P)):(F(P,"Forward-slash in opening tag not followed by >"),P.state=b.ATTRIB);continue;case b.ATTRIB:if(g(z))continue;z===">"?ee(P):z==="/"?P.state=b.OPEN_TAG_SLASH:y(p,z)?(P.attribName=z,P.attribValue="",P.state=b.ATTRIB_NAME):F(P,"Invalid attribute name");continue;case b.ATTRIB_NAME:z==="="?P.state=b.ATTRIB_VALUE:z===">"?(F(P,"Attribute without value"),P.attribValue=P.attribName,B(P),ee(P)):g(z)?P.state=b.ATTRIB_NAME_SAW_WHITE:y(w,z)?P.attribName+=z:F(P,"Invalid attribute name");continue;case b.ATTRIB_NAME_SAW_WHITE:if(z==="=")P.state=b.ATTRIB_VALUE;else{if(g(z))continue;F(P,"Attribute without value"),P.tag.attributes[P.attribName]="",P.attribValue="",S(P,"onattribute",{name:P.attribName,value:""}),P.attribName="",z===">"?ee(P):y(p,z)?(P.attribName=z,P.state=b.ATTRIB_NAME):(F(P,"Invalid attribute name"),P.state=b.ATTRIB)}continue;case b.ATTRIB_VALUE:if(g(z))continue;_(z)?(P.q=z,P.state=b.ATTRIB_VALUE_QUOTED):(P.opt.unquotedAttributeValues||q(P,"Unquoted attribute value"),P.state=b.ATTRIB_VALUE_UNQUOTED,P.attribValue=z);continue;case b.ATTRIB_VALUE_QUOTED:if(z!==P.q){z==="&"?P.state=b.ATTRIB_VALUE_ENTITY_Q:P.attribValue+=z;continue}B(P),P.q="",P.state=b.ATTRIB_VALUE_CLOSED;continue;case b.ATTRIB_VALUE_CLOSED:g(z)?P.state=b.ATTRIB:z===">"?ee(P):z==="/"?P.state=b.OPEN_TAG_SLASH:y(p,z)?(F(P,"No whitespace between attributes"),P.attribName=z,P.attribValue="",P.state=b.ATTRIB_NAME):F(P,"Invalid attribute name");continue;case b.ATTRIB_VALUE_UNQUOTED:if(!v(z)){z==="&"?P.state=b.ATTRIB_VALUE_ENTITY_U:P.attribValue+=z;continue}B(P),z===">"?ee(P):P.state=b.ATTRIB;continue;case b.CLOSE_TAG:if(P.tagName)z===">"?ae(P):y(w,z)?P.tagName+=z:P.script?(P.script+="</"+P.tagName,P.tagName="",P.state=b.SCRIPT):(g(z)||F(P,"Invalid tagname in closing tag"),P.state=b.CLOSE_TAG_SAW_WHITE);else{if(g(z))continue;A(p,z)?P.script?(P.script+="</"+z,P.state=b.SCRIPT):F(P,"Invalid tagname in closing tag."):P.tagName=z}continue;case b.CLOSE_TAG_SAW_WHITE:if(g(z))continue;z===">"?ae(P):F(P,"Invalid characters in closing tag");continue;case b.TEXT_ENTITY:case b.ATTRIB_VALUE_ENTITY_Q:case b.ATTRIB_VALUE_ENTITY_U:var re,pe;switch(P.state){case b.TEXT_ENTITY:re=b.TEXT,pe="textNode";break;case b.ATTRIB_VALUE_ENTITY_Q:re=b.ATTRIB_VALUE_QUOTED,pe="attribValue";break;case b.ATTRIB_VALUE_ENTITY_U:re=b.ATTRIB_VALUE_UNQUOTED,pe="attribValue";break}if(z===";"){var fe=J(P);P.opt.unparsedEntities&&!Object.values(r.XML_ENTITIES).includes(fe)?(P.entity="",P.state=re,P.write(fe)):(P[pe]+=fe,P.entity="",P.state=re)}else y(P.entity.length?T:C,z)?P.entity+=z:(F(P,"Invalid character in entity name"),P[pe]+="&"+P.entity+z,P.entity="",P.state=re);continue;default:throw new Error(P,"Unknown state: "+P.state)}return P.position>=P.bufferCheckPosition&&i(P),P}String.fromCodePoint||function(){var V=String.fromCharCode,P=Math.floor,j=function(){var z=16384,Q=[],ie,re,pe=-1,fe=arguments.length;if(!fe)return"";for(var $="";++pe<fe;){var K=Number(arguments[pe]);if(!isFinite(K)||K<0||K>1114111||P(K)!==K)throw RangeError("Invalid code point: "+K);K<=65535?Q.push(K):(K-=65536,ie=(K>>10)+55296,re=K%1024+56320,Q.push(ie,re)),(pe+1===fe||Q.length>z)&&($+=V.apply(null,Q),Q.length=0)}return $};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:j,configurable:!0,writable:!0}):String.fromCodePoint=j}()})(typeof Ib>"u"?Ib.sax={}:Ib)});var aK=gt((sat,dk)=>{"use strict";var gm=typeof Reflect=="object"?Reflect:null,QX=gm&&typeof gm.apply=="function"?gm.apply:function(e,t,i){return Function.prototype.apply.call(e,t,i)},Mb;gm&&typeof gm.ownKeys=="function"?Mb=gm.ownKeys:Object.getOwnPropertySymbols?Mb=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Mb=function(e){return Object.getOwnPropertyNames(e)};function _ve(r){console&&console.warn&&console.warn(r)}var ZX=Number.isNaN||function(e){return e!==e};function jr(){jr.init.call(this)}dk.exports=jr;dk.exports.once=Dve;jr.EventEmitter=jr;jr.prototype._events=void 0;jr.prototype._eventsCount=0;jr.prototype._maxListeners=void 0;var YX=10;function Nb(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r)}Object.defineProperty(jr,"defaultMaxListeners",{enumerable:!0,get:function(){return YX},set:function(r){if(typeof r!="number"||r<0||ZX(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+r+".");YX=r}});jr.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};jr.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||ZX(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function JX(r){return r._maxListeners===void 0?jr.defaultMaxListeners:r._maxListeners}jr.prototype.getMaxListeners=function(){return JX(this)};jr.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var n=e==="error",o=this._events;if(o!==void 0)n=n&&o.error===void 0;else if(!n)return!1;if(n){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=o[e];if(c===void 0)return!1;if(typeof c=="function")QX(c,this,t);else for(var l=c.length,u=nK(c,l),i=0;i<l;++i)QX(u[i],this,t);return!0};function eK(r,e,t,i){var n,o,a;if(Nb(t),o=r._events,o===void 0?(o=r._events=Object.create(null),r._eventsCount=0):(o.newListener!==void 0&&(r.emit("newListener",e,t.listener?t.listener:t),o=r._events),a=o[e]),a===void 0)a=o[e]=t,++r._eventsCount;else if(typeof a=="function"?a=o[e]=i?[t,a]:[a,t]:i?a.unshift(t):a.push(t),n=JX(r),n>0&&a.length>n&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=r,s.type=e,s.count=a.length,_ve(s)}return r}jr.prototype.addListener=function(e,t){return eK(this,e,t,!1)};jr.prototype.on=jr.prototype.addListener;jr.prototype.prependListener=function(e,t){return eK(this,e,t,!0)};function xve(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function tK(r,e,t){var i={fired:!1,wrapFn:void 0,target:r,type:e,listener:t},n=xve.bind(i);return n.listener=t,i.wrapFn=n,n}jr.prototype.once=function(e,t){return Nb(t),this.on(e,tK(this,e,t)),this};jr.prototype.prependOnceListener=function(e,t){return Nb(t),this.prependListener(e,tK(this,e,t)),this};jr.prototype.removeListener=function(e,t){var i,n,o,a,s;if(Nb(t),n=this._events,n===void 0)return this;if(i=n[e],i===void 0)return this;if(i===t||i.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,i.listener||t));else if(typeof i!="function"){for(o=-1,a=i.length-1;a>=0;a--)if(i[a]===t||i[a].listener===t){s=i[a].listener,o=a;break}if(o<0)return this;o===0?i.shift():wve(i,o),i.length===1&&(n[e]=i[0]),n.removeListener!==void 0&&this.emit("removeListener",e,s||t)}return this};jr.prototype.off=jr.prototype.removeListener;jr.prototype.removeAllListeners=function(e){var t,i,n;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete i[e]),this;if(arguments.length===0){var o=Object.keys(i),a;for(n=0;n<o.length;++n)a=o[n],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=i[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this};function rK(r,e,t){var i=r._events;if(i===void 0)return[];var n=i[e];return n===void 0?[]:typeof n=="function"?t?[n.listener||n]:[n]:t?Eve(n):nK(n,n.length)}jr.prototype.listeners=function(e){return rK(this,e,!0)};jr.prototype.rawListeners=function(e){return rK(this,e,!1)};jr.listenerCount=function(r,e){return typeof r.listenerCount=="function"?r.listenerCount(e):iK.call(r,e)};jr.prototype.listenerCount=iK;function iK(r){var e=this._events;if(e!==void 0){var t=e[r];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}jr.prototype.eventNames=function(){return this._eventsCount>0?Mb(this._events):[]};function nK(r,e){for(var t=new Array(e),i=0;i<e;++i)t[i]=r[i];return t}function wve(r,e){for(;e+1<r.length;e++)r[e]=r[e+1];r.pop()}function Eve(r){for(var e=new Array(r.length),t=0;t<e.length;++t)e[t]=r[t].listener||r[t];return e}function Dve(r,e){return new Promise(function(t,i){function n(a){r.removeListener(e,o),i(a)}function o(){typeof r.removeListener=="function"&&r.removeListener("error",n),t([].slice.call(arguments))}oK(r,e,o,{once:!0}),e!=="error"&&Ave(r,n,{once:!0})})}function Ave(r,e,t){typeof r.on=="function"&&oK(r,"error",e,t)}function oK(r,e,t,i){if(typeof r.on=="function")i.once?r.once(e,t):r.on(e,t);else if(typeof r.addEventListener=="function")r.addEventListener(e,function n(o){i.once&&r.removeEventListener(e,n),t(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof r)}});var sK=gt(mk=>{"use strict";(function(){"use strict";mk.stripBOM=function(r){return r[0]==="\uFEFF"?r.substring(1):r}}).call(mk)});var hk=gt(nu=>{"use strict";(function(){"use strict";var r;r=new RegExp(/(?!xmlns)^.*:/),nu.normalize=function(e){return e.toLowerCase()},nu.firstCharLowerCase=function(e){return e.charAt(0).toLowerCase()+e.slice(1)},nu.stripPrefix=function(e){return e.replace(r,"")},nu.parseNumbers=function(e){return isNaN(e)||(e=e%1===0?parseInt(e,10):parseFloat(e)),e},nu.parseBooleans=function(e){return/^(?:true|false)$/i.test(e)&&(e=e.toLowerCase()==="true"),e}}).call(nu)});var lK=gt(cK=>{"use strict";cK.every=function(r){return new fk(r)};var As={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5};for(ou in As)ou==="millisecond"?As.ms=As[ou]:As[ou.charAt(0)]=As[ou],As[ou+"s"]=As[ou];var ou;function fk(r){this.count=0;var e=Sve(r);e&&(this.time=Number(e[0])*As[e[1]],this.type=e[1])}fk.prototype.do=function(r){this.time&&(this.interval=setInterval(t,this.time));var e=this;function t(){e.count++,r.call(e)}return this};fk.prototype.stop=function(){return this.interval&&(clearInterval(this.interval),delete this.interval),this};var Cve=/^\s*(\d+(?:\.\d+)?)\s*([a-z]+)\s*$/;function Sve(r){var e=r.match(Cve);return e&&As[e[2]]?e.slice(1):null}});var uK=gt(Cs=>{"use strict";(function(){"use strict";var r,e,t,i,n,o,a,s,c,l=function(m,h){return function(){return m.apply(h,arguments)}},u=function(m,h){for(var f in h)d.call(h,f)&&(m[f]=h[f]);function p(){this.constructor=m}return p.prototype=h.prototype,m.prototype=new p,m.__super__=h.prototype,m},d={}.hasOwnProperty;s=KX(),i=aK(),r=sK(),a=hk(),c=lK().setImmediate,e=ub().defaults,n=function(m){return typeof m=="object"&&m!=null&&Object.keys(m).length===0},o=function(m,h,f){var p,w,C;for(p=0,w=m.length;p<w;p++)C=m[p],h=C(h,f);return h},t=function(m,h,f){var p;return p=Object.create(null),p.value=f,p.writable=!0,p.enumerable=!0,p.configurable=!0,Object.defineProperty(m,h,p)},Cs.Parser=function(m){u(h,m);function h(f){this.parseStringPromise=l(this.parseStringPromise,this),this.parseString=l(this.parseString,this),this.reset=l(this.reset,this),this.assignOrPush=l(this.assignOrPush,this),this.processAsync=l(this.processAsync,this);var p,w,C;if(!(this instanceof Cs.Parser))return new Cs.Parser(f);this.options={},w=e["0.2"];for(p in w)d.call(w,p)&&(C=w[p],this.options[p]=C);for(p in f)d.call(f,p)&&(C=f[p],this.options[p]=C);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(a.normalize)),this.reset()}return h.prototype.processAsync=function(){var f,p;try{return this.remaining.length<=this.options.chunkSize?(f=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(f),this.saxParser.close()):(f=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(f),c(this.processAsync))}catch(w){if(p=w,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(p)}},h.prototype.assignOrPush=function(f,p,w){return p in f?(f[p]instanceof Array||t(f,p,[f[p]]),f[p].push(w)):this.options.explicitArray?t(f,p,[w]):t(f,p,w)},h.prototype.reset=function(){var f,p,w,C;return this.removeAllListeners(),this.saxParser=s.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=function(T){return function(g){if(T.saxParser.resume(),!T.saxParser.errThrown)return T.saxParser.errThrown=!0,T.emit("error",g)}}(this),this.saxParser.onend=function(T){return function(){if(!T.saxParser.ended)return T.saxParser.ended=!0,T.emit("end",T.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,C=[],f=this.options.attrkey,p=this.options.charkey,this.saxParser.onopentag=function(T){return function(g){var _,v,y,A,b;if(y={},y[p]="",!T.options.ignoreAttrs){b=g.attributes;for(_ in b)d.call(b,_)&&(!(f in y)&&!T.options.mergeAttrs&&(y[f]={}),v=T.options.attrValueProcessors?o(T.options.attrValueProcessors,g.attributes[_],_):g.attributes[_],A=T.options.attrNameProcessors?o(T.options.attrNameProcessors,_):_,T.options.mergeAttrs?T.assignOrPush(y,A,v):t(y[f],A,v))}return y["#name"]=T.options.tagNameProcessors?o(T.options.tagNameProcessors,g.name):g.name,T.options.xmlns&&(y[T.options.xmlnskey]={uri:g.uri,local:g.local}),C.push(y)}}(this),this.saxParser.onclosetag=function(T){return function(){var g,_,v,y,A,b,E,D,S,I;if(b=C.pop(),A=b["#name"],(!T.options.explicitChildren||!T.options.preserveChildrenOrder)&&delete b["#name"],b.cdata===!0&&(g=b.cdata,delete b.cdata),S=C[C.length-1],b[p].match(/^\s*$/)&&!g?(_=b[p],delete b[p]):(T.options.trim&&(b[p]=b[p].trim()),T.options.normalize&&(b[p]=b[p].replace(/\s{2,}/g," ").trim()),b[p]=T.options.valueProcessors?o(T.options.valueProcessors,b[p],A):b[p],Object.keys(b).length===1&&p in b&&!T.EXPLICIT_CHARKEY&&(b=b[p])),n(b)&&(typeof T.options.emptyTag=="function"?b=T.options.emptyTag():b=T.options.emptyTag!==""?T.options.emptyTag:_),T.options.validator!=null&&(I="/"+function(){var M,q,U;for(U=[],M=0,q=C.length;M<q;M++)y=C[M],U.push(y["#name"]);return U}().concat(A).join("/"),function(){var M;try{return b=T.options.validator(I,S&&S[A],b)}catch(q){return M=q,T.emit("error",M)}}()),T.options.explicitChildren&&!T.options.mergeAttrs&&typeof b=="object"){if(!T.options.preserveChildrenOrder)y={},T.options.attrkey in b&&(y[T.options.attrkey]=b[T.options.attrkey],delete b[T.options.attrkey]),!T.options.charsAsChildren&&T.options.charkey in b&&(y[T.options.charkey]=b[T.options.charkey],delete b[T.options.charkey]),Object.getOwnPropertyNames(b).length>0&&(y[T.options.childkey]=b),b=y;else if(S){S[T.options.childkey]=S[T.options.childkey]||[],E={};for(v in b)d.call(b,v)&&t(E,v,b[v]);S[T.options.childkey].push(E),delete b["#name"],Object.keys(b).length===1&&p in b&&!T.EXPLICIT_CHARKEY&&(b=b[p])}}return C.length>0?T.assignOrPush(S,A,b):(T.options.explicitRoot&&(D=b,b={},t(b,A,D)),T.resultObject=b,T.saxParser.ended=!0,T.emit("end",T.resultObject))}}(this),w=function(T){return function(g){var _,v;if(v=C[C.length-1],v)return v[p]+=g,T.options.explicitChildren&&T.options.preserveChildrenOrder&&T.options.charsAsChildren&&(T.options.includeWhiteChars||g.replace(/\\n/g,"").trim()!=="")&&(v[T.options.childkey]=v[T.options.childkey]||[],_={"#name":"__text__"},_[p]=g,T.options.normalize&&(_[p]=_[p].replace(/\s{2,}/g," ").trim()),v[T.options.childkey].push(_)),v}}(this),this.saxParser.ontext=w,this.saxParser.oncdata=function(T){return function(g){var _;if(_=w(g),_)return _.cdata=!0}}(this)},h.prototype.parseString=function(f,p){var w;p!=null&&typeof p=="function"&&(this.on("end",function(C){return this.reset(),p(null,C)}),this.on("error",function(C){return this.reset(),p(C)}));try{return f=f.toString(),f.trim()===""?(this.emit("end",null),!0):(f=r.stripBOM(f),this.options.async?(this.remaining=f,c(this.processAsync),this.saxParser):this.saxParser.write(f).close())}catch(C){if(w=C,this.saxParser.errThrown||this.saxParser.ended){if(this.saxParser.ended)throw w}else return this.emit("error",w),this.saxParser.errThrown=!0}},h.prototype.parseStringPromise=function(f){return new Promise(function(p){return function(w,C){return p.parseString(f,function(T,g){return T?C(T):w(g)})}}(this))},h}(i),Cs.parseString=function(m,h,f){var p,w,C;return f!=null?(typeof f=="function"&&(p=f),typeof h=="object"&&(w=h)):(typeof h=="function"&&(p=h),w={}),C=new Cs.Parser(w),C.parseString(m,p)},Cs.parseStringPromise=function(m,h){var f,p;return typeof h=="object"&&(f=h),p=new Cs.Parser(f),p.parseStringPromise(m)}}).call(Cs)});var dK=gt(Ss=>{"use strict";(function(){"use strict";var r,e,t,i,n=function(a,s){for(var c in s)o.call(s,c)&&(a[c]=s[c]);function l(){this.constructor=a}return l.prototype=s.prototype,a.prototype=new l,a.__super__=s.prototype,a},o={}.hasOwnProperty;e=ub(),r=xX(),t=uK(),i=hk(),Ss.defaults=e.defaults,Ss.processors=i,Ss.ValidationError=function(a){n(s,a);function s(c){this.message=c}return s}(Error),Ss.Builder=r.Builder,Ss.Parser=t.Parser,Ss.parseString=t.parseString,Ss.parseStringPromise=t.parseStringPromise}).call(Ss)});var Bh=class{},fv=class{},ss=class r{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let n=t.slice(0,i),o=n.toLowerCase(),a=t.slice(i+1).trim();this.maybeSetNormalizedName(n,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof r?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new r;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof r?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,t);let n=(e.op==="a"?this.headers.get(t):void 0)||[];n.push(...i),this.headers.set(t,n);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let a=this.headers.get(t);if(!a)return;a=a.filter(s=>o.indexOf(s)===-1),a.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}break}}setHeaderEntries(e,t){let i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),n=e.toLowerCase();this.headers.set(n,i),this.maybeSetNormalizedName(e,n)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var nw=class{encodeKey(e){return yP(e)}encodeValue(e){return yP(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function QJ(r,e){let t=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(n=>{let o=n.indexOf("="),[a,s]=o==-1?[e.decodeKey(n),""]:[e.decodeKey(n.slice(0,o)),e.decodeValue(n.slice(o+1))],c=t.get(a)||[];c.push(s),t.set(a,c)}),t}var YJ=/%(\d[a-f0-9])/gi,ZJ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function yP(r){return encodeURIComponent(r).replace(YJ,(e,t)=>ZJ[t]??e)}function hv(r){return`${r}`}var tc=class r{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new nw,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=QJ(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let i=e.fromObject[t],n=Array.isArray(i)?i.map(hv):[hv(i)];this.map.set(t,n)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(i=>{let n=e[i];Array.isArray(n)?n.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:n,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new r({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(hv(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],n=i.indexOf(hv(e.value));n!==-1&&i.splice(n,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var ow=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function JJ(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function bP(r){return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer}function _P(r){return typeof Blob<"u"&&r instanceof Blob}function xP(r){return typeof FormData<"u"&&r instanceof FormData}function eee(r){return typeof URLSearchParams<"u"&&r instanceof URLSearchParams}var Ph=class r{constructor(e,t,i,n){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(JJ(this.method)||n?(this.body=i!==void 0?i:null,o=n):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new ss,this.context??=new ow,!this.params)this.params=new tc,this.urlWithParams=t;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=t;else{let s=t.indexOf("?"),c=s===-1?"?":s<t.length-1?"&":"";this.urlWithParams=t+c+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||bP(this.body)||_P(this.body)||xP(this.body)||eee(this.body)?this.body:this.body instanceof tc?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||xP(this.body)?null:_P(this.body)?this.body.type||null:bP(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof tc?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,i=e.url||this.url,n=e.responseType||this.responseType,o=e.transferCache??this.transferCache,a=e.body!==void 0?e.body:this.body,s=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,u=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,h)=>m.set(h,e.setHeaders[h]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((m,h)=>m.set(h,e.setParams[h]),u)),new r(t,i,a,{params:u,headers:l,context:d,reportProgress:c,responseType:n,withCredentials:s,transferCache:o})}},rc=function(r){return r[r.Sent=0]="Sent",r[r.UploadProgress=1]="UploadProgress",r[r.ResponseHeader=2]="ResponseHeader",r[r.DownloadProgress=3]="DownloadProgress",r[r.Response=4]="Response",r[r.User=5]="User",r}(rc||{}),Lh=class{constructor(e,t=200,i="OK"){this.headers=e.headers||new ss,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},pv=class r extends Lh{constructor(e={}){super(e),this.type=rc.ResponseHeader}clone(e={}){return new r({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Vh=class r extends Lh{constructor(e={}){super(e),this.type=rc.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new r({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ec=class extends Lh{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},CP=200,tee=204;function iw(r,e){return{body:e,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials,transferCache:r.transferCache}}var zh=(()=>{class r{constructor(t){this.handler=t}request(t,i,n={}){let o;if(t instanceof Ph)o=t;else{let c;n.headers instanceof ss?c=n.headers:c=new ss(n.headers);let l;n.params&&(n.params instanceof tc?l=n.params:l=new tc({fromObject:n.params})),o=new Ph(t,i,n.body!==void 0?n.body:null,{headers:c,context:n.context,params:l,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials,transferCache:n.transferCache})}let a=ut(o).pipe(Hs(c=>this.handler.handle(c)));if(t instanceof Ph||n.observe==="events")return a;let s=a.pipe(Ur(c=>c instanceof Vh));switch(n.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return s.pipe(ct(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return s.pipe(ct(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return s.pipe(ct(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return s.pipe(ct(c=>c.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:new tc().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,n={}){return this.request("PATCH",t,iw(n,i))}post(t,i,n={}){return this.request("POST",t,iw(n,i))}put(t,i,n={}){return this.request("PUT",t,iw(n,i))}static{this.\u0275fac=function(i){return new(i||r)(me(Bh))}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac})}}return r})(),ree=/^\)\]\}',?\n/,iee="X-Request-URL";function wP(r){if(r.url)return r.url;let e=iee.toLocaleLowerCase();return r.headers.get(e)}var nee=(()=>{class r{constructor(){this.fetchImpl=Pe(aw,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=Pe(Je)}handle(t){return new gn(i=>{let n=new AbortController;return this.doRequest(t,n.signal,i).then(sw,o=>i.error(new ec({error:o}))),()=>n.abort()})}doRequest(t,i,n){return xe(this,null,function*(){let o=this.createRequestInit(t),a;try{let h=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,Le({signal:i},o)));oee(h),n.next({type:rc.Sent}),a=yield h}catch(h){n.error(new ec({error:h,status:h.status??0,statusText:h.statusText,url:t.urlWithParams,headers:h.headers}));return}let s=new ss(a.headers),c=a.statusText,l=wP(a)??t.urlWithParams,u=a.status,d=null;if(t.reportProgress&&n.next(new pv({headers:s,status:u,statusText:c,url:l})),a.body){let h=a.headers.get("content-length"),f=[],p=a.body.getReader(),w=0,C,T,g=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>xe(this,null,function*(){for(;;){let{done:v,value:y}=yield p.read();if(v)break;if(f.push(y),w+=y.length,t.reportProgress){T=t.responseType==="text"?(T??"")+(C??=new TextDecoder).decode(y,{stream:!0}):void 0;let A=()=>n.next({type:rc.DownloadProgress,total:h?+h:void 0,loaded:w,partialText:T});g?g.run(A):A()}}}));let _=this.concatChunks(f,w);try{let v=a.headers.get("Content-Type")??"";d=this.parseBody(t,_,v)}catch(v){n.error(new ec({error:v,headers:new ss(a.headers),status:a.status,statusText:a.statusText,url:wP(a)??t.urlWithParams}));return}}u===0&&(u=d?CP:0),u>=200&&u<300?(n.next(new Vh({body:d,headers:s,status:u,statusText:c,url:l})),n.complete()):n.error(new ec({error:d,headers:s,status:u,statusText:c,url:l}))})}parseBody(t,i,n){switch(t.responseType){case"json":let o=new TextDecoder().decode(i).replace(ree,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:n});case"arraybuffer":return i.buffer}}createRequestInit(t){let i={},n=t.withCredentials?"include":void 0;if(t.headers.forEach((o,a)=>i[o]=a.join(",")),t.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(i["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:i,credentials:n}}concatChunks(t,i){let n=new Uint8Array(i),o=0;for(let a of t)n.set(a,o),o+=a.length;return n}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac})}}return r})(),aw=class{};function sw(){}function oee(r){r.then(sw,sw)}function SP(r,e){return e(r)}function aee(r,e){return(t,i)=>e.intercept(t,{handle:n=>r(n,i)})}function see(r,e,t){return(i,n)=>Ao(t,()=>e(i,o=>r(o,n)))}var cee=new Ve(""),cw=new Ve(""),lee=new Ve(""),TP=new Ve("",{providedIn:"root",factory:()=>!0});function uee(){let r=null;return(e,t)=>{r===null&&(r=(Pe(cee,{optional:!0})??[]).reduceRight(aee,SP));let i=Pe(Ah);if(Pe(TP)){let o=i.add();return r(e,t).pipe(rs(()=>i.remove(o)))}else return r(e,t)}}var EP=(()=>{class r extends Bh{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=Pe(Ah),this.contributeToStability=Pe(TP)}handle(t){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(cw),...this.injector.get(lee,[])]));this.chain=i.reduceRight((n,o)=>see(n,o,this.injector),SP)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(t,n=>this.backend.handle(n)).pipe(rs(()=>this.pendingTasks.remove(i)))}else return this.chain(t,i=>this.backend.handle(i))}static{this.\u0275fac=function(i){return new(i||r)(me(fv),me(is))}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac})}}return r})();var dee=/^\)\]\}',?\n/;function mee(r){return"responseURL"in r&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null}var DP=(()=>{class r{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new Nr(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Zr(i.\u0275loadImpl()):ut(null)).pipe(wi(()=>new gn(o=>{let a=i.build();if(a.open(t.method,t.urlWithParams),t.withCredentials&&(a.withCredentials=!0),t.headers.forEach((p,w)=>a.setRequestHeader(p,w.join(","))),t.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let p=t.detectContentTypeHeader();p!==null&&a.setRequestHeader("Content-Type",p)}if(t.responseType){let p=t.responseType.toLowerCase();a.responseType=p!=="json"?p:"text"}let s=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let p=a.statusText||"OK",w=new ss(a.getAllResponseHeaders()),C=mee(a)||t.url;return c=new pv({headers:w,status:a.status,statusText:p,url:C}),c},u=()=>{let{headers:p,status:w,statusText:C,url:T}=l(),g=null;w!==tee&&(g=typeof a.response>"u"?a.responseText:a.response),w===0&&(w=g?CP:0);let _=w>=200&&w<300;if(t.responseType==="json"&&typeof g=="string"){let v=g;g=g.replace(dee,"");try{g=g!==""?JSON.parse(g):null}catch(y){g=v,_&&(_=!1,g={error:y,text:g})}}_?(o.next(new Vh({body:g,headers:p,status:w,statusText:C,url:T||void 0})),o.complete()):o.error(new ec({error:g,headers:p,status:w,statusText:C,url:T||void 0}))},d=p=>{let{url:w}=l(),C=new ec({error:p,status:a.status||0,statusText:a.statusText||"Unknown Error",url:w||void 0});o.error(C)},m=!1,h=p=>{m||(o.next(l()),m=!0);let w={type:rc.DownloadProgress,loaded:p.loaded};p.lengthComputable&&(w.total=p.total),t.responseType==="text"&&a.responseText&&(w.partialText=a.responseText),o.next(w)},f=p=>{let w={type:rc.UploadProgress,loaded:p.loaded};p.lengthComputable&&(w.total=p.total),o.next(w)};return a.addEventListener("load",u),a.addEventListener("error",d),a.addEventListener("timeout",d),a.addEventListener("abort",d),t.reportProgress&&(a.addEventListener("progress",h),s!==null&&a.upload&&a.upload.addEventListener("progress",f)),a.send(s),o.next({type:rc.Sent}),()=>{a.removeEventListener("error",d),a.removeEventListener("abort",d),a.removeEventListener("load",u),a.removeEventListener("timeout",d),t.reportProgress&&(a.removeEventListener("progress",h),s!==null&&a.upload&&a.upload.removeEventListener("progress",f)),a.readyState!==a.DONE&&a.abort()}})))}static{this.\u0275fac=function(i){return new(i||r)(me(cv))}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac})}}return r})(),IP=new Ve(""),hee="XSRF-TOKEN",fee=new Ve("",{providedIn:"root",factory:()=>hee}),pee="X-XSRF-TOKEN",gee=new Ve("",{providedIn:"root",factory:()=>pee}),gv=class{},vee=(()=>{class r{constructor(t,i,n){this.doc=t,this.platform=i,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=sv(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(i){return new(i||r)(me(St),me(Fn),me(fee))}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac})}}return r})();function yee(r,e){let t=r.url.toLowerCase();if(!Pe(IP)||r.method==="GET"||r.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(r);let i=Pe(gv).getToken(),n=Pe(gee);return i!=null&&!r.headers.has(n)&&(r=r.clone({headers:r.headers.set(n,i)})),e(r)}var MP=function(r){return r[r.Interceptors=0]="Interceptors",r[r.LegacyInterceptors=1]="LegacyInterceptors",r[r.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",r[r.NoXsrfProtection=3]="NoXsrfProtection",r[r.JsonpSupport=4]="JsonpSupport",r[r.RequestsMadeViaParent=5]="RequestsMadeViaParent",r[r.Fetch=6]="Fetch",r}(MP||{});function bee(r,e){return{\u0275kind:r,\u0275providers:e}}function _ee(...r){let e=[zh,DP,EP,{provide:Bh,useExisting:EP},{provide:fv,useFactory:()=>Pe(nee,{optional:!0})??Pe(DP)},{provide:cw,useValue:yee,multi:!0},{provide:IP,useValue:!0},{provide:gv,useClass:vee}];for(let t of r)e.push(...t.\u0275providers);return Wu(e)}var AP=new Ve("");function xee(){return bee(MP.LegacyInterceptors,[{provide:AP,useFactory:uee},{provide:cw,useExisting:AP,multi:!0}])}var NP=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=ot({type:r})}static{this.\u0275inj=nt({providers:[_ee(xee())]})}}return r})();var dw=class extends YO{constructor(){super(...arguments),this.supportsDOMEvents=!0}},mw=class r extends dw{static makeCurrent(){QO(new r)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=Eee();return t==null?null:Dee(t)}resetBaseElement(){Uh=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return sv(document.cookie,e)}},Uh=null;function Eee(){return Uh=Uh||document.querySelector("base"),Uh?Uh.getAttribute("href"):null}function Dee(r){return new URL(r,document.baseURI).pathname}var hw=class{addToWindow(e){Gs.getAngularTestability=(i,n=!0)=>{let o=e.findTestabilityInTree(i,n);if(o==null)throw new Nr(5103,!1);return o},Gs.getAllAngularTestabilities=()=>e.getAllTestabilities(),Gs.getAllAngularRootElements=()=>e.getAllRootElements();let t=i=>{let n=Gs.getAllAngularTestabilities(),o=n.length,a=function(){o--,o==0&&i()};n.forEach(s=>{s.whenStable(a)})};Gs.frameworkStabilizers||(Gs.frameworkStabilizers=[]),Gs.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,i){if(t==null)return null;let n=e.getTestability(t);return n??(i?xl().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},Aee=(()=>{class r{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac})}}return r})(),fw=new Ve(""),OP=(()=>{class r{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(n=>{n.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,n){return this._findPluginFor(i).addEventListener(t,i,n)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new Nr(5101,!1);return this._eventNameToPlugin.set(t,i),i}static{this.\u0275fac=function(i){return new(i||r)(me(fw),me(Je))}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac})}}return r})(),vv=class{constructor(e){this._doc=e}},lw="ng-app-id",PP=(()=>{class r{constructor(t,i,n,o={}){this.doc=t,this.appId=i,this.nonce=n,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Zs(o),this.resetHostNodes()}addStyles(t){for(let i of t)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(t){for(let i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){let i=this.styleRef;i.get(t)?.elements?.forEach(n=>n.remove()),i.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${lw}="${this.appId}"]`);if(t?.length){let i=new Map;return t.forEach(n=>{n.textContent!=null&&i.set(n.textContent,n)}),i}return null}changeUsageCount(t,i){let n=this.styleRef;if(n.has(t)){let o=n.get(t);return o.usage+=i,o.usage}return n.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){let n=this.styleNodesInDOM,o=n?.get(i);if(o?.parentNode===t)return n.delete(i),o.removeAttribute(lw),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(lw,this.appId),t.appendChild(a),a}}addStyleToHost(t,i){let n=this.getStyleElement(t,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(n):o.set(i,{elements:[n],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||r)(me(St),me(Ch),me(Sh,8),me(Fn))}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac})}}return r})(),uw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},gw=/%COMP%/g,BP="%COMP%",Cee=`_nghost-${BP}`,See=`_ngcontent-${BP}`,Tee=!0,Iee=new Ve("",{providedIn:"root",factory:()=>Tee});function Mee(r){return See.replace(gw,r)}function Nee(r){return Cee.replace(gw,r)}function LP(r,e){return e.map(t=>t.replace(gw,r))}var Ju=(()=>{class r{constructor(t,i,n,o,a,s,c,l=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=n,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=s,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Zs(s),this.defaultRenderer=new qh(t,a,c,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Dh.ShadowDom&&(i=Cr(Le({},i),{encapsulation:Dh.Emulated}));let n=this.getOrCreateRenderer(t,i);return n instanceof yv?n.applyToHost(t):n instanceof jh&&n.applyStyles(),n}getOrCreateRenderer(t,i){let n=this.rendererByCompId,o=n.get(i.id);if(!o){let a=this.doc,s=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case Dh.Emulated:o=new yv(c,l,i,this.appId,u,a,s,d);break;case Dh.ShadowDom:return new pw(c,l,t,i,a,s,this.nonce,d);default:o=new jh(c,l,i,u,a,s,d);break}n.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||r)(me(OP),me(PP),me(Ch),me(Iee),me(St),me(Fn),me(Je),me(Sh))}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac})}}return r})(),qh=class{constructor(e,t,i,n){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=n,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(uw[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(RP(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(RP(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new Nr(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,n){if(n){t=n+":"+t;let o=uw[n];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let n=uw[i];n?e.removeAttributeNS(n,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,n){n&(Th.DashCase|Th.Important)?e.style.setProperty(t,i,n&Th.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Th.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if(typeof e=="string"&&(e=xl().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function RP(r){return r.tagName==="TEMPLATE"&&r.content!==void 0}var pw=class extends qh{constructor(e,t,i,n,o,a,s,c){super(e,o,a,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=LP(n.id,n.styles);for(let u of l){let d=document.createElement("style");s&&d.setAttribute("nonce",s),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},jh=class extends qh{constructor(e,t,i,n,o,a,s,c){super(e,o,a,s),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=n,this.styles=c?LP(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},yv=class extends jh{constructor(e,t,i,n,o,a,s,c){let l=n+"-"+i.id;super(e,t,i,o,a,s,c,l),this.contentAttr=Mee(l),this.hostAttr=Nee(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},kee=(()=>{class r extends vv{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,n){return t.addEventListener(i,n,!1),()=>this.removeEventListener(t,i,n)}removeEventListener(t,i,n){return t.removeEventListener(i,n)}static{this.\u0275fac=function(i){return new(i||r)(me(St))}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac})}}return r})(),FP=["alt","control","meta","shift"],Ree={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Fee={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey},Oee=(()=>{class r extends vv{constructor(t){super(t)}supports(t){return r.parseEventName(t)!=null}addEventListener(t,i,n){let o=r.parseEventName(i),a=r.eventCallback(o.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>xl().onAndCancel(t,o.domEventName,a))}static parseEventName(t){let i=t.toLowerCase().split("."),n=i.shift();if(i.length===0||!(n==="keydown"||n==="keyup"))return null;let o=r._normalizeKey(i.pop()),a="",s=i.indexOf("code");if(s>-1&&(i.splice(s,1),a="code."),FP.forEach(l=>{let u=i.indexOf(l);u>-1&&(i.splice(u,1),a+=l+".")}),a+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=n,c.fullKey=a,c}static matchEventFullKeyCode(t,i){let n=Ree[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(n=t.code,o="code."),n==null||!n?!1:(n=n.toLowerCase(),n===" "?n="space":n==="."&&(n="dot"),FP.forEach(a=>{if(a!==n){let s=Fee[a];s(t)&&(o+=a+".")}}),o+=n,o===i)}static eventCallback(t,i,n){return o=>{r.matchEventFullKeyCode(o,t)&&n.runGuarded(()=>i(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(i){return new(i||r)(me(St))}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac})}}return r})();function Pee(){mw.makeCurrent()}function Bee(){return new pl}function Lee(){return DO(document),document}var Vee=[{provide:Fn,useValue:oP},{provide:AO,useValue:Pee,multi:!0},{provide:St,useFactory:Lee,deps:[]}],VP=GO(WO,"browser",Vee),zee=new Ve(""),Uee=[{provide:iv,useClass:hw,deps:[]},{provide:HO,useClass:nv,deps:[Je,Qx,iv]},{provide:nv,useClass:nv,deps:[Je,Qx,iv]}],qee=[{provide:EO,useValue:"root"},{provide:pl,useFactory:Bee,deps:[]},{provide:fw,useClass:kee,multi:!0,deps:[St,Je,Fn]},{provide:fw,useClass:Oee,multi:!0,deps:[St]},Ju,PP,OP,{provide:Qu,useExisting:Ju},{provide:cv,useClass:Aee,deps:[]},[]],bv=(()=>{class r{constructor(t){}static withServerTransition(t){return{ngModule:r,providers:[{provide:Ch,useValue:t.appId}]}}static{this.\u0275fac=function(i){return new(i||r)(me(zee,12))}}static{this.\u0275mod=ot({type:r})}static{this.\u0275inj=nt({providers:[...qee,...Uee],imports:[Ys,XO]})}}return r})();var zP=(()=>{class r{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(i){return new(i||r)(me(St))}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var vw=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=qe({token:r,factory:function(i){let n=null;return i?n=new(i||r):n=me(jee),n},providedIn:"root"})}}return r})(),jee=(()=>{class r extends vw{constructor(t){super(),this._doc=t}sanitize(t,i){if(i==null)return null;switch(t){case so.NONE:return i;case so.HTML:return Ku(i,"HTML")?Xu(i):kO(this._doc,String(i)).toString();case so.STYLE:return Ku(i,"Style")?Xu(i):i;case so.SCRIPT:if(Ku(i,"Script"))return Xu(i);throw new Nr(5200,!1);case so.URL:return Ku(i,"URL")?Xu(i):NO(String(i));case so.RESOURCE_URL:if(Ku(i,"ResourceURL"))return Xu(i);throw new Nr(5201,!1);default:throw new Nr(5202,!1)}}bypassSecurityTrustHtml(t){return CO(t)}bypassSecurityTrustStyle(t){return SO(t)}bypassSecurityTrustScript(t){return TO(t)}bypassSecurityTrustUrl(t){return IO(t)}bypassSecurityTrustResourceUrl(t){return MO(t)}static{this.\u0275fac=function(i){return new(i||r)(me(St))}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var _w;try{_w=typeof Intl<"u"&&Intl.v8BreakIterator}catch{_w=!1}var ir=(()=>{class r{constructor(t){this._platformId=t,this.isBrowser=this._platformId?aP(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||_w)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(i){return new(i||r)(me(Fn))}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var ed,UP=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function xw(){if(ed)return ed;if(typeof document!="object"||!document)return ed=new Set(UP),ed;let r=document.createElement("input");return ed=new Set(UP.filter(e=>(r.setAttribute("type",e),r.type===e))),ed}var $h;function $ee(){if($h==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>$h=!0}))}finally{$h=$h||!1}return $h}function nc(r){return $ee()?r:!!r.capture}var ea=function(r){return r[r.NORMAL=0]="NORMAL",r[r.NEGATED=1]="NEGATED",r[r.INVERTED=2]="INVERTED",r}(ea||{}),_v,Dl;function xv(){if(Dl==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Dl=!1,Dl;if("scrollBehavior"in document.documentElement.style)Dl=!0;else{let r=Element.prototype.scrollTo;r?Dl=!/\{\s*\[native code\]\s*\}/.test(r.toString()):Dl=!1}}return Dl}function td(){if(typeof document!="object"||!document)return ea.NORMAL;if(_v==null){let r=document.createElement("div"),e=r.style;r.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";let t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",r.appendChild(t),document.body.appendChild(r),_v=ea.NORMAL,r.scrollLeft===0&&(r.scrollLeft=1,_v=r.scrollLeft===0?ea.NEGATED:ea.INVERTED),r.remove()}return _v}var bw;function Hee(){if(bw==null){let r=typeof document<"u"?document.head:null;bw=!!(r&&(r.createShadowRoot||r.attachShadow))}return bw}function qP(r){if(Hee()){let e=r.getRootNode?r.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Io(r){return r.composedPath?r.composedPath()[0]:r.target}function Hh(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function jP(r,...e){return e.length?e.some(t=>r[t]):r.altKey||r.shiftKey||r.ctrlKey||r.metaKey}function ki(r){return r!=null&&`${r}`!="false"}function ta(r,e=0){return Gee(r)?Number(r):arguments.length===2?e:0}function Gee(r){return!isNaN(parseFloat(r))&&!isNaN(Number(r))}function rd(r){return Array.isArray(r)?r:[r]}function Di(r){return r==null?"":typeof r=="string"?r:`${r}px`}function No(r){return r instanceof At?r.nativeElement:r}var Wee=(()=>{class r{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var $P=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=ot({type:r})}static{this.\u0275inj=nt({providers:[Wee]})}}return r})();var HP=new Set,Al,Xee=(()=>{class r{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Qee}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&Kee(t,this._nonce),this._matchMedia(t)}static{this.\u0275fac=function(i){return new(i||r)(me(ir),me(Sh,8))}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function Kee(r,e){if(!HP.has(r))try{Al||(Al=document.createElement("style"),e&&Al.setAttribute("nonce",e),Al.setAttribute("type","text/css"),document.head.appendChild(Al)),Al.sheet&&(Al.sheet.insertRule(`@media ${r} {body{ }}`,0),HP.add(r))}catch(t){console.error(t)}}function Qee(r){return{matches:r==="all"||r==="",media:r,addListener:()=>{},removeListener:()=>{}}}var wv=(()=>{class r{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Dt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return GP(rd(t)).some(n=>this._registerQuery(n).mql.matches)}observe(t){let n=GP(rd(t)).map(a=>this._registerQuery(a).observable),o=qu(n);return o=Gg(o.pipe(ao(1)),o.pipe(Xg(1),_h(0))),o.pipe(ct(a=>{let s={matches:!1,breakpoints:{}};return a.forEach(({matches:c,query:l})=>{s.matches=s.matches||c,s.breakpoints[l]=c}),s}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let i=this._mediaMatcher.matchMedia(t),o={observable:new gn(a=>{let s=c=>this._zone.run(()=>a.next(c));return i.addListener(s),()=>{i.removeListener(s)}}).pipe(Do(i),ct(({matches:a})=>({query:t,matches:a})),qr(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static{this.\u0275fac=function(i){return new(i||r)(me(Xee),me(Je))}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function GP(r){return r.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}var WP={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var Dw=(()=>{class r{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return Jee(t)&&getComputedStyle(t).visibility==="visible"}isTabbable(t){if(!this._platform.isBrowser)return!1;let i=Zee(ste(t));if(i&&(XP(i)===-1||!this.isVisible(i)))return!1;let n=t.nodeName.toLowerCase(),o=XP(t);return t.hasAttribute("contenteditable")?o!==-1:n==="iframe"||n==="object"||this._platform.WEBKIT&&this._platform.IOS&&!ote(t)?!1:n==="audio"?t.hasAttribute("controls")?o!==-1:!1:n==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||t.hasAttribute("controls"):t.tabIndex>=0}isFocusable(t,i){return ate(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}static{this.\u0275fac=function(i){return new(i||r)(me(ir))}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function Zee(r){try{return r.frameElement}catch{return null}}function Jee(r){return!!(r.offsetWidth||r.offsetHeight||typeof r.getClientRects=="function"&&r.getClientRects().length)}function ete(r){let e=r.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function tte(r){return ite(r)&&r.type=="hidden"}function rte(r){return nte(r)&&r.hasAttribute("href")}function ite(r){return r.nodeName.toLowerCase()=="input"}function nte(r){return r.nodeName.toLowerCase()=="a"}function YP(r){if(!r.hasAttribute("tabindex")||r.tabIndex===void 0)return!1;let e=r.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function XP(r){if(!YP(r))return null;let e=parseInt(r.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function ote(r){let e=r.nodeName.toLowerCase(),t=e==="input"&&r.type;return t==="text"||t==="password"||e==="select"||e==="textarea"}function ate(r){return tte(r)?!1:ete(r)||rte(r)||r.hasAttribute("contenteditable")||YP(r)}function ste(r){return r.ownerDocument&&r.ownerDocument.defaultView||window}var Ew=class{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,n,o=!1,a){this._element=e,this._checker=t,this._ngZone=i,this._document=n,this._injector=a,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){let e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){let i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){let t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children;for(let i=0;i<t.length;i++){let n=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(n)return n}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children;for(let i=t.length-1;i>=0;i--){let n=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(n)return n}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._injector?Aa(e,{injector:this._injector}):setTimeout(e)}},ZP=(()=>{class r{constructor(t,i,n){this._checker=t,this._ngZone=i,this._injector=Pe(gi),this._document=n}create(t,i=!1){return new Ew(t,this._checker,this._ngZone,this._document,i,this._injector)}static{this.\u0275fac=function(i){return new(i||r)(me(Dw),me(Je),me(St))}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function Aw(r){return r.buttons===0||r.detail===0}function Cw(r){let e=r.touches&&r.touches[0]||r.changedTouches&&r.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var cte=new Ve("cdk-input-modality-detector-options"),lte={ignoreKeys:[18,17,224,91,16]},JP=650,id=nc({passive:!0,capture:!0}),ute=(()=>{class r{get mostRecentModality(){return this._modality.value}constructor(t,i,n,o){this._platform=t,this._mostRecentTarget=null,this._modality=new vn(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(s=>s===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Io(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<JP||(this._modality.next(Aw(a)?"keyboard":"mouse"),this._mostRecentTarget=Io(a))},this._onTouchstart=a=>{if(Cw(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Io(a)},this._options=Le(Le({},lte),o),this.modalityDetected=this._modality.pipe(Xg(1)),this.modalityChanged=this.modalityDetected.pipe(wh()),t.isBrowser&&i.runOutsideAngular(()=>{n.addEventListener("keydown",this._onKeydown,id),n.addEventListener("mousedown",this._onMousedown,id),n.addEventListener("touchstart",this._onTouchstart,id)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,id),document.removeEventListener("mousedown",this._onMousedown,id),document.removeEventListener("touchstart",this._onTouchstart,id))}static{this.\u0275fac=function(i){return new(i||r)(me(ir),me(Je),me(St),me(cte,8))}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),dte=new Ve("liveAnnouncerElement",{providedIn:"root",factory:mte});function mte(){return null}var hte=new Ve("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),fte=0,eB=(()=>{class r{constructor(t,i,n,o){this._ngZone=i,this._defaultOptions=o,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...i){let n=this._defaultOptions,o,a;return i.length===1&&typeof i[0]=="number"?a=i[0]:[o,a]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=n&&n.politeness?n.politeness:"polite"),a==null&&n&&(a=n.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(s=>this._currentResolve=s)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,typeof a=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),n=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return n.classList.add(t),n.classList.add("cdk-visually-hidden"),n.setAttribute("aria-atomic","true"),n.setAttribute("aria-live","polite"),n.id=`cdk-live-announcer-${fte++}`,this._document.body.appendChild(n),n}_exposeAnnouncerToModals(t){let i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let n=0;n<i.length;n++){let o=i[n],a=o.getAttribute("aria-owns");a?a.indexOf(t)===-1&&o.setAttribute("aria-owns",a+" "+t):o.setAttribute("aria-owns",t)}}static{this.\u0275fac=function(i){return new(i||r)(me(dte,8),me(Je),me(St),me(hte,8))}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var Dv=function(r){return r[r.IMMEDIATE=0]="IMMEDIATE",r[r.EVENTUAL=1]="EVENTUAL",r}(Dv||{}),pte=new Ve("cdk-focus-monitor-default-options"),Ev=nc({passive:!0,capture:!0}),Av=(()=>{class r{constructor(t,i,n,o,a){this._ngZone=t,this._platform=i,this._inputModalityDetector=n,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Dt,this._rootNodeFocusAndBlurListener=s=>{let c=Io(s);for(let l=c;l;l=l.parentElement)s.type==="focus"?this._onFocus(s,l):this._onBlur(s,l)},this._document=o,this._detectionMode=a?.detectionMode||Dv.IMMEDIATE}monitor(t,i=!1){let n=No(t);if(!this._platform.isBrowser||n.nodeType!==1)return ut();let o=qP(n)||this._getDocument(),a=this._elementInfo.get(n);if(a)return i&&(a.checkChildren=!0),a.subject;let s={checkChildren:i,subject:new Dt,rootNode:o};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(t){let i=No(t),n=this._elementInfo.get(i);n&&(n.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(n))}focusVia(t,i,n){let o=No(t),a=this._getDocument().activeElement;o===a?this._getClosestElementsInfo(o).forEach(([s,c])=>this._originChanged(s,i,c)):(this._setOrigin(i),typeof o.focus=="function"&&o.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===Dv.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused",i==="touch"),t.classList.toggle("cdk-keyboard-focused",i==="keyboard"),t.classList.toggle("cdk-mouse-focused",i==="mouse"),t.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=t,this._originFromTouchInteraction=t==="touch"&&i,this._detectionMode===Dv.IMMEDIATE){clearTimeout(this._originTimeoutId);let n=this._originFromTouchInteraction?JP:1;this._originTimeoutId=setTimeout(()=>this._origin=null,n)}})}_onFocus(t,i){let n=this._elementInfo.get(i),o=Io(t);!n||!n.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),n)}_onBlur(t,i){let n=this._elementInfo.get(i);!n||n.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(n,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;let i=t.rootNode,n=this._rootNodeFocusListenerCount.get(i)||0;n||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Ev),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Ev)}),this._rootNodeFocusListenerCount.set(i,n+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(qr(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){let i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let n=this._rootNodeFocusListenerCount.get(i);n>1?this._rootNodeFocusListenerCount.set(i,n-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Ev),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Ev),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,n){this._setClasses(t,i),this._emitOrigin(n,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){let i=[];return this._elementInfo.forEach((n,o)=>{(o===t||n.checkChildren&&o.contains(t))&&i.push([o,n])}),i}_isLastInteractionFromInputLabel(t){let{_mostRecentTarget:i,mostRecentModality:n}=this._inputModalityDetector;if(n!=="mouse"||!i||i===t||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA"||t.disabled)return!1;let o=t.labels;if(o){for(let a=0;a<o.length;a++)if(o[a].contains(i))return!0}return!1}static{this.\u0275fac=function(i){return new(i||r)(me(Je),me(ir),me(ute),me(St,8),me(pte,8))}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var Cl=function(r){return r[r.NONE=0]="NONE",r[r.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",r[r.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",r}(Cl||{}),KP="cdk-high-contrast-black-on-white",QP="cdk-high-contrast-white-on-black",ww="cdk-high-contrast-active",tB=(()=>{class r{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=Pe(wv).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Cl.NONE;let t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);let i=this._document.defaultView||window,n=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(n&&n.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Cl.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Cl.BLACK_ON_WHITE}return Cl.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let t=this._document.body.classList;t.remove(ww,KP,QP),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===Cl.BLACK_ON_WHITE?t.add(ww,KP):i===Cl.WHITE_ON_BLACK&&t.add(ww,QP)}}static{this.\u0275fac=function(i){return new(i||r)(me(ir),me(St))}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var gte=new Ve("cdk-dir-doc",{providedIn:"root",factory:vte});function vte(){return Pe(St)}var yte=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function bte(r){let e=r?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?yte.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var ko=(()=>{class r{constructor(t){if(this.value="ltr",this.change=new Sr,t){let i=t.body?t.body.dir:null,n=t.documentElement?t.documentElement.dir:null;this.value=bte(i||n||"ltr")}}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(i){return new(i||r)(me(gte,8))}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var oc=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=ot({type:r})}static{this.\u0275inj=nt({})}}return r})();var _te=["mat-internal-form-field",""],xte=["*"];function wte(){return!0}var Ete=new Ve("mat-sanity-checks",{providedIn:"root",factory:wte}),nr=(()=>{class r{constructor(t,i,n){this._sanityChecks=i,this._document=n,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return Hh()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[t]}static{this.\u0275fac=function(i){return new(i||r)(me(tB),me(Ete,8),me(St))}}static{this.\u0275mod=ot({type:r})}static{this.\u0275inj=nt({imports:[oc,oc]})}}return r})();var Sv=class{constructor(e,t,i,n,o){this._defaultMatcher=e,this.ngControl=t,this._parentFormGroup=i,this._parentForm=n,this._stateChanges=o,this.errorState=!1}updateErrorState(){let e=this.errorState,t=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,n=this.ngControl?this.ngControl.control:null,o=i?.isErrorState(n,t)??!1;o!==e&&(this.errorState=o,this._stateChanges.next())}};var uB=(()=>{class r{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var Rw=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=ot({type:r})}static{this.\u0275inj=nt({imports:[nr,nr]})}}return r})(),Pn=function(r){return r[r.FADING_IN=0]="FADING_IN",r[r.VISIBLE=1]="VISIBLE",r[r.FADING_OUT=2]="FADING_OUT",r[r.HIDDEN=3]="HIDDEN",r}(Pn||{}),Mw=class{constructor(e,t,i,n=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=n,this.state=Pn.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},rB=nc({passive:!0,capture:!0}),Nw=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let t=Io(e);t&&this._events.get(e.type)?.forEach((i,n)=>{(n===t||n.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,n){let o=this._events.get(t);if(o){let a=o.get(i);a?a.add(n):o.set(i,new Set([n]))}else this._events.set(t,new Map([[i,new Set([n])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,rB)})}removeHandler(e,t,i){let n=this._events.get(e);if(!n)return;let o=n.get(t);o&&(o.delete(i),o.size===0&&n.delete(t),n.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,rB)))}},iB={enterDuration:225,exitDuration:150},Dte=800,nB=nc({passive:!0,capture:!0}),oB=["mousedown","touchstart"],aB=["mouseup","mouseleave","touchend","touchcancel"],kw=class r{static{this._eventManager=new Nw}constructor(e,t,i,n){this._target=e,this._ngZone=t,this._platform=n,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,n.isBrowser&&(this._containerElement=No(i))}fadeInRipple(e,t,i={}){let n=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Le(Le({},iB),i.animation);i.centered&&(e=n.left+n.width/2,t=n.top+n.height/2);let a=i.radius||Ate(e,t,n),s=e-n.left,c=t-n.top,l=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${s-a}px`,u.style.top=`${c-a}px`,u.style.height=`${a*2}px`,u.style.width=`${a*2}px`,i.color!=null&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u);let d=window.getComputedStyle(u),m=d.transitionProperty,h=d.transitionDuration,f=m==="none"||h==="0s"||h==="0s, 0s"||n.width===0&&n.height===0,p=new Mw(this,u,i,f);u.style.transform="scale3d(1, 1, 1)",p.state=Pn.FADING_IN,i.persistent||(this._mostRecentTransientRipple=p);let w=null;return!f&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let C=()=>{w&&(w.fallbackTimer=null),clearTimeout(g),this._finishRippleTransition(p)},T=()=>this._destroyRipple(p),g=setTimeout(T,l+100);u.addEventListener("transitionend",C),u.addEventListener("transitioncancel",T),w={onTransitionEnd:C,onTransitionCancel:T,fallbackTimer:g}}),this._activeRipples.set(p,w),(f||!l)&&this._finishRippleTransition(p),p}fadeOutRipple(e){if(e.state===Pn.FADING_OUT||e.state===Pn.HIDDEN)return;let t=e.element,i=Le(Le({},iB),e.config.animation);t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=Pn.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let t=No(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,oB.forEach(i=>{r._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{aB.forEach(t=>{this._triggerElement.addEventListener(t,this,nB)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Pn.FADING_IN?this._startFadeOutTransition(e):e.state===Pn.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=Pn.VISIBLE,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Pn.HIDDEN,t!==null&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel),t.fallbackTimer!==null&&clearTimeout(t.fallbackTimer)),e.element.remove()}_onMousedown(e){let t=Aw(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+Dte;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Cw(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let t=e.state===Pn.VISIBLE||e.config.terminateOnPointerUp&&e.state===Pn.FADING_IN;!e.config.persistent&&t&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(oB.forEach(t=>r._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&(aB.forEach(t=>e.removeEventListener(t,this,nB)),this._pointerUpEventsRegistered=!1))}};function Ate(r,e,t){let i=Math.max(Math.abs(r-t.left),Math.abs(r-t.right)),n=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+n*n)}var Tv=new Ve("mat-ripple-global-options"),ac=(()=>{class r{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,n,o,a){this._elementRef=t,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new kw(this,i,t,n)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Le(Le(Le({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,n){return typeof t=="number"?this._rippleRenderer.fadeInRipple(t,i,Le(Le({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Le(Le({},this.rippleConfig),t))}static{this.\u0275fac=function(i){return new(i||r)(ue(At),ue(Je),ue(ir),ue(Tv,8),ue(li,8))}}static{this.\u0275dir=yt({type:r,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,n){i&2&&$t("mat-ripple-unbounded",n.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}}return r})(),od=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=ot({type:r})}static{this.\u0275inj=nt({imports:[nr,nr]})}}return r})();var sB={capture:!0},cB=["focus","mousedown","mouseenter","touchstart"],Tw="mat-ripple-loader-uninitialized",Iw="mat-ripple-loader-class-name",lB="mat-ripple-loader-centered",Cv="mat-ripple-loader-disabled",dB=(()=>{class r{constructor(){this._document=Pe(St,{optional:!0}),this._animationMode=Pe(li,{optional:!0}),this._globalRippleOptions=Pe(Tv,{optional:!0}),this._platform=Pe(ir),this._ngZone=Pe(Je),this._hosts=new Map,this._onInteraction=t=>{let i=Io(t);if(i instanceof HTMLElement){let n=i.closest(`[${Tw}="${this._globalRippleOptions?.namespace??""}"]`);n&&this._createRipple(n)}},this._ngZone.runOutsideAngular(()=>{for(let t of cB)this._document?.addEventListener(t,this._onInteraction,sB)})}ngOnDestroy(){let t=this._hosts.keys();for(let i of t)this.destroyRipple(i);for(let i of cB)this._document?.removeEventListener(i,this._onInteraction,sB)}configureRipple(t,i){t.setAttribute(Tw,this._globalRippleOptions?.namespace??""),(i.className||!t.hasAttribute(Iw))&&t.setAttribute(Iw,i.className||""),i.centered&&t.setAttribute(lB,""),i.disabled&&t.setAttribute(Cv,"")}getRipple(t){return this._hosts.get(t)||this._createRipple(t)}setDisabled(t,i){let n=this._hosts.get(t);if(n){n.disabled=i;return}i?t.setAttribute(Cv,""):t.removeAttribute(Cv)}_createRipple(t){if(!this._document)return;let i=this._hosts.get(t);if(i)return i;t.querySelector(".mat-ripple")?.remove();let n=this._document.createElement("span");n.classList.add("mat-ripple",t.getAttribute(Iw)),t.append(n);let o=new ac(new At(n),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=t,o.centered=t.hasAttribute(lB),o.disabled=t.hasAttribute(Cv),this.attachRipple(t,o),o}attachRipple(t,i){t.removeAttribute(Tw),this._hosts.set(t,i)}destroyRipple(t){let i=this._hosts.get(t);i&&(i.ngOnDestroy(),this._hosts.delete(t))}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),mB=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275cmp=dt({type:r,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(i,n){i&2&&$t("mdc-form-field--align-end",n.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[Yt],attrs:_te,ngContentSelectors:xte,decls:1,vars:0,template:function(i,n){i&1&&(vr(),Tt(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}}return r})();var hB=["mat-button",""],fB=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],pB=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Ste='.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',gB=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}";var Tte=["mat-icon-button",""],Ite=["*"];var Mte=new Ve("MAT_BUTTON_CONFIG");var Nte=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Fw=(()=>{class r{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}constructor(t,i,n,o){this._elementRef=t,this._platform=i,this._ngZone=n,this._animationMode=o,this._focusMonitor=Pe(Av),this._rippleLoader=Pe(dB),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let a=Pe(Mte,{optional:!0}),s=t.nativeElement,c=s.classList;this.disabledInteractive=a?.disabledInteractive??!1,this.color=a?.color??null,this._rippleLoader?.configureRipple(s,{className:"mat-mdc-button-ripple"});for(let{attribute:l,mdcClasses:u}of Nte)s.hasAttribute(l)&&c.add(...u)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static{this.\u0275fac=function(i){gl()}}static{this.\u0275dir=yt({type:r,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Tr],disabled:[2,"disabled","disabled",Tr],ariaDisabled:[2,"aria-disabled","ariaDisabled",Tr],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Tr]},features:[qi]})}}return r})();var kte=(()=>{class r extends Fw{constructor(t,i,n,o){super(t,i,n,o),this._haltDisabledEvents=a=>{this.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled||null}static{this.\u0275fac=function(i){gl()}}static{this.\u0275dir=yt({type:r,inputs:{tabIndex:[2,"tabIndex","tabIndex",t=>t==null?void 0:lo(t)]},features:[qi,wr]})}}return r})(),Wn=(()=>{class r extends Fw{constructor(t,i,n,o){super(t,i,n,o)}static{this.\u0275fac=function(i){return new(i||r)(ue(At),ue(ir),ue(Je),ue(li,8))}}static{this.\u0275cmp=dt({type:r,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(i,n){i&2&&(lr("disabled",n._getDisabledAttribute())("aria-disabled",n._getAriaDisabled()),jn(n.color?"mat-"+n.color:""),$t("mat-mdc-button-disabled",n.disabled)("mat-mdc-button-disabled-interactive",n.disabledInteractive)("_mat-animation-noopable",n._animationMode==="NoopAnimations")("mat-unthemed",!n.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[wr,Yt],attrs:hB,ngContentSelectors:pB,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,n){i&1&&(vr(fB),Ct(0,"span",0),Tt(1),oe(2,"span",1),Tt(3,1),ne(),Tt(4,2),Ct(5,"span",2)(6,"span",3)),i&2&&$t("mdc-button__ripple",!n._isFab)("mdc-fab__ripple",n._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return r})(),vB=(()=>{class r extends kte{constructor(t,i,n,o){super(t,i,n,o)}static{this.\u0275fac=function(i){return new(i||r)(ue(At),ue(ir),ue(Je),ue(li,8))}}static{this.\u0275cmp=dt({type:r,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(i,n){i&2&&(lr("disabled",n._getDisabledAttribute())("tabindex",n.disabled&&!n.disabledInteractive?-1:n.tabIndex)("aria-disabled",n._getAriaDisabled()),jn(n.color?"mat-"+n.color:""),$t("mat-mdc-button-disabled",n.disabled)("mat-mdc-button-disabled-interactive",n.disabledInteractive)("_mat-animation-noopable",n._animationMode==="NoopAnimations")("mat-unthemed",!n.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],standalone:!0,features:[wr,Yt],attrs:hB,ngContentSelectors:pB,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,n){i&1&&(vr(fB),Ct(0,"span",0),Tt(1),oe(2,"span",1),Tt(3,1),ne(),Tt(4,2),Ct(5,"span",2)(6,"span",3)),i&2&&$t("mdc-button__ripple",!n._isFab)("mdc-fab__ripple",n._isFab)},styles:[Ste,gB],encapsulation:2,changeDetection:0})}}return r})();var yB=(()=>{class r extends Fw{constructor(t,i,n,o){super(t,i,n,o),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static{this.\u0275fac=function(i){return new(i||r)(ue(At),ue(ir),ue(Je),ue(li,8))}}static{this.\u0275cmp=dt({type:r,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(i,n){i&2&&(lr("disabled",n._getDisabledAttribute())("aria-disabled",n._getAriaDisabled()),jn(n.color?"mat-"+n.color:""),$t("mat-mdc-button-disabled",n.disabled)("mat-mdc-button-disabled-interactive",n.disabledInteractive)("_mat-animation-noopable",n._animationMode==="NoopAnimations")("mat-unthemed",!n.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[wr,Yt],attrs:Tte,ngContentSelectors:Ite,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,n){i&1&&(vr(),Ct(0,"span",0),Tt(1),Ct(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color, var(--mat-app-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',gB],encapsulation:2,changeDetection:0})}}return r})();var Iv=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=ot({type:r})}static{this.\u0275inj=nt({imports:[nr,od,nr]})}}return r})();var er="primary",af=Symbol("RouteTitle"),Vw=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function dd(r){return new Vw(r)}function Rte(r,e,t){let i=t.path.split("/");if(i.length>r.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<r.length))return null;let n={};for(let o=0;o<i.length;o++){let a=i[o],s=r[o];if(a[0]===":")n[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:r.slice(0,i.length),posParams:n}}function Fte(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;++t)if(!Sa(r[t],e[t]))return!1;return!0}function Sa(r,e){let t=r?zw(r):void 0,i=e?zw(e):void 0;if(!t||!i||t.length!=i.length)return!1;let n;for(let o=0;o<t.length;o++)if(n=t[o],!IB(r[n],e[n]))return!1;return!0}function zw(r){return[...Object.keys(r),...Object.getOwnPropertySymbols(r)]}function IB(r,e){if(Array.isArray(r)&&Array.isArray(e)){if(r.length!==e.length)return!1;let t=[...r].sort(),i=[...e].sort();return t.every((n,o)=>i[o]===n)}else return r===e}function MB(r){return r.length>0?r[r.length-1]:null}function cc(r){return Hg(r)?r:ov(r)?Zr(Promise.resolve(r)):ut(r)}var Ote={exact:kB,subset:RB},NB={exact:Pte,subset:Bte,ignored:()=>!0};function bB(r,e,t){return Ote[t.paths](r.root,e.root,t.matrixParams)&&NB[t.queryParams](r.queryParams,e.queryParams)&&!(t.fragment==="exact"&&r.fragment!==e.fragment)}function Pte(r,e){return Sa(r,e)}function kB(r,e,t){if(!Il(r.segments,e.segments)||!kv(r.segments,e.segments,t)||r.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!r.children[i]||!kB(r.children[i],e.children[i],t))return!1;return!0}function Bte(r,e){return Object.keys(e).length<=Object.keys(r).length&&Object.keys(e).every(t=>IB(r[t],e[t]))}function RB(r,e,t){return FB(r,e,e.segments,t)}function FB(r,e,t,i){if(r.segments.length>t.length){let n=r.segments.slice(0,t.length);return!(!Il(n,t)||e.hasChildren()||!kv(n,t,i))}else if(r.segments.length===t.length){if(!Il(r.segments,t)||!kv(r.segments,t,i))return!1;for(let n in e.children)if(!r.children[n]||!RB(r.children[n],e.children[n],i))return!1;return!0}else{let n=t.slice(0,r.segments.length),o=t.slice(r.segments.length);return!Il(r.segments,n)||!kv(r.segments,n,i)||!r.children[er]?!1:FB(r.children[er],e,o,i)}}function kv(r,e,t){return e.every((i,n)=>NB[t](r[n].parameters,i.parameters))}var ls=class{constructor(e=new Rr([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=dd(this.queryParams),this._queryParamMap}toString(){return zte.serialize(this)}},Rr=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Rv(this)}},Tl=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=dd(this.parameters),this._parameterMap}toString(){return PB(this)}};function Lte(r,e){return Il(r,e)&&r.every((t,i)=>Sa(t.parameters,e[i].parameters))}function Il(r,e){return r.length!==e.length?!1:r.every((t,i)=>t.path===e[i].path)}function Vte(r,e){let t=[];return Object.entries(r.children).forEach(([i,n])=>{i===er&&(t=t.concat(e(n,i)))}),Object.entries(r.children).forEach(([i,n])=>{i!==er&&(t=t.concat(e(n,i)))}),t}var sf=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=qe({token:r,factory:()=>new md,providedIn:"root"})}}return r})(),md=class{parse(e){let t=new qw(e);return new ls(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Gh(e.root,!0)}`,i=jte(e.queryParams),n=typeof e.fragment=="string"?`#${Ute(e.fragment)}`:"";return`${t}${i}${n}`}},zte=new md;function Rv(r){return r.segments.map(e=>PB(e)).join("/")}function Gh(r,e){if(!r.hasChildren())return Rv(r);if(e){let t=r.children[er]?Gh(r.children[er],!1):"",i=[];return Object.entries(r.children).forEach(([n,o])=>{n!==er&&i.push(`${n}:${Gh(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=Vte(r,(i,n)=>n===er?[Gh(r.children[er],!1)]:[`${n}:${Gh(i,!1)}`]);return Object.keys(r.children).length===1&&r.children[er]!=null?`${Rv(r)}/${t[0]}`:`${Rv(r)}/(${t.join("//")})`}}function OB(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mv(r){return OB(r).replace(/%3B/gi,";")}function Ute(r){return encodeURI(r)}function Uw(r){return OB(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fv(r){return decodeURIComponent(r)}function _B(r){return Fv(r.replace(/\+/g,"%20"))}function PB(r){return`${Uw(r.path)}${qte(r.parameters)}`}function qte(r){return Object.entries(r).map(([e,t])=>`;${Uw(e)}=${Uw(t)}`).join("")}function jte(r){let e=Object.entries(r).map(([t,i])=>Array.isArray(i)?i.map(n=>`${Mv(t)}=${Mv(n)}`).join("&"):`${Mv(t)}=${Mv(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var $te=/^[^\/()?;#]+/;function Ow(r){let e=r.match($te);return e?e[0]:""}var Hte=/^[^\/()?;=#]+/;function Gte(r){let e=r.match(Hte);return e?e[0]:""}var Wte=/^[^=?&#]+/;function Xte(r){let e=r.match(Wte);return e?e[0]:""}var Kte=/^[^&#]+/;function Qte(r){let e=r.match(Kte);return e?e[0]:""}var qw=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Rr([],{}):new Rr([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[er]=new Rr(e,t)),i}parseSegment(){let e=Ow(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Nr(4009,!1);return this.capture(e),new Tl(Fv(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=Gte(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let n=Ow(this.remaining);n&&(i=n,this.capture(i))}e[Fv(t)]=Fv(i)}parseQueryParam(e){let t=Xte(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let a=Qte(this.remaining);a&&(i=a,this.capture(i))}let n=_B(t),o=_B(i);if(e.hasOwnProperty(n)){let a=e[n];Array.isArray(a)||(a=[a],e[n]=a),a.push(o)}else e[n]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Ow(this.remaining),n=this.remaining[i.length];if(n!=="/"&&n!==")"&&n!==";")throw new Nr(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=er);let a=this.parseChildren();t[o]=Object.keys(a).length===1?a[er]:new Rr([],a),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Nr(4011,!1)}};function BB(r){return r.segments.length>0?new Rr([],{[er]:r}):r}function LB(r){let e={};for(let[i,n]of Object.entries(r.children)){let o=LB(n);if(i===er&&o.segments.length===0&&o.hasChildren())for(let[a,s]of Object.entries(o.children))e[a]=s;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let t=new Rr(r.segments,e);return Yte(t)}function Yte(r){if(r.numberOfChildren===1&&r.children[er]){let e=r.children[er];return new Rr(r.segments.concat(e.segments),e.children)}return r}function Ml(r){return r instanceof ls}function Zte(r,e,t=null,i=null){let n=VB(r);return zB(n,e,t,i)}function VB(r){let e;function t(o){let a={};for(let c of o.children){let l=t(c);a[c.outlet]=l}let s=new Rr(o.url,a);return o===r&&(e=s),s}let i=t(r.root),n=BB(i);return e??n}function zB(r,e,t,i){let n=r;for(;n.parent;)n=n.parent;if(e.length===0)return Pw(n,n,n,t,i);let o=Jte(e);if(o.toRoot())return Pw(n,n,new Rr([],{}),t,i);let a=ere(o,n,r),s=a.processChildren?Kh(a.segmentGroup,a.index,o.commands):qB(a.segmentGroup,a.index,o.commands);return Pw(n,a.segmentGroup,s,t,i)}function Ov(r){return typeof r=="object"&&r!=null&&!r.outlets&&!r.segmentPath}function Zh(r){return typeof r=="object"&&r!=null&&r.outlets}function Pw(r,e,t,i,n){let o={};i&&Object.entries(i).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let a;r===e?a=t:a=UB(r,e,t);let s=BB(LB(a));return new ls(s,o,n)}function UB(r,e,t){let i={};return Object.entries(r.children).forEach(([n,o])=>{o===e?i[n]=t:i[n]=UB(o,e,t)}),new Rr(r.segments,i)}var Pv=class{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Ov(i[0]))throw new Nr(4003,!1);let n=i.find(Zh);if(n&&n!==MB(i))throw new Nr(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Jte(r){if(typeof r[0]=="string"&&r.length===1&&r[0]==="/")return new Pv(!0,0,r);let e=0,t=!1,i=r.reduce((n,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let s={};return Object.entries(o.outlets).forEach(([c,l])=>{s[c]=typeof l=="string"?l.split("/"):l}),[...n,{outlets:s}]}if(o.segmentPath)return[...n,o.segmentPath]}return typeof o!="string"?[...n,o]:a===0?(o.split("/").forEach((s,c)=>{c==0&&s==="."||(c==0&&s===""?t=!0:s===".."?e++:s!=""&&n.push(s))}),n):[...n,o]},[]);return new Pv(t,e,i)}var cd=class{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function ere(r,e,t){if(r.isAbsolute)return new cd(e,!0,0);if(!t)return new cd(e,!1,NaN);if(t.parent===null)return new cd(t,!0,0);let i=Ov(r.commands[0])?0:1,n=t.segments.length-1+i;return tre(t,n,r.numberOfDoubleDots)}function tre(r,e,t){let i=r,n=e,o=t;for(;o>n;){if(o-=n,i=i.parent,!i)throw new Nr(4005,!1);n=i.segments.length}return new cd(i,!1,n-o)}function rre(r){return Zh(r[0])?r[0].outlets:{[er]:r}}function qB(r,e,t){if(r??=new Rr([],{}),r.segments.length===0&&r.hasChildren())return Kh(r,e,t);let i=ire(r,e,t),n=t.slice(i.commandIndex);if(i.match&&i.pathIndex<r.segments.length){let o=new Rr(r.segments.slice(0,i.pathIndex),{});return o.children[er]=new Rr(r.segments.slice(i.pathIndex),r.children),Kh(o,0,n)}else return i.match&&n.length===0?new Rr(r.segments,{}):i.match&&!r.hasChildren()?jw(r,e,t):i.match?Kh(r,0,n):jw(r,e,t)}function Kh(r,e,t){if(t.length===0)return new Rr(r.segments,{});{let i=rre(t),n={};if(Object.keys(i).some(o=>o!==er)&&r.children[er]&&r.numberOfChildren===1&&r.children[er].segments.length===0){let o=Kh(r.children[er],e,t);return new Rr(r.segments,o.children)}return Object.entries(i).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(n[o]=qB(r.children[o],e,a))}),Object.entries(r.children).forEach(([o,a])=>{i[o]===void 0&&(n[o]=a)}),new Rr(r.segments,n)}}function ire(r,e,t){let i=0,n=e,o={match:!1,pathIndex:0,commandIndex:0};for(;n<r.segments.length;){if(i>=t.length)return o;let a=r.segments[n],s=t[i];if(Zh(s))break;let c=`${s}`,l=i<t.length-1?t[i+1]:null;if(n>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!wB(c,l,a))return o;i+=2}else{if(!wB(c,{},a))return o;i++}n++}return{match:!0,pathIndex:n,commandIndex:i}}function jw(r,e,t){let i=r.segments.slice(0,e),n=0;for(;n<t.length;){let o=t[n];if(Zh(o)){let c=nre(o.outlets);return new Rr(i,c)}if(n===0&&Ov(t[0])){let c=r.segments[e];i.push(new Tl(c.path,xB(t[0]))),n++;continue}let a=Zh(o)?o.outlets[er]:`${o}`,s=n<t.length-1?t[n+1]:null;a&&s&&Ov(s)?(i.push(new Tl(a,xB(s))),n+=2):(i.push(new Tl(a,{})),n++)}return new Rr(i,{})}function nre(r){let e={};return Object.entries(r).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=jw(new Rr([],{}),0,i))}),e}function xB(r){let e={};return Object.entries(r).forEach(([t,i])=>e[t]=`${i}`),e}function wB(r,e,t){return r==t.path&&Sa(e,t.parameters)}var Qh="imperative",Xi=function(r){return r[r.NavigationStart=0]="NavigationStart",r[r.NavigationEnd=1]="NavigationEnd",r[r.NavigationCancel=2]="NavigationCancel",r[r.NavigationError=3]="NavigationError",r[r.RoutesRecognized=4]="RoutesRecognized",r[r.ResolveStart=5]="ResolveStart",r[r.ResolveEnd=6]="ResolveEnd",r[r.GuardsCheckStart=7]="GuardsCheckStart",r[r.GuardsCheckEnd=8]="GuardsCheckEnd",r[r.RouteConfigLoadStart=9]="RouteConfigLoadStart",r[r.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",r[r.ChildActivationStart=11]="ChildActivationStart",r[r.ChildActivationEnd=12]="ChildActivationEnd",r[r.ActivationStart=13]="ActivationStart",r[r.ActivationEnd=14]="ActivationEnd",r[r.Scroll=15]="Scroll",r[r.NavigationSkipped=16]="NavigationSkipped",r}(Xi||{}),Ro=class{constructor(e,t){this.id=e,this.url=t}},hd=class extends Ro{constructor(e,t,i="imperative",n=null){super(e,t),this.type=Xi.NavigationStart,this.navigationTrigger=i,this.restoredState=n}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ta=class extends Ro{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=Xi.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},mo=function(r){return r[r.Redirect=0]="Redirect",r[r.SupersededByNewNavigation=1]="SupersededByNewNavigation",r[r.NoDataFromResolver=2]="NoDataFromResolver",r[r.GuardRejected=3]="GuardRejected",r}(mo||{}),Bv=function(r){return r[r.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",r[r.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",r}(Bv||{}),cs=class extends Ro{constructor(e,t,i,n){super(e,t),this.reason=i,this.code=n,this.type=Xi.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},sc=class extends Ro{constructor(e,t,i,n){super(e,t),this.reason=i,this.code=n,this.type=Xi.NavigationSkipped}},Jh=class extends Ro{constructor(e,t,i,n){super(e,t),this.error=i,this.target=n,this.type=Xi.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Lv=class extends Ro{constructor(e,t,i,n){super(e,t),this.urlAfterRedirects=i,this.state=n,this.type=Xi.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$w=class extends Ro{constructor(e,t,i,n){super(e,t),this.urlAfterRedirects=i,this.state=n,this.type=Xi.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hw=class extends Ro{constructor(e,t,i,n,o){super(e,t),this.urlAfterRedirects=i,this.state=n,this.shouldActivate=o,this.type=Xi.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Gw=class extends Ro{constructor(e,t,i,n){super(e,t),this.urlAfterRedirects=i,this.state=n,this.type=Xi.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ww=class extends Ro{constructor(e,t,i,n){super(e,t),this.urlAfterRedirects=i,this.state=n,this.type=Xi.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xw=class{constructor(e){this.route=e,this.type=Xi.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Kw=class{constructor(e){this.route=e,this.type=Xi.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Qw=class{constructor(e){this.snapshot=e,this.type=Xi.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yw=class{constructor(e){this.snapshot=e,this.type=Xi.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zw=class{constructor(e){this.snapshot=e,this.type=Xi.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jw=class{constructor(e){this.snapshot=e,this.type=Xi.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vv=class{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=Xi.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ef=class{},fd=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function ore(r,e){return r.providers&&!r._injector&&(r._injector=Xx(r.providers,e,`Route: ${r.path}`)),r._injector??e}function ra(r){return r.outlet||er}function are(r,e){let t=r.filter(i=>ra(i)===e);return t.push(...r.filter(i=>ra(i)!==e)),t}function cf(r){if(!r)return null;if(r.routeConfig?._injector)return r.routeConfig._injector;for(let e=r.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var e1=class{get injector(){return cf(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new lf(this.rootInjector),this.attachRef=null}},lf=(()=>{class r{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,i){let n=this.getOrCreateContext(t);n.outlet=i,this.contexts.set(t,n)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new e1(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(i){return new(i||r)(me(is))}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),zv=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=t1(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=t1(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=r1(e,this._root);return t.length<2?[]:t[t.length-2].children.map(n=>n.value).filter(n=>n!==e)}pathFromRoot(e){return r1(e,this._root).map(t=>t.value)}};function t1(r,e){if(r===e.value)return e;for(let t of e.children){let i=t1(r,t);if(i)return i}return null}function r1(r,e){if(r===e.value)return[e];for(let t of e.children){let i=r1(r,t);if(i.length)return i.unshift(e),i}return[]}var uo=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function sd(r){let e={};return r&&r.children.forEach(t=>e[t.value.outlet]=t),e}var Uv=class extends zv{constructor(e,t){super(e),this.snapshot=t,d1(this,e)}toString(){return this.snapshot.toString()}};function jB(r){let e=sre(r),t=new vn([new Tl("",{})]),i=new vn({}),n=new vn({}),o=new vn({}),a=new vn(""),s=new Nl(t,i,o,a,n,er,r,e.root);return s.snapshot=e.root,new Uv(new uo(s,[]),e)}function sre(r){let e={},t={},i={},n="",o=new ld([],e,i,n,t,er,r,null,{});return new jv("",new uo(o,[]))}var Nl=class{constructor(e,t,i,n,o,a,s,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=n,this.dataSubject=o,this.outlet=a,this.component=s,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ct(l=>l[af]))??ut(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=n,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ct(e=>dd(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ct(e=>dd(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function qv(r,e,t="emptyOnly"){let i,{routeConfig:n}=r;return e!==null&&(t==="always"||n?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:Le(Le({},e.params),r.params),data:Le(Le({},e.data),r.data),resolve:Le(Le(Le(Le({},r.data),e.data),n?.data),r._resolvedData)}:i={params:Le({},r.params),data:Le({},r.data),resolve:Le(Le({},r.data),r._resolvedData??{})},n&&HB(n)&&(i.resolve[af]=n.title),i}var ld=class{get title(){return this.data?.[af]}constructor(e,t,i,n,o,a,s,c,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=n,this.data=o,this.outlet=a,this.component=s,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=dd(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=dd(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},jv=class extends zv{constructor(e,t){super(t),this.url=e,d1(this,t)}toString(){return $B(this._root)}};function d1(r,e){e.value._routerState=r,e.children.forEach(t=>d1(r,t))}function $B(r){let e=r.children.length>0?` { ${r.children.map($B).join(", ")} } `:"";return`${r.value}${e}`}function Bw(r){if(r.snapshot){let e=r.snapshot,t=r._futureSnapshot;r.snapshot=t,Sa(e.queryParams,t.queryParams)||r.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&r.fragmentSubject.next(t.fragment),Sa(e.params,t.params)||r.paramsSubject.next(t.params),Fte(e.url,t.url)||r.urlSubject.next(t.url),Sa(e.data,t.data)||r.dataSubject.next(t.data)}else r.snapshot=r._futureSnapshot,r.dataSubject.next(r._futureSnapshot.data)}function i1(r,e){let t=Sa(r.params,e.params)&&Lte(r.url,e.url),i=!r.parent!=!e.parent;return t&&!i&&(!r.parent||i1(r.parent,e.parent))}function HB(r){return typeof r.title=="string"||r.title===null}var m1=(()=>{class r{constructor(){this.activated=null,this._activatedRoute=null,this.name=er,this.activateEvents=new Sr,this.deactivateEvents=new Sr,this.attachEvents=new Sr,this.detachEvents=new Sr,this.parentContexts=Pe(lf),this.location=Pe(yl),this.changeDetector=Pe(Hr),this.inputBinder=Pe(Xv,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:n}=t.name;if(i)return;this.isTrackedInParentContexts(n)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(n)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Nr(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Nr(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Nr(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Nr(4013,!1);this._activatedRoute=t;let n=this.location,a=t.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,c=new n1(t,s,n.injector);this.activated=n.createComponent(a,{index:n.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275dir=yt({type:r,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[yn]})}}return r})(),n1=class r{__ngOutletInjector(e){return new r(this.route,this.childContexts,e)}constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Nl?this.route:e===lf?this.childContexts:this.parent.get(e,t)}},Xv=new Ve(""),EB=(()=>{class r{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:i}=t,n=qu([i.queryParams,i.params,i.data]).pipe(wi(([o,a,s],c)=>(s=Le(Le(Le({},o),a),s),c===0?ut(s):Promise.resolve(s)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(t);return}let a=KO(i.component);if(!a){this.unsubscribeFromRouteData(t);return}for(let{templateName:s}of a.inputs)t.activatedComponentRef.setInput(s,o[s])});this.outletDataSubscriptions.set(t,n)}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac})}}return r})();function cre(r,e,t){let i=tf(r,e._root,t?t._root:void 0);return new Uv(i,e)}function tf(r,e,t){if(t&&r.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let n=lre(r,e,t);return new uo(i,n)}else{if(r.shouldAttach(e.value)){let o=r.retrieve(e.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(s=>tf(r,s)),a}}let i=ure(e.value),n=e.children.map(o=>tf(r,o));return new uo(i,n)}}function lre(r,e,t){return e.children.map(i=>{for(let n of t.children)if(r.shouldReuseRoute(i.value,n.value.snapshot))return tf(r,i,n);return tf(r,i)})}function ure(r){return new Nl(new vn(r.url),new vn(r.params),new vn(r.queryParams),new vn(r.fragment),new vn(r.data),r.outlet,r.component,r)}var rf=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},GB="ngNavigationCancelingError";function $v(r,e){let{redirectTo:t,navigationBehaviorOptions:i}=Ml(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,n=WB(!1,mo.Redirect);return n.url=t,n.navigationBehaviorOptions=i,n}function WB(r,e){let t=new Error(`NavigationCancelingError: ${r||""}`);return t[GB]=!0,t.cancellationCode=e,t}function dre(r){return XB(r)&&Ml(r.url)}function XB(r){return!!r&&r[GB]}var mre=(r,e,t,i)=>ct(n=>(new o1(e,n.targetRouterState,n.currentRouterState,t,i).activate(r),n)),o1=class{constructor(e,t,i,n,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=n,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Bw(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let n=sd(t);e.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,n[a],i),delete n[a]}),Object.values(n).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){let n=e.value,o=t?t.value:null;if(n===o)if(n.component){let a=i.getContext(n.outlet);a&&this.deactivateChildRoutes(e,t,a.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),n=i&&e.value.component?i.children:t,o=sd(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,n);if(i&&i.outlet){let a=i.outlet.detach(),s=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:s})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),n=i&&e.value.component?i.children:t,o=sd(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,n);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let n=sd(t);e.children.forEach(o=>{this.activateRoutes(o,n[o.value.outlet],i),this.forwardEvent(new Jw(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Yw(e.value.snapshot))}activateRoutes(e,t,i){let n=e.value,o=t?t.value:null;if(Bw(n),n===o)if(n.component){let a=i.getOrCreateContext(n.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,i);else if(n.component){let a=i.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){let s=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),Bw(s.route.value),this.activateChildRoutes(e,null,a.children)}else a.attachRef=null,a.route=n,a.outlet&&a.outlet.activateWith(n,a.injector),this.activateChildRoutes(e,null,a.children)}else this.activateChildRoutes(e,null,i)}},Hv=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ud=class{constructor(e,t){this.component=e,this.route=t}};function hre(r,e,t){let i=r._root,n=e?e._root:null;return Wh(i,n,t,[i.value])}function fre(r){let e=r.routeConfig?r.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:r,guards:e}}function gd(r,e){let t=Symbol(),i=e.get(r,t);return i===t?typeof r=="function"&&!xO(r)?r:e.get(r):i}function Wh(r,e,t,i,n={canDeactivateChecks:[],canActivateChecks:[]}){let o=sd(e);return r.children.forEach(a=>{pre(a,o[a.value.outlet],t,i.concat([a.value]),n),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,s])=>Yh(s,t.getContext(a),n)),n}function pre(r,e,t,i,n={canDeactivateChecks:[],canActivateChecks:[]}){let o=r.value,a=e?e.value:null,s=t?t.getContext(r.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let c=gre(a,o,o.routeConfig.runGuardsAndResolvers);c?n.canActivateChecks.push(new Hv(i)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?Wh(r,e,s?s.children:null,i,n):Wh(r,e,t,i,n),c&&s&&s.outlet&&s.outlet.isActivated&&n.canDeactivateChecks.push(new ud(s.outlet.component,a))}else a&&Yh(e,s,n),n.canActivateChecks.push(new Hv(i)),o.component?Wh(r,null,s?s.children:null,i,n):Wh(r,null,t,i,n);return n}function gre(r,e,t){if(typeof t=="function")return t(r,e);switch(t){case"pathParamsChange":return!Il(r.url,e.url);case"pathParamsOrQueryParamsChange":return!Il(r.url,e.url)||!Sa(r.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!i1(r,e)||!Sa(r.queryParams,e.queryParams);case"paramsChange":default:return!i1(r,e)}}function Yh(r,e,t){let i=sd(r),n=r.value;Object.entries(i).forEach(([o,a])=>{n.component?e?Yh(a,e.children.getContext(o),t):Yh(a,null,t):Yh(a,e,t)}),n.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new ud(e.outlet.component,n)):t.canDeactivateChecks.push(new ud(null,n)):t.canDeactivateChecks.push(new ud(null,n))}function uf(r){return typeof r=="function"}function vre(r){return typeof r=="boolean"}function yre(r){return r&&uf(r.canLoad)}function bre(r){return r&&uf(r.canActivate)}function _re(r){return r&&uf(r.canActivateChild)}function xre(r){return r&&uf(r.canDeactivate)}function wre(r){return r&&uf(r.canMatch)}function KB(r){return r instanceof yO||r?.name==="EmptyError"}var Nv=Symbol("INITIAL_VALUE");function pd(){return wi(r=>qu(r.map(e=>e.pipe(ao(1),Do(Nv)))).pipe(ct(e=>{for(let t of e)if(t!==!0){if(t===Nv)return Nv;if(t===!1||Ere(t))return t}return!0}),Ur(e=>e!==Nv),ao(1)))}function Ere(r){return Ml(r)||r instanceof rf}function Dre(r,e){return oo(t=>{let{targetSnapshot:i,currentSnapshot:n,guards:{canActivateChecks:o,canDeactivateChecks:a}}=t;return a.length===0&&o.length===0?ut(Cr(Le({},t),{guardsResult:!0})):Are(a,i,n,r).pipe(oo(s=>s&&vre(s)?Cre(i,o,r,e):ut(s)),ct(s=>Cr(Le({},t),{guardsResult:s})))})}function Are(r,e,t,i){return Zr(r).pipe(oo(n=>Nre(n.component,n.route,t,e,i)),Da(n=>n!==!0,!0))}function Cre(r,e,t,i){return Zr(e).pipe(Hs(n=>Gg(Tre(n.route.parent,i),Sre(n.route,i),Mre(r,n.path,t),Ire(r,n.route,t))),Da(n=>n!==!0,!0))}function Sre(r,e){return r!==null&&e&&e(new Zw(r)),ut(!0)}function Tre(r,e){return r!==null&&e&&e(new Qw(r)),ut(!0)}function Ire(r,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return ut(!0);let n=i.map(o=>zx(()=>{let a=cf(e)??t,s=gd(o,a),c=bre(s)?s.canActivate(e,r):Ao(a,()=>s(e,r));return cc(c).pipe(Da())}));return ut(n).pipe(pd())}function Mre(r,e,t){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(a=>fre(a)).filter(a=>a!==null).map(a=>zx(()=>{let s=a.guards.map(c=>{let l=cf(a.node)??t,u=gd(c,l),d=_re(u)?u.canActivateChild(i,r):Ao(l,()=>u(i,r));return cc(d).pipe(Da())});return ut(s).pipe(pd())}));return ut(o).pipe(pd())}function Nre(r,e,t,i,n){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ut(!0);let a=o.map(s=>{let c=cf(e)??n,l=gd(s,c),u=xre(l)?l.canDeactivate(r,e,t,i):Ao(c,()=>l(r,e,t,i));return cc(u).pipe(Da())});return ut(a).pipe(pd())}function kre(r,e,t,i){let n=e.canLoad;if(n===void 0||n.length===0)return ut(!0);let o=n.map(a=>{let s=gd(a,r),c=yre(s)?s.canLoad(e,t):Ao(r,()=>s(e,t));return cc(c)});return ut(o).pipe(pd(),QB(i))}function QB(r){return gO(ri(e=>{if(typeof e!="boolean")throw $v(r,e)}),ct(e=>e===!0))}function Rre(r,e,t,i){let n=e.canMatch;if(!n||n.length===0)return ut(!0);let o=n.map(a=>{let s=gd(a,r),c=wre(s)?s.canMatch(e,t):Ao(r,()=>s(e,t));return cc(c)});return ut(o).pipe(pd(),QB(i))}var nf=class{constructor(e){this.segmentGroup=e||null}},of=class extends Error{constructor(e){super(),this.urlTree=e}};function ad(r){return fl(new nf(r))}function Fre(r){return fl(new Nr(4e3,!1))}function Ore(r){return fl(WB(!1,mo.GuardRejected))}var a1=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],n=t.root;for(;;){if(i=i.concat(n.segments),n.numberOfChildren===0)return ut(i);if(n.numberOfChildren>1||!n.children[er])return Fre(`${e.redirectTo}`);n=n.children[er]}}applyRedirectCommands(e,t,i,n,o){if(typeof t!="string"){let s=t,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:m,params:h,data:f,title:p}=n,w=Ao(o,()=>s({params:h,data:f,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:m,title:p}));if(w instanceof ls)throw new of(w);t=w}let a=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t[0]==="/")throw new of(a);return a}applyRedirectCreateUrlTree(e,t,i,n){let o=this.createSegmentGroup(e,t.root,i,n);return new ls(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([n,o])=>{if(typeof o=="string"&&o[0]===":"){let s=o.substring(1);i[n]=t[s]}else i[n]=o}),i}createSegmentGroup(e,t,i,n){let o=this.createSegments(e,t.segments,i,n),a={};return Object.entries(t.children).forEach(([s,c])=>{a[s]=this.createSegmentGroup(e,c,i,n)}),new Rr(o,a)}createSegments(e,t,i,n){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,n):this.findOrReturn(o,i))}findPosParam(e,t,i){let n=i[t.path.substring(1)];if(!n)throw new Nr(4001,!1);return n}findOrReturn(e,t){let i=0;for(let n of t){if(n.path===e.path)return t.splice(i),n;i++}return e}},s1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Pre(r,e,t,i,n){let o=YB(r,e,t);return o.matched?(i=ore(e,i),Rre(i,e,t,n).pipe(ct(a=>a===!0?o:Le({},s1)))):ut(o)}function YB(r,e,t){if(e.path==="**")return Bre(t);if(e.path==="")return e.pathMatch==="full"&&(r.hasChildren()||t.length>0)?Le({},s1):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let n=(e.matcher||Rte)(t,r,e);if(!n)return Le({},s1);let o={};Object.entries(n.posParams??{}).forEach(([s,c])=>{o[s]=c.path});let a=n.consumed.length>0?Le(Le({},o),n.consumed[n.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:n.consumed,remainingSegments:t.slice(n.consumed.length),parameters:a,positionalParamSegments:n.posParams??{}}}function Bre(r){return{matched:!0,parameters:r.length>0?MB(r).parameters:{},consumedSegments:r,remainingSegments:[],positionalParamSegments:{}}}function DB(r,e,t,i){return t.length>0&&zre(r,t,i)?{segmentGroup:new Rr(e,Vre(i,new Rr(t,r.children))),slicedSegments:[]}:t.length===0&&Ure(r,t,i)?{segmentGroup:new Rr(r.segments,Lre(r,t,i,r.children)),slicedSegments:t}:{segmentGroup:new Rr(r.segments,r.children),slicedSegments:t}}function Lre(r,e,t,i){let n={};for(let o of t)if(Kv(r,e,o)&&!i[ra(o)]){let a=new Rr([],{});n[ra(o)]=a}return Le(Le({},i),n)}function Vre(r,e){let t={};t[er]=e;for(let i of r)if(i.path===""&&ra(i)!==er){let n=new Rr([],{});t[ra(i)]=n}return t}function zre(r,e,t){return t.some(i=>Kv(r,e,i)&&ra(i)!==er)}function Ure(r,e,t){return t.some(i=>Kv(r,e,i))}function Kv(r,e,t){return(r.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function qre(r,e,t){return e.length===0&&!r.children[t]}var c1=class{};function jre(r,e,t,i,n,o,a="emptyOnly"){return new l1(r,e,t,i,n,a,o).recognize()}var $re=31,l1=class{constructor(e,t,i,n,o,a,s){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=n,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.applyRedirects=new a1(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Nr(4002,`'${e.segmentGroup}'`)}recognize(){let e=DB(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ct(({children:t,rootSnapshot:i})=>{let n=new uo(i,t),o=new jv("",n),a=Zte(i,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}))}match(e){let t=new ld([],Object.freeze({}),Object.freeze(Le({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),er,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,er,t).pipe(ct(i=>({children:i,rootSnapshot:t})),$s(i=>{if(i instanceof of)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof nf?this.noMatchError(i):i}))}processSegmentGroup(e,t,i,n,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i,o):this.processSegment(e,t,i,i.segments,n,!0,o).pipe(ct(a=>a instanceof uo?[a]:[]))}processChildren(e,t,i,n){let o=[];for(let a of Object.keys(i.children))a==="primary"?o.unshift(a):o.push(a);return Zr(o).pipe(Hs(a=>{let s=i.children[a],c=are(t,a);return this.processSegmentGroup(e,c,s,a,n)}),$u((a,s)=>(a.push(...s),a)),qx(null),bO(),oo(a=>{if(a===null)return ad(i);let s=ZB(a);return Hre(s),ut(s)}))}processSegment(e,t,i,n,o,a,s){return Zr(t).pipe(Hs(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,i,n,o,a,s).pipe($s(l=>{if(l instanceof nf)return ut(null);throw l}))),Da(c=>!!c),$s(c=>{if(KB(c))return qre(i,n,o)?ut(new c1):ad(i);throw c}))}processSegmentAgainstRoute(e,t,i,n,o,a,s,c){return ra(i)!==a&&(a===er||!Kv(n,o,i))?ad(n):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,n,i,o,a,c):this.allowRedirects&&s?this.expandSegmentAgainstRouteUsingRedirect(e,n,t,i,o,a,c):ad(n)}expandSegmentAgainstRouteUsingRedirect(e,t,i,n,o,a,s){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:m}=YB(t,n,o);if(!c)return ad(t);typeof n.redirectTo=="string"&&n.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>$re&&(this.allowRedirects=!1));let h=new ld(o,l,Object.freeze(Le({},this.urlTree.queryParams)),this.urlTree.fragment,AB(n),ra(n),n.component??n._loadedComponent??null,n,CB(n)),f=qv(h,s,this.paramsInheritanceStrategy);h.params=Object.freeze(f.params),h.data=Object.freeze(f.data);let p=this.applyRedirects.applyRedirectCommands(u,n.redirectTo,d,h,e);return this.applyRedirects.lineralizeSegments(n,p).pipe(oo(w=>this.processSegment(e,i,t,w.concat(m),a,!1,s)))}matchSegmentAgainstRoute(e,t,i,n,o,a){let s=Pre(t,i,n,e,this.urlSerializer);return i.path==="**"&&(t.children={}),s.pipe(wi(c=>c.matched?(e=i._injector??e,this.getChildConfig(e,i,n).pipe(wi(({routes:l})=>{let u=i._loadedInjector??e,{parameters:d,consumedSegments:m,remainingSegments:h}=c,f=new ld(m,d,Object.freeze(Le({},this.urlTree.queryParams)),this.urlTree.fragment,AB(i),ra(i),i.component??i._loadedComponent??null,i,CB(i)),p=qv(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(p.params),f.data=Object.freeze(p.data);let{segmentGroup:w,slicedSegments:C}=DB(t,m,h,l);if(C.length===0&&w.hasChildren())return this.processChildren(u,l,w,f).pipe(ct(g=>new uo(f,g)));if(l.length===0&&C.length===0)return ut(new uo(f,[]));let T=ra(i)===o;return this.processSegment(u,l,w,C,T?er:o,!0,f).pipe(ct(g=>new uo(f,g instanceof uo?[g]:[])))}))):ad(t)))}getChildConfig(e,t,i){return t.children?ut({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ut({routes:t._loadedRoutes,injector:t._loadedInjector}):kre(e,t,i,this.urlSerializer).pipe(oo(n=>n?this.configLoader.loadChildren(e,t).pipe(ri(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):Ore(t))):ut({routes:[],injector:e})}};function Hre(r){r.sort((e,t)=>e.value.outlet===er?-1:t.value.outlet===er?1:e.value.outlet.localeCompare(t.value.outlet))}function Gre(r){let e=r.value.routeConfig;return e&&e.path===""}function ZB(r){let e=[],t=new Set;for(let i of r){if(!Gre(i)){e.push(i);continue}let n=e.find(o=>i.value.routeConfig===o.value.routeConfig);n!==void 0?(n.children.push(...i.children),t.add(n)):e.push(i)}for(let i of t){let n=ZB(i.children);e.push(new uo(i.value,n))}return e.filter(i=>!t.has(i))}function AB(r){return r.data||{}}function CB(r){return r.resolve||{}}function Wre(r,e,t,i,n,o){return oo(a=>jre(r,e,t,i,a.extractedUrl,n,o).pipe(ct(({state:s,tree:c})=>Cr(Le({},a),{targetSnapshot:s,urlAfterRedirects:c}))))}function Xre(r,e){return oo(t=>{let{targetSnapshot:i,guards:{canActivateChecks:n}}=t;if(!n.length)return ut(t);let o=new Set(n.map(c=>c.route)),a=new Set;for(let c of o)if(!a.has(c))for(let l of JB(c))a.add(l);let s=0;return Zr(a).pipe(Hs(c=>o.has(c)?Kre(c,i,r,e):(c.data=qv(c,c.parent,r).resolve,ut(void 0))),ri(()=>s++),jx(1),oo(c=>s===a.size?ut(t):Ea))})}function JB(r){let e=r.children.map(t=>JB(t)).flat();return[r,...e]}function Kre(r,e,t,i){let n=r.routeConfig,o=r._resolve;return n?.title!==void 0&&!HB(n)&&(o[af]=n.title),Qre(o,r,e,i).pipe(ct(a=>(r._resolvedData=a,r.data=qv(r,r.parent,t).resolve,null)))}function Qre(r,e,t,i){let n=zw(r);if(n.length===0)return ut({});let o={};return Zr(n).pipe(oo(a=>Yre(r[a],e,t,i).pipe(Da(),ri(s=>{if(s instanceof rf)throw $v(new md,s);o[a]=s}))),jx(1),xh(o),$s(a=>KB(a)?Ea:fl(a)))}function Yre(r,e,t,i){let n=cf(e)??i,o=gd(r,n),a=o.resolve?o.resolve(e,t):Ao(n,()=>o(e,t));return cc(a)}function Lw(r){return wi(e=>{let t=r(e);return t?Zr(t).pipe(ct(()=>e)):ut(e)})}var eL=(()=>{class r{buildTitle(t){let i,n=t.root;for(;n!==void 0;)i=this.getResolvedTitleForRoute(n)??i,n=n.children.find(o=>o.outlet===er);return i}getResolvedTitleForRoute(t){return t.data[af]}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=qe({token:r,factory:()=>Pe(Zre),providedIn:"root"})}}return r})(),Zre=(()=>{class r extends eL{constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||r)(me(zP))}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),df=new Ve("",{providedIn:"root",factory:()=>({})}),Jre=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275cmp=dt({type:r,selectors:[["ng-component"]],standalone:!0,features:[Yt],decls:1,vars:0,template:function(i,n){i&1&&Ct(0,"router-outlet")},dependencies:[m1],encapsulation:2})}}return r})();function h1(r){let e=r.children&&r.children.map(h1),t=e?Cr(Le({},r),{children:e}):Le({},r);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==er&&(t.component=Jre),t}var Gv=new Ve(""),f1=(()=>{class r{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Pe(av)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ut(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=cc(t.loadComponent()).pipe(ct(tL),ri(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),rs(()=>{this.componentLoaders.delete(t)})),n=new Lx(i,()=>new Dt).pipe(Bx());return this.componentLoaders.set(t,n),n}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ut({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=eie(i,this.compiler,t,this.onLoadEndListener).pipe(rs(()=>{this.childrenLoaders.delete(i)})),a=new Lx(o,()=>new Dt).pipe(Bx());return this.childrenLoaders.set(i,a),a}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function eie(r,e,t,i){return cc(r.loadChildren()).pipe(ct(tL),oo(n=>n instanceof PO||Array.isArray(n)?ut(n):Zr(e.compileModuleAsync(n))),ct(n=>{i&&i(r);let o,a,s=!1;return Array.isArray(n)?(a=n,s=!0):(o=n.create(t).injector,a=o.get(Gv,[],{optional:!0,self:!0}).flat()),{routes:a.map(h1),injector:o}}))}function tie(r){return r&&typeof r=="object"&&"default"in r}function tL(r){return tie(r)?r.default:r}var p1=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=qe({token:r,factory:()=>Pe(rie),providedIn:"root"})}}return r})(),rie=(()=>{class r{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),rL=new Ve(""),iL=new Ve("");function iie(r,e,t){let i=r.get(iL),n=r.get(St);return r.get(Je).runOutsideAngular(()=>{if(!n.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,a=new Promise(l=>{o=l}),s=n.startViewTransition(()=>(o(),nie(r))),{onViewTransitionCreated:c}=i;return c&&Ao(r,()=>c({transition:s,from:e,to:t})),a})}function nie(r){return new Promise(e=>{Aa({read:()=>setTimeout(e)},{injector:r})})}var oie=new Ve(""),g1=(()=>{class r{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Dt,this.transitionAbortSubject=new Dt,this.configLoader=Pe(f1),this.environmentInjector=Pe(is),this.urlSerializer=Pe(sf),this.rootContexts=Pe(lf),this.location=Pe(wl),this.inputBindingEnabled=Pe(Xv,{optional:!0})!==null,this.titleStrategy=Pe(eL),this.options=Pe(df,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Pe(p1),this.createViewTransition=Pe(rL,{optional:!0}),this.navigationErrorHandler=Pe(oie,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ut(void 0),this.rootComponentType=null;let t=n=>this.events.next(new Xw(n)),i=n=>this.events.next(new Kw(n));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(Cr(Le(Le({},this.transitions.value),t),{id:i}))}setupNavigations(t,i,n){return this.transitions=new vn({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Qh,restoredState:null,currentSnapshot:n.snapshot,targetSnapshot:null,currentRouterState:n,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ur(o=>o.id!==0),ct(o=>Cr(Le({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),wi(o=>{let a=!1,s=!1;return ut(o).pipe(wi(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",mo.SupersededByNewNavigation),Ea;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?Cr(Le({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&u!=="reload"){let d="";return this.events.next(new sc(c.id,this.urlSerializer.serialize(c.rawUrl),d,Bv.IgnoredSameUrlNavigation)),c.resolve(!1),Ea}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return ut(c).pipe(wi(d=>{let m=this.transitions?.getValue();return this.events.next(new hd(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),m!==this.transitions?.getValue()?Ea:Promise.resolve(d)}),Wre(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ri(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=Cr(Le({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let m=new Lv(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(m)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:m,source:h,restoredState:f,extras:p}=c,w=new hd(d,this.urlSerializer.serialize(m),h,f);this.events.next(w);let C=jB(this.rootComponentType).snapshot;return this.currentTransition=o=Cr(Le({},c),{targetSnapshot:C,urlAfterRedirects:m,extras:Cr(Le({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,ut(o)}else{let d="";return this.events.next(new sc(c.id,this.urlSerializer.serialize(c.extractedUrl),d,Bv.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Ea}}),ri(c=>{let l=new $w(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),ct(c=>(this.currentTransition=o=Cr(Le({},c),{guards:hre(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),Dre(this.environmentInjector,c=>this.events.next(c)),ri(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw $v(this.urlSerializer,c.guardsResult);let l=new Hw(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Ur(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",mo.GuardRejected),!1)),Lw(c=>{if(c.guards.canActivateChecks.length)return ut(c).pipe(ri(l=>{let u=new Gw(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),wi(l=>{let u=!1;return ut(l).pipe(Xre(this.paramsInheritanceStrategy,this.environmentInjector),ri({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",mo.NoDataFromResolver)}}))}),ri(l=>{let u=new Ww(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),Lw(c=>{let l=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(ri(m=>{u.component=m}),ct(()=>{})));for(let m of u.children)d.push(...l(m));return d};return qu(l(c.targetSnapshot.root)).pipe(qx(null),ao(1))}),Lw(()=>this.afterPreactivation()),wi(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?Zr(u).pipe(ct(()=>o)):ut(o)}),ct(c=>{let l=cre(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=Cr(Le({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),ri(()=>{this.events.next(new ef)}),mre(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),ao(1),ri({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ta(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),qr(this.transitionAbortSubject.pipe(ri(c=>{throw c}))),rs(()=>{!a&&!s&&this.cancelNavigationTransition(o,"",mo.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),$s(c=>{if(s=!0,XB(c))this.events.next(new cs(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),dre(c)?this.events.next(new fd(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let l=new Jh(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let u=Ao(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof rf){let{message:d,cancellationCode:m}=$v(this.urlSerializer,u);this.events.next(new cs(o.id,this.urlSerializer.serialize(o.extractedUrl),d,m)),this.events.next(new fd(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(l);let d=t.errorHandler(c);o.resolve(!!d)}}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Ea}))}))}cancelNavigationTransition(t,i,n){let o=new cs(t.id,this.urlSerializer.serialize(t.extractedUrl),i,n);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function aie(r){return r!==Qh}var sie=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=qe({token:r,factory:()=>Pe(cie),providedIn:"root"})}}return r})(),u1=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},cie=(()=>{class r extends u1{static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=rn(r)))(n||r)}})()}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),nL=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=qe({token:r,factory:()=>Pe(lie),providedIn:"root"})}}return r})(),lie=(()=>{class r extends nL{constructor(){super(...arguments),this.location=Pe(wl),this.urlSerializer=Pe(sf),this.options=Pe(df,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Pe(p1),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ls,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=jB(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof hd)this.stateMemento=this.createStateMemento();else if(t instanceof sc)this.rawUrlTree=i.initialUrl;else if(t instanceof Lv){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let n=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??n,i)}}else t instanceof ef?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):t instanceof cs&&(t.code===mo.GuardRejected||t.code===mo.NoDataFromResolver)?this.restoreHistory(i):t instanceof Jh?this.restoreHistory(i,!0):t instanceof Ta&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){let n=t instanceof ls?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(n)||i.extras.replaceUrl){let o=this.browserPageId,a=Le(Le({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(n,"",a)}else{let o=Le(Le({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(n,"",o)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let n=this.browserPageId,o=this.currentPageId-n;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=rn(r)))(n||r)}})()}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Xh=function(r){return r[r.COMPLETE=0]="COMPLETE",r[r.FAILED=1]="FAILED",r[r.REDIRECTING=2]="REDIRECTING",r}(Xh||{});function oL(r,e){r.events.pipe(Ur(t=>t instanceof Ta||t instanceof cs||t instanceof Jh||t instanceof sc),ct(t=>t instanceof Ta||t instanceof sc?Xh.COMPLETE:(t instanceof cs?t.code===mo.Redirect||t.code===mo.SupersededByNewNavigation:!1)?Xh.REDIRECTING:Xh.FAILED),Ur(t=>t!==Xh.REDIRECTING),ao(1)).subscribe(()=>{e()})}function uie(r){throw r}var die={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},mie={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Fo=(()=>{class r{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=Pe(rv),this.stateManager=Pe(nL),this.options=Pe(df,{optional:!0})||{},this.pendingTasks=Pe(Ah),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Pe(g1),this.urlSerializer=Pe(sf),this.location=Pe(wl),this.urlHandlingStrategy=Pe(p1),this._events=new Dt,this.errorHandler=this.options.errorHandler||uie,this.navigated=!1,this.routeReuseStrategy=Pe(sie),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Pe(Gv,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Pe(Xv,{optional:!0}),this.eventsSubscription=new Yo,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let n=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(n!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof cs&&i.code!==mo.Redirect&&i.code!==mo.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Ta)this.navigated=!0;else if(i instanceof fd){let a=i.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(i.url,n.currentRawUrl),c=Le({browserUrl:n.extras.browserUrl,info:n.extras.info,skipLocationChange:n.extras.skipLocationChange,replaceUrl:n.extras.replaceUrl||this.urlUpdateStrategy==="eager"||aie(n.source)},a);this.scheduleNavigation(s,Qh,null,c,{resolve:n.resolve,reject:n.reject,promise:n.promise})}}fie(i)&&this._events.next(i)}catch(n){this.navigationTransitions.transitionAbortSubject.next(n)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Qh,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,n){let o={replaceUrl:!0},a=n?.navigationId?n:null;if(n){let c=Le({},n);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let s=this.parseUrl(t);this.scheduleNavigation(s,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(h1),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:n,queryParams:o,fragment:a,queryParamsHandling:s,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:a,u=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":u=Le(Le({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let m=n?n.snapshot:this.routerState.snapshot.root;d=VB(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return zB(d,t,u,l??null)}navigateByUrl(t,i={skipLocationChange:!1}){let n=Ml(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(o,Qh,null,i)}navigate(t,i={skipLocationChange:!1}){return hie(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let n;if(i===!0?n=Le({},die):i===!1?n=Le({},mie):n=i,Ml(t))return bB(this.currentUrlTree,t,n);let o=this.parseUrl(t);return bB(this.currentUrlTree,o,n)}removeEmptyProps(t){return Object.entries(t).reduce((i,[n,o])=>(o!=null&&(i[n]=o),i),{})}scheduleNavigation(t,i,n,o,a){if(this.disposed)return Promise.resolve(!1);let s,c,l;a?(s=a.resolve,c=a.reject,l=a.promise):l=new Promise((d,m)=>{s=d,c=m});let u=this.pendingTasks.add();return oL(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:s,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function hie(r){for(let e=0;e<r.length;e++)if(r[e]==null)throw new Nr(4008,!1)}function fie(r){return!(r instanceof ef)&&!(r instanceof fd)}var vd=(()=>{class r{constructor(t,i,n,o,a,s){this.router=t,this.route=i,this.tabIndexAttribute=n,this.renderer=o,this.el=a,this.locationStrategy=s,this.href=null,this.onChanges=new Dt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof Ta&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ml(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,i,n,o,a){let s=this.urlTree;if(s===null||this.isAnchorElement&&(t!==0||i||n||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(s,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let i=this.href===null?null:RO(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(t,i){let n=this.renderer,o=this.el.nativeElement;i!==null?n.setAttribute(o,t,i):n.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Ml(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(i){return new(i||r)(ue(Fo),ue(Nl),Ws("tabindex"),ue(Mh),ue(At),ue(kh))}}static{this.\u0275dir=yt({type:r,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,n){i&1&&Nt("click",function(a){return n.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&lr("target",n.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Tr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Tr],replaceUrl:[2,"replaceUrl","replaceUrl",Tr],routerLink:"routerLink"},standalone:!0,features:[qi,yn]})}}return r})();var Wv=class{};var pie=(()=>{class r{constructor(t,i,n,o,a){this.router=t,this.injector=n,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Ur(t=>t instanceof Ta),Hs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){let n=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Xx(o.providers,t,`Route: ${o.path}`));let a=o._injector??t,s=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&n.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&n.push(this.processRoutes(s,o.children??o._loadedRoutes))}return Zr(n).pipe(Vx())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let n;i.loadChildren&&i.canLoad===void 0?n=this.loader.loadChildren(t,i):n=ut(null);let o=n.pipe(oo(a=>a===null?ut(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??t,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return Zr([o,a]).pipe(Vx())}else return o})}static{this.\u0275fac=function(i){return new(i||r)(me(Fo),me(av),me(is),me(Wv),me(f1))}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),aL=new Ve(""),gie=(()=>{class r{constructor(t,i,n,o,a={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=n,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof hd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ta?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof sc&&t.code===Bv.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Vv&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Vv(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){gl()}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac})}}return r})();function vie(r){return r.routerState.root}function mf(r,e){return{\u0275kind:r,\u0275providers:e}}function yie(){let r=Pe(gi);return e=>{let t=r.get(_l);if(e!==t.components[0])return;let i=r.get(Fo),n=r.get(sL);r.get(v1)===1&&i.initialNavigation(),r.get(cL,null,Hx.Optional)?.setUpPreloading(),r.get(aL,null,Hx.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),n.closed||(n.next(),n.complete(),n.unsubscribe())}}var sL=new Ve("",{factory:()=>new Dt}),v1=new Ve("",{providedIn:"root",factory:()=>1});function bie(){return mf(2,[{provide:v1,useValue:0},{provide:Yx,multi:!0,deps:[gi],useFactory:e=>{let t=e.get(ZO,Promise.resolve());return()=>t.then(()=>new Promise(i=>{let n=e.get(Fo),o=e.get(sL);oL(n,()=>{i(!0)}),e.get(g1).afterPreactivation=()=>(i(!0),o.closed?ut(void 0):o),n.initialNavigation()}))}}])}function _ie(){return mf(3,[{provide:Yx,multi:!0,useFactory:()=>{let e=Pe(Fo);return()=>{e.setUpLocationChangeListener()}}},{provide:v1,useValue:2}])}var cL=new Ve("");function xie(r){return mf(0,[{provide:cL,useExisting:pie},{provide:Wv,useExisting:r}])}function wie(){return mf(8,[EB,{provide:Xv,useExisting:EB}])}function Eie(r){let e=[{provide:rL,useValue:iie},{provide:iL,useValue:Le({skipNextTransition:!!r?.skipInitialTransition},r)}];return mf(9,e)}var SB=new Ve("ROUTER_FORROOT_GUARD"),Die=[wl,{provide:sf,useClass:md},Fo,lf,{provide:Nl,useFactory:vie,deps:[Fo]},f1,[]],y1=(()=>{class r{constructor(t){}static forRoot(t,i){return{ngModule:r,providers:[Die,[],{provide:Gv,multi:!0,useValue:t},{provide:SB,useFactory:Tie,deps:[[Fo,new Gu,new Gx]]},{provide:df,useValue:i||{}},i?.useHash?Cie():Sie(),Aie(),i?.preloadingStrategy?xie(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?Iie(i):[],i?.bindToComponentInputs?wie().\u0275providers:[],i?.enableViewTransitions?Eie().\u0275providers:[],Mie()]}}static forChild(t){return{ngModule:r,providers:[{provide:Gv,multi:!0,useValue:t}]}}static{this.\u0275fac=function(i){return new(i||r)(me(SB,8))}}static{this.\u0275mod=ot({type:r})}static{this.\u0275inj=nt({})}}return r})();function Aie(){return{provide:aL,useFactory:()=>{let r=Pe(sP),e=Pe(Je),t=Pe(df),i=Pe(g1),n=Pe(sf);return t.scrollOffset&&r.setOffset(t.scrollOffset),new gie(n,i,r,e,t)}}}function Cie(){return{provide:kh,useClass:eP}}function Sie(){return{provide:kh,useClass:JO}}function Tie(r){return"guarded"}function Iie(r){return[r.initialNavigation==="disabled"?_ie().\u0275providers:[],r.initialNavigation==="enabledBlocking"?bie().\u0275providers:[]]}var TB=new Ve("");function Mie(){return[{provide:TB,useFactory:yie},{provide:Zx,multi:!0,useExisting:TB}]}var Qv=class r{static \u0275fac=function(t){return new(t||r)};static \u0275cmp=dt({type:r,selectors:[["app-page-not-found"]],decls:4,vars:0,template:function(t,i){t&1&&(oe(0,"h1"),Ie(1,"404 - Page Not Found"),ne(),oe(2,"p"),Ie(3,"The page you are looking for does not exist."),ne())}})};var Yv=class r{constructor(){console.log("HelloWorldComponent initialized")}ngOnInit(){console.log("HelloWorldComponent onInit")}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=dt({type:r,selectors:[["app-hello-world"]],decls:4,vars:0,consts:[["mat-raised-button",""]],template:function(t,i){t&1&&(oe(0,"h2"),Ie(1,"Hello World Component"),ne(),oe(2,"button",0),Ie(3,"Hello World!"),ne())},dependencies:[Wn]})};var Zv=class r{static \u0275fac=function(t){return new(t||r)};static \u0275cmp=dt({type:r,selectors:[["app-home"]],decls:14,vars:0,consts:[[1,"landing-container"],[1,"overlay"],[1,"content"],[1,"title"],[1,"subtitle"],[1,"action-buttons"],["mat-raised-button","","color","primary","routerLink","/hello"],["mat-stroked-button","","color","primary","routerLink","/feedback"],["mat-stroked-button","","color","primary","routerLink","/calculator"]],template:function(t,i){t&1&&(oe(0,"div",0),Ct(1,"div",1),oe(2,"div",2)(3,"h1",3),Ie(4,"Welcome to the Future of Navigation"),ne(),oe(5,"p",4),Ie(6,"Innovate, Explore, and Navigate like never before"),ne(),oe(7,"div",5)(8,"button",6),Ie(9,"Start Exploring"),ne(),oe(10,"button",7),Ie(11,"Give Feedback"),ne(),oe(12,"button",8),Ie(13,"Use Calculator"),ne()()()())},dependencies:[vd,Wn],styles:[".landing-container[_ngcontent-%COMP%]{position:relative;height:100vh;display:flex;justify-content:center;align-items:center;color:#e0e0e0;background:linear-gradient(135deg,#212121,#424242);overflow:hidden}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:1}.content[_ngcontent-%COMP%]{position:relative;text-align:center;z-index:2}.title[_ngcontent-%COMP%]{font-size:3em;font-weight:700;color:#03a9f4;text-shadow:0 0 10px rgba(3,169,244,.7),0 0 20px rgba(3,169,244,.4);margin-bottom:.5em}.subtitle[_ngcontent-%COMP%]{font-size:1.5em;color:#b0bec5;margin-bottom:2em}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px;padding:10px 20px;font-size:1.1em;transition:transform .3s ease}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.05)}"]})};function Kr(){return Kr=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Kr.apply(null,arguments)}var b1={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function Gr(r,e){if(ff(r,e))return r[e];throw typeof r[e]=="function"&&Jv(r,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function Ia(r,e,t){if(ff(r,e))return r[e]=t,t;throw new Error('No access to property "'+e+'"')}function ff(r,e){return!Nie(r)&&!Array.isArray(r)?!1:Ke(kie,e)?!0:!(e in Object.prototype||e in Function.prototype)}function lL(r,e){if(!Jv(r,e))throw new Error('No access to method "'+e+'"');return r[e]}function Jv(r,e){return r==null||typeof r[e]!="function"||Ke(r,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(r)?!1:Ke(Rie,e)?!0:!(e in Object.prototype||e in Function.prototype)}function Nie(r){return typeof r=="object"&&r&&r.constructor===Object}var kie={length:!0,name:!0},Rie={toString:!0,valueOf:!0,toLocaleString:!0};var lc=class{constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(e=>this.has(e)).values()}get(e){return Gr(this.wrappedObject,e)}set(e,t){return Ia(this.wrappedObject,e,t),this}has(e){return ff(this.wrappedObject,e)&&e in this.wrappedObject}entries(){return uL(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var t of this.keys())e(this.get(t),t,this)}delete(e){ff(this.wrappedObject,e)&&delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}},yd=class{constructor(e,t,i){this.a=e,this.b=t,this.bKeys=i,this[Symbol.iterator]=this.entries}get(e){return this.bKeys.has(e)?this.b.get(e):this.a.get(e)}set(e,t){return this.bKeys.has(e)?this.b.set(e,t):this.a.set(e,t),this}has(e){return this.b.has(e)||this.a.has(e)}keys(){return new Set([...this.a.keys(),...this.b.keys()])[Symbol.iterator]()}entries(){return uL(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var t of this.keys())e(this.get(t),t,this)}delete(e){return this.bKeys.has(e)?this.b.delete(e):this.a.delete(e)}clear(){this.a.clear(),this.b.clear()}get size(){return[...this.keys()].length}};function uL(r,e){return{next:()=>{var t=r.next();return t.done?t:{value:e(t.value),done:!1}}}}function uc(){return new Map}function us(r){if(!r)return uc();if(e0(r))return r;if(dc(r))return new lc(r);throw new Error("createMap can create maps from objects or Maps")}function dL(r){if(r instanceof lc)return r.wrappedObject;var e={};for(var t of r.keys()){var i=r.get(t);Ia(e,t,i)}return e}function mt(r){return typeof r=="number"}function tt(r){return!r||typeof r!="object"||typeof r.constructor!="function"?!1:r.isBigNumber===!0&&typeof r.constructor.prototype=="object"&&r.constructor.prototype.isBigNumber===!0||typeof r.constructor.isDecimal=="function"&&r.constructor.isDecimal(r)===!0}function mL(r){return typeof r=="bigint"}function Bn(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isComplex===!0||!1}function ds(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isFraction===!0||!1}function nn(r){return r&&r.constructor.prototype.isUnit===!0||!1}function ni(r){return typeof r=="string"}var tr=Array.isArray;function He(r){return r&&r.constructor.prototype.isMatrix===!0||!1}function di(r){return Array.isArray(r)||He(r)}function kl(r){return r&&r.isDenseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function na(r){return r&&r.isSparseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function bd(r){return r&&r.constructor.prototype.isRange===!0||!1}function mc(r){return r&&r.constructor.prototype.isIndex===!0||!1}function hL(r){return typeof r=="boolean"}function fL(r){return r&&r.constructor.prototype.isResultSet===!0||!1}function t0(r){return r&&r.constructor.prototype.isHelp===!0||!1}function pL(r){return typeof r=="function"}function gL(r){return r instanceof Date}function vL(r){return r instanceof RegExp}function dc(r){return!!(r&&typeof r=="object"&&r.constructor===Object&&!Bn(r)&&!ds(r))}function e0(r){return r?r instanceof Map||r instanceof lc||typeof r.set=="function"&&typeof r.get=="function"&&typeof r.keys=="function"&&typeof r.has=="function":!1}function yL(r){return r===null}function bL(r){return r===void 0}function ho(r){return r&&r.isAccessorNode===!0&&r.constructor.prototype.isNode===!0||!1}function on(r){return r&&r.isArrayNode===!0&&r.constructor.prototype.isNode===!0||!1}function _L(r){return r&&r.isAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function xL(r){return r&&r.isBlockNode===!0&&r.constructor.prototype.isNode===!0||!1}function wL(r){return r&&r.isConditionalNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ot(r){return r&&r.isConstantNode===!0&&r.constructor.prototype.isNode===!0||!1}function pf(r){return Ot(r)||Lr(r)&&r.args.length===1&&Ot(r.args[0])&&"-+~".includes(r.op)}function Ma(r){return r&&r.isFunctionAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ln(r){return r&&r.isFunctionNode===!0&&r.constructor.prototype.isNode===!0||!1}function Oo(r){return r&&r.isIndexNode===!0&&r.constructor.prototype.isNode===!0||!1}function Vt(r){return r&&r.isNode===!0&&r.constructor.prototype.isNode===!0||!1}function hc(r){return r&&r.isObjectNode===!0&&r.constructor.prototype.isNode===!0||!1}function Lr(r){return r&&r.isOperatorNode===!0&&r.constructor.prototype.isNode===!0||!1}function an(r){return r&&r.isParenthesisNode===!0&&r.constructor.prototype.isNode===!0||!1}function EL(r){return r&&r.isRangeNode===!0&&r.constructor.prototype.isNode===!0||!1}function DL(r){return r&&r.isRelationalNode===!0&&r.constructor.prototype.isNode===!0||!1}function Mr(r){return r&&r.isSymbolNode===!0&&r.constructor.prototype.isNode===!0||!1}function r0(r){return r&&r.constructor.prototype.isChain===!0||!1}function Ht(r){var e=typeof r;return e==="object"?r===null?"null":tt(r)?"BigNumber":r.constructor&&r.constructor.name?r.constructor.name:"Object":e}function at(r){var e=typeof r;if(e==="number"||e==="bigint"||e==="string"||e==="boolean"||r===null||r===void 0)return r;if(typeof r.clone=="function")return r.clone();if(Array.isArray(r))return r.map(function(t){return at(t)});if(r instanceof Date)return new Date(r.valueOf());if(tt(r))return r;if(dc(r))return Fie(r,at);if(e==="function")return r;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(r,")"))}function Fie(r,e){var t={};for(var i in r)Ke(r,i)&&(t[i]=e(r[i]));return t}function i0(r,e){for(var t in e)Ke(e,t)&&(r[t]=e[t]);return r}function Xn(r,e){var t,i,n;if(Array.isArray(r)){if(!Array.isArray(e)||r.length!==e.length)return!1;for(i=0,n=r.length;i<n;i++)if(!Xn(r[i],e[i]))return!1;return!0}else{if(typeof r=="function")return r===e;if(r instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(t in r)if(!(t in e)||!Xn(r[t],e[t]))return!1;for(t in e)if(!(t in r))return!1;return!0}else return r===e}}function AL(r,e,t){var i=!0,n;Object.defineProperty(r,e,{get:function(){return i&&(n=t(),i=!1),n},set:function(a){n=a,i=!1},configurable:!0,enumerable:!0})}function Ke(r,e){return r&&Object.hasOwnProperty.call(r,e)}function CL(r,e){for(var t={},i=0;i<e.length;i++){var n=e[i],o=r[n];o!==void 0&&(t[n]=o)}return t}var SL=["Matrix","Array"],TL=["number","BigNumber","Fraction"];var Ae=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(b1)};Kr(Ae,b1,{MATRIX_OPTIONS:SL,NUMBER_OPTIONS:TL});var C1=zu(w1(),1);function N(r,e,t,i){function n(o){var a=CL(o,e.map(Bie));return Oie(r,e,o),t(a)}return n.isFactory=!0,n.fn=r,n.dependencies=e.slice().sort(),i&&(n.meta=i),n}function Oie(r,e,t){var i=e.filter(o=>!Pie(o)).every(o=>t[o]!==void 0);if(!i){var n=e.filter(o=>t[o]===void 0);throw new Error('Cannot create function "'.concat(r,'", ')+"some dependencies are missing: ".concat(n.map(o=>'"'.concat(o,'"')).join(", "),"."))}}function Pie(r){return r&&r[0]==="?"}function Bie(r){return r&&r[0]==="?"?r.slice(1):r}function je(r){return typeof r=="boolean"?!0:isFinite(r)?r===Math.round(r):!1}function Lie(r){return/^-?\d+$/.test(r)}function _n(r,e){return e.number==="bigint"&&!Lie(r)?e.numberFallback:e.number}var Po=Math.sign||function(r){return r>0?1:r<0?-1:0},NL=Math.log2||function(e){return Math.log(e)/Math.LN2},kL=Math.log10||function(e){return Math.log(e)/Math.LN10},n0=Math.log1p||function(r){return Math.log(r+1)},RL=Math.cbrt||function(e){if(e===0)return e;var t=e<0,i;return t&&(e=-e),isFinite(e)?(i=Math.exp(Math.log(e)/3),i=(e/(i*i)+2*i)/3):i=e,t?-i:i},FL=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function E1(r,e,t){var i={2:"0b",8:"0o",16:"0x"},n=i[e],o="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!je(t))throw new Error("size must be an integer");if(r>2**(t-1)-1||r<-(2**(t-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!je(r))throw new Error("Value must be an integer");r<0&&(r=r+2**t),o="i".concat(t)}var a="";return r<0&&(r=-r,a="-"),"".concat(a).concat(n).concat(r.toString(e)).concat(o)}function oa(r,e){if(typeof e=="function")return e(r);if(r===1/0)return"Infinity";if(r===-1/0)return"-Infinity";if(isNaN(r))return"NaN";var{notation:t,precision:i,wordSize:n}=D1(e);switch(t){case"fixed":return A1(r,i);case"exponential":return OL(r,i);case"engineering":return Vie(r,i);case"bin":return E1(r,2,n);case"oct":return E1(r,8,n);case"hex":return E1(r,16,n);case"auto":return zie(r,i,e).replace(/((\.\d*?)(0+))($|e)/,function(){var o=arguments[2],a=arguments[4];return o!=="."?o+a:a});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function D1(r){var e="auto",t,i;if(r!==void 0)if(mt(r))t=r;else if(tt(r))t=r.toNumber();else if(dc(r))r.precision!==void 0&&(t=IL(r.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),r.wordSize!==void 0&&(i=IL(r.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),r.notation&&(e=r.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:e,precision:t,wordSize:i}}function xd(r){var e=String(r).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+r);var t=e[1],i=e[2],n=parseFloat(e[4]||"0"),o=i.indexOf(".");n+=o!==-1?o-1:i.length-1;var a=i.replace(".","").replace(/^0*/,function(s){return n-=s.length,""}).replace(/0*$/,"").split("").map(function(s){return parseInt(s)});return a.length===0&&(a.push(0),n++),{sign:t,coefficients:a,exponent:n}}function Vie(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=xd(r),i=o0(t,e),n=i.exponent,o=i.coefficients,a=n%3===0?n:n<0?n-3-n%3:n-n%3;if(mt(e))for(;e>o.length||n-a+1>o.length;)o.push(0);else for(var s=Math.abs(n-a)-(o.length-1),c=0;c<s;c++)o.push(0);for(var l=Math.abs(n-a),u=1;l>0;)u++,l--;var d=o.slice(u).join(""),m=mt(e)&&d.length||d.match(/[1-9]/)?"."+d:"",h=o.slice(0,u).join("")+m+"e"+(n>=0?"+":"")+a.toString();return i.sign+h}function A1(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=xd(r),i=typeof e=="number"?o0(t,t.exponent+1+e):t,n=i.coefficients,o=i.exponent+1,a=o+(e||0);return n.length<a&&(n=n.concat(_d(a-n.length))),o<0&&(n=_d(-o+1).concat(n),o=1),o<n.length&&n.splice(o,0,o===0?"0.":"."),i.sign+n.join("")}function OL(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=xd(r),i=e?o0(t,e):t,n=i.coefficients,o=i.exponent;n.length<e&&(n=n.concat(_d(e-n.length)));var a=n.shift();return i.sign+a+(n.length>0?"."+n.join(""):"")+"e"+(o>=0?"+":"")+o}function zie(r,e,t){if(isNaN(r)||!isFinite(r))return String(r);var i=ML(t?.lowerExp,-3),n=ML(t?.upperExp,5),o=xd(r),a=e?o0(o,e):o;if(a.exponent<i||a.exponent>=n)return OL(r,e);var s=a.coefficients,c=a.exponent;s.length<e&&(s=s.concat(_d(e-s.length))),s=s.concat(_d(c-s.length+1+(s.length<e?e-s.length:0))),s=_d(-c).concat(s);var l=c>0?c:0;return l<s.length-1&&s.splice(l+1,0,"."),a.sign+s.join("")}function o0(r,e){for(var t={sign:r.sign,coefficients:r.coefficients,exponent:r.exponent},i=t.coefficients;e<=0;)i.unshift(0),t.exponent++,e++;if(i.length>e){var n=i.splice(e,i.length-e);if(n[0]>=5){var o=e-1;for(i[o]++;i[o]===10;)i.pop(),o===0&&(i.unshift(0),t.exponent++,o++),o--,i[o]++}}return t}function _d(r){for(var e=[],t=0;t<r;t++)e.push(0);return e}function PL(r){return r.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var l1e=Number.EPSILON||2220446049250313e-31;function Vr(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(t<=0)throw new Error("Relative tolerance must be greater than 0");if(i<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(r)||isNaN(e)?!1:!isFinite(r)||!isFinite(e)?r===e:r===e?!0:Math.abs(r-e)<=Math.max(t*Math.max(Math.abs(r),Math.abs(e)),i)}var BL=Math.acosh||function(r){return Math.log(Math.sqrt(r*r-1)+r)},LL=Math.asinh||function(r){return Math.log(Math.sqrt(r*r+1)+r)},VL=Math.atanh||function(r){return Math.log((1+r)/(1-r))/2},a0=Math.cosh||function(r){return(Math.exp(r)+Math.exp(-r))/2},zL=Math.sinh||function(r){return(Math.exp(r)-Math.exp(-r))/2},s0=Math.tanh||function(r){var e=Math.exp(2*r);return(e-1)/(e+1)};function UL(r,e){var t=r>0?!0:r<0?!1:1/r===1/0,i=e>0?!0:e<0?!1:1/e===1/0;return t^i?-r:r}function IL(r,e){if(mt(r))return r;if(tt(r))return r.toNumber();e()}function ML(r,e){return mt(r)?r:tt(r)?r.toNumber():e}var qL=function(){return qL=C1.default.create,C1.default},Uie=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],S1=N("typed",Uie,function(e){var{BigNumber:t,Complex:i,DenseMatrix:n,Fraction:o}=e,a=qL();return a.clear(),a.addTypes([{name:"number",test:mt},{name:"Complex",test:Bn},{name:"BigNumber",test:tt},{name:"bigint",test:mL},{name:"Fraction",test:ds},{name:"Unit",test:nn},{name:"identifier",test:s=>ni&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(s)},{name:"string",test:ni},{name:"Chain",test:r0},{name:"Array",test:tr},{name:"Matrix",test:He},{name:"DenseMatrix",test:kl},{name:"SparseMatrix",test:na},{name:"Range",test:bd},{name:"Index",test:mc},{name:"boolean",test:hL},{name:"ResultSet",test:fL},{name:"Help",test:t0},{name:"function",test:pL},{name:"Date",test:gL},{name:"RegExp",test:vL},{name:"null",test:yL},{name:"undefined",test:bL},{name:"AccessorNode",test:ho},{name:"ArrayNode",test:on},{name:"AssignmentNode",test:_L},{name:"BlockNode",test:xL},{name:"ConditionalNode",test:wL},{name:"ConstantNode",test:Ot},{name:"FunctionNode",test:Ln},{name:"FunctionAssignmentNode",test:Ma},{name:"IndexNode",test:Oo},{name:"Node",test:Vt},{name:"ObjectNode",test:hc},{name:"OperatorNode",test:Lr},{name:"ParenthesisNode",test:an},{name:"RangeNode",test:EL},{name:"RelationalNode",test:DL},{name:"SymbolNode",test:Mr},{name:"Map",test:e0},{name:"Object",test:dc}]),a.addConversions([{from:"number",to:"BigNumber",convert:function(c){if(t||c0(c),PL(c)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+c+"). Use function bignumber(x) to convert to BigNumber.");return new t(c)}},{from:"number",to:"Complex",convert:function(c){return i||l0(c),new i(c,0)}},{from:"BigNumber",to:"Complex",convert:function(c){return i||l0(c),new i(c.toNumber(),0)}},{from:"bigint",to:"number",convert:function(c){if(c>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+c+")");return Number(c)}},{from:"bigint",to:"BigNumber",convert:function(c){return t||c0(c),new t(c.toString())}},{from:"bigint",to:"Fraction",convert:function(c){return o||u0(c),new o(c)}},{from:"Fraction",to:"BigNumber",convert:function(c){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(c){return i||l0(c),new i(c.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(c){o||u0(c);var l=new o(c);if(l.valueOf()!==c)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+c+"). Use function fraction(x) to convert to Fraction.");return l}},{from:"string",to:"number",convert:function(c){var l=Number(c);if(isNaN(l))throw new Error('Cannot convert "'+c+'" to a number');return l}},{from:"string",to:"BigNumber",convert:function(c){t||c0(c);try{return new t(c)}catch{throw new Error('Cannot convert "'+c+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(c){try{return BigInt(c)}catch{throw new Error('Cannot convert "'+c+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(c){o||u0(c);try{return new o(c)}catch{throw new Error('Cannot convert "'+c+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(c){i||l0(c);try{return new i(c)}catch{throw new Error('Cannot convert "'+c+'" to Complex')}}},{from:"boolean",to:"number",convert:function(c){return+c}},{from:"boolean",to:"BigNumber",convert:function(c){return t||c0(c),new t(+c)}},{from:"boolean",to:"bigint",convert:function(c){return BigInt(+c)}},{from:"boolean",to:"Fraction",convert:function(c){return o||u0(c),new o(+c)}},{from:"boolean",to:"string",convert:function(c){return String(c)}},{from:"Array",to:"Matrix",convert:function(c){return n||qie(),new n(c)}},{from:"Matrix",to:"Array",convert:function(c){return c.valueOf()}}]),a.onMismatch=(s,c,l)=>{var u=a.createError(s,c,l);if(["wrongType","mismatch"].includes(u.data.category)&&c.length===1&&di(c[0])&&l.some(m=>!m.params.includes(","))){var d=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw d.data=u.data,d}throw u},a.onMismatch=(s,c,l)=>{var u=a.createError(s,c,l);if(["wrongType","mismatch"].includes(u.data.category)&&c.length===1&&di(c[0])&&l.some(m=>!m.params.includes(","))){var d=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw d.data=u.data,d}throw u},a});function c0(r){throw new Error("Cannot convert value ".concat(r," into a BigNumber: no class 'BigNumber' provided"))}function l0(r){throw new Error("Cannot convert value ".concat(r," into a Complex number: no class 'Complex' provided"))}function qie(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function u0(r){throw new Error("Cannot convert value ".concat(r," into a Fraction, no class 'Fraction' provided."))}var jie="ResultSet",$ie=[],T1=N(jie,$ie,()=>{function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}return r.prototype.type="ResultSet",r.prototype.isResultSet=!0,r.prototype.valueOf=function(){return this.entries},r.prototype.toString=function(){return"["+this.entries.map(String).join(", ")+"]"},r.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},r.fromJSON=function(e){return new r(e.entries)},r},{isClass:!0});var wd=9e15,vc=1e9,I1="0123456789abcdef",m0="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",h0="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",M1={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-wd,maxE:wd,crypto:!1},GL,ms,zt=!0,p0="[DecimalError] ",gc=p0+"Invalid argument: ",WL=p0+"Precision limit exceeded",XL=p0+"crypto unavailable",KL="[object Decimal]",xn=Math.floor,ji=Math.pow,Hie=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Gie=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Wie=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,QL=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,sa=1e7,Rt=7,Xie=9007199254740991,Kie=m0.length-1,N1=h0.length-1,Fe={toStringTag:KL};Fe.absoluteValue=Fe.abs=function(){var r=new this.constructor(this);return r.s<0&&(r.s=1),_t(r)};Fe.ceil=function(){return _t(new this.constructor(this),this.e+1,2)};Fe.clampedTo=Fe.clamp=function(r,e){var t,i=this,n=i.constructor;if(r=new n(r),e=new n(e),!r.s||!e.s)return new n(NaN);if(r.gt(e))throw Error(gc+e);return t=i.cmp(r),t<0?r:i.cmp(e)>0?e:new n(i)};Fe.comparedTo=Fe.cmp=function(r){var e,t,i,n,o=this,a=o.d,s=(r=new o.constructor(r)).d,c=o.s,l=r.s;if(!a||!s)return!c||!l?NaN:c!==l?c:a===s?0:!a^c<0?1:-1;if(!a[0]||!s[0])return a[0]?c:s[0]?-l:0;if(c!==l)return c;if(o.e!==r.e)return o.e>r.e^c<0?1:-1;for(i=a.length,n=s.length,e=0,t=i<n?i:n;e<t;++e)if(a[e]!==s[e])return a[e]>s[e]^c<0?1:-1;return i===n?0:i>n^c<0?1:-1};Fe.cosine=Fe.cos=function(){var r,e,t=this,i=t.constructor;return t.d?t.d[0]?(r=i.precision,e=i.rounding,i.precision=r+Math.max(t.e,t.sd())+Rt,i.rounding=1,t=Qie(i,t3(i,t)),i.precision=r,i.rounding=e,_t(ms==2||ms==3?t.neg():t,r,e,!0)):new i(1):new i(NaN)};Fe.cubeRoot=Fe.cbrt=function(){var r,e,t,i,n,o,a,s,c,l,u=this,d=u.constructor;if(!u.isFinite()||u.isZero())return new d(u);for(zt=!1,o=u.s*ji(u.s*u,1/3),!o||Math.abs(o)==1/0?(t=sn(u.d),r=u.e,(o=(r-t.length+1)%3)&&(t+=o==1||o==-2?"0":"00"),o=ji(t,1/3),r=xn((r+1)/3)-(r%3==(r<0?-1:2)),o==1/0?t="5e"+r:(t=o.toExponential(),t=t.slice(0,t.indexOf("e")+1)+r),i=new d(t),i.s=u.s):i=new d(o.toString()),a=(r=d.precision)+3;;)if(s=i,c=s.times(s).times(s),l=c.plus(u),i=Wr(l.plus(u).times(s),l.plus(c),a+2,1),sn(s.d).slice(0,a)===(t=sn(i.d)).slice(0,a))if(t=t.slice(a-3,a+1),t=="9999"||!n&&t=="4999"){if(!n&&(_t(s,r+1,0),s.times(s).times(s).eq(u))){i=s;break}a+=4,n=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(_t(i,r+1,1),e=!i.times(i).times(i).eq(u));break}return zt=!0,_t(i,r,d.rounding,e)};Fe.decimalPlaces=Fe.dp=function(){var r,e=this.d,t=NaN;if(e){if(r=e.length-1,t=(r-xn(this.e/Rt))*Rt,r=e[r],r)for(;r%10==0;r/=10)t--;t<0&&(t=0)}return t};Fe.dividedBy=Fe.div=function(r){return Wr(this,new this.constructor(r))};Fe.dividedToIntegerBy=Fe.divToInt=function(r){var e=this,t=e.constructor;return _t(Wr(e,new t(r),0,1,1),t.precision,t.rounding)};Fe.equals=Fe.eq=function(r){return this.cmp(r)===0};Fe.floor=function(){return _t(new this.constructor(this),this.e+1,3)};Fe.greaterThan=Fe.gt=function(r){return this.cmp(r)>0};Fe.greaterThanOrEqualTo=Fe.gte=function(r){var e=this.cmp(r);return e==1||e===0};Fe.hyperbolicCosine=Fe.cosh=function(){var r,e,t,i,n,o=this,a=o.constructor,s=new a(1);if(!o.isFinite())return new a(o.s?1/0:NaN);if(o.isZero())return s;t=a.precision,i=a.rounding,a.precision=t+Math.max(o.e,o.sd())+4,a.rounding=1,n=o.d.length,n<32?(r=Math.ceil(n/3),e=(1/v0(4,r)).toString()):(r=16,e="2.3283064365386962890625e-10"),o=Ed(a,1,o.times(e),new a(1),!0);for(var c,l=r,u=new a(8);l--;)c=o.times(o),o=s.minus(c.times(u.minus(c.times(u))));return _t(o,a.precision=t,a.rounding=i,!0)};Fe.hyperbolicSine=Fe.sinh=function(){var r,e,t,i,n=this,o=n.constructor;if(!n.isFinite()||n.isZero())return new o(n);if(e=o.precision,t=o.rounding,o.precision=e+Math.max(n.e,n.sd())+4,o.rounding=1,i=n.d.length,i<3)n=Ed(o,2,n,n,!0);else{r=1.4*Math.sqrt(i),r=r>16?16:r|0,n=n.times(1/v0(5,r)),n=Ed(o,2,n,n,!0);for(var a,s=new o(5),c=new o(16),l=new o(20);r--;)a=n.times(n),n=n.times(s.plus(a.times(c.times(a).plus(l))))}return o.precision=e,o.rounding=t,_t(n,e,t,!0)};Fe.hyperbolicTangent=Fe.tanh=function(){var r,e,t=this,i=t.constructor;return t.isFinite()?t.isZero()?new i(t):(r=i.precision,e=i.rounding,i.precision=r+7,i.rounding=1,Wr(t.sinh(),t.cosh(),i.precision=r,i.rounding=e)):new i(t.s)};Fe.inverseCosine=Fe.acos=function(){var r,e=this,t=e.constructor,i=e.abs().cmp(1),n=t.precision,o=t.rounding;return i!==-1?i===0?e.isNeg()?aa(t,n,o):new t(0):new t(NaN):e.isZero()?aa(t,n+4,o).times(.5):(t.precision=n+6,t.rounding=1,e=e.asin(),r=aa(t,n+4,o).times(.5),t.precision=n,t.rounding=o,r.minus(e))};Fe.inverseHyperbolicCosine=Fe.acosh=function(){var r,e,t=this,i=t.constructor;return t.lte(1)?new i(t.eq(1)?0:NaN):t.isFinite()?(r=i.precision,e=i.rounding,i.precision=r+Math.max(Math.abs(t.e),t.sd())+4,i.rounding=1,zt=!1,t=t.times(t).minus(1).sqrt().plus(t),zt=!0,i.precision=r,i.rounding=e,t.ln()):new i(t)};Fe.inverseHyperbolicSine=Fe.asinh=function(){var r,e,t=this,i=t.constructor;return!t.isFinite()||t.isZero()?new i(t):(r=i.precision,e=i.rounding,i.precision=r+2*Math.max(Math.abs(t.e),t.sd())+6,i.rounding=1,zt=!1,t=t.times(t).plus(1).sqrt().plus(t),zt=!0,i.precision=r,i.rounding=e,t.ln())};Fe.inverseHyperbolicTangent=Fe.atanh=function(){var r,e,t,i,n=this,o=n.constructor;return n.isFinite()?n.e>=0?new o(n.abs().eq(1)?n.s/0:n.isZero()?n:NaN):(r=o.precision,e=o.rounding,i=n.sd(),Math.max(i,r)<2*-n.e-1?_t(new o(n),r,e,!0):(o.precision=t=i-n.e,n=Wr(n.plus(1),new o(1).minus(n),t+r,1),o.precision=r+4,o.rounding=1,n=n.ln(),o.precision=r,o.rounding=e,n.times(.5))):new o(NaN)};Fe.inverseSine=Fe.asin=function(){var r,e,t,i,n=this,o=n.constructor;return n.isZero()?new o(n):(e=n.abs().cmp(1),t=o.precision,i=o.rounding,e!==-1?e===0?(r=aa(o,t+4,i).times(.5),r.s=n.s,r):new o(NaN):(o.precision=t+6,o.rounding=1,n=n.div(new o(1).minus(n.times(n)).sqrt().plus(1)).atan(),o.precision=t,o.rounding=i,n.times(2)))};Fe.inverseTangent=Fe.atan=function(){var r,e,t,i,n,o,a,s,c,l=this,u=l.constructor,d=u.precision,m=u.rounding;if(l.isFinite()){if(l.isZero())return new u(l);if(l.abs().eq(1)&&d+4<=N1)return a=aa(u,d+4,m).times(.25),a.s=l.s,a}else{if(!l.s)return new u(NaN);if(d+4<=N1)return a=aa(u,d+4,m).times(.5),a.s=l.s,a}for(u.precision=s=d+10,u.rounding=1,t=Math.min(28,s/Rt+2|0),r=t;r;--r)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(zt=!1,e=Math.ceil(s/Rt),i=1,c=l.times(l),a=new u(l),n=l;r!==-1;)if(n=n.times(c),o=a.minus(n.div(i+=2)),n=n.times(c),a=o.plus(n.div(i+=2)),a.d[e]!==void 0)for(r=e;a.d[r]===o.d[r]&&r--;);return t&&(a=a.times(2<<t-1)),zt=!0,_t(a,u.precision=d,u.rounding=m,!0)};Fe.isFinite=function(){return!!this.d};Fe.isInteger=Fe.isInt=function(){return!!this.d&&xn(this.e/Rt)>this.d.length-2};Fe.isNaN=function(){return!this.s};Fe.isNegative=Fe.isNeg=function(){return this.s<0};Fe.isPositive=Fe.isPos=function(){return this.s>0};Fe.isZero=function(){return!!this.d&&this.d[0]===0};Fe.lessThan=Fe.lt=function(r){return this.cmp(r)<0};Fe.lessThanOrEqualTo=Fe.lte=function(r){return this.cmp(r)<1};Fe.logarithm=Fe.log=function(r){var e,t,i,n,o,a,s,c,l=this,u=l.constructor,d=u.precision,m=u.rounding,h=5;if(r==null)r=new u(10),e=!0;else{if(r=new u(r),t=r.d,r.s<0||!t||!t[0]||r.eq(1))return new u(NaN);e=r.eq(10)}if(t=l.d,l.s<0||!t||!t[0]||l.eq(1))return new u(t&&!t[0]?-1/0:l.s!=1?NaN:t?0:1/0);if(e)if(t.length>1)o=!0;else{for(n=t[0];n%10===0;)n/=10;o=n!==1}if(zt=!1,s=d+h,a=pc(l,s),i=e?f0(u,s+10):pc(r,s),c=Wr(a,i,s,1),gf(c.d,n=d,m))do if(s+=10,a=pc(l,s),i=e?f0(u,s+10):pc(r,s),c=Wr(a,i,s,1),!o){+sn(c.d).slice(n+1,n+15)+1==1e14&&(c=_t(c,d+1,0));break}while(gf(c.d,n+=10,m));return zt=!0,_t(c,d,m)};Fe.minus=Fe.sub=function(r){var e,t,i,n,o,a,s,c,l,u,d,m,h=this,f=h.constructor;if(r=new f(r),!h.d||!r.d)return!h.s||!r.s?r=new f(NaN):h.d?r.s=-r.s:r=new f(r.d||h.s!==r.s?h:NaN),r;if(h.s!=r.s)return r.s=-r.s,h.plus(r);if(l=h.d,m=r.d,s=f.precision,c=f.rounding,!l[0]||!m[0]){if(m[0])r.s=-r.s;else if(l[0])r=new f(h);else return new f(c===3?-0:0);return zt?_t(r,s,c):r}if(t=xn(r.e/Rt),u=xn(h.e/Rt),l=l.slice(),o=u-t,o){for(d=o<0,d?(e=l,o=-o,a=m.length):(e=m,t=u,a=l.length),i=Math.max(Math.ceil(s/Rt),a)+2,o>i&&(o=i,e.length=1),e.reverse(),i=o;i--;)e.push(0);e.reverse()}else{for(i=l.length,a=m.length,d=i<a,d&&(a=i),i=0;i<a;i++)if(l[i]!=m[i]){d=l[i]<m[i];break}o=0}for(d&&(e=l,l=m,m=e,r.s=-r.s),a=l.length,i=m.length-a;i>0;--i)l[a++]=0;for(i=m.length;i>o;){if(l[--i]<m[i]){for(n=i;n&&l[--n]===0;)l[n]=sa-1;--l[n],l[i]+=sa}l[i]-=m[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--t;return l[0]?(r.d=l,r.e=g0(l,t),zt?_t(r,s,c):r):new f(c===3?-0:0)};Fe.modulo=Fe.mod=function(r){var e,t=this,i=t.constructor;return r=new i(r),!t.d||!r.s||r.d&&!r.d[0]?new i(NaN):!r.d||t.d&&!t.d[0]?_t(new i(t),i.precision,i.rounding):(zt=!1,i.modulo==9?(e=Wr(t,r.abs(),0,3,1),e.s*=r.s):e=Wr(t,r,0,i.modulo,1),e=e.times(r),zt=!0,t.minus(e))};Fe.naturalExponential=Fe.exp=function(){return k1(this)};Fe.naturalLogarithm=Fe.ln=function(){return pc(this)};Fe.negated=Fe.neg=function(){var r=new this.constructor(this);return r.s=-r.s,_t(r)};Fe.plus=Fe.add=function(r){var e,t,i,n,o,a,s,c,l,u,d=this,m=d.constructor;if(r=new m(r),!d.d||!r.d)return!d.s||!r.s?r=new m(NaN):d.d||(r=new m(r.d||d.s===r.s?d:NaN)),r;if(d.s!=r.s)return r.s=-r.s,d.minus(r);if(l=d.d,u=r.d,s=m.precision,c=m.rounding,!l[0]||!u[0])return u[0]||(r=new m(d)),zt?_t(r,s,c):r;if(o=xn(d.e/Rt),i=xn(r.e/Rt),l=l.slice(),n=o-i,n){for(n<0?(t=l,n=-n,a=u.length):(t=u,i=o,a=l.length),o=Math.ceil(s/Rt),a=o>a?o+1:a+1,n>a&&(n=a,t.length=1),t.reverse();n--;)t.push(0);t.reverse()}for(a=l.length,n=u.length,a-n<0&&(n=a,t=u,u=l,l=t),e=0;n;)e=(l[--n]=l[n]+u[n]+e)/sa|0,l[n]%=sa;for(e&&(l.unshift(e),++i),a=l.length;l[--a]==0;)l.pop();return r.d=l,r.e=g0(l,i),zt?_t(r,s,c):r};Fe.precision=Fe.sd=function(r){var e,t=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(gc+r);return t.d?(e=YL(t.d),r&&t.e+1>e&&(e=t.e+1)):e=NaN,e};Fe.round=function(){var r=this,e=r.constructor;return _t(new e(r),r.e+1,e.rounding)};Fe.sine=Fe.sin=function(){var r,e,t=this,i=t.constructor;return t.isFinite()?t.isZero()?new i(t):(r=i.precision,e=i.rounding,i.precision=r+Math.max(t.e,t.sd())+Rt,i.rounding=1,t=Zie(i,t3(i,t)),i.precision=r,i.rounding=e,_t(ms>2?t.neg():t,r,e,!0)):new i(NaN)};Fe.squareRoot=Fe.sqrt=function(){var r,e,t,i,n,o,a=this,s=a.d,c=a.e,l=a.s,u=a.constructor;if(l!==1||!s||!s[0])return new u(!l||l<0&&(!s||s[0])?NaN:s?a:1/0);for(zt=!1,l=Math.sqrt(+a),l==0||l==1/0?(e=sn(s),(e.length+c)%2==0&&(e+="0"),l=Math.sqrt(e),c=xn((c+1)/2)-(c<0||c%2),l==1/0?e="5e"+c:(e=l.toExponential(),e=e.slice(0,e.indexOf("e")+1)+c),i=new u(e)):i=new u(l.toString()),t=(c=u.precision)+3;;)if(o=i,i=o.plus(Wr(a,o,t+2,1)).times(.5),sn(o.d).slice(0,t)===(e=sn(i.d)).slice(0,t))if(e=e.slice(t-3,t+1),e=="9999"||!n&&e=="4999"){if(!n&&(_t(o,c+1,0),o.times(o).eq(a))){i=o;break}t+=4,n=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(_t(i,c+1,1),r=!i.times(i).eq(a));break}return zt=!0,_t(i,c,u.rounding,r)};Fe.tangent=Fe.tan=function(){var r,e,t=this,i=t.constructor;return t.isFinite()?t.isZero()?new i(t):(r=i.precision,e=i.rounding,i.precision=r+10,i.rounding=1,t=t.sin(),t.s=1,t=Wr(t,new i(1).minus(t.times(t)).sqrt(),r+10,0),i.precision=r,i.rounding=e,_t(ms==2||ms==4?t.neg():t,r,e,!0)):new i(NaN)};Fe.times=Fe.mul=function(r){var e,t,i,n,o,a,s,c,l,u=this,d=u.constructor,m=u.d,h=(r=new d(r)).d;if(r.s*=u.s,!m||!m[0]||!h||!h[0])return new d(!r.s||m&&!m[0]&&!h||h&&!h[0]&&!m?NaN:!m||!h?r.s/0:r.s*0);for(t=xn(u.e/Rt)+xn(r.e/Rt),c=m.length,l=h.length,c<l&&(o=m,m=h,h=o,a=c,c=l,l=a),o=[],a=c+l,i=a;i--;)o.push(0);for(i=l;--i>=0;){for(e=0,n=c+i;n>i;)s=o[n]+h[i]*m[n-i-1]+e,o[n--]=s%sa|0,e=s/sa|0;o[n]=(o[n]+e)%sa|0}for(;!o[--a];)o.pop();return e?++t:o.shift(),r.d=o,r.e=g0(o,t),zt?_t(r,d.precision,d.rounding):r};Fe.toBinary=function(r,e){return F1(this,2,r,e)};Fe.toDecimalPlaces=Fe.toDP=function(r,e){var t=this,i=t.constructor;return t=new i(t),r===void 0?t:(Kn(r,0,vc),e===void 0?e=i.rounding:Kn(e,0,8),_t(t,r+t.e+1,e))};Fe.toExponential=function(r,e){var t,i=this,n=i.constructor;return r===void 0?t=Na(i,!0):(Kn(r,0,vc),e===void 0?e=n.rounding:Kn(e,0,8),i=_t(new n(i),r+1,e),t=Na(i,!0,r+1)),i.isNeg()&&!i.isZero()?"-"+t:t};Fe.toFixed=function(r,e){var t,i,n=this,o=n.constructor;return r===void 0?t=Na(n):(Kn(r,0,vc),e===void 0?e=o.rounding:Kn(e,0,8),i=_t(new o(n),r+n.e+1,e),t=Na(i,!1,r+i.e+1)),n.isNeg()&&!n.isZero()?"-"+t:t};Fe.toFraction=function(r){var e,t,i,n,o,a,s,c,l,u,d,m,h=this,f=h.d,p=h.constructor;if(!f)return new p(h);if(l=t=new p(1),i=c=new p(0),e=new p(i),o=e.e=YL(f)-h.e-1,a=o%Rt,e.d[0]=ji(10,a<0?Rt+a:a),r==null)r=o>0?e:l;else{if(s=new p(r),!s.isInt()||s.lt(l))throw Error(gc+s);r=s.gt(e)?o>0?e:l:s}for(zt=!1,s=new p(sn(f)),u=p.precision,p.precision=o=f.length*Rt*2;d=Wr(s,e,0,1,1),n=t.plus(d.times(i)),n.cmp(r)!=1;)t=i,i=n,n=l,l=c.plus(d.times(n)),c=n,n=e,e=s.minus(d.times(n)),s=n;return n=Wr(r.minus(t),i,0,1,1),c=c.plus(n.times(l)),t=t.plus(n.times(i)),c.s=l.s=h.s,m=Wr(l,i,o,1).minus(h).abs().cmp(Wr(c,t,o,1).minus(h).abs())<1?[l,i]:[c,t],p.precision=u,zt=!0,m};Fe.toHexadecimal=Fe.toHex=function(r,e){return F1(this,16,r,e)};Fe.toNearest=function(r,e){var t=this,i=t.constructor;if(t=new i(t),r==null){if(!t.d)return t;r=new i(1),e=i.rounding}else{if(r=new i(r),e===void 0?e=i.rounding:Kn(e,0,8),!t.d)return r.s?t:r;if(!r.d)return r.s&&(r.s=t.s),r}return r.d[0]?(zt=!1,t=Wr(t,r,0,e,1).times(r),zt=!0,_t(t)):(r.s=t.s,t=r),t};Fe.toNumber=function(){return+this};Fe.toOctal=function(r,e){return F1(this,8,r,e)};Fe.toPower=Fe.pow=function(r){var e,t,i,n,o,a,s=this,c=s.constructor,l=+(r=new c(r));if(!s.d||!r.d||!s.d[0]||!r.d[0])return new c(ji(+s,l));if(s=new c(s),s.eq(1))return s;if(i=c.precision,o=c.rounding,r.eq(1))return _t(s,i,o);if(e=xn(r.e/Rt),e>=r.d.length-1&&(t=l<0?-l:l)<=Xie)return n=ZL(c,s,t,i),r.s<0?new c(1).div(n):_t(n,i,o);if(a=s.s,a<0){if(e<r.d.length-1)return new c(NaN);if(r.d[e]&1||(a=1),s.e==0&&s.d[0]==1&&s.d.length==1)return s.s=a,s}return t=ji(+s,l),e=t==0||!isFinite(t)?xn(l*(Math.log("0."+sn(s.d))/Math.LN10+s.e+1)):new c(t+"").e,e>c.maxE+1||e<c.minE-1?new c(e>0?a/0:0):(zt=!1,c.rounding=s.s=1,t=Math.min(12,(e+"").length),n=k1(r.times(pc(s,i+t)),i),n.d&&(n=_t(n,i+5,1),gf(n.d,i,o)&&(e=i+10,n=_t(k1(r.times(pc(s,e+t)),e),e+5,1),+sn(n.d).slice(i+1,i+15)+1==1e14&&(n=_t(n,i+1,0)))),n.s=a,zt=!0,c.rounding=o,_t(n,i,o))};Fe.toPrecision=function(r,e){var t,i=this,n=i.constructor;return r===void 0?t=Na(i,i.e<=n.toExpNeg||i.e>=n.toExpPos):(Kn(r,1,vc),e===void 0?e=n.rounding:Kn(e,0,8),i=_t(new n(i),r,e),t=Na(i,r<=i.e||i.e<=n.toExpNeg,r)),i.isNeg()&&!i.isZero()?"-"+t:t};Fe.toSignificantDigits=Fe.toSD=function(r,e){var t=this,i=t.constructor;return r===void 0?(r=i.precision,e=i.rounding):(Kn(r,1,vc),e===void 0?e=i.rounding:Kn(e,0,8)),_t(new i(t),r,e)};Fe.toString=function(){var r=this,e=r.constructor,t=Na(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()&&!r.isZero()?"-"+t:t};Fe.truncated=Fe.trunc=function(){return _t(new this.constructor(this),this.e+1,1)};Fe.valueOf=Fe.toJSON=function(){var r=this,e=r.constructor,t=Na(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()?"-"+t:t};function sn(r){var e,t,i,n=r.length-1,o="",a=r[0];if(n>0){for(o+=a,e=1;e<n;e++)i=r[e]+"",t=Rt-i.length,t&&(o+=fc(t)),o+=i;a=r[e],i=a+"",t=Rt-i.length,t&&(o+=fc(t))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}function Kn(r,e,t){if(r!==~~r||r<e||r>t)throw Error(gc+r)}function gf(r,e,t,i){var n,o,a,s;for(o=r[0];o>=10;o/=10)--e;return--e<0?(e+=Rt,n=0):(n=Math.ceil((e+1)/Rt),e%=Rt),o=ji(10,Rt-e),s=r[n]%o|0,i==null?e<3?(e==0?s=s/100|0:e==1&&(s=s/10|0),a=t<4&&s==99999||t>3&&s==49999||s==5e4||s==0):a=(t<4&&s+1==o||t>3&&s+1==o/2)&&(r[n+1]/o/100|0)==ji(10,e-2)-1||(s==o/2||s==0)&&(r[n+1]/o/100|0)==0:e<4?(e==0?s=s/1e3|0:e==1?s=s/100|0:e==2&&(s=s/10|0),a=(i||t<4)&&s==9999||!i&&t>3&&s==4999):a=((i||t<4)&&s+1==o||!i&&t>3&&s+1==o/2)&&(r[n+1]/o/1e3|0)==ji(10,e-3)-1,a}function d0(r,e,t){for(var i,n=[0],o,a=0,s=r.length;a<s;){for(o=n.length;o--;)n[o]*=e;for(n[0]+=I1.indexOf(r.charAt(a++)),i=0;i<n.length;i++)n[i]>t-1&&(n[i+1]===void 0&&(n[i+1]=0),n[i+1]+=n[i]/t|0,n[i]%=t)}return n.reverse()}function Qie(r,e){var t,i,n;if(e.isZero())return e;i=e.d.length,i<32?(t=Math.ceil(i/3),n=(1/v0(4,t)).toString()):(t=16,n="2.3283064365386962890625e-10"),r.precision+=t,e=Ed(r,1,e.times(n),new r(1));for(var o=t;o--;){var a=e.times(e);e=a.times(a).minus(a).times(8).plus(1)}return r.precision-=t,e}var Wr=function(){function r(i,n,o){var a,s=0,c=i.length;for(i=i.slice();c--;)a=i[c]*n+s,i[c]=a%o|0,s=a/o|0;return s&&i.unshift(s),i}function e(i,n,o,a){var s,c;if(o!=a)c=o>a?1:-1;else for(s=c=0;s<o;s++)if(i[s]!=n[s]){c=i[s]>n[s]?1:-1;break}return c}function t(i,n,o,a){for(var s=0;o--;)i[o]-=s,s=i[o]<n[o]?1:0,i[o]=s*a+i[o]-n[o];for(;!i[0]&&i.length>1;)i.shift()}return function(i,n,o,a,s,c){var l,u,d,m,h,f,p,w,C,T,g,_,v,y,A,b,E,D,S,I,M=i.constructor,q=i.s==n.s?1:-1,U=i.d,F=n.d;if(!U||!U[0]||!F||!F[0])return new M(!i.s||!n.s||(U?F&&U[0]==F[0]:!F)?NaN:U&&U[0]==0||!F?q*0:q/0);for(c?(h=1,u=i.e-n.e):(c=sa,h=Rt,u=xn(i.e/h)-xn(n.e/h)),S=F.length,E=U.length,C=new M(q),T=C.d=[],d=0;F[d]==(U[d]||0);d++);if(F[d]>(U[d]||0)&&u--,o==null?(y=o=M.precision,a=M.rounding):s?y=o+(i.e-n.e)+1:y=o,y<0)T.push(1),f=!0;else{if(y=y/h+2|0,d=0,S==1){for(m=0,F=F[0],y++;(d<E||m)&&y--;d++)A=m*c+(U[d]||0),T[d]=A/F|0,m=A%F|0;f=m||d<E}else{for(m=c/(F[0]+1)|0,m>1&&(F=r(F,m,c),U=r(U,m,c),S=F.length,E=U.length),b=S,g=U.slice(0,S),_=g.length;_<S;)g[_++]=0;I=F.slice(),I.unshift(0),D=F[0],F[1]>=c/2&&++D;do m=0,l=e(F,g,S,_),l<0?(v=g[0],S!=_&&(v=v*c+(g[1]||0)),m=v/D|0,m>1?(m>=c&&(m=c-1),p=r(F,m,c),w=p.length,_=g.length,l=e(p,g,w,_),l==1&&(m--,t(p,S<w?I:F,w,c))):(m==0&&(l=m=1),p=F.slice()),w=p.length,w<_&&p.unshift(0),t(g,p,_,c),l==-1&&(_=g.length,l=e(F,g,S,_),l<1&&(m++,t(g,S<_?I:F,_,c))),_=g.length):l===0&&(m++,g=[0]),T[d++]=m,l&&g[0]?g[_++]=U[b]||0:(g=[U[b]],_=1);while((b++<E||g[0]!==void 0)&&y--);f=g[0]!==void 0}T[0]||T.shift()}if(h==1)C.e=u,GL=f;else{for(d=1,m=T[0];m>=10;m/=10)d++;C.e=d+u*h-1,_t(C,s?o+C.e+1:o,a,f)}return C}}();function _t(r,e,t,i){var n,o,a,s,c,l,u,d,m,h=r.constructor;e:if(e!=null){if(d=r.d,!d)return r;for(n=1,s=d[0];s>=10;s/=10)n++;if(o=e-n,o<0)o+=Rt,a=e,u=d[m=0],c=u/ji(10,n-a-1)%10|0;else if(m=Math.ceil((o+1)/Rt),s=d.length,m>=s)if(i){for(;s++<=m;)d.push(0);u=c=0,n=1,o%=Rt,a=o-Rt+1}else break e;else{for(u=s=d[m],n=1;s>=10;s/=10)n++;o%=Rt,a=o-Rt+n,c=a<0?0:u/ji(10,n-a-1)%10|0}if(i=i||e<0||d[m+1]!==void 0||(a<0?u:u%ji(10,n-a-1)),l=t<4?(c||i)&&(t==0||t==(r.s<0?3:2)):c>5||c==5&&(t==4||i||t==6&&(o>0?a>0?u/ji(10,n-a):0:d[m-1])%10&1||t==(r.s<0?8:7)),e<1||!d[0])return d.length=0,l?(e-=r.e+1,d[0]=ji(10,(Rt-e%Rt)%Rt),r.e=-e||0):d[0]=r.e=0,r;if(o==0?(d.length=m,s=1,m--):(d.length=m+1,s=ji(10,Rt-o),d[m]=a>0?(u/ji(10,n-a)%ji(10,a)|0)*s:0),l)for(;;)if(m==0){for(o=1,a=d[0];a>=10;a/=10)o++;for(a=d[0]+=s,s=1;a>=10;a/=10)s++;o!=s&&(r.e++,d[0]==sa&&(d[0]=1));break}else{if(d[m]+=s,d[m]!=sa)break;d[m--]=0,s=1}for(o=d.length;d[--o]===0;)d.pop()}return zt&&(r.e>h.maxE?(r.d=null,r.e=NaN):r.e<h.minE&&(r.e=0,r.d=[0])),r}function Na(r,e,t){if(!r.isFinite())return e3(r);var i,n=r.e,o=sn(r.d),a=o.length;return e?(t&&(i=t-a)>0?o=o.charAt(0)+"."+o.slice(1)+fc(i):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(r.e<0?"e":"e+")+r.e):n<0?(o="0."+fc(-n-1)+o,t&&(i=t-a)>0&&(o+=fc(i))):n>=a?(o+=fc(n+1-a),t&&(i=t-n-1)>0&&(o=o+"."+fc(i))):((i=n+1)<a&&(o=o.slice(0,i)+"."+o.slice(i)),t&&(i=t-a)>0&&(n+1===a&&(o+="."),o+=fc(i))),o}function g0(r,e){var t=r[0];for(e*=Rt;t>=10;t/=10)e++;return e}function f0(r,e,t){if(e>Kie)throw zt=!0,t&&(r.precision=t),Error(WL);return _t(new r(m0),e,1,!0)}function aa(r,e,t){if(e>N1)throw Error(WL);return _t(new r(h0),e,t,!0)}function YL(r){var e=r.length-1,t=e*Rt+1;if(e=r[e],e){for(;e%10==0;e/=10)t--;for(e=r[0];e>=10;e/=10)t++}return t}function fc(r){for(var e="";r--;)e+="0";return e}function ZL(r,e,t,i){var n,o=new r(1),a=Math.ceil(i/Rt+4);for(zt=!1;;){if(t%2&&(o=o.times(e),$L(o.d,a)&&(n=!0)),t=xn(t/2),t===0){t=o.d.length-1,n&&o.d[t]===0&&++o.d[t];break}e=e.times(e),$L(e.d,a)}return zt=!0,o}function jL(r){return r.d[r.d.length-1]&1}function JL(r,e,t){for(var i,n=new r(e[0]),o=0;++o<e.length;)if(i=new r(e[o]),i.s)n[t](i)&&(n=i);else{n=i;break}return n}function k1(r,e){var t,i,n,o,a,s,c,l=0,u=0,d=0,m=r.constructor,h=m.rounding,f=m.precision;if(!r.d||!r.d[0]||r.e>17)return new m(r.d?r.d[0]?r.s<0?0:1/0:1:r.s?r.s<0?0:r:NaN);for(e==null?(zt=!1,c=f):c=e,s=new m(.03125);r.e>-2;)r=r.times(s),d+=5;for(i=Math.log(ji(2,d))/Math.LN10*2+5|0,c+=i,t=o=a=new m(1),m.precision=c;;){if(o=_t(o.times(r),c,1),t=t.times(++u),s=a.plus(Wr(o,t,c,1)),sn(s.d).slice(0,c)===sn(a.d).slice(0,c)){for(n=d;n--;)a=_t(a.times(a),c,1);if(e==null)if(l<3&&gf(a.d,c-i,h,l))m.precision=c+=10,t=o=s=new m(1),u=0,l++;else return _t(a,m.precision=f,h,zt=!0);else return m.precision=f,a}a=s}}function pc(r,e){var t,i,n,o,a,s,c,l,u,d,m,h=1,f=10,p=r,w=p.d,C=p.constructor,T=C.rounding,g=C.precision;if(p.s<0||!w||!w[0]||!p.e&&w[0]==1&&w.length==1)return new C(w&&!w[0]?-1/0:p.s!=1?NaN:w?0:p);if(e==null?(zt=!1,u=g):u=e,C.precision=u+=f,t=sn(w),i=t.charAt(0),Math.abs(o=p.e)<15e14){for(;i<7&&i!=1||i==1&&t.charAt(1)>3;)p=p.times(r),t=sn(p.d),i=t.charAt(0),h++;o=p.e,i>1?(p=new C("0."+t),o++):p=new C(i+"."+t.slice(1))}else return l=f0(C,u+2,g).times(o+""),p=pc(new C(i+"."+t.slice(1)),u-f).plus(l),C.precision=g,e==null?_t(p,g,T,zt=!0):p;for(d=p,c=a=p=Wr(p.minus(1),p.plus(1),u,1),m=_t(p.times(p),u,1),n=3;;){if(a=_t(a.times(m),u,1),l=c.plus(Wr(a,new C(n),u,1)),sn(l.d).slice(0,u)===sn(c.d).slice(0,u))if(c=c.times(2),o!==0&&(c=c.plus(f0(C,u+2,g).times(o+""))),c=Wr(c,new C(h),u,1),e==null)if(gf(c.d,u-f,T,s))C.precision=u+=f,l=a=p=Wr(d.minus(1),d.plus(1),u,1),m=_t(p.times(p),u,1),n=s=1;else return _t(c,C.precision=g,T,zt=!0);else return C.precision=g,c;c=l,n+=2}}function e3(r){return String(r.s*r.s/0)}function R1(r,e){var t,i,n;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(t<0&&(t=i),t+=+e.slice(i+1),e=e.substring(0,i)):t<0&&(t=e.length),i=0;e.charCodeAt(i)===48;i++);for(n=e.length;e.charCodeAt(n-1)===48;--n);if(e=e.slice(i,n),e){if(n-=i,r.e=t=t-i-1,r.d=[],i=(t+1)%Rt,t<0&&(i+=Rt),i<n){for(i&&r.d.push(+e.slice(0,i)),n-=Rt;i<n;)r.d.push(+e.slice(i,i+=Rt));e=e.slice(i),i=Rt-e.length}else i-=n;for(;i--;)e+="0";r.d.push(+e),zt&&(r.e>r.constructor.maxE?(r.d=null,r.e=NaN):r.e<r.constructor.minE&&(r.e=0,r.d=[0]))}else r.e=0,r.d=[0];return r}function Yie(r,e){var t,i,n,o,a,s,c,l,u;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),QL.test(e))return R1(r,e)}else if(e==="Infinity"||e==="NaN")return+e||(r.s=NaN),r.e=NaN,r.d=null,r;if(Gie.test(e))t=16,e=e.toLowerCase();else if(Hie.test(e))t=2;else if(Wie.test(e))t=8;else throw Error(gc+e);for(o=e.search(/p/i),o>0?(c=+e.slice(o+1),e=e.substring(2,o)):e=e.slice(2),o=e.indexOf("."),a=o>=0,i=r.constructor,a&&(e=e.replace(".",""),s=e.length,o=s-o,n=ZL(i,new i(t),o,o*2)),l=d0(e,t,sa),u=l.length-1,o=u;l[o]===0;--o)l.pop();return o<0?new i(r.s*0):(r.e=g0(l,u),r.d=l,zt=!1,a&&(r=Wr(r,n,s*4)),c&&(r=r.times(Math.abs(c)<54?ji(2,c):vf.pow(2,c))),zt=!0,r)}function Zie(r,e){var t,i=e.d.length;if(i<3)return e.isZero()?e:Ed(r,2,e,e);t=1.4*Math.sqrt(i),t=t>16?16:t|0,e=e.times(1/v0(5,t)),e=Ed(r,2,e,e);for(var n,o=new r(5),a=new r(16),s=new r(20);t--;)n=e.times(e),e=e.times(o.plus(n.times(a.times(n).minus(s))));return e}function Ed(r,e,t,i,n){var o,a,s,c,l=1,u=r.precision,d=Math.ceil(u/Rt);for(zt=!1,c=t.times(t),s=new r(i);;){if(a=Wr(s.times(c),new r(e++*e++),u,1),s=n?i.plus(a):i.minus(a),i=Wr(a.times(c),new r(e++*e++),u,1),a=s.plus(i),a.d[d]!==void 0){for(o=d;a.d[o]===s.d[o]&&o--;);if(o==-1)break}o=s,s=i,i=a,a=o,l++}return zt=!0,a.d.length=d+1,a}function v0(r,e){for(var t=r;--e;)t*=r;return t}function t3(r,e){var t,i=e.s<0,n=aa(r,r.precision,1),o=n.times(.5);if(e=e.abs(),e.lte(o))return ms=i?4:1,e;if(t=e.divToInt(n),t.isZero())ms=i?3:2;else{if(e=e.minus(t.times(n)),e.lte(o))return ms=jL(t)?i?2:3:i?4:1,e;ms=jL(t)?i?1:4:i?3:2}return e.minus(n).abs()}function F1(r,e,t,i){var n,o,a,s,c,l,u,d,m,h=r.constructor,f=t!==void 0;if(f?(Kn(t,1,vc),i===void 0?i=h.rounding:Kn(i,0,8)):(t=h.precision,i=h.rounding),!r.isFinite())u=e3(r);else{for(u=Na(r),a=u.indexOf("."),f?(n=2,e==16?t=t*4-3:e==8&&(t=t*3-2)):n=e,a>=0&&(u=u.replace(".",""),m=new h(1),m.e=u.length-a,m.d=d0(Na(m),10,n),m.e=m.d.length),d=d0(u,10,n),o=c=d.length;d[--c]==0;)d.pop();if(!d[0])u=f?"0p+0":"0";else{if(a<0?o--:(r=new h(r),r.d=d,r.e=o,r=Wr(r,m,t,i,0,n),d=r.d,o=r.e,l=GL),a=d[t],s=n/2,l=l||d[t+1]!==void 0,l=i<4?(a!==void 0||l)&&(i===0||i===(r.s<0?3:2)):a>s||a===s&&(i===4||l||i===6&&d[t-1]&1||i===(r.s<0?8:7)),d.length=t,l)for(;++d[--t]>n-1;)d[t]=0,t||(++o,d.unshift(1));for(c=d.length;!d[c-1];--c);for(a=0,u="";a<c;a++)u+=I1.charAt(d[a]);if(f){if(c>1)if(e==16||e==8){for(a=e==16?4:3,--c;c%a;c++)u+="0";for(d=d0(u,n,e),c=d.length;!d[c-1];--c);for(a=1,u="1.";a<c;a++)u+=I1.charAt(d[a])}else u=u.charAt(0)+"."+u.slice(1);u=u+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)u="0"+u;u="0."+u}else if(++o>c)for(o-=c;o--;)u+="0";else o<c&&(u=u.slice(0,o)+"."+u.slice(o))}u=(e==16?"0x":e==2?"0b":e==8?"0o":"")+u}return r.s<0?"-"+u:u}function $L(r,e){if(r.length>e)return r.length=e,!0}function Jie(r){return new this(r).abs()}function ene(r){return new this(r).acos()}function tne(r){return new this(r).acosh()}function rne(r,e){return new this(r).plus(e)}function ine(r){return new this(r).asin()}function nne(r){return new this(r).asinh()}function one(r){return new this(r).atan()}function ane(r){return new this(r).atanh()}function sne(r,e){r=new this(r),e=new this(e);var t,i=this.precision,n=this.rounding,o=i+4;return!r.s||!e.s?t=new this(NaN):!r.d&&!e.d?(t=aa(this,o,1).times(e.s>0?.25:.75),t.s=r.s):!e.d||r.isZero()?(t=e.s<0?aa(this,i,n):new this(0),t.s=r.s):!r.d||e.isZero()?(t=aa(this,o,1).times(.5),t.s=r.s):e.s<0?(this.precision=o,this.rounding=1,t=this.atan(Wr(r,e,o,1)),e=aa(this,o,1),this.precision=i,this.rounding=n,t=r.s<0?t.minus(e):t.plus(e)):t=this.atan(Wr(r,e,o,1)),t}function cne(r){return new this(r).cbrt()}function lne(r){return _t(r=new this(r),r.e+1,2)}function une(r,e,t){return new this(r).clamp(e,t)}function dne(r){if(!r||typeof r!="object")throw Error(p0+"Object expected");var e,t,i,n=r.defaults===!0,o=["precision",1,vc,"rounding",0,8,"toExpNeg",-wd,0,"toExpPos",0,wd,"maxE",0,wd,"minE",-wd,0,"modulo",0,9];for(e=0;e<o.length;e+=3)if(t=o[e],n&&(this[t]=M1[t]),(i=r[t])!==void 0)if(xn(i)===i&&i>=o[e+1]&&i<=o[e+2])this[t]=i;else throw Error(gc+t+": "+i);if(t="crypto",n&&(this[t]=M1[t]),(i=r[t])!==void 0)if(i===!0||i===!1||i===0||i===1)if(i)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[t]=!0;else throw Error(XL);else this[t]=!1;else throw Error(gc+t+": "+i);return this}function mne(r){return new this(r).cos()}function hne(r){return new this(r).cosh()}function r3(r){var e,t,i;function n(o){var a,s,c,l=this;if(!(l instanceof n))return new n(o);if(l.constructor=n,HL(o)){l.s=o.s,zt?!o.d||o.e>n.maxE?(l.e=NaN,l.d=null):o.e<n.minE?(l.e=0,l.d=[0]):(l.e=o.e,l.d=o.d.slice()):(l.e=o.e,l.d=o.d?o.d.slice():o.d);return}if(c=typeof o,c==="number"){if(o===0){l.s=1/o<0?-1:1,l.e=0,l.d=[0];return}if(o<0?(o=-o,l.s=-1):l.s=1,o===~~o&&o<1e7){for(a=0,s=o;s>=10;s/=10)a++;zt?a>n.maxE?(l.e=NaN,l.d=null):a<n.minE?(l.e=0,l.d=[0]):(l.e=a,l.d=[o]):(l.e=a,l.d=[o]);return}else if(o*0!==0){o||(l.s=NaN),l.e=NaN,l.d=null;return}return R1(l,o.toString())}else if(c!=="string")throw Error(gc+o);return(s=o.charCodeAt(0))===45?(o=o.slice(1),l.s=-1):(s===43&&(o=o.slice(1)),l.s=1),QL.test(o)?R1(l,o):Yie(l,o)}if(n.prototype=Fe,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.EUCLID=9,n.config=n.set=dne,n.clone=r3,n.isDecimal=HL,n.abs=Jie,n.acos=ene,n.acosh=tne,n.add=rne,n.asin=ine,n.asinh=nne,n.atan=one,n.atanh=ane,n.atan2=sne,n.cbrt=cne,n.ceil=lne,n.clamp=une,n.cos=mne,n.cosh=hne,n.div=fne,n.exp=pne,n.floor=gne,n.hypot=vne,n.ln=yne,n.log=bne,n.log10=xne,n.log2=_ne,n.max=wne,n.min=Ene,n.mod=Dne,n.mul=Ane,n.pow=Cne,n.random=Sne,n.round=Tne,n.sign=Ine,n.sin=Mne,n.sinh=Nne,n.sqrt=kne,n.sub=Rne,n.sum=Fne,n.tan=One,n.tanh=Pne,n.trunc=Bne,r===void 0&&(r={}),r&&r.defaults!==!0)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<i.length;)r.hasOwnProperty(t=i[e++])||(r[t]=this[t]);return n.config(r),n}function fne(r,e){return new this(r).div(e)}function pne(r){return new this(r).exp()}function gne(r){return _t(r=new this(r),r.e+1,3)}function vne(){var r,e,t=new this(0);for(zt=!1,r=0;r<arguments.length;)if(e=new this(arguments[r++]),e.d)t.d&&(t=t.plus(e.times(e)));else{if(e.s)return zt=!0,new this(1/0);t=e}return zt=!0,t.sqrt()}function HL(r){return r instanceof vf||r&&r.toStringTag===KL||!1}function yne(r){return new this(r).ln()}function bne(r,e){return new this(r).log(e)}function _ne(r){return new this(r).log(2)}function xne(r){return new this(r).log(10)}function wne(){return JL(this,arguments,"lt")}function Ene(){return JL(this,arguments,"gt")}function Dne(r,e){return new this(r).mod(e)}function Ane(r,e){return new this(r).mul(e)}function Cne(r,e){return new this(r).pow(e)}function Sne(r){var e,t,i,n,o=0,a=new this(1),s=[];if(r===void 0?r=this.precision:Kn(r,1,vc),i=Math.ceil(r/Rt),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(i));o<i;)n=e[o],n>=429e7?e[o]=crypto.getRandomValues(new Uint32Array(1))[0]:s[o++]=n%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(i*=4);o<i;)n=e[o]+(e[o+1]<<8)+(e[o+2]<<16)+((e[o+3]&127)<<24),n>=214e7?crypto.randomBytes(4).copy(e,o):(s.push(n%1e7),o+=4);o=i/4}else throw Error(XL);else for(;o<i;)s[o++]=Math.random()*1e7|0;for(i=s[--o],r%=Rt,i&&r&&(n=ji(10,Rt-r),s[o]=(i/n|0)*n);s[o]===0;o--)s.pop();if(o<0)t=0,s=[0];else{for(t=-1;s[0]===0;t-=Rt)s.shift();for(i=1,n=s[0];n>=10;n/=10)i++;i<Rt&&(t-=Rt-i)}return a.e=t,a.d=s,a}function Tne(r){return _t(r=new this(r),r.e+1,this.rounding)}function Ine(r){return r=new this(r),r.d?r.d[0]?r.s:0*r.s:r.s||NaN}function Mne(r){return new this(r).sin()}function Nne(r){return new this(r).sinh()}function kne(r){return new this(r).sqrt()}function Rne(r,e){return new this(r).sub(e)}function Fne(){var r=0,e=arguments,t=new this(e[r]);for(zt=!1;t.s&&++r<e.length;)t=t.plus(e[r]);return zt=!0,_t(t,this.precision,this.rounding)}function One(r){return new this(r).tan()}function Pne(r){return new this(r).tanh()}function Bne(r){return _t(r=new this(r),r.e+1,1)}Fe[Symbol.for("nodejs.util.inspect.custom")]=Fe.toString;Fe[Symbol.toStringTag]="Decimal";var vf=Fe.constructor=r3(M1);m0=new vf(m0);h0=new vf(h0);var Rl=vf;var Lne="BigNumber",Vne=["?on","config"],O1=N(Lne,Vne,r=>{var{on:e,config:t}=r,i=Rl.clone({precision:t.precision,modulo:Rl.EUCLID});return i.prototype=Object.create(i.prototype),i.prototype.type="BigNumber",i.prototype.isBigNumber=!0,i.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},i.fromJSON=function(n){return new i(n.value)},e&&e("config",function(n,o){n.precision!==o.precision&&i.config({precision:n.precision})}),i},{isClass:!0});var wn=Math.cosh||function(r){return Math.abs(r)<1e-9?1-r:(Math.exp(r)+Math.exp(-r))*.5},Bo=Math.sinh||function(r){return Math.abs(r)<1e-9?r:(Math.exp(r)-Math.exp(-r))*.5},zne=function(r){let e=Math.PI/4;if(-e>r||r>e)return Math.cos(r)-1;let t=r*r;return t*(t*(t*(t*(t*(t*(t*(t/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},P1=function(r,e){return r=Math.abs(r),e=Math.abs(e),r<e&&([r,e]=[e,r]),r<1e8?Math.sqrt(r*r+e*e):(e/=r,r*Math.sqrt(1+e*e))},Dd=function(){throw SyntaxError("Invalid Param")};function B1(r,e){let t=Math.abs(r),i=Math.abs(e);return r===0?Math.log(i):e===0?Math.log(t):t<3e3&&i<3e3?Math.log(r*r+e*e)*.5:(r=r*.5,e=e*.5,.5*Math.log(r*r+e*e)+Math.LN2)}var Une={re:0,im:0},Fl=function(r,e){let t=Une;if(r==null)t.re=t.im=0;else if(e!==void 0)t.re=r,t.im=e;else switch(typeof r){case"object":if("im"in r&&"re"in r)t.re=r.re,t.im=r.im;else if("abs"in r&&"arg"in r){if(!isFinite(r.abs)&&isFinite(r.arg))return Ce.INFINITY;t.re=r.abs*Math.cos(r.arg),t.im=r.abs*Math.sin(r.arg)}else if("r"in r&&"phi"in r){if(!isFinite(r.r)&&isFinite(r.phi))return Ce.INFINITY;t.re=r.r*Math.cos(r.phi),t.im=r.r*Math.sin(r.phi)}else r.length===2?(t.re=r[0],t.im=r[1]):Dd();break;case"string":t.im=t.re=0;let i=r.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),n=1,o=0;i===null&&Dd();for(let a=0;a<i.length;a++){let s=i[a];s===" "||s==="	"||s===`
`||(s==="+"?n++:s==="-"?o++:s==="i"||s==="I"?(n+o===0&&Dd(),i[a+1]!==" "&&!isNaN(i[a+1])?(t.im+=parseFloat((o%2?"-":"")+i[a+1]),a++):t.im+=parseFloat((o%2?"-":"")+"1"),n=o=0):((n+o===0||isNaN(s))&&Dd(),i[a+1]==="i"||i[a+1]==="I"?(t.im+=parseFloat((o%2?"-":"")+s),a++):t.re+=parseFloat((o%2?"-":"")+s),n=o=0))}n+o>0&&Dd();break;case"number":t.im=0,t.re=r;break;default:Dd()}return isNaN(t.re)||isNaN(t.im),t};function Ce(r,e){if(!(this instanceof Ce))return new Ce(r,e);let t=Fl(r,e);this.re=t.re,this.im=t.im}Ce.prototype={re:0,im:0,sign:function(){let r=P1(this.re,this.im);return new Ce(this.re/r,this.im/r)},add:function(r,e){let t=Fl(r,e),i=this.isInfinite(),n=!(isFinite(t.re)&&isFinite(t.im));return i||n?i&&n?Ce.NAN:Ce.INFINITY:new Ce(this.re+t.re,this.im+t.im)},sub:function(r,e){let t=Fl(r,e),i=this.isInfinite(),n=!(isFinite(t.re)&&isFinite(t.im));return i||n?i&&n?Ce.NAN:Ce.INFINITY:new Ce(this.re-t.re,this.im-t.im)},mul:function(r,e){let t=Fl(r,e),i=this.isInfinite(),n=!(isFinite(t.re)&&isFinite(t.im)),o=this.re===0&&this.im===0,a=t.re===0&&t.im===0;return i&&a||n&&o?Ce.NAN:i||n?Ce.INFINITY:t.im===0&&this.im===0?new Ce(this.re*t.re,0):new Ce(this.re*t.re-this.im*t.im,this.re*t.im+this.im*t.re)},div:function(r,e){let t=Fl(r,e),i=this.isInfinite(),n=!(isFinite(t.re)&&isFinite(t.im)),o=this.re===0&&this.im===0,a=t.re===0&&t.im===0;if(o&&a||i&&n)return Ce.NAN;if(a||i)return Ce.INFINITY;if(o||n)return Ce.ZERO;if(t.im===0)return new Ce(this.re/t.re,this.im/t.re);if(Math.abs(t.re)<Math.abs(t.im)){let s=t.re/t.im,c=t.re*s+t.im;return new Ce((this.re*s+this.im)/c,(this.im*s-this.re)/c)}else{let s=t.im/t.re,c=t.im*s+t.re;return new Ce((this.re+this.im*s)/c,(this.im-this.re*s)/c)}},pow:function(r,e){let t=Fl(r,e),i=this.re===0&&this.im===0;if(t.re===0&&t.im===0)return Ce.ONE;if(t.im===0){if(this.im===0&&this.re>0)return new Ce(Math.pow(this.re,t.re),0);if(this.re===0)switch((t.re%4+4)%4){case 0:return new Ce(Math.pow(this.im,t.re),0);case 1:return new Ce(0,Math.pow(this.im,t.re));case 2:return new Ce(-Math.pow(this.im,t.re),0);case 3:return new Ce(0,-Math.pow(this.im,t.re))}}if(i&&t.re>0)return Ce.ZERO;let o=Math.atan2(this.im,this.re),a=B1(this.re,this.im),s=Math.exp(t.re*a-t.im*o),c=t.im*a+t.re*o;return new Ce(s*Math.cos(c),s*Math.sin(c))},sqrt:function(){let r=this.re,e=this.im;if(e===0)return r>=0?new Ce(Math.sqrt(r),0):new Ce(0,Math.sqrt(-r));let t=P1(r,e),i=Math.sqrt(.5*(t+Math.abs(r))),n=Math.abs(e)/(2*i);return r>=0?new Ce(i,e<0?-n:n):new Ce(n,e<0?-i:i)},exp:function(){let r=Math.exp(this.re);return this.im===0?new Ce(r,0):new Ce(r*Math.cos(this.im),r*Math.sin(this.im))},expm1:function(){let r=this.re,e=this.im;return new Ce(Math.expm1(r)*Math.cos(e)+zne(e),Math.exp(r)*Math.sin(e))},log:function(){let r=this.re,e=this.im;return e===0&&r>0?new Ce(Math.log(r),0):new Ce(B1(r,e),Math.atan2(e,r))},abs:function(){return P1(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){let r=this.re,e=this.im;return new Ce(Math.sin(r)*wn(e),Math.cos(r)*Bo(e))},cos:function(){let r=this.re,e=this.im;return new Ce(Math.cos(r)*wn(e),-Math.sin(r)*Bo(e))},tan:function(){let r=2*this.re,e=2*this.im,t=Math.cos(r)+wn(e);return new Ce(Math.sin(r)/t,Bo(e)/t)},cot:function(){let r=2*this.re,e=2*this.im,t=Math.cos(r)-wn(e);return new Ce(-Math.sin(r)/t,Bo(e)/t)},sec:function(){let r=this.re,e=this.im,t=.5*wn(2*e)+.5*Math.cos(2*r);return new Ce(Math.cos(r)*wn(e)/t,Math.sin(r)*Bo(e)/t)},csc:function(){let r=this.re,e=this.im,t=.5*wn(2*e)-.5*Math.cos(2*r);return new Ce(Math.sin(r)*wn(e)/t,-Math.cos(r)*Bo(e)/t)},asin:function(){let r=this.re,e=this.im,t=new Ce(e*e-r*r+1,-2*r*e).sqrt(),i=new Ce(t.re-e,t.im+r).log();return new Ce(i.im,-i.re)},acos:function(){let r=this.re,e=this.im,t=new Ce(e*e-r*r+1,-2*r*e).sqrt(),i=new Ce(t.re-e,t.im+r).log();return new Ce(Math.PI/2-i.im,i.re)},atan:function(){let r=this.re,e=this.im;if(r===0){if(e===1)return new Ce(0,1/0);if(e===-1)return new Ce(0,-1/0)}let t=r*r+(1-e)*(1-e),i=new Ce((1-e*e-r*r)/t,-2*r/t).log();return new Ce(-.5*i.im,.5*i.re)},acot:function(){let r=this.re,e=this.im;if(e===0)return new Ce(Math.atan2(1,r),0);let t=r*r+e*e;return t!==0?new Ce(r/t,-e/t).atan():new Ce(r!==0?r/0:0,e!==0?-e/0:0).atan()},asec:function(){let r=this.re,e=this.im;if(r===0&&e===0)return new Ce(0,1/0);let t=r*r+e*e;return t!==0?new Ce(r/t,-e/t).acos():new Ce(r!==0?r/0:0,e!==0?-e/0:0).acos()},acsc:function(){let r=this.re,e=this.im;if(r===0&&e===0)return new Ce(Math.PI/2,1/0);let t=r*r+e*e;return t!==0?new Ce(r/t,-e/t).asin():new Ce(r!==0?r/0:0,e!==0?-e/0:0).asin()},sinh:function(){let r=this.re,e=this.im;return new Ce(Bo(r)*Math.cos(e),wn(r)*Math.sin(e))},cosh:function(){let r=this.re,e=this.im;return new Ce(wn(r)*Math.cos(e),Bo(r)*Math.sin(e))},tanh:function(){let r=2*this.re,e=2*this.im,t=wn(r)+Math.cos(e);return new Ce(Bo(r)/t,Math.sin(e)/t)},coth:function(){let r=2*this.re,e=2*this.im,t=wn(r)-Math.cos(e);return new Ce(Bo(r)/t,-Math.sin(e)/t)},csch:function(){let r=this.re,e=this.im,t=Math.cos(2*e)-wn(2*r);return new Ce(-2*Bo(r)*Math.cos(e)/t,2*wn(r)*Math.sin(e)/t)},sech:function(){let r=this.re,e=this.im,t=Math.cos(2*e)+wn(2*r);return new Ce(2*wn(r)*Math.cos(e)/t,-2*Bo(r)*Math.sin(e)/t)},asinh:function(){let r=this.im;this.im=-this.re,this.re=r;let e=this.asin();return this.re=-this.im,this.im=r,r=e.re,e.re=-e.im,e.im=r,e},acosh:function(){let r=this.acos();if(r.im<=0){let e=r.re;r.re=-r.im,r.im=e}else{let e=r.im;r.im=-r.re,r.re=e}return r},atanh:function(){let r=this.re,e=this.im,t=r>1&&e===0,i=1-r,n=1+r,o=i*i+e*e,a=o!==0?new Ce((n*i-e*e)/o,(e*i+n*e)/o):new Ce(r!==-1?r/0:0,e!==0?e/0:0),s=a.re;return a.re=B1(a.re,a.im)/2,a.im=Math.atan2(a.im,s)/2,t&&(a.im=-a.im),a},acoth:function(){let r=this.re,e=this.im;if(r===0&&e===0)return new Ce(0,Math.PI/2);let t=r*r+e*e;return t!==0?new Ce(r/t,-e/t).atanh():new Ce(r!==0?r/0:0,e!==0?-e/0:0).atanh()},acsch:function(){let r=this.re,e=this.im;if(e===0)return new Ce(r!==0?Math.log(r+Math.sqrt(r*r+1)):1/0,0);let t=r*r+e*e;return t!==0?new Ce(r/t,-e/t).asinh():new Ce(r!==0?r/0:0,e!==0?-e/0:0).asinh()},asech:function(){let r=this.re,e=this.im;if(this.isZero())return Ce.INFINITY;let t=r*r+e*e;return t!==0?new Ce(r/t,-e/t).acosh():new Ce(r!==0?r/0:0,e!==0?-e/0:0).acosh()},inverse:function(){if(this.isZero())return Ce.INFINITY;if(this.isInfinite())return Ce.ZERO;let r=this.re,e=this.im,t=r*r+e*e;return new Ce(r/t,-e/t)},conjugate:function(){return new Ce(this.re,-this.im)},neg:function(){return new Ce(-this.re,-this.im)},ceil:function(r){return r=Math.pow(10,r||0),new Ce(Math.ceil(this.re*r)/r,Math.ceil(this.im*r)/r)},floor:function(r){return r=Math.pow(10,r||0),new Ce(Math.floor(this.re*r)/r,Math.floor(this.im*r)/r)},round:function(r){return r=Math.pow(10,r||0),new Ce(Math.round(this.re*r)/r,Math.round(this.im*r)/r)},equals:function(r,e){let t=Fl(r,e);return Math.abs(t.re-this.re)<=Ce.EPSILON&&Math.abs(t.im-this.im)<=Ce.EPSILON},clone:function(){return new Ce(this.re,this.im)},toString:function(){let r=this.re,e=this.im,t="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(r)<Ce.EPSILON&&(r=0),Math.abs(e)<Ce.EPSILON&&(e=0),e===0?t+r:(r!==0?(t+=r,t+=" ",e<0?(e=-e,t+="-"):t+="+",t+=" "):e<0&&(e=-e,t+="-"),e!==1&&(t+=e),t+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};Ce.ZERO=new Ce(0,0);Ce.ONE=new Ce(1,0);Ce.I=new Ce(0,1);Ce.PI=new Ce(Math.PI,0);Ce.E=new Ce(Math.E,0);Ce.INFINITY=new Ce(1/0,1/0);Ce.NAN=new Ce(NaN,NaN);Ce.EPSILON=1e-15;var qne="Complex",jne=[],L1=N(qne,jne,()=>(Object.defineProperty(Ce,"name",{value:"Complex"}),Ce.prototype.constructor=Ce,Ce.prototype.type="Complex",Ce.prototype.isComplex=!0,Ce.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Ce.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Ce.prototype.format=function(r){var e="",t=this.im,i=this.re,n=oa(this.re,r),o=oa(this.im,r),a=mt(r)?r:r?r.precision:null;if(a!==null){var s=Math.pow(10,-a);Math.abs(i/t)<s&&(i=0),Math.abs(t/i)<s&&(t=0)}return t===0?e=n:i===0?t===1?e="i":t===-1?e="-i":e=o+"i":t<0?t===-1?e=n+" - i":e=n+" - "+o.substring(1)+"i":t===1?e=n+" + i":e=n+" + "+o+"i",e},Ce.fromPolar=function(r){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return Ce(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var t=arguments[0],i=arguments[1];if(mt(t)){if(nn(i)&&i.hasBase("ANGLE")&&(i=i.toNumber("rad")),mt(i))return new Ce({r:t,phi:i});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Ce.prototype.valueOf=Ce.prototype.toString,Ce.fromJSON=function(r){return new Ce(r)},Ce.compare=function(r,e){return r.re>e.re?1:r.re<e.re?-1:r.im>e.im?1:r.im<e.im?-1:0},Ce),{isClass:!0});typeof BigInt>"u"&&(BigInt=function(r){if(isNaN(r))throw new Error("");return r});var xt=BigInt(0),Zt=BigInt(1),yf=BigInt(2),V1=BigInt(5),Qn=BigInt(10),$ne=2e3,Qe={s:Zt,n:xt,d:Zt};function hs(r,e){try{r=BigInt(r)}catch{throw yc()}return r*e}function ca(r){return typeof r=="bigint"?r:Math.floor(r)}function oi(r,e){if(e===xt)throw z1();let t=Object.create(fo.prototype);t.s=r<xt?-Zt:Zt,r=r<xt?-r:r;let i=Ol(r,e);return t.n=r/i,t.d=e/i,t}function Ad(r){let e={},t=r,i=yf,n=V1-Zt;for(;n<=t;){for(;t%i===xt;)t/=i,e[i]=(e[i]||xt)+Zt;n+=Zt+yf*i++}return t!==r?t>1&&(e[t]=(e[t]||xt)+Zt):e[r]=(e[r]||xt)+Zt,e}var Ki=function(r,e){let t=xt,i=Zt,n=Zt;if(r!=null)if(e!==void 0){if(typeof r=="bigint")t=r;else{if(isNaN(r))throw yc();if(r%1!==0)throw i3();t=BigInt(r)}if(typeof e=="bigint")i=e;else{if(isNaN(e))throw yc();if(e%1!==0)throw i3();i=BigInt(e)}n=t*i}else if(typeof r=="object"){if("d"in r&&"n"in r)t=BigInt(r.n),i=BigInt(r.d),"s"in r&&(t*=BigInt(r.s));else if(0 in r)t=BigInt(r[0]),1 in r&&(i=BigInt(r[1]));else if(typeof r=="bigint")t=r;else throw yc();n=t*i}else if(typeof r=="number"){if(isNaN(r))throw yc();if(r<0&&(n=-Zt,r=-r),r%1===0)t=BigInt(r);else if(r>0){let o=1,a=0,s=1,c=1,l=1,u=1e7;for(r>=1&&(o=10**Math.floor(1+Math.log10(r)),r/=o);s<=u&&l<=u;){let d=(a+c)/(s+l);if(r===d){s+l<=u?(t=a+c,i=s+l):l>s?(t=c,i=l):(t=a,i=s);break}else r>d?(a+=c,s+=l):(c+=a,l+=s),s>u?(t=c,i=l):(t=a,i=s)}t=BigInt(t)*BigInt(o),i=BigInt(i)}}else if(typeof r=="string"){let o=0,a=xt,s=xt,c=xt,l=Zt,u=Zt,d=r.replace(/_/g,"").match(/\d+|./g);if(d===null)throw yc();if(d[o]==="-"?(n=-Zt,o++):d[o]==="+"&&o++,d.length===o+1?s=hs(d[o++],n):d[o+1]==="."||d[o]==="."?(d[o]!=="."&&(a=hs(d[o++],n)),o++,(o+1===d.length||d[o+1]==="("&&d[o+3]===")"||d[o+1]==="'"&&d[o+3]==="'")&&(s=hs(d[o],n),l=Qn**BigInt(d[o].length),o++),(d[o]==="("&&d[o+2]===")"||d[o]==="'"&&d[o+2]==="'")&&(c=hs(d[o+1],n),u=Qn**BigInt(d[o+1].length)-Zt,o+=3)):d[o+1]==="/"||d[o+1]===":"?(s=hs(d[o],n),l=hs(d[o+2],Zt),o+=3):d[o+3]==="/"&&d[o+1]===" "&&(a=hs(d[o],n),s=hs(d[o+2],n),l=hs(d[o+4],Zt),o+=5),d.length<=o)i=l*u,n=t=c+i*a+u*s;else throw yc()}else if(typeof r=="bigint")t=r,n=r,i=Zt;else throw yc();if(i===xt)throw z1();Qe.s=n<xt?-Zt:Zt,Qe.n=t<xt?-t:t,Qe.d=i<xt?-i:i};function Hne(r,e,t){let i=Zt;for(;e>xt;r=r*r%t,e>>=Zt)e&Zt&&(i=i*r%t);return i}function Gne(r,e){for(;e%yf===xt;e/=yf);for(;e%V1===xt;e/=V1);if(e===Zt)return xt;let t=Qn%e,i=1;for(;t!==Zt;i++)if(t=t*Qn%e,i>$ne)return xt;return BigInt(i)}function Wne(r,e,t){let i=Zt,n=Hne(Qn,t,e);for(let o=0;o<300;o++){if(i===n)return BigInt(o);i=i*Qn%e,n=n*Qn%e}return 0}function Ol(r,e){if(!r)return e;if(!e)return r;for(;;){if(r%=e,!r)return e;if(e%=r,!e)return r}}function fo(r,e){if(Ki(r,e),this instanceof fo)r=Ol(Qe.d,Qe.n),this.s=Qe.s,this.n=Qe.n/r,this.d=Qe.d/r;else return oi(Qe.s*Qe.n,Qe.d)}var z1=function(){return new Error("Division by Zero")},yc=function(){return new Error("Invalid argument")},i3=function(){return new Error("Parameters must be integer")};fo.prototype={s:Zt,n:xt,d:Zt,abs:function(){return oi(this.n,this.d)},neg:function(){return oi(-this.s*this.n,this.d)},add:function(r,e){return Ki(r,e),oi(this.s*this.n*Qe.d+Qe.s*this.d*Qe.n,this.d*Qe.d)},sub:function(r,e){return Ki(r,e),oi(this.s*this.n*Qe.d-Qe.s*this.d*Qe.n,this.d*Qe.d)},mul:function(r,e){return Ki(r,e),oi(this.s*Qe.s*this.n*Qe.n,this.d*Qe.d)},div:function(r,e){return Ki(r,e),oi(this.s*Qe.s*this.n*Qe.d,this.d*Qe.n)},clone:function(){return oi(this.s*this.n,this.d)},mod:function(r,e){if(r===void 0)return oi(this.s*this.n%this.d,Zt);if(Ki(r,e),xt===Qe.n*this.d)throw z1();return oi(this.s*(Qe.d*this.n)%(Qe.n*this.d),Qe.d*this.d)},gcd:function(r,e){return Ki(r,e),oi(Ol(Qe.n,this.n)*Ol(Qe.d,this.d),Qe.d*this.d)},lcm:function(r,e){return Ki(r,e),Qe.n===xt&&this.n===xt?oi(xt,Zt):oi(Qe.n*this.n,Ol(Qe.n,this.n)*Ol(Qe.d,this.d))},inverse:function(){return oi(this.s*this.d,this.n)},pow:function(r,e){if(Ki(r,e),Qe.d===Zt)return Qe.s<xt?oi((this.s*this.d)**Qe.n,this.n**Qe.n):oi((this.s*this.n)**Qe.n,this.d**Qe.n);if(this.s<xt)return null;let t=Ad(this.n),i=Ad(this.d),n=Zt,o=Zt;for(let a in t)if(a!=="1"){if(a==="0"){n=xt;break}if(t[a]*=Qe.n,t[a]%Qe.d===xt)t[a]/=Qe.d;else return null;n*=BigInt(a)**t[a]}for(let a in i)if(a!=="1"){if(i[a]*=Qe.n,i[a]%Qe.d===xt)i[a]/=Qe.d;else return null;o*=BigInt(a)**i[a]}return Qe.s<xt?oi(o,n):oi(n,o)},log:function(r,e){if(Ki(r,e),this.s<=xt||Qe.s<=xt)return null;let t={},i=Ad(Qe.n),n=Ad(Qe.d),o=Ad(this.n),a=Ad(this.d);for(let l in n)i[l]=(i[l]||xt)-n[l];for(let l in a)o[l]=(o[l]||xt)-a[l];for(let l in i)l!=="1"&&(t[l]=!0);for(let l in o)l!=="1"&&(t[l]=!0);let s=null,c=null;for(let l in t){let u=i[l]||xt,d=o[l]||xt;if(u===xt){if(d!==xt)return null;continue}let m=d,h=u,f=Ol(m,h);if(m/=f,h/=f,s===null&&c===null)s=m,c=h;else if(m*c!==s*h)return null}return s!==null&&c!==null?oi(s,c):null},equals:function(r,e){return Ki(r,e),this.s*this.n*Qe.d===Qe.s*Qe.n*this.d},lt:function(r,e){return Ki(r,e),this.s*this.n*Qe.d<Qe.s*Qe.n*this.d},lte:function(r,e){return Ki(r,e),this.s*this.n*Qe.d<=Qe.s*Qe.n*this.d},gt:function(r,e){return Ki(r,e),this.s*this.n*Qe.d>Qe.s*Qe.n*this.d},gte:function(r,e){return Ki(r,e),this.s*this.n*Qe.d>=Qe.s*Qe.n*this.d},compare:function(r,e){Ki(r,e);let t=this.s*this.n*Qe.d-Qe.s*Qe.n*this.d;return(xt<t)-(t<xt)},ceil:function(r){return r=Qn**BigInt(r||0),oi(ca(this.s*r*this.n/this.d)+(r*this.n%this.d>xt&&this.s>=xt?Zt:xt),r)},floor:function(r){return r=Qn**BigInt(r||0),oi(ca(this.s*r*this.n/this.d)-(r*this.n%this.d>xt&&this.s<xt?Zt:xt),r)},round:function(r){return r=Qn**BigInt(r||0),oi(ca(this.s*r*this.n/this.d)+this.s*((this.s>=xt?Zt:xt)+yf*(r*this.n%this.d)>this.d?Zt:xt),r)},roundTo:function(r,e){Ki(r,e);let t=this.n*Qe.d,i=this.d*Qe.n,n=t%i,o=ca(t/i);return n+n>=i&&o++,oi(this.s*o*Qe.n,Qe.d)},divisible:function(r,e){return Ki(r,e),!(!(Qe.n*this.d)||this.n*Qe.d%(Qe.n*this.d))},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(r){let e=this.n,t=this.d;r=r||15;let i=Gne(e,t),n=Wne(e,t,i),o=this.s<xt?"-":"";if(o+=ca(e/t),e%=t,e*=Qn,e&&(o+="."),i){for(let a=n;a--;)o+=ca(e/t),e%=t,e*=Qn;o+="(";for(let a=i;a--;)o+=ca(e/t),e%=t,e*=Qn;o+=")"}else for(let a=r;e&&a--;)o+=ca(e/t),e%=t,e*=Qn;return o},toFraction:function(r){let e=this.n,t=this.d,i=this.s<xt?"-":"";if(t===Zt)i+=e;else{let n=ca(e/t);r&&n>xt&&(i+=n,i+=" ",e%=t),i+=e,i+="/",i+=t}return i},toLatex:function(r){let e=this.n,t=this.d,i=this.s<xt?"-":"";if(t===Zt)i+=e;else{let n=ca(e/t);r&&n>xt&&(i+=n,e%=t),i+="\\frac{",i+=e,i+="}{",i+=t,i+="}"}return i},toContinued:function(){let r=this.n,e=this.d,t=[];do{t.push(ca(r/e));let i=r%e;r=e,e=i}while(r!==Zt);return t},simplify:function(r){let e=BigInt(1/(r||.001)|0),t=this.abs(),i=t.toContinued();for(let n=1;n<i.length;n++){let o=oi(i[n-1],Zt);for(let s=n-2;s>=0;s--)o=o.inverse().add(i[s]);let a=o.sub(t);if(a.n*e<a.d)return o.mul(this.s)}return this}};var Xne="Fraction",Kne=[],U1=N(Xne,Kne,()=>(Object.defineProperty(fo,"name",{value:"Fraction"}),fo.prototype.constructor=fo,fo.prototype.type="Fraction",fo.prototype.isFraction=!0,fo.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},fo.fromJSON=function(r){return new fo(r)},fo),{isClass:!0});var Qne="Range",Yne=[],q1=N(Qne,Yne,()=>{function r(e,t,i){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");var n=e!=null,o=t!=null,a=i!=null;if(n){if(tt(e))e=e.toNumber();else if(typeof e!="number")throw new TypeError("Parameter start must be a number")}if(o){if(tt(t))t=t.toNumber();else if(typeof t!="number")throw new TypeError("Parameter end must be a number")}if(a){if(tt(i))i=i.toNumber();else if(typeof i!="number")throw new TypeError("Parameter step must be a number")}this.start=n?parseFloat(e):0,this.end=o?parseFloat(t):0,this.step=a?parseFloat(i):1}return r.prototype.type="Range",r.prototype.isRange=!0,r.parse=function(e){if(typeof e!="string")return null;var t=e.split(":"),i=t.map(function(o){return parseFloat(o)}),n=i.some(function(o){return isNaN(o)});if(n)return null;switch(i.length){case 2:return new r(i[0],i[1]);case 3:return new r(i[0],i[2],i[1]);default:return null}},r.prototype.clone=function(){return new r(this.start,this.end,this.step)},r.prototype.size=function(){var e=0,t=this.start,i=this.step,n=this.end,o=n-t;return Po(i)===Po(o)?e=Math.ceil(o/i):o===0&&(e=0),isNaN(e)&&(e=0),[e]},r.prototype.min=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start:this.start+(e-1)*this.step},r.prototype.max=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start+(e-1)*this.step:this.start},r.prototype.forEach=function(e){var t=this.start,i=this.step,n=this.end,o=0;if(i>0)for(;t<n;)e(t,[o],this),t+=i,o++;else if(i<0)for(;t>n;)e(t,[o],this),t+=i,o++},r.prototype.map=function(e){var t=[];return this.forEach(function(i,n,o){t[n[0]]=e(i,n,o)}),t},r.prototype.toArray=function(){var e=[];return this.forEach(function(t,i){e[i[0]]=t}),e},r.prototype.valueOf=function(){return this.toArray()},r.prototype.format=function(e){var t=oa(this.start,e);return this.step!==1&&(t+=":"+oa(this.step,e)),t+=":"+oa(this.end,e),t},r.prototype.toString=function(){return this.format()},r.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},r.fromJSON=function(e){return new r(e.start,e.end,e.step)},r},{isClass:!0});var Zne="Matrix",Jne=[],j1=N(Zne,Jne,()=>{function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}return r.prototype.type="Matrix",r.prototype.isMatrix=!0,r.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},r.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},r.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},r.prototype.subset=function(e,t,i){throw new Error("Cannot invoke subset on a Matrix interface")},r.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},r.prototype.set=function(e,t,i){throw new Error("Cannot invoke set on a Matrix interface")},r.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},r.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},r.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},r.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},r.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},r.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},r.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},r.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},r.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},r.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},r.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},r},{isClass:!0});function $1(r,e,t){var i=r.constructor,n=new i(2),o="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!je(t))throw new Error("size must be an integer");if(r.greaterThan(n.pow(t-1).sub(1))||r.lessThan(n.pow(t-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!r.isInteger())throw new Error("Value must be an integer");r.lessThan(0)&&(r=r.add(n.pow(t))),o="i".concat(t)}switch(e){case 2:return"".concat(r.toBinary()).concat(o);case 8:return"".concat(r.toOctal()).concat(o);case 16:return"".concat(r.toHexadecimal()).concat(o);default:throw new Error("Base ".concat(e," not supported "))}}function a3(r,e){if(typeof e=="function")return e(r);if(!r.isFinite())return r.isNaN()?"NaN":r.gt(0)?"Infinity":"-Infinity";var{notation:t,precision:i,wordSize:n}=D1(e);switch(t){case"fixed":return toe(r,i);case"exponential":return n3(r,i);case"engineering":return eoe(r,i);case"bin":return $1(r,2,n);case"oct":return $1(r,8,n);case"hex":return $1(r,16,n);case"auto":{var o=o3(e?.lowerExp,-3),a=o3(e?.upperExp,5);if(r.isZero())return"0";var s,c=r.toSignificantDigits(i),l=c.e;return l>=o&&l<a?s=c.toFixed():s=n3(r,i),s.replace(/((\.\d*?)(0+))($|e)/,function(){var u=arguments[2],d=arguments[4];return u!=="."?u+d:d})}default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function eoe(r,e){var t=r.e,i=t%3===0?t:t<0?t-3-t%3:t-t%3,n=r.mul(Math.pow(10,-i)),o=n.toPrecision(e);if(o.includes("e")){var a=r.constructor;o=new a(o).toFixed()}return o+"e"+(t>=0?"+":"")+i.toString()}function n3(r,e){return e!==void 0?r.toExponential(e-1):r.toExponential()}function toe(r,e){return r.toFixed(e)}function o3(r,e){return mt(r)?r:tt(r)?r.toNumber():e}function c3(r,e){var t=r.length-e.length,i=r.length;return r.substring(t,i)===e}function vt(r,e){var t=roe(r,e);return e&&typeof e=="object"&&"truncate"in e&&t.length>e.truncate?t.substring(0,e.truncate-3)+"...":t}function roe(r,e){if(typeof r=="number")return oa(r,e);if(tt(r))return a3(r,e);if(ioe(r))return!e||e.fraction!=="decimal"?"".concat(r.s*r.n,"/").concat(r.d):r.toString();if(Array.isArray(r))return l3(r,e);if(ni(r))return Pl(r);if(typeof r=="function")return r.syntax?String(r.syntax):"function";if(r&&typeof r=="object"){if(typeof r.format=="function")return r.format(e);if(r&&r.toString(e)!=={}.toString())return r.toString(e);var t=Object.keys(r).map(i=>Pl(i)+": "+vt(r[i],e));return"{"+t.join(", ")+"}"}return String(r)}function Pl(r){for(var e=String(r),t="",i=0;i<e.length;){var n=e.charAt(i);t+=n in s3?s3[n]:n,i++}return'"'+t+'"'}var s3={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function $i(r){var e=String(r);return e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e}function l3(r,e){if(Array.isArray(r)){for(var t="[",i=r.length,n=0;n<i;n++)n!==0&&(t+=", "),t+=l3(r[n],e);return t+="]",t}else return vt(r,e)}function ioe(r){return r&&typeof r=="object"&&typeof r.s=="bigint"&&typeof r.n=="bigint"&&typeof r.d=="bigint"||!1}function y0(r,e){if(!ni(r))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Ht(r)+", index: 0)");if(!ni(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Ht(e)+", index: 1)");return r===e?0:r>e?1:-1}function bt(r,e,t){if(!(this instanceof bt))throw new SyntaxError("Constructor must be called with the new operator");this.actual=r,this.expected=e,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(r)?"["+r.join(", ")+"]":r)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}bt.prototype=new RangeError;bt.prototype.constructor=RangeError;bt.prototype.name="DimensionError";bt.prototype.isDimensionError=!0;function cn(r,e,t){if(!(this instanceof cn))throw new SyntaxError("Constructor must be called with the new operator");this.index=r,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=t),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}cn.prototype=new RangeError;cn.prototype.constructor=RangeError;cn.prototype.name="IndexError";cn.prototype.isIndexError=!0;function it(r){for(var e=[];Array.isArray(r);)e.push(r.length),r=r[0];return e}function u3(r,e,t){var i,n=r.length;if(n!==e[t])throw new bt(n,e[t]);if(t<e.length-1){var o=t+1;for(i=0;i<n;i++){var a=r[i];if(!Array.isArray(a))throw new bt(e.length-1,e.length,"<");u3(r[i],e,o)}}else for(i=0;i<n;i++)if(Array.isArray(r[i]))throw new bt(e.length+1,e.length,">")}function G1(r,e){var t=e.length===0;if(t){if(Array.isArray(r))throw new bt(r.length,0)}else u3(r,e,0)}function bf(r,e){var t=r.isMatrix?r._size:it(r),i=e._sourceSize;i.forEach((n,o)=>{if(n!==null&&n!==t[o])throw new bt(n,t[o])})}function Er(r,e){if(r!==void 0){if(!mt(r)||!je(r))throw new TypeError("Index must be an integer (value: "+r+")");if(r<0||typeof e=="number"&&r>=e)throw new cn(r,e)}}function Bl(r){for(var e=0;e<r._dimensions.length;++e){var t=r._dimensions[e];if(t._data&&tr(t._data)){if(t._size[0]===0)return!0}else if(t.isRange){if(t.start===t.end)return!0}else if(ni(t)&&t.length===0)return!0}return!1}function la(r,e,t){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(n){if(!mt(n)||!je(n)||n<0)throw new TypeError("Invalid size, must contain positive integers (size: "+vt(e)+")")}),(mt(r)||tt(r))&&(r=[r]);var i=t!==void 0?t:0;return H1(r,e,0,i),r}function H1(r,e,t,i){var n,o,a=r.length,s=e[t],c=Math.min(a,s);if(r.length=s,t<e.length-1){var l=t+1;for(n=0;n<c;n++)o=r[n],Array.isArray(o)||(o=[o],r[n]=o),H1(o,e,l,i);for(n=c;n<s;n++)o=[],r[n]=o,H1(o,e,l,i)}else{for(n=0;n<c;n++)for(;Array.isArray(r[n]);)r[n]=r[n][0];for(n=c;n<s;n++)r[n]=i}}function _f(r,e){var t=kt(r),i=t.length;if(!Array.isArray(r)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new bt(0,i,"!=");e=xf(e,i);var n=d3(e);if(i!==n)throw new bt(n,i,"!=");try{return noe(t,e)}catch(o){throw o instanceof bt?new bt(n,i,"!="):o}}function xf(r,e){var t=d3(r),i=r.slice(),n=-1,o=r.indexOf(n),a=r.indexOf(n,o+1)>=0;if(a)throw new Error("More than one wildcard in sizes");var s=o>=0,c=e%t===0;if(s)if(c)i[o]=-e/t;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-t);return i}function d3(r){return r.reduce((e,t)=>e*t,1)}function noe(r,e){for(var t=r,i,n=e.length-1;n>0;n--){var o=e[n];i=[];for(var a=t.length/o,s=0;s<a;s++)i.push(t.slice(s*o,(s+1)*o));t=i}return t}function Cd(r,e){for(var t=e||it(r);Array.isArray(r)&&r.length===1;)r=r[0],t.shift();for(var i=t.length;t[i-1]===1;)i--;return i<t.length&&(r=m3(r,i,0),t.length=i),r}function m3(r,e,t){var i,n;if(t<e){var o=t+1;for(i=0,n=r.length;i<n;i++)r[i]=m3(r[i],e,o)}else for(;Array.isArray(r);)r=r[0];return r}function b0(r,e,t,i){var n=i||it(r);if(t)for(var o=0;o<t;o++)r=[r],n.unshift(1);for(r=h3(r,e,0);n.length<e;)n.push(1);return r}function h3(r,e,t){var i,n;if(Array.isArray(r)){var o=t+1;for(i=0,n=r.length;i<n;i++)r[i]=h3(r[i],e,o)}else for(var a=t;a<e;a++)r=[r];return r}function kt(r){if(!Array.isArray(r))return r;var e=[];return r.forEach(function t(i){Array.isArray(i)?i.forEach(t):e.push(i)}),e}function Lo(r,e){return Array.prototype.map.call(r,e)}function _0(r,e){Array.prototype.forEach.call(r,e)}function f3(r,e){if(it(r).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(r,e)}function W1(r,e){if(it(r).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(r,t=>e.test(t))}function X1(r,e){return Array.prototype.join.call(r,e)}function fs(r){if(!Array.isArray(r))throw new TypeError("Array input expected");if(r.length===0)return r;var e=[],t=0;e[0]={value:r[0],identifier:0};for(var i=1;i<r.length;i++)r[i]===r[i-1]?t++:t=0,e.push({value:r[i],identifier:t});return e}function Sd(r){if(!Array.isArray(r))throw new TypeError("Array input expected");if(r.length===0)return r;for(var e=[],t=0;t<r.length;t++)e.push(r[t].value);return e}function Ll(r,e){for(var t,i=0,n=0;n<r.length;n++){var o=r[n],a=Array.isArray(o);if(n===0&&a&&(i=o.length),a&&o.length!==i)return;var s=a?Ll(o,e):e(o);if(t===void 0)t=s;else if(t!==s)return"mixed"}return t}function p3(r,e,t,i){if(i<t){if(r.length!==e.length)throw new bt(r.length,e.length);for(var n=[],o=0;o<r.length;o++)n[o]=p3(r[o],e[o],t,i+1);return n}else return r.concat(e)}function K1(){var r=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(r.length===1)return r[0];if(r.length>1)return r.slice(1).reduce(function(t,i){return p3(t,i,e,0)},r[0]);throw new Error("Wrong number of arguments in function concat")}function wf(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];for(var i=e.map(m=>m.length),n=Math.max(...i),o=new Array(n).fill(null),a=0;a<e.length;a++)for(var s=e[a],c=i[a],l=0;l<c;l++){var u=n-c+l;s[l]>o[u]&&(o[u]=s[l])}for(var d=0;d<e.length;d++)g3(e[d],o);return o}function g3(r,e){for(var t=e.length,i=r.length,n=0;n<i;n++){var o=t-i+n;if(r[n]<e[o]&&r[n]>1||r[n]>e[o])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(r,") not possible to broadcast dimension ").concat(i," with size ").concat(r[n]," to size ").concat(e[o]))}}function ka(r,e){var t=it(r);if(Xn(t,e))return r;g3(t,e);var i=wf(t,e),n=i.length,o=[...Array(n-t.length).fill(1),...t],a=aoe(r);t.length<n&&(a=_f(a,o),t=it(a));for(var s=0;s<n;s++)t[s]<i[s]&&(a=ooe(a,i[s],s),t=it(a));return a}function ooe(r,e,t){return K1(...Array(e).fill(r),t)}function Td(r,e){if(!Array.isArray(r))throw new Error("Array expected");var t=it(r);if(e.length!==t.length)throw new bt(e.length,t.length);for(var i=0;i<e.length;i++)Er(e[i],t[i]);return e.reduce((n,o)=>n[o],r)}function Ef(r,e,t,i){return Array.isArray(r)?r.map(function(n,o){return Ef(n,e.concat(o),t,i)}):i(r,e,t)}function aoe(r){return Kr([],r)}var Q1=zu(w1(),1);function Vo(r,e,t){if(Q1.default.isTypedFunction(r)){var i=(e.isMatrix?e.size():it(e)).map(()=>0),n=e.isMatrix?e.get(i):Td(e,i),o=Object.keys(r.signatures).length===1,a=soe(r,n,i,e),s=o?Object.values(r.signatures)[0]:r;return a>=1&&a<=3?function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];return v3(s,l.slice(0,a),t,r.name)}:function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];return v3(s,l,t,r.name)}}return r}function soe(r,e,t,i){for(var n=[e,t,i],o=3;o>0;o--){var a=n.slice(0,o);if(Q1.default.resolve(r,a)!==null)return o}}function v3(r,e,t,i){try{return r(...e)}catch(n){coe(n,e,t,i)}}function coe(r,e,t,i){var n;if(r instanceof TypeError&&((n=r.data)===null||n===void 0?void 0:n.category)==="wrongType"){var o=[];throw o.push("value: ".concat(Ht(e[0]))),e.length>=2&&o.push("index: ".concat(Ht(e[1]))),e.length>=3&&o.push("array: ".concat(Ht(e[2]))),new TypeError("Function ".concat(t," cannot apply callback arguments ")+"".concat(i,"(").concat(o.join(", "),") at index ").concat(JSON.stringify(e[1])))}else throw new TypeError("Function ".concat(t," cannot apply callback arguments ")+"to function ".concat(i,": ").concat(r.message))}var loe="DenseMatrix",uoe=["Matrix"],Y1=N(loe,uoe,r=>{var{Matrix:e}=r;function t(u,d){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(d&&!ni(d))throw new Error("Invalid datatype: "+d);if(He(u))u.type==="DenseMatrix"?(this._data=at(u._data),this._size=at(u._size),this._datatype=d||u._datatype):(this._data=u.toArray(),this._size=u.size(),this._datatype=d||u._datatype);else if(u&&tr(u.data)&&tr(u.size))this._data=u.data,this._size=u.size,G1(this._data,this._size),this._datatype=d||u.datatype;else if(tr(u))this._data=l(u),this._size=it(this._data),G1(this._data,this._size),this._datatype=d;else{if(u)throw new TypeError("Unsupported type of data ("+Ht(u)+")");this._data=[],this._size=[0],this._datatype=d}}t.prototype=new e,t.prototype.createDenseMatrix=function(u,d){return new t(u,d)},Object.defineProperty(t,"name",{value:"DenseMatrix"}),t.prototype.constructor=t,t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return Ll(this._data,Ht)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(u,d){return new t(u,d)},t.prototype.subset=function(u,d,m){switch(arguments.length){case 1:return i(this,u);case 2:case 3:return o(this,u,d,m);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(u){return Td(this._data,u)},t.prototype.set=function(u,d,m){if(!tr(u))throw new TypeError("Array expected");if(u.length<this._size.length)throw new bt(u.length,this._size.length,"<");var h,f,p,w=u.map(function(T){return T+1});c(this,w,m);var C=this._data;for(h=0,f=u.length-1;h<f;h++)p=u[h],Er(p,C.length),C=C[p];return p=u[u.length-1],Er(p,C.length),C[p]=d,this};function i(u,d){if(!mc(d))throw new TypeError("Invalid index");var m=d.isScalar();if(m)return u.get(d.min());var h=d.size();if(h.length!==u._size.length)throw new bt(h.length,u._size.length);for(var f=d.min(),p=d.max(),w=0,C=u._size.length;w<C;w++)Er(f[w],u._size[w]),Er(p[w],u._size[w]);return new t(n(u._data,d,h.length,0),u._datatype)}function n(u,d,m,h){var f=h===m-1,p=d.dimension(h);return f?p.map(function(w){return Er(w,u.length),u[w]}).valueOf():p.map(function(w){Er(w,u.length);var C=u[w];return n(C,d,m,h+1)}).valueOf()}function o(u,d,m,h){if(!d||d.isIndex!==!0)throw new TypeError("Invalid index");var f=d.size(),p=d.isScalar(),w;if(He(m)?(w=m.size(),m=m.valueOf()):w=it(m),p){if(w.length!==0)throw new TypeError("Scalar expected");u.set(d.min(),m,h)}else{if(!Xn(w,f))try{w.length===0?m=ka([m],f):m=ka(m,f),w=it(m)}catch{}if(f.length<u._size.length)throw new bt(f.length,u._size.length,"<");if(w.length<f.length){for(var C=0,T=0;f[C]===1&&w[C]===1;)C++;for(;f[C]===1;)T++,C++;m=b0(m,f.length,T,w)}if(!Xn(f,w))throw new bt(f,w,">");var g=d.max().map(function(y){return y+1});c(u,g,h);var _=f.length,v=0;a(u._data,d,m,_,v)}return u}function a(u,d,m,h,f){var p=f===h-1,w=d.dimension(f);p?w.forEach(function(C,T){Er(C),u[C]=m[T[0]]}):w.forEach(function(C,T){Er(C),a(u[C],d,m[T[0]],h,f+1)})}t.prototype.resize=function(u,d,m){if(!di(u))throw new TypeError("Array or Matrix expected");var h=u.valueOf().map(p=>Array.isArray(p)&&p.length===1?p[0]:p),f=m?this.clone():this;return s(f,h,d)};function s(u,d,m){if(d.length===0){for(var h=u._data;tr(h);)h=h[0];return h}return u._size=d.slice(0),u._data=la(u._data,u._size,m),u}t.prototype.reshape=function(u,d){var m=d?this.clone():this;m._data=_f(m._data,u);var h=m._size.reduce((f,p)=>f*p);return m._size=xf(u,h),m};function c(u,d,m){for(var h=u._size.slice(0),f=!1;h.length<d.length;)h.push(0),f=!0;for(var p=0,w=d.length;p<w;p++)d[p]>h[p]&&(h[p]=d[p],f=!0);f&&s(u,h,m)}t.prototype.clone=function(){var u=new t({data:at(this._data),size:at(this._size),datatype:this._datatype});return u},t.prototype.size=function(){return this._size.slice(0)},t.prototype._forEach=function(u){var d=this,m=d.size();if(m.length===1){for(var h=0;h<m[0];h++)u(d._data,h,[h]);return}var f=Array(m.length).fill(0),p=Array(m.length-1),w=p.length-1;p[0]=d._data[0];for(var C=0;C<w;C++)p[C+1]=p[C][0];for(f[w]=-1;;){var T=void 0;for(T=w;T>=0;T--){if(f[T]++,f[T]===m[T]){f[T]=0;continue}p[T]=T===0?d._data[f[T]]:p[T-1][f[T]];for(var g=T;g<w;g++)p[g+1]=p[g][0];for(var _=0;_<m[p.length];_++)f[p.length]=_,u(p[w],_,f.slice(0));break}if(T===-1)break}},t.prototype.map=function(u){var d=this,m=new t(d),h=Vo(u,d._data,"map");return m._forEach(function(f,p,w){f[p]=h(f[p],w,d)}),m},t.prototype.forEach=function(u){var d=this,m=Vo(u,d._data,"map");d._forEach(function(h,f,p){m(h[f],p,d)})},t.prototype[Symbol.iterator]=function*(){var u=function*(m,h){if(tr(m))for(var f=0;f<m.length;f++)yield*Px(u(m[f],h.concat(f)));else yield{value:m,index:h}};yield*Px(u(this._data,[]))},t.prototype.rows=function(){var u=[],d=this.size();if(d.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var m=this._data;for(var h of m)u.push(new t([h],this._datatype));return u},t.prototype.columns=function(){var u=this,d=[],m=this.size();if(m.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var h=this._data,f=function(C){var T=h.map(g=>[g[C]]);d.push(new t(T,u._datatype))},p=0;p<m[1];p++)f(p);return d},t.prototype.toArray=function(){return at(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(u){return vt(this._data,u)},t.prototype.toString=function(){return vt(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(u){if(u){if(tt(u)&&(u=u.toNumber()),!mt(u)||!je(u))throw new TypeError("The parameter k must be an integer number")}else u=0;for(var d=u>0?u:0,m=u<0?-u:0,h=this._size[0],f=this._size[1],p=Math.min(h-m,f-d),w=[],C=0;C<p;C++)w[C]=this._data[C+m][C+d];return new t({data:w,size:[p],datatype:this._datatype})},t.diagonal=function(u,d,m,h){if(!tr(u))throw new TypeError("Array expected, size parameter");if(u.length!==2)throw new Error("Only two dimensions matrix are supported");if(u=u.map(function(A){if(tt(A)&&(A=A.toNumber()),!mt(A)||!je(A)||A<1)throw new Error("Size values must be positive integers");return A}),m){if(tt(m)&&(m=m.toNumber()),!mt(m)||!je(m))throw new TypeError("The parameter k must be an integer number")}else m=0;var f=m>0?m:0,p=m<0?-m:0,w=u[0],C=u[1],T=Math.min(w-p,C-f),g;if(tr(d)){if(d.length!==T)throw new Error("Invalid value array length");g=function(b){return d[b]}}else if(He(d)){var _=d.size();if(_.length!==1||_[0]!==T)throw new Error("Invalid matrix length");g=function(b){return d.get([b])}}else g=function(){return d};h||(h=tt(g(0))?g(0).mul(0):0);var v=[];if(u.length>0){v=la(v,u,h);for(var y=0;y<T;y++)v[y+p][y+f]=g(y)}return new t({data:v,size:[w,C]})},t.fromJSON=function(u){return new t(u)},t.prototype.swapRows=function(u,d){if(!mt(u)||!je(u)||!mt(d)||!je(d))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Er(u,this._size[0]),Er(d,this._size[0]),t._swapRows(u,d,this._data),this},t._swapRows=function(u,d,m){var h=m[u];m[u]=m[d],m[d]=h};function l(u){return He(u)?l(u.valueOf()):tr(u)?u.map(l):u}return t},{isClass:!0});var y3="clone",doe=["typed"],Z1=N(y3,doe,r=>{var{typed:e}=r;return e(y3,{any:at})});function x0(r){var e=r.length,t=r[0].length,i,n,o=[];for(n=0;n<t;n++){var a=[];for(i=0;i<e;i++)a.push(r[i][n]);o.push(a)}return o}function zo(r){for(var e=0;e<r.length;e++)if(di(r[e]))return!0;return!1}function En(r,e){He(r)&&(r=r.valueOf());for(var t=0,i=r.length;t<i;t++){var n=r[t];Array.isArray(n)?En(n,e):e(n)}}function Ge(r,e,t){return r&&typeof r.map=="function"?r.map(function(i){return Ge(i,e,t)}):e(r)}function bc(r,e,t){var i=Array.isArray(r)?it(r):r.size();if(e<0||e>=i.length)throw new cn(e,i.length);return He(r)?r.create(w0(r.valueOf(),e,t),r.datatype()):w0(r,e,t)}function w0(r,e,t){var i,n,o,a;if(e<=0)if(Array.isArray(r[0])){for(a=x0(r),n=[],i=0;i<a.length;i++)n[i]=w0(a[i],e-1,t);return n}else{for(o=r[0],i=1;i<r.length;i++)o=t(o,r[i]);return o}else{for(n=[],i=0;i<r.length;i++)n[i]=w0(r[i],e-1,t);return n}}function J1(r,e,t,i,n,o,a,s,c,l,u){var d=r._values,m=r._index,h=r._ptr,f,p,w,C;if(i)for(p=h[e],w=h[e+1],f=p;f<w;f++)C=m[f],t[C]!==o?(t[C]=o,a.push(C),l?(i[C]=c?s(d[f],u):s(u,d[f]),n[C]=o):i[C]=d[f]):(i[C]=c?s(d[f],i[C]):s(i[C],d[f]),n[C]=o);else for(p=h[e],w=h[e+1],f=p;f<w;f++)C=m[f],t[C]!==o?(t[C]=o,a.push(C)):n[C]=o}var b3="isInteger",moe=["typed"],eE=N(b3,moe,r=>{var{typed:e}=r;return e(b3,{number:je,BigNumber:function(i){return i.isInt()},bigint:function(i){return!0},Fraction:function(i){return i.d===1n},"Array | Matrix":e.referToSelf(t=>i=>Ge(i,t))})});var Yn="number",ps="number, number";function tE(r){return Math.abs(r)}tE.signature=Yn;function rE(r,e){return r+e}rE.signature=ps;function iE(r,e){return r-e}iE.signature=ps;function nE(r,e){return r*e}nE.signature=ps;function hoe(r,e){return r/e}hoe.signature=ps;function oE(r){return-r}oE.signature=Yn;function aE(r){return r}aE.signature=Yn;function Id(r){return RL(r)}Id.signature=Yn;function sE(r){return r*r*r}sE.signature=Yn;function cE(r){return Math.exp(r)}cE.signature=Yn;function lE(r){return FL(r)}lE.signature=Yn;function foe(r,e){if(!je(r)||!je(e))throw new Error("Parameters in function gcd must be integer numbers");for(var t;e!==0;)t=r%e,r=e,e=t;return r<0?-r:r}foe.signature=ps;function uE(r,e){if(!je(r)||!je(e))throw new Error("Parameters in function lcm must be integer numbers");if(r===0||e===0)return 0;for(var t,i=r*e;e!==0;)t=e,e=r%t,r=t;return Math.abs(i/r)}uE.signature=ps;function _3(r,e){return e?Math.log(r)/Math.log(e):Math.log(r)}function dE(r){return kL(r)}dE.signature=Yn;function mE(r){return NL(r)}mE.signature=Yn;function poe(r){return n0(r)}poe.signature=Yn;function goe(r,e){return e===0?r:r-e*Math.floor(r/e)}goe.signature=ps;function hE(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,t=e<0;if(t&&(e=-e),e===0)throw new Error("Root must be non-zero");if(r<0&&Math.abs(e)%2!==1)throw new Error("Root must be odd when a is negative.");if(r===0)return t?1/0:0;if(!isFinite(r))return t?0:r;var i=Math.pow(Math.abs(r),1/e);return i=r<0?-i:i,t?1/i:i}function E0(r){return Po(r)}E0.signature=Yn;function voe(r){return Math.sqrt(r)}voe.signature=Yn;function fE(r){return r*r}fE.signature=Yn;function pE(r,e){var t,i,n,o=0,a=1,s=1,c=0;if(!je(r)||!je(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)i=Math.floor(r/e),n=r-i*e,t=o,o=a-i*o,a=t,t=s,s=c-i*s,c=t,r=e,e=n;var l;return r<0?l=[-r,-a,-c]:l=[r,r?a:0,c],l}pE.signature=ps;function gE(r,e){return r*r<1&&e===1/0||r*r>1&&e===-1/0?0:Math.pow(r,e)}gE.signature=ps;function Md(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!je(e)||e<0||e>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(A1(r,e))}function yoe(r){return Math.abs(r)}yoe.signature=Yn;var boe="number",Nd="number, number";function vE(r,e){if(!je(r)||!je(e))throw new Error("Integers expected in function bitAnd");return r&e}vE.signature=Nd;function yE(r){if(!je(r))throw new Error("Integer expected in function bitNot");return~r}yE.signature=boe;function bE(r,e){if(!je(r)||!je(e))throw new Error("Integers expected in function bitOr");return r|e}bE.signature=Nd;function _E(r,e){if(!je(r)||!je(e))throw new Error("Integers expected in function bitXor");return r^e}_E.signature=Nd;function xE(r,e){if(!je(r)||!je(e))throw new Error("Integers expected in function leftShift");return r<<e}xE.signature=Nd;function wE(r,e){if(!je(r)||!je(e))throw new Error("Integers expected in function rightArithShift");return r>>e}wE.signature=Nd;function EE(r,e){if(!je(r)||!je(e))throw new Error("Integers expected in function rightLogShift");return r>>>e}EE.signature=Nd;function po(r,e){if(e<r)return 1;if(e===r)return e;var t=e+r>>1;return po(r,t)*po(t+1,e)}function DE(r,e){if(!je(r)||r<0)throw new TypeError("Positive integer value expected in function combinations");if(!je(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>r)throw new TypeError("k must be less than or equal to n");for(var t=r-e,i=1,n=e<t?t+1:e+1,o=2,a=e<t?e:t,s=n;s<=r;++s)for(i*=s;o<=a&&i%o===0;)i/=o,++o;return o<=a&&(i/=po(o,a)),i}DE.signature="number, number";var x3=Math.PI,w3=2*Math.PI,E3=Math.E,D3=1.618033988749895;var _oe="number",AE="number, number";function CE(r){return!r}CE.signature=_oe;function D0(r,e){return!!(r||e)}D0.signature=AE;function A0(r,e){return!!r!=!!e}A0.signature=AE;function C0(r,e){return!!(r&&e)}C0.signature=AE;function Df(r){var e;if(je(r))return r<=0?isFinite(r)?1/0:NaN:r>171?1/0:po(1,r-1);if(r<.5)return Math.PI/(Math.sin(Math.PI*r)*Df(1-r));if(r>=171.35)return 1/0;if(r>85){var t=r*r,i=t*r,n=i*r,o=n*r;return Math.sqrt(2*Math.PI/r)*Math.pow(r/Math.E,r)*(1+1/(12*r)+1/(288*t)-139/(51840*i)-571/(2488320*n)+163879/(209018880*o)+5246819/(75246796800*o*r))}--r,e=Vl[0];for(var a=1;a<Vl.length;++a)e+=Vl[a]/(r+a);var s=r+SE+.5;return Math.sqrt(2*Math.PI)*Math.pow(s,r+.5)*Math.exp(-s)*e}Df.signature="number";var SE=4.7421875,Vl=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],TE=.9189385332046728,xoe=5,woe=7,A3=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function Af(r){if(r<0)return NaN;if(r===0)return 1/0;if(!isFinite(r))return r;if(r<.5)return Math.log(Math.PI/Math.sin(Math.PI*r))-Af(1-r);r=r-1;for(var e=r+xoe+.5,t=A3[0],i=woe-1;i>=1;i--)t+=A3[i]/(r+i);return TE+(r+.5)*Math.log(e)-e+Math.log(t)}Af.signature="number";var ai="number",Eoe="number, number";function Doe(r){return Math.acos(r)}Doe.signature=ai;function IE(r){return BL(r)}IE.signature=ai;function ME(r){return Math.atan(1/r)}ME.signature=ai;function NE(r){return isFinite(r)?(Math.log((r+1)/r)+Math.log(r/(r-1)))/2:0}NE.signature=ai;function kE(r){return Math.asin(1/r)}kE.signature=ai;function RE(r){var e=1/r;return Math.log(e+Math.sqrt(e*e+1))}RE.signature=ai;function FE(r){return Math.acos(1/r)}FE.signature=ai;function OE(r){var e=1/r,t=Math.sqrt(e*e-1);return Math.log(t+e)}OE.signature=ai;function Aoe(r){return Math.asin(r)}Aoe.signature=ai;function PE(r){return LL(r)}PE.signature=ai;function Coe(r){return Math.atan(r)}Coe.signature=ai;function Soe(r,e){return Math.atan2(r,e)}Soe.signature=Eoe;function BE(r){return VL(r)}BE.signature=ai;function Toe(r){return Math.cos(r)}Toe.signature=ai;function Ioe(r){return a0(r)}Ioe.signature=ai;function LE(r){return 1/Math.tan(r)}LE.signature=ai;function VE(r){var e=Math.exp(2*r);return(e+1)/(e-1)}VE.signature=ai;function zE(r){return 1/Math.sin(r)}zE.signature=ai;function UE(r){return r===0?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(r)-Math.exp(-r)))*Po(r)}UE.signature=ai;function qE(r){return 1/Math.cos(r)}qE.signature=ai;function jE(r){return 2/(Math.exp(r)+Math.exp(-r))}jE.signature=ai;function Moe(r){return Math.sin(r)}Moe.signature=ai;function $E(r){return zL(r)}$E.signature=ai;function Noe(r){return Math.tan(r)}Noe.signature=ai;function koe(r){return s0(r)}koe.signature=ai;var Cf="number";function Roe(r){return je(r)}Roe.signature=Cf;function HE(r){return r<0}HE.signature=Cf;function GE(r){return r>0}GE.signature=Cf;function Foe(r){return r===0}Foe.signature=Cf;function WE(r){return Number.isNaN(r)}WE.signature=Cf;function Jr(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(t<=0)throw new Error("Relative tolerance must be greater than 0");if(i<0)throw new Error("Absolute tolerance must be at least 0");return r.isNaN()||e.isNaN()?!1:!r.isFinite()||!e.isFinite()?r.eq(e):r.eq(e)?!0:r.minus(e).abs().lte(r.constructor.max(r.constructor.max(r.abs(),e.abs()).mul(t),i))}var C3="isNegative",Ooe=["typed","config"],XE=N(C3,Ooe,r=>{var{typed:e,config:t}=r;return e(C3,{number:i=>Vr(i,0,t.relTol,t.absTol)?!1:HE(i),BigNumber:i=>Jr(i,new i.constructor(0),t.relTol,t.absTol)?!1:i.isNeg()&&!i.isZero()&&!i.isNaN(),bigint:i=>i<0n,Fraction:i=>i.s<0n,Unit:e.referToSelf(i=>n=>e.find(i,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(i=>n=>Ge(n,i))})});var S3="isNumeric",Poe=["typed"],KE=N(S3,Poe,r=>{var{typed:e}=r;return e(S3,{"number | BigNumber | bigint | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":e.referToSelf(t=>i=>Ge(i,t))})});var T3="hasNumericValue",Boe=["typed","isNumeric"],QE=N(T3,Boe,r=>{var{typed:e,isNumeric:t}=r;return e(T3,{boolean:()=>!0,string:function(n){return n.trim().length>0&&!isNaN(Number(n))},any:function(n){return t(n)}})});var I3="isPositive",Loe=["typed","config"],YE=N(I3,Loe,r=>{var{typed:e,config:t}=r;return e(I3,{number:i=>Vr(i,0,t.relTol,t.absTol)?!1:GE(i),BigNumber:i=>Jr(i,new i.constructor(0),t.relTol,t.absTol)?!1:!i.isNeg()&&!i.isZero()&&!i.isNaN(),bigint:i=>i>0n,Fraction:i=>i.s>0n&&i.n>0n,Unit:e.referToSelf(i=>n=>e.find(i,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(i=>n=>Ge(n,i))})});var M3="isZero",Voe=["typed","equalScalar"],ZE=N(M3,Voe,r=>{var{typed:e,equalScalar:t}=r;return e(M3,{"number | BigNumber | Complex | Fraction":i=>t(i,0),bigint:i=>i===0n,Unit:e.referToSelf(i=>n=>e.find(i,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(i=>n=>Ge(n,i))})});var N3="isNaN",zoe=["typed"],JE=N(N3,zoe,r=>{var{typed:e}=r;return e(N3,{number:WE,BigNumber:function(i){return i.isNaN()},bigint:function(i){return!1},Fraction:function(i){return!1},Complex:function(i){return i.isNaN()},Unit:function(i){return Number.isNaN(i.value)},"Array | Matrix":e.referToSelf(t=>i=>Ge(i,t))})});var k3="typeOf",Uoe=["typed"],eD=N(k3,Uoe,r=>{var{typed:e}=r;return e(k3,{any:Ht})});function R3(r,e,t,i){return Vr(r.re,e.re,t,i)&&Vr(r.im,e.im,t,i)}var Uo=N("compareUnits",["typed"],r=>{var{typed:e}=r;return{"Unit, Unit":e.referToSelf(t=>(i,n)=>{if(!i.equalBase(n))throw new Error("Cannot compare units with different base");return e.find(t,[i.valueType(),n.valueType()])(i.value,n.value)})}});var S0="equalScalar",qoe=["typed","config"],tD=N(S0,qoe,r=>{var{typed:e,config:t}=r,i=Uo({typed:e});return e(S0,{"boolean, boolean":function(o,a){return o===a},"number, number":function(o,a){return Vr(o,a,t.relTol,t.absTol)},"BigNumber, BigNumber":function(o,a){return o.eq(a)||Jr(o,a,t.relTol,t.absTol)},"bigint, bigint":function(o,a){return o===a},"Fraction, Fraction":function(o,a){return o.equals(a)},"Complex, Complex":function(o,a){return R3(o,a,t.relTol,t.absTol)}},i)}),CDe=N(S0,["typed","config"],r=>{var{typed:e,config:t}=r;return e(S0,{"number, number":function(n,o){return Vr(n,o,t.relTol,t.absTol)}})});var joe="SparseMatrix",$oe=["typed","equalScalar","Matrix"],rD=N(joe,$oe,r=>{var{typed:e,equalScalar:t,Matrix:i}=r;function n(p,w){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(w&&!ni(w))throw new Error("Invalid datatype: "+w);if(He(p))o(this,p,w);else if(p&&tr(p.index)&&tr(p.ptr)&&tr(p.size))this._values=p.values,this._index=p.index,this._ptr=p.ptr,this._size=p.size,this._datatype=w||p.datatype;else if(tr(p))a(this,p,w);else{if(p)throw new TypeError("Unsupported type of data ("+Ht(p)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=w}}function o(p,w,C){w.type==="SparseMatrix"?(p._values=w._values?at(w._values):void 0,p._index=at(w._index),p._ptr=at(w._ptr),p._size=at(w._size),p._datatype=C||w._datatype):a(p,w.valueOf(),C||w._datatype)}function a(p,w,C){p._values=[],p._index=[],p._ptr=[],p._datatype=C;var T=w.length,g=0,_=t,v=0;if(ni(C)&&(_=e.find(t,[C,C])||t,v=e.convert(0,C)),T>0){var y=0;do{p._ptr.push(p._index.length);for(var A=0;A<T;A++){var b=w[A];if(tr(b)){if(y===0&&g<b.length&&(g=b.length),y<b.length){var E=b[y];_(E,v)||(p._values.push(E),p._index.push(A))}}else y===0&&g<1&&(g=1),_(b,v)||(p._values.push(b),p._index.push(A))}y++}while(y<g)}p._ptr.push(p._index.length),p._size=[T,g]}n.prototype=new i,n.prototype.createSparseMatrix=function(p,w){return new n(p,w)},Object.defineProperty(n,"name",{value:"SparseMatrix"}),n.prototype.constructor=n,n.prototype.type="SparseMatrix",n.prototype.isSparseMatrix=!0,n.prototype.getDataType=function(){return Ll(this._values,Ht)},n.prototype.storage=function(){return"sparse"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(p,w){return new n(p,w)},n.prototype.density=function(){var p=this._size[0],w=this._size[1];return p!==0&&w!==0?this._index.length/(p*w):0},n.prototype.subset=function(p,w,C){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return s(this,p);case 2:case 3:return c(this,p,w,C);default:throw new SyntaxError("Wrong number of arguments")}};function s(p,w){if(!mc(w))throw new TypeError("Invalid index");var C=w.isScalar();if(C)return p.get(w.min());var T=w.size();if(T.length!==p._size.length)throw new bt(T.length,p._size.length);var g,_,v,y,A=w.min(),b=w.max();for(g=0,_=p._size.length;g<_;g++)Er(A[g],p._size[g]),Er(b[g],p._size[g]);var E=p._values,D=p._index,S=p._ptr,I=w.dimension(0),M=w.dimension(1),q=[],U=[];I.forEach(function(B,ee){U[B]=ee[0],q[B]=!0});var F=E?[]:void 0,O=[],G=[];return M.forEach(function(B){for(G.push(O.length),v=S[B],y=S[B+1];v<y;v++)g=D[v],q[g]===!0&&(O.push(U[g]),F&&F.push(E[v]))}),G.push(O.length),new n({values:F,index:O,ptr:G,size:T,datatype:p._datatype})}function c(p,w,C,T){if(!w||w.isIndex!==!0)throw new TypeError("Invalid index");var g=w.size(),_=w.isScalar(),v;if(He(C)?(v=C.size(),C=C.toArray()):v=it(C),_){if(v.length!==0)throw new TypeError("Scalar expected");p.set(w.min(),C,T)}else{if(g.length!==1&&g.length!==2)throw new bt(g.length,p._size.length,"<");if(v.length<g.length){for(var y=0,A=0;g[y]===1&&v[y]===1;)y++;for(;g[y]===1;)A++,y++;C=b0(C,g.length,A,v)}if(!Xn(g,v))throw new bt(g,v,">");if(g.length===1){var b=w.dimension(0);b.forEach(function(S,I){Er(S),p.set([S,0],C[I[0]],T)})}else{var E=w.dimension(0),D=w.dimension(1);E.forEach(function(S,I){Er(S),D.forEach(function(M,q){Er(M),p.set([S,M],C[I[0]][q[0]],T)})})}}return p}n.prototype.get=function(p){if(!tr(p))throw new TypeError("Array expected");if(p.length!==this._size.length)throw new bt(p.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var w=p[0],C=p[1];Er(w,this._size[0]),Er(C,this._size[1]);var T=l(w,this._ptr[C],this._ptr[C+1],this._index);return T<this._ptr[C+1]&&this._index[T]===w?this._values[T]:0},n.prototype.set=function(p,w,C){if(!tr(p))throw new TypeError("Array expected");if(p.length!==this._size.length)throw new bt(p.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var T=p[0],g=p[1],_=this._size[0],v=this._size[1],y=t,A=0;ni(this._datatype)&&(y=e.find(t,[this._datatype,this._datatype])||t,A=e.convert(0,this._datatype)),(T>_-1||g>v-1)&&(m(this,Math.max(T+1,_),Math.max(g+1,v),C),_=this._size[0],v=this._size[1]),Er(T,_),Er(g,v);var b=l(T,this._ptr[g],this._ptr[g+1],this._index);return b<this._ptr[g+1]&&this._index[b]===T?y(w,A)?u(b,g,this._values,this._index,this._ptr):this._values[b]=w:y(w,A)||d(b,T,g,w,this._values,this._index,this._ptr),this};function l(p,w,C,T){if(C-w===0)return C;for(var g=w;g<C;g++)if(T[g]===p)return g;return w}function u(p,w,C,T,g){C.splice(p,1),T.splice(p,1);for(var _=w+1;_<g.length;_++)g[_]--}function d(p,w,C,T,g,_,v){g.splice(p,0,T),_.splice(p,0,w);for(var y=C+1;y<v.length;y++)v[y]++}n.prototype.resize=function(p,w,C){if(!di(p))throw new TypeError("Array or Matrix expected");var T=p.valueOf().map(_=>Array.isArray(_)&&_.length===1?_[0]:_);if(T.length!==2)throw new Error("Only two dimensions matrix are supported");T.forEach(function(_){if(!mt(_)||!je(_)||_<0)throw new TypeError("Invalid size, must contain positive integers (size: "+vt(T)+")")});var g=C?this.clone():this;return m(g,T[0],T[1],w)};function m(p,w,C,T){var g=T||0,_=t,v=0;ni(p._datatype)&&(_=e.find(t,[p._datatype,p._datatype])||t,v=e.convert(0,p._datatype),g=e.convert(g,p._datatype));var y=!_(g,v),A=p._size[0],b=p._size[1],E,D,S;if(C>b){for(D=b;D<C;D++)if(p._ptr[D]=p._values.length,y)for(E=0;E<A;E++)p._values.push(g),p._index.push(E);p._ptr[C]=p._values.length}else C<b&&(p._ptr.splice(C+1,b-C),p._values.splice(p._ptr[C],p._values.length),p._index.splice(p._ptr[C],p._index.length));if(b=C,w>A){if(y){var I=0;for(D=0;D<b;D++){p._ptr[D]=p._ptr[D]+I,S=p._ptr[D+1]+I;var M=0;for(E=A;E<w;E++,M++)p._values.splice(S+M,0,g),p._index.splice(S+M,0,E),I++}p._ptr[b]=p._values.length}}else if(w<A){var q=0;for(D=0;D<b;D++){p._ptr[D]=p._ptr[D]-q;var U=p._ptr[D],F=p._ptr[D+1]-q;for(S=U;S<F;S++)E=p._index[S],E>w-1&&(p._values.splice(S,1),p._index.splice(S,1),q++)}p._ptr[D]=p._values.length}return p._size[0]=w,p._size[1]=C,p}n.prototype.reshape=function(p,w){if(!tr(p))throw new TypeError("Array expected");if(p.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");p.forEach(function(B){if(!mt(B)||!je(B)||B<=-2||B===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+vt(p)+")")});var C=this._size[0]*this._size[1];p=xf(p,C);var T=p[0]*p[1];if(C!==T)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var g=w?this.clone():this;if(this._size[0]===p[0]&&this._size[1]===p[1])return g;for(var _=[],v=0;v<g._ptr.length;v++)for(var y=0;y<g._ptr[v+1]-g._ptr[v];y++)_.push(v);for(var A=g._values.slice(),b=g._index.slice(),E=0;E<g._index.length;E++){var D=b[E],S=_[E],I=D*g._size[1]+S;_[E]=I%p[1],b[E]=Math.floor(I/p[1])}g._values.length=0,g._index.length=0,g._ptr.length=p[1]+1,g._size=p.slice();for(var M=0;M<g._ptr.length;M++)g._ptr[M]=0;for(var q=0;q<A.length;q++){var U=b[q],F=_[q],O=A[q],G=l(U,g._ptr[F],g._ptr[F+1],g._index);d(G,U,F,O,g._values,g._index,g._ptr)}return g},n.prototype.clone=function(){var p=new n({values:this._values?at(this._values):void 0,index:at(this._index),ptr:at(this._ptr),size:at(this._size),datatype:this._datatype});return p},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(p,w){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var C=this,T=this._size[0],g=this._size[1],_=Vo(p,C,"map"),v=function(A,b,E){return _(A,[b,E],C)};return h(this,0,T-1,0,g-1,v,w)};function h(p,w,C,T,g,_,v){var y=[],A=[],b=[],E=t,D=0;ni(p._datatype)&&(E=e.find(t,[p._datatype,p._datatype])||t,D=e.convert(0,p._datatype));for(var S=function(H,ce,ye){var V=_(H,ce,ye);E(V,D)||(y.push(V),A.push(ce))},I=T;I<=g;I++){b.push(y.length);var M=p._ptr[I],q=p._ptr[I+1];if(v)for(var U=M;U<q;U++){var F=p._index[U];F>=w&&F<=C&&S(p._values[U],F-w,I-T)}else{for(var O={},G=M;G<q;G++){var B=p._index[G];O[B]=p._values[G]}for(var ee=w;ee<=C;ee++){var ae=ee in O?O[ee]:0;S(ae,ee-w,I-T)}}}return b.push(y.length),new n({values:y,index:A,ptr:b,size:[C-w+1,g-T+1]})}n.prototype.forEach=function(p,w){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var C=this,T=this._size[0],g=this._size[1],_=Vo(p,C,"forEach"),v=0;v<g;v++){var y=this._ptr[v],A=this._ptr[v+1];if(w)for(var b=y;b<A;b++){var E=this._index[b];_(this._values[b],[E,v],C)}else{for(var D={},S=y;S<A;S++){var I=this._index[S];D[I]=this._values[S]}for(var M=0;M<T;M++){var q=M in D?D[M]:0;_(q,[M,v],C)}}}},n.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var p=this._size[1],w=0;w<p;w++)for(var C=this._ptr[w],T=this._ptr[w+1],g=C;g<T;g++){var _=this._index[g];yield{value:this._values[g],index:[_,w]}}},n.prototype.toArray=function(){return f(this._values,this._index,this._ptr,this._size,!0)},n.prototype.valueOf=function(){return f(this._values,this._index,this._ptr,this._size,!1)};function f(p,w,C,T,g){var _=T[0],v=T[1],y=[],A,b;for(A=0;A<_;A++)for(y[A]=[],b=0;b<v;b++)y[A][b]=0;for(b=0;b<v;b++)for(var E=C[b],D=C[b+1],S=E;S<D;S++)A=w[S],y[A][b]=p?g?at(p[S]):p[S]:1;return y}return n.prototype.format=function(p){for(var w=this._size[0],C=this._size[1],T=this.density(),g="Sparse Matrix ["+vt(w,p)+" x "+vt(C,p)+"] density: "+vt(T,p)+`
`,_=0;_<C;_++)for(var v=this._ptr[_],y=this._ptr[_+1],A=v;A<y;A++){var b=this._index[A];g+=`
    (`+vt(b,p)+", "+vt(_,p)+") ==> "+(this._values?vt(this._values[A],p):"X")}return g},n.prototype.toString=function(){return vt(this.toArray())},n.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(p){if(p){if(tt(p)&&(p=p.toNumber()),!mt(p)||!je(p))throw new TypeError("The parameter k must be an integer number")}else p=0;var w=p>0?p:0,C=p<0?-p:0,T=this._size[0],g=this._size[1],_=Math.min(T-C,g-w),v=[],y=[],A=[];A[0]=0;for(var b=w;b<g&&v.length<_;b++)for(var E=this._ptr[b],D=this._ptr[b+1],S=E;S<D;S++){var I=this._index[S];if(I===b-w+C){v.push(this._values[S]),y[v.length-1]=I-C;break}}return A.push(v.length),new n({values:v,index:y,ptr:A,size:[_,1]})},n.fromJSON=function(p){return new n(p)},n.diagonal=function(p,w,C,T,g){if(!tr(p))throw new TypeError("Array expected, size parameter");if(p.length!==2)throw new Error("Only two dimensions matrix are supported");if(p=p.map(function(B){if(tt(B)&&(B=B.toNumber()),!mt(B)||!je(B)||B<1)throw new Error("Size values must be positive integers");return B}),C){if(tt(C)&&(C=C.toNumber()),!mt(C)||!je(C))throw new TypeError("The parameter k must be an integer number")}else C=0;var _=t,v=0;ni(g)&&(_=e.find(t,[g,g])||t,v=e.convert(0,g));var y=C>0?C:0,A=C<0?-C:0,b=p[0],E=p[1],D=Math.min(b-A,E-y),S;if(tr(w)){if(w.length!==D)throw new Error("Invalid value array length");S=function(ee){return w[ee]}}else if(He(w)){var I=w.size();if(I.length!==1||I[0]!==D)throw new Error("Invalid matrix length");S=function(ee){return w.get([ee])}}else S=function(){return w};for(var M=[],q=[],U=[],F=0;F<E;F++){U.push(M.length);var O=F-y;if(O>=0&&O<D){var G=S(O);_(G,v)||(q.push(O+A),M.push(G))}}return U.push(M.length),new n({values:M,index:q,ptr:U,size:[b,E]})},n.prototype.swapRows=function(p,w){if(!mt(p)||!je(p)||!mt(w)||!je(w))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Er(p,this._size[0]),Er(w,this._size[0]),n._swapRows(p,w,this._size[1],this._values,this._index,this._ptr),this},n._forEachRow=function(p,w,C,T,g){for(var _=T[p],v=T[p+1],y=_;y<v;y++)g(C[y],w[y])},n._swapRows=function(p,w,C,T,g,_){for(var v=0;v<C;v++){var y=_[v],A=_[v+1],b=l(p,y,A,g),E=l(w,y,A,g);if(b<A&&E<A&&g[b]===p&&g[E]===w){if(T){var D=T[b];T[b]=T[E],T[E]=D}continue}if(b<A&&g[b]===p&&(E>=A||g[E]!==w)){var S=T?T[b]:void 0;g.splice(E,0,w),T&&T.splice(E,0,S),g.splice(E<=b?b+1:b,1),T&&T.splice(E<=b?b+1:b,1);continue}if(E<A&&g[E]===w&&(b>=A||g[b]!==p)){var I=T?T[E]:void 0;g.splice(b,0,p),T&&T.splice(b,0,I),g.splice(b<=E?E+1:E,1),T&&T.splice(b<=E?E+1:E,1)}}},n},{isClass:!0});var Hoe="number",Goe=["typed"];function Woe(r){var e=r.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var t={"0b":2,"0o":8,"0x":16}[e[1]],i=e[2],n=e[3];return{input:r,radix:t,integerPart:i,fractionalPart:n}}else return null}function Xoe(r){for(var e=parseInt(r.integerPart,r.radix),t=0,i=0;i<r.fractionalPart.length;i++){var n=parseInt(r.fractionalPart[i],r.radix);t+=n/Math.pow(r.radix,i+1)}var o=e+t;if(isNaN(o))throw new SyntaxError('String "'+r.input+'" is not a valid number');return o}var iD=N(Hoe,Goe,r=>{var{typed:e}=r,t=e("number",{"":function(){return 0},number:function(n){return n},string:function(n){if(n==="NaN")return NaN;var o=Woe(n);if(o)return Xoe(o);var a=0,s=n.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);s&&(a=Number(s[2]),n=s[1]);var c=Number(n);if(isNaN(c))throw new SyntaxError('String "'+n+'" is not a valid number');if(s){if(c>2**a-1)throw new SyntaxError('String "'.concat(n,'" is out of range'));c>=2**(a-1)&&(c=c-2**a)}return c},BigNumber:function(n){return n.toNumber()},bigint:function(n){return Number(n)},Fraction:function(n){return n.valueOf()},Unit:e.referToSelf(i=>n=>{var o=n.clone();return o.value=i(n.value),o}),null:function(n){return 0},"Unit, string | Unit":function(n,o){return n.toNumber(o)},"Array | Matrix":e.referToSelf(i=>n=>Ge(n,i))});return t.fromJSON=function(i){return parseFloat(i.value)},t});var Koe="bigint",Qoe=["typed"],nD=N(Koe,Qoe,r=>{var{typed:e}=r,t=e("bigint",{"":function(){return 0n},bigint:function(n){return n},number:function(n){return BigInt(n.toFixed())},BigNumber:function(n){return BigInt(n.round().toString())},Fraction:function(n){return BigInt(n.valueOf().toFixed())},"string | boolean":function(n){return BigInt(n)},null:function(n){return 0n},"Array | Matrix":e.referToSelf(i=>n=>Ge(n,i))});return t.fromJSON=function(i){return BigInt(i.value)},t});var F3="string",Yoe=["typed"],oD=N(F3,Yoe,r=>{var{typed:e}=r;return e(F3,{"":function(){return""},number:oa,null:function(i){return"null"},boolean:function(i){return i+""},string:function(i){return i},"Array | Matrix":e.referToSelf(t=>i=>Ge(i,t)),any:function(i){return String(i)}})});var O3="boolean",Zoe=["typed"],aD=N(O3,Zoe,r=>{var{typed:e}=r;return e(O3,{"":function(){return!1},boolean:function(i){return i},number:function(i){return!!i},null:function(i){return!1},BigNumber:function(i){return!i.isZero()},string:function(i){var n=i.toLowerCase();if(n==="true")return!0;if(n==="false")return!1;var o=Number(i);if(i!==""&&!isNaN(o))return!!o;throw new Error('Cannot convert "'+i+'" to a boolean')},"Array | Matrix":e.referToSelf(t=>i=>Ge(i,t))})});var Joe="bignumber",eae=["typed","BigNumber"],sD=N(Joe,eae,r=>{var{typed:e,BigNumber:t}=r;return e("bignumber",{"":function(){return new t(0)},number:function(n){return new t(n+"")},string:function(n){var o=n.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(o){var a=o[2],s=t(o[1]),c=new t(2).pow(Number(a));if(s.gt(c.sub(1)))throw new SyntaxError('String "'.concat(n,'" is out of range'));var l=new t(2).pow(Number(a)-1);return s.gte(l)?s.sub(c):s}return new t(n)},BigNumber:function(n){return n},bigint:function(n){return new t(n.toString())},Unit:e.referToSelf(i=>n=>{var o=n.clone();return o.value=i(n.value),o}),Fraction:function(n){return new t(String(n.n)).div(String(n.d)).times(String(n.s))},null:function(n){return new t(0)},"Array | Matrix":e.referToSelf(i=>n=>Ge(n,i))})});var tae="complex",rae=["typed","Complex"],cD=N(tae,rae,r=>{var{typed:e,Complex:t}=r;return e("complex",{"":function(){return t.ZERO},number:function(n){return new t(n,0)},"number, number":function(n,o){return new t(n,o)},"BigNumber, BigNumber":function(n,o){return new t(n.toNumber(),o.toNumber())},Fraction:function(n){return new t(n.valueOf(),0)},Complex:function(n){return n.clone()},string:function(n){return t(n)},null:function(n){return t(0)},Object:function(n){if("re"in n&&"im"in n)return new t(n.re,n.im);if("r"in n&&"phi"in n||"abs"in n&&"arg"in n)return new t(n);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(i=>n=>Ge(n,i))})});var iae="fraction",nae=["typed","Fraction"],lD=N(iae,nae,r=>{var{typed:e,Fraction:t}=r;return e("fraction",{number:function(n){if(!isFinite(n)||isNaN(n))throw new Error(n+" cannot be represented as a fraction");return new t(n)},string:function(n){return new t(n)},"number, number":function(n,o){return new t(n,o)},"bigint, bigint":function(n,o){return new t(n,o)},null:function(n){return new t(0)},BigNumber:function(n){return new t(n.toString())},bigint:function(n){return new t(n.toString())},Fraction:function(n){return n},Unit:e.referToSelf(i=>n=>{var o=n.clone();return o.value=i(n.value),o}),Object:function(n){return new t(n)},"Array | Matrix":e.referToSelf(i=>n=>Ge(n,i))})});var P3="matrix",oae=["typed","Matrix","DenseMatrix","SparseMatrix"],uD=N(P3,oae,r=>{var{typed:e,Matrix:t,DenseMatrix:i,SparseMatrix:n}=r;return e(P3,{"":function(){return o([])},string:function(s){return o([],s)},"string, string":function(s,c){return o([],s,c)},Array:function(s){return o(s)},Matrix:function(s){return o(s,s.storage())},"Array | Matrix, string":o,"Array | Matrix, string, string":o});function o(a,s,c){if(s==="dense"||s==="default"||s===void 0)return new i(a,c);if(s==="sparse")return new n(a,c);throw new TypeError("Unknown matrix type "+JSON.stringify(s)+".")}});var B3="matrixFromFunction",aae=["typed","matrix","isZero"],dD=N(B3,aae,r=>{var{typed:e,matrix:t,isZero:i}=r;return e(B3,{"Array | Matrix, function, string, string":function(a,s,c,l){return n(a,s,c,l)},"Array | Matrix, function, string":function(a,s,c){return n(a,s,c)},"Matrix, function":function(a,s){return n(a,s,"dense")},"Array, function":function(a,s){return n(a,s,"dense").toArray()},"Array | Matrix, string, function":function(a,s,c){return n(a,c,s)},"Array | Matrix, string, string, function":function(a,s,c,l){return n(a,l,s,c)}});function n(o,a,s,c){var l;return c!==void 0?l=t(s,c):l=t(s),l.resize(o),l.forEach(function(u,d){var m=a(d);i(m)||l.set(d,m)}),l}});var L3="matrixFromRows",sae=["typed","matrix","flatten","size"],mD=N(L3,sae,r=>{var{typed:e,matrix:t,flatten:i,size:n}=r;return e(L3,{"...Array":function(c){return o(c)},"...Matrix":function(c){return t(o(c.map(l=>l.toArray())))}});function o(s){if(s.length===0)throw new TypeError("At least one row is needed to construct a matrix.");var c=a(s[0]),l=[];for(var u of s){var d=a(u);if(d!==c)throw new TypeError("The vectors had different length: "+(c|0)+" \u2260 "+(d|0));l.push(i(u))}return l}function a(s){var c=n(s);if(c.length===1)return c[0];if(c.length===2){if(c[0]===1)return c[1];if(c[1]===1)return c[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}});var V3="matrixFromColumns",cae=["typed","matrix","flatten","size"],hD=N(V3,cae,r=>{var{typed:e,matrix:t,flatten:i,size:n}=r;return e(V3,{"...Array":function(c){return o(c)},"...Matrix":function(c){return t(o(c.map(l=>l.toArray())))}});function o(s){if(s.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var c=a(s[0]),l=[],u=0;u<c;u++)l[u]=[];for(var d of s){var m=a(d);if(m!==c)throw new TypeError("The vectors had different length: "+(c|0)+" \u2260 "+(m|0));for(var h=i(d),f=0;f<c;f++)l[f].push(h[f])}return l}function a(s){var c=n(s);if(c.length===1)return c[0];if(c.length===2){if(c[0]===1)return c[1];if(c[1]===1)return c[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}});var z3="splitUnit",lae=["typed"],fD=N(z3,lae,r=>{var{typed:e}=r;return e(z3,{"Unit, Array":function(i,n){return i.splitUnit(n)}})});var U3="unaryMinus",uae=["typed"],pD=N(U3,uae,r=>{var{typed:e}=r;return e(U3,{number:oE,"Complex | BigNumber | Fraction":t=>t.neg(),bigint:t=>-t,Unit:e.referToSelf(t=>i=>{var n=i.clone();return n.value=e.find(t,n.valueType())(i.value),n}),"Array | Matrix":e.referToSelf(t=>i=>Ge(i,t,!0))})});var q3="unaryPlus",dae=["typed","config","numeric"],gD=N(q3,dae,r=>{var{typed:e,config:t,numeric:i}=r;return e(q3,{number:aE,Complex:function(o){return o},BigNumber:function(o){return o},bigint:function(o){return o},Fraction:function(o){return o},Unit:function(o){return o.clone()},"Array | Matrix":e.referToSelf(n=>o=>Ge(o,n,!0)),boolean:function(o){return i(o?1:0,t.number)},string:function(o){return i(o,_n(o,t))}})});var j3="abs",mae=["typed"],vD=N(j3,mae,r=>{var{typed:e}=r;return e(j3,{number:tE,"Complex | BigNumber | Fraction | Unit":t=>t.abs(),bigint:t=>t<0n?-t:t,"Array | Matrix":e.referToSelf(t=>i=>Ge(i,t,!0))})});var $3="apply",hae=["typed","isInteger"],zl=N($3,hae,r=>{var{typed:e,isInteger:t}=r;return e($3,{"Array | Matrix, number | BigNumber, function":function(n,o,a){if(!t(o))throw new TypeError("Integer number expected for dimension");var s=Array.isArray(n)?it(n):n.size();if(o<0||o>=s.length)throw new cn(o,s.length);return He(n)?n.create(T0(n.valueOf(),o,a),n.datatype()):T0(n,o,a)}})});function T0(r,e,t){var i,n,o;if(e<=0)if(Array.isArray(r[0])){for(o=fae(r),n=[],i=0;i<o.length;i++)n[i]=T0(o[i],e-1,t);return n}else return t(r);else{for(n=[],i=0;i<r.length;i++)n[i]=T0(r[i],e-1,t);return n}}function fae(r){var e=r.length,t=r[0].length,i,n,o=[];for(n=0;n<t;n++){var a=[];for(i=0;i<e;i++)a.push(r[i][n]);o.push(a)}return o}var H3="addScalar",pae=["typed"],yD=N(H3,pae,r=>{var{typed:e}=r;return e(H3,{"number, number":rE,"Complex, Complex":function(i,n){return i.add(n)},"BigNumber, BigNumber":function(i,n){return i.plus(n)},"bigint, bigint":function(i,n){return i+n},"Fraction, Fraction":function(i,n){return i.add(n)},"Unit, Unit":e.referToSelf(t=>(i,n)=>{if(i.value===null||i.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(n.value===null||n.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!i.equalBase(n))throw new Error("Units do not match");var o=i.clone();return o.value=e.find(t,[o.valueType(),n.valueType()])(o.value,n.value),o.fixPrefix=!1,o})})});var G3="subtractScalar",gae=["typed"],bD=N(G3,gae,r=>{var{typed:e}=r;return e(G3,{"number, number":iE,"Complex, Complex":function(i,n){return i.sub(n)},"BigNumber, BigNumber":function(i,n){return i.minus(n)},"bigint, bigint":function(i,n){return i-n},"Fraction, Fraction":function(i,n){return i.sub(n)},"Unit, Unit":e.referToSelf(t=>(i,n)=>{if(i.value===null||i.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(n.value===null||n.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!i.equalBase(n))throw new Error("Units do not match");var o=i.clone();return o.value=e.find(t,[o.valueType(),n.valueType()])(o.value,n.value),o.fixPrefix=!1,o})})});var W3="cbrt",vae=["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],_D=N(W3,vae,r=>{var{config:e,typed:t,isNegative:i,unaryMinus:n,matrix:o,Complex:a,BigNumber:s,Fraction:c}=r;return t(W3,{number:Id,Complex:l,"Complex, boolean":l,BigNumber:function(m){return m.cbrt()},Unit:u});function l(d,m){var h=d.arg()/3,f=d.abs(),p=new a(Id(f),0).mul(new a(0,h).exp());if(m){var w=[p,new a(Id(f),0).mul(new a(0,h+Math.PI*2/3).exp()),new a(Id(f),0).mul(new a(0,h-Math.PI*2/3).exp())];return e.matrix==="Array"?w:o(w)}else return p}function u(d){if(d.value&&Bn(d.value)){var m=d.clone();return m.value=1,m=m.pow(1/3),m.value=l(d.value),m}else{var h=i(d.value);h&&(d.value=n(d.value));var f;tt(d.value)?f=new s(1).div(3):ds(d.value)?f=new c(1,3):f=1/3;var p=d.pow(f);return h&&(p.value=n(p.value)),p}}});var yae="matAlgo11xS0s",bae=["typed","equalScalar"],yr=N(yae,bae,r=>{var{typed:e,equalScalar:t}=r;return function(n,o,a,s){var c=n._values,l=n._index,u=n._ptr,d=n._size,m=n._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=d[0],f=d[1],p,w=t,C=0,T=a;typeof m=="string"&&(p=m,w=e.find(t,[p,p]),C=e.convert(0,p),o=e.convert(o,p),T=e.find(a,[p,p]));for(var g=[],_=[],v=[],y=0;y<f;y++){v[y]=_.length;for(var A=u[y],b=u[y+1],E=A;E<b;E++){var D=l[E],S=s?T(o,c[E]):T(c[E],o);w(S,C)||(_.push(D),g.push(S))}}return v[f]=_.length,n.createSparseMatrix({values:g,index:_,ptr:v,size:[h,f],datatype:p})}});var _ae="matAlgo12xSfs",xae=["typed","DenseMatrix"],ar=N(_ae,xae,r=>{var{typed:e,DenseMatrix:t}=r;return function(n,o,a,s){var c=n._values,l=n._index,u=n._ptr,d=n._size,m=n._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=d[0],f=d[1],p,w=a;typeof m=="string"&&(p=m,o=e.convert(o,p),w=e.find(a,[p,p]));for(var C=[],T=[],g=[],_=0;_<f;_++){for(var v=_+1,y=u[_],A=u[_+1],b=y;b<A;b++){var E=l[b];T[E]=c[b],g[E]=v}for(var D=0;D<h;D++)_===0&&(C[D]=[]),g[D]===v?C[D][_]=s?w(o,T[D]):w(T[D],o):C[D][_]=s?w(o,0):w(0,o)}return new t({data:C,size:[h,f],datatype:p})}});var wae="matAlgo14xDs",Eae=["typed"],vi=N(wae,Eae,r=>{var{typed:e}=r;return function(n,o,a,s){var c=n._data,l=n._size,u=n._datatype,d,m=a;typeof u=="string"&&(d=u,o=e.convert(o,d),m=e.find(a,[d,d]));var h=l.length>0?t(m,0,l,l[0],c,o,s):[];return n.createDenseMatrix({data:h,size:at(l),datatype:d})};function t(i,n,o,a,s,c,l){var u=[];if(n===o.length-1)for(var d=0;d<a;d++)u[d]=l?i(c,s[d]):i(s[d],c);else for(var m=0;m<a;m++)u[m]=t(i,n+1,o,o[n+1],s[m],c,l);return u}});var xD="ceil",Dae=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],Aae=N(xD,["typed","config","round"],r=>{var{typed:e,config:t,round:i}=r;return e(xD,{number:function(o){return Vr(o,i(o),t.relTol,t.absTol)?i(o):Math.ceil(o)},"number, number":function(o,a){if(Vr(o,i(o,a),t.relTol,t.absTol))return i(o,a);var[s,c]="".concat(o,"e").split("e"),l=Math.ceil(Number("".concat(s,"e").concat(Number(c)+a)));return[s,c]="".concat(l,"e").split("e"),Number("".concat(s,"e").concat(Number(c)-a))}})}),wD=N(xD,Dae,r=>{var{typed:e,config:t,round:i,matrix:n,equalScalar:o,zeros:a,DenseMatrix:s}=r,c=yr({typed:e,equalScalar:o}),l=ar({typed:e,DenseMatrix:s}),u=vi({typed:e}),d=Aae({typed:e,config:t,round:i});return e("ceil",{number:d.signatures.number,"number,number":d.signatures["number,number"],Complex:function(h){return h.ceil()},"Complex, number":function(h,f){return h.ceil(f)},"Complex, BigNumber":function(h,f){return h.ceil(f.toNumber())},BigNumber:function(h){return Jr(h,i(h),t.relTol,t.absTol)?i(h):h.ceil()},"BigNumber, BigNumber":function(h,f){return Jr(h,i(h,f),t.relTol,t.absTol)?i(h,f):h.toDecimalPlaces(f.toNumber(),Rl.ROUND_CEIL)},Fraction:function(h){return h.ceil()},"Fraction, number":function(h,f){return h.ceil(f)},"Fraction, BigNumber":function(h,f){return h.ceil(f.toNumber())},"Unit, number, Unit":e.referToSelf(m=>function(h,f,p){var w=h.toNumeric(p);return p.multiply(m(w,f))}),"Unit, BigNumber, Unit":e.referToSelf(m=>(h,f,p)=>m(h,f.toNumber(),p)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(m=>(h,f,p)=>Ge(h,w=>m(w,f,p),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(m=>(h,f)=>m(h,0,f)),"Array | Matrix":e.referToSelf(m=>h=>Ge(h,m,!0)),"Array, number | BigNumber":e.referToSelf(m=>(h,f)=>Ge(h,p=>m(p,f),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(m=>(h,f)=>c(h,f,m,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(m=>(h,f)=>u(h,f,m,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(m=>(h,f)=>u(n(f),h,m,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(m=>(h,f)=>o(h,0)?a(f.size(),f.storage()):f.storage()==="dense"?u(f,h,m,!0):l(f,h,m,!0))})});var X3="cube",Cae=["typed"],ED=N(X3,Cae,r=>{var{typed:e}=r;return e(X3,{number:sE,Complex:function(i){return i.mul(i).mul(i)},BigNumber:function(i){return i.times(i).times(i)},bigint:function(i){return i*i*i},Fraction:function(i){return i.pow(3)},Unit:function(i){return i.pow(3)}})});var K3="exp",Sae=["typed"],DD=N(K3,Sae,r=>{var{typed:e}=r;return e(K3,{number:cE,Complex:function(i){return i.exp()},BigNumber:function(i){return i.exp()}})});var Q3="expm1",Tae=["typed","Complex"],AD=N(Q3,Tae,r=>{var{typed:e,Complex:t}=r;return e(Q3,{number:lE,Complex:function(n){var o=Math.exp(n.re);return new t(o*Math.cos(n.im)-1,o*Math.sin(n.im))},BigNumber:function(n){return n.exp().minus(1)}})});var CD="fix",Iae=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],Mae=N(CD,["typed","ceil","floor"],r=>{var{typed:e,ceil:t,floor:i}=r;return e(CD,{number:function(o){return o>0?i(o):t(o)},"number, number":function(o,a){return o>0?i(o,a):t(o,a)}})}),SD=N(CD,Iae,r=>{var{typed:e,Complex:t,matrix:i,ceil:n,floor:o,equalScalar:a,zeros:s,DenseMatrix:c}=r,l=ar({typed:e,DenseMatrix:c}),u=vi({typed:e}),d=Mae({typed:e,ceil:n,floor:o});return e("fix",{number:d.signatures.number,"number, number | BigNumber":d.signatures["number,number"],Complex:function(h){return new t(h.re>0?Math.floor(h.re):Math.ceil(h.re),h.im>0?Math.floor(h.im):Math.ceil(h.im))},"Complex, number":function(h,f){return new t(h.re>0?o(h.re,f):n(h.re,f),h.im>0?o(h.im,f):n(h.im,f))},"Complex, BigNumber":function(h,f){var p=f.toNumber();return new t(h.re>0?o(h.re,p):n(h.re,p),h.im>0?o(h.im,p):n(h.im,p))},BigNumber:function(h){return h.isNegative()?n(h):o(h)},"BigNumber, number | BigNumber":function(h,f){return h.isNegative()?n(h,f):o(h,f)},Fraction:function(h){return h.s<0n?h.ceil():h.floor()},"Fraction, number | BigNumber":function(h,f){return h.s<0n?n(h,f):o(h,f)},"Unit, number, Unit":e.referToSelf(m=>function(h,f,p){var w=h.toNumeric(p);return p.multiply(m(w,f))}),"Unit, BigNumber, Unit":e.referToSelf(m=>(h,f,p)=>m(h,f.toNumber(),p)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(m=>(h,f,p)=>Ge(h,w=>m(w,f,p),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(m=>(h,f)=>m(h,0,f)),"Array | Matrix":e.referToSelf(m=>h=>Ge(h,m,!0)),"Array | Matrix, number | BigNumber":e.referToSelf(m=>(h,f)=>Ge(h,p=>m(p,f),!0)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(m=>(h,f)=>u(i(f),h,m,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(m=>(h,f)=>a(h,0)?s(f.size(),f.storage()):f.storage()==="dense"?u(f,h,m,!0):l(f,h,m,!0))})});var TD="floor",Nae=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],kae=N(TD,["typed","config","round"],r=>{var{typed:e,config:t,round:i}=r;return e(TD,{number:function(o){return Vr(o,i(o),t.relTol,t.absTol)?i(o):Math.floor(o)},"number, number":function(o,a){if(Vr(o,i(o,a),t.relTol,t.absTol))return i(o,a);var[s,c]="".concat(o,"e").split("e"),l=Math.floor(Number("".concat(s,"e").concat(Number(c)+a)));return[s,c]="".concat(l,"e").split("e"),Number("".concat(s,"e").concat(Number(c)-a))}})}),Sf=N(TD,Nae,r=>{var{typed:e,config:t,round:i,matrix:n,equalScalar:o,zeros:a,DenseMatrix:s}=r,c=yr({typed:e,equalScalar:o}),l=ar({typed:e,DenseMatrix:s}),u=vi({typed:e}),d=kae({typed:e,config:t,round:i});return e("floor",{number:d.signatures.number,"number,number":d.signatures["number,number"],Complex:function(h){return h.floor()},"Complex, number":function(h,f){return h.floor(f)},"Complex, BigNumber":function(h,f){return h.floor(f.toNumber())},BigNumber:function(h){return Jr(h,i(h),t.relTol,t.absTol)?i(h):h.floor()},"BigNumber, BigNumber":function(h,f){return Jr(h,i(h,f),t.relTol,t.absTol)?i(h,f):h.toDecimalPlaces(f.toNumber(),Rl.ROUND_FLOOR)},Fraction:function(h){return h.floor()},"Fraction, number":function(h,f){return h.floor(f)},"Fraction, BigNumber":function(h,f){return h.floor(f.toNumber())},"Unit, number, Unit":e.referToSelf(m=>function(h,f,p){var w=h.toNumeric(p);return p.multiply(m(w,f))}),"Unit, BigNumber, Unit":e.referToSelf(m=>(h,f,p)=>m(h,f.toNumber(),p)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(m=>(h,f,p)=>Ge(h,w=>m(w,f,p),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(m=>(h,f)=>m(h,0,f)),"Array | Matrix":e.referToSelf(m=>h=>Ge(h,m,!0)),"Array, number | BigNumber":e.referToSelf(m=>(h,f)=>Ge(h,p=>m(p,f),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(m=>(h,f)=>c(h,f,m,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(m=>(h,f)=>u(h,f,m,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(m=>(h,f)=>u(n(f),h,m,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(m=>(h,f)=>o(h,0)?a(f.size(),f.storage()):f.storage()==="dense"?u(f,h,m,!0):l(f,h,m,!0))})});var Rae="matAlgo02xDS0",Fae=["typed","equalScalar"],yi=N(Rae,Fae,r=>{var{typed:e,equalScalar:t}=r;return function(n,o,a,s){var c=n._data,l=n._size,u=n._datatype||n.getDataType(),d=o._values,m=o._index,h=o._ptr,f=o._size,p=o._datatype||o._data===void 0?o._datatype:o.getDataType();if(l.length!==f.length)throw new bt(l.length,f.length);if(l[0]!==f[0]||l[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+f+")");if(!d)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var w=l[0],C=l[1],T,g=t,_=0,v=a;typeof u=="string"&&u===p&&u!=="mixed"&&(T=u,g=e.find(t,[T,T]),_=e.convert(0,T),v=e.find(a,[T,T]));for(var y=[],A=[],b=[],E=0;E<C;E++){b[E]=A.length;for(var D=h[E],S=h[E+1],I=D;I<S;I++){var M=m[I],q=s?v(d[I],c[M][E]):v(c[M][E],d[I]);g(q,_)||(A.push(M),y.push(q))}}return b[C]=A.length,o.createSparseMatrix({values:y,index:A,ptr:b,size:[w,C],datatype:u===n._datatype&&p===o._datatype?T:void 0})}});var Oae="matAlgo03xDSf",Pae=["typed"],Fr=N(Oae,Pae,r=>{var{typed:e}=r;return function(i,n,o,a){var s=i._data,c=i._size,l=i._datatype||i.getDataType(),u=n._values,d=n._index,m=n._ptr,h=n._size,f=n._datatype||n._data===void 0?n._datatype:n.getDataType();if(c.length!==h.length)throw new bt(c.length,h.length);if(c[0]!==h[0]||c[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+h+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var p=c[0],w=c[1],C,T=0,g=o;typeof l=="string"&&l===f&&l!=="mixed"&&(C=l,T=e.convert(0,C),g=e.find(o,[C,C]));for(var _=[],v=0;v<p;v++)_[v]=[];for(var y=[],A=[],b=0;b<w;b++){for(var E=b+1,D=m[b],S=m[b+1],I=D;I<S;I++){var M=d[I];y[M]=a?g(u[I],s[M][b]):g(s[M][b],u[I]),A[M]=E}for(var q=0;q<p;q++)A[q]===E?_[q][b]=y[q]:_[q][b]=a?g(T,s[q][b]):g(s[q][b],T)}return i.createDenseMatrix({data:_,size:[p,w],datatype:l===i._datatype&&f===n._datatype?C:void 0})}});var Bae="matAlgo05xSfSf",Lae=["typed","equalScalar"],_c=N(Bae,Lae,r=>{var{typed:e,equalScalar:t}=r;return function(n,o,a){var s=n._values,c=n._index,l=n._ptr,u=n._size,d=n._datatype||n._data===void 0?n._datatype:n.getDataType(),m=o._values,h=o._index,f=o._ptr,p=o._size,w=o._datatype||o._data===void 0?o._datatype:o.getDataType();if(u.length!==p.length)throw new bt(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");var C=u[0],T=u[1],g,_=t,v=0,y=a;typeof d=="string"&&d===w&&d!=="mixed"&&(g=d,_=e.find(t,[g,g]),v=e.convert(0,g),y=e.find(a,[g,g]));var A=s&&m?[]:void 0,b=[],E=[],D=A?[]:void 0,S=A?[]:void 0,I=[],M=[],q,U,F,O;for(U=0;U<T;U++){E[U]=b.length;var G=U+1;for(F=l[U],O=l[U+1];F<O;F++)q=c[F],b.push(q),I[q]=G,D&&(D[q]=s[F]);for(F=f[U],O=f[U+1];F<O;F++)q=h[F],I[q]!==G&&b.push(q),M[q]=G,S&&(S[q]=m[F]);if(A)for(F=E[U];F<b.length;){q=b[F];var B=I[q],ee=M[q];if(B===G||ee===G){var ae=B===G?D[q]:v,J=ee===G?S[q]:v,H=y(ae,J);_(H,v)?b.splice(F,1):(A.push(H),F++)}}}return E[T]=b.length,n.createSparseMatrix({values:A,index:b,ptr:E,size:[C,T],datatype:d===n._datatype&&w===o._datatype?g:void 0})}});var Vae="matAlgo13xDD",zae=["typed"],Y3=N(Vae,zae,r=>{var{typed:e}=r;return function(n,o,a){var s=n._data,c=n._size,l=n._datatype,u=o._data,d=o._size,m=o._datatype,h=[];if(c.length!==d.length)throw new bt(c.length,d.length);for(var f=0;f<c.length;f++){if(c[f]!==d[f])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");h[f]=c[f]}var p,w=a;typeof l=="string"&&l===m&&(p=l,w=e.find(a,[p,p]));var C=h.length>0?t(w,0,h,h[0],s,u):[];return n.createDenseMatrix({data:C,size:h,datatype:p})};function t(i,n,o,a,s,c){var l=[];if(n===o.length-1)for(var u=0;u<a;u++)l[u]=i(s[u],c[u]);else for(var d=0;d<a;d++)l[d]=t(i,n+1,o,o[n+1],s[d],c[d]);return l}});function Hi(r,e){if(Xn(r.size(),e.size()))return[r,e];var t=wf(r.size(),e.size());return[r,e].map(i=>Uae(i,t))}function Uae(r,e){return Xn(r.size(),e)?r:r.create(ka(r.valueOf(),e),r.datatype())}var qae="matrixAlgorithmSuite",jae=["typed","matrix"],wt=N(qae,jae,r=>{var{typed:e,matrix:t}=r,i=Y3({typed:e}),n=vi({typed:e});return function(a){var s=a.elop,c=a.SD||a.DS,l;s?(l={"DenseMatrix, DenseMatrix":(h,f)=>i(...Hi(h,f),s),"Array, Array":(h,f)=>i(...Hi(t(h),t(f)),s).valueOf(),"Array, DenseMatrix":(h,f)=>i(...Hi(t(h),f),s),"DenseMatrix, Array":(h,f)=>i(...Hi(h,t(f)),s)},a.SS&&(l["SparseMatrix, SparseMatrix"]=(h,f)=>a.SS(...Hi(h,f),s,!1)),a.DS&&(l["DenseMatrix, SparseMatrix"]=(h,f)=>a.DS(...Hi(h,f),s,!1),l["Array, SparseMatrix"]=(h,f)=>a.DS(...Hi(t(h),f),s,!1)),c&&(l["SparseMatrix, DenseMatrix"]=(h,f)=>c(...Hi(f,h),s,!0),l["SparseMatrix, Array"]=(h,f)=>c(...Hi(t(f),h),s,!0))):(l={"DenseMatrix, DenseMatrix":e.referToSelf(h=>(f,p)=>i(...Hi(f,p),h)),"Array, Array":e.referToSelf(h=>(f,p)=>i(...Hi(t(f),t(p)),h).valueOf()),"Array, DenseMatrix":e.referToSelf(h=>(f,p)=>i(...Hi(t(f),p),h)),"DenseMatrix, Array":e.referToSelf(h=>(f,p)=>i(...Hi(f,t(p)),h))},a.SS&&(l["SparseMatrix, SparseMatrix"]=e.referToSelf(h=>(f,p)=>a.SS(...Hi(f,p),h,!1))),a.DS&&(l["DenseMatrix, SparseMatrix"]=e.referToSelf(h=>(f,p)=>a.DS(...Hi(f,p),h,!1)),l["Array, SparseMatrix"]=e.referToSelf(h=>(f,p)=>a.DS(...Hi(t(f),p),h,!1))),c&&(l["SparseMatrix, DenseMatrix"]=e.referToSelf(h=>(f,p)=>c(...Hi(p,f),h,!0)),l["SparseMatrix, Array"]=e.referToSelf(h=>(f,p)=>c(...Hi(t(p),f),h,!0))));var u=a.scalar||"any",d=a.Ds||a.Ss;d&&(s?(l["DenseMatrix,"+u]=(h,f)=>n(h,f,s,!1),l[u+", DenseMatrix"]=(h,f)=>n(f,h,s,!0),l["Array,"+u]=(h,f)=>n(t(h),f,s,!1).valueOf(),l[u+", Array"]=(h,f)=>n(t(f),h,s,!0).valueOf()):(l["DenseMatrix,"+u]=e.referToSelf(h=>(f,p)=>n(f,p,h,!1)),l[u+", DenseMatrix"]=e.referToSelf(h=>(f,p)=>n(p,f,h,!0)),l["Array,"+u]=e.referToSelf(h=>(f,p)=>n(t(f),p,h,!1).valueOf()),l[u+", Array"]=e.referToSelf(h=>(f,p)=>n(t(p),f,h,!0).valueOf())));var m=a.sS!==void 0?a.sS:a.Ss;return s?(a.Ss&&(l["SparseMatrix,"+u]=(h,f)=>a.Ss(h,f,s,!1)),m&&(l[u+", SparseMatrix"]=(h,f)=>m(f,h,s,!0))):(a.Ss&&(l["SparseMatrix,"+u]=e.referToSelf(h=>(f,p)=>a.Ss(f,p,h,!1))),m&&(l[u+", SparseMatrix"]=e.referToSelf(h=>(f,p)=>m(p,f,h,!0)))),s&&s.signatures&&i0(l,s.signatures),l}});var Z3="mod",$ae=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],Tf=N(Z3,$ae,r=>{var{typed:e,config:t,round:i,matrix:n,equalScalar:o,zeros:a,DenseMatrix:s,concat:c}=r,l=Sf({typed:e,config:t,round:i,matrix:n,equalScalar:o,zeros:a,DenseMatrix:s}),u=yi({typed:e,equalScalar:o}),d=Fr({typed:e}),m=_c({typed:e,equalScalar:o}),h=yr({typed:e,equalScalar:o}),f=ar({typed:e,DenseMatrix:s}),p=wt({typed:e,matrix:n,concat:c});return e(Z3,{"number, number":w,"BigNumber, BigNumber":function(T,g){return g.isZero()?T:T.sub(g.mul(l(T.div(g))))},"bigint, bigint":function(T,g){if(g===0n)return T;if(T<0){var _=T%g;return _===0n?_:_+g}return T%g},"Fraction, Fraction":function(T,g){return g.equals(0)?T:T.sub(g.mul(l(T.div(g))))}},p({SS:m,DS:d,SD:u,Ss:h,sS:f}));function w(C,T){return T===0?C:C-T*l(C/T)}});var Hae="matAlgo01xDSid",Gae=["typed"],Dn=N(Hae,Gae,r=>{var{typed:e}=r;return function(i,n,o,a){var s=i._data,c=i._size,l=i._datatype||i.getDataType(),u=n._values,d=n._index,m=n._ptr,h=n._size,f=n._datatype||n._data===void 0?n._datatype:n.getDataType();if(c.length!==h.length)throw new bt(c.length,h.length);if(c[0]!==h[0]||c[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+h+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var p=c[0],w=c[1],C=typeof l=="string"&&l!=="mixed"&&l===f?l:void 0,T=C?e.find(o,[C,C]):o,g,_,v=[];for(g=0;g<p;g++)v[g]=[];var y=[],A=[];for(_=0;_<w;_++){for(var b=_+1,E=m[_],D=m[_+1],S=E;S<D;S++)g=d[S],y[g]=a?T(u[S],s[g][_]):T(s[g][_],u[S]),A[g]=b;for(g=0;g<p;g++)A[g]===b?v[g][_]=y[g]:v[g][_]=s[g][_]}return i.createDenseMatrix({data:v,size:[p,w],datatype:l===i._datatype&&f===n._datatype?C:void 0})}});var Wae="matAlgo04xSidSid",Xae=["typed","equalScalar"],kd=N(Wae,Xae,r=>{var{typed:e,equalScalar:t}=r;return function(n,o,a){var s=n._values,c=n._index,l=n._ptr,u=n._size,d=n._datatype||n._data===void 0?n._datatype:n.getDataType(),m=o._values,h=o._index,f=o._ptr,p=o._size,w=o._datatype||o._data===void 0?o._datatype:o.getDataType();if(u.length!==p.length)throw new bt(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");var C=u[0],T=u[1],g,_=t,v=0,y=a;typeof d=="string"&&d===w&&d!=="mixed"&&(g=d,_=e.find(t,[g,g]),v=e.convert(0,g),y=e.find(a,[g,g]));var A=s&&m?[]:void 0,b=[],E=[],D=s&&m?[]:void 0,S=s&&m?[]:void 0,I=[],M=[],q,U,F,O,G;for(U=0;U<T;U++){E[U]=b.length;var B=U+1;for(O=l[U],G=l[U+1],F=O;F<G;F++)q=c[F],b.push(q),I[q]=B,D&&(D[q]=s[F]);for(O=f[U],G=f[U+1],F=O;F<G;F++)if(q=h[F],I[q]===B){if(D){var ee=y(D[q],m[F]);_(ee,v)?I[q]=null:D[q]=ee}}else b.push(q),M[q]=B,S&&(S[q]=m[F]);if(D&&S)for(F=E[U];F<b.length;)q=b[F],I[q]===B?(A[F]=D[q],F++):M[q]===B?(A[F]=S[q],F++):b.splice(F,1)}return E[T]=b.length,n.createSparseMatrix({values:A,index:b,ptr:E,size:[C,T],datatype:d===n._datatype&&w===o._datatype?g:void 0})}});var Kae="matAlgo10xSids",Qae=["typed","DenseMatrix"],Zn=N(Kae,Qae,r=>{var{typed:e,DenseMatrix:t}=r;return function(n,o,a,s){var c=n._values,l=n._index,u=n._ptr,d=n._size,m=n._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=d[0],f=d[1],p,w=a;typeof m=="string"&&(p=m,o=e.convert(o,p),w=e.find(a,[p,p]));for(var C=[],T=[],g=[],_=0;_<f;_++){for(var v=_+1,y=u[_],A=u[_+1],b=y;b<A;b++){var E=l[b];T[E]=c[b],g[E]=v}for(var D=0;D<h;D++)_===0&&(C[D]=[]),g[D]===v?C[D][_]=s?w(o,T[D]):w(T[D],o):C[D][_]=o}return new t({data:C,size:[h,f],datatype:p})}});function gs(r,e,t,i){if(!(this instanceof gs))throw new SyntaxError("Constructor must be called with the new operator");this.fn=r,this.count=e,this.min=t,this.max=i,this.message="Wrong number of arguments in function "+r+" ("+e+" provided, "+t+(i!=null?"-"+i:"")+" expected)",this.stack=new Error().stack}gs.prototype=new Error;gs.prototype.constructor=Error;gs.prototype.name="ArgumentsError";gs.prototype.isArgumentsError=!0;var J3="gcd",Yae=["typed","config","round","matrix","equalScalar","zeros","BigNumber","DenseMatrix","concat"],ID="number | BigNumber | Fraction | Matrix | Array",Zae="".concat(ID,", ").concat(ID,", ...").concat(ID);function eV(r){return!r.some(e=>Array.isArray(e))}var MD=N(J3,Yae,r=>{var{typed:e,matrix:t,config:i,round:n,equalScalar:o,zeros:a,BigNumber:s,DenseMatrix:c,concat:l}=r,u=Tf({typed:e,config:i,round:n,matrix:t,equalScalar:o,zeros:a,DenseMatrix:c,concat:l}),d=Dn({typed:e}),m=kd({typed:e,equalScalar:o}),h=Zn({typed:e,DenseMatrix:c}),f=wt({typed:e,matrix:t,concat:l});return e(J3,{"number, number":p,"BigNumber, BigNumber":w,"Fraction, Fraction":(C,T)=>C.gcd(T)},f({SS:m,DS:d,Ss:h}),{[Zae]:e.referToSelf(C=>(T,g,_)=>{for(var v=C(T,g),y=0;y<_.length;y++)v=C(v,_[y]);return v}),Array:e.referToSelf(C=>T=>{if(T.length===1&&Array.isArray(T[0])&&eV(T[0]))return C(...T[0]);if(eV(T))return C(...T);throw new gs("gcd() supports only 1d matrices!")}),Matrix:e.referToSelf(C=>T=>C(T.toArray()))});function p(C,T){if(!je(C)||!je(T))throw new Error("Parameters in function gcd must be integer numbers");for(var g;T!==0;)g=u(C,T),C=T,T=g;return C<0?-C:C}function w(C,T){if(!C.isInt()||!T.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var g=new s(0);!T.isZero();){var _=u(C,T);C=T,T=_}return C.lt(g)?C.neg():C}});var Jae="matAlgo06xS0S0",ese=["typed","equalScalar"],xc=N(Jae,ese,r=>{var{typed:e,equalScalar:t}=r;return function(n,o,a){var s=n._values,c=n._size,l=n._datatype||n._data===void 0?n._datatype:n.getDataType(),u=o._values,d=o._size,m=o._datatype||o._data===void 0?o._datatype:o.getDataType();if(c.length!==d.length)throw new bt(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");var h=c[0],f=c[1],p,w=t,C=0,T=a;typeof l=="string"&&l===m&&l!=="mixed"&&(p=l,w=e.find(t,[p,p]),C=e.convert(0,p),T=e.find(a,[p,p]));for(var g=s&&u?[]:void 0,_=[],v=[],y=g?[]:void 0,A=[],b=[],E=0;E<f;E++){v[E]=_.length;var D=E+1;if(J1(n,E,A,y,b,D,_,T),J1(o,E,A,y,b,D,_,T),y)for(var S=v[E];S<_.length;){var I=_[S];if(b[I]===D){var M=y[I];w(M,C)?_.splice(S,1):(g.push(M),S++)}else _.splice(S,1)}else for(var q=v[E];q<_.length;){var U=_[q];b[U]!==D?_.splice(q,1):q++}}return v[f]=_.length,n.createSparseMatrix({values:g,index:_,ptr:v,size:[h,f],datatype:l===n._datatype&&m===o._datatype?p:void 0})}});var tV="lcm",tse=["typed","matrix","equalScalar","concat"],ND=N(tV,tse,r=>{var{typed:e,matrix:t,equalScalar:i,concat:n}=r,o=yi({typed:e,equalScalar:i}),a=xc({typed:e,equalScalar:i}),s=yr({typed:e,equalScalar:i}),c=wt({typed:e,matrix:t,concat:n}),l="number | BigNumber | Fraction | Matrix | Array",u={};return u["".concat(l,", ").concat(l,", ...").concat(l)]=e.referToSelf(m=>(h,f,p)=>{for(var w=m(h,f),C=0;C<p.length;C++)w=m(w,p[C]);return w}),e(tV,{"number, number":uE,"BigNumber, BigNumber":d,"Fraction, Fraction":(m,h)=>m.lcm(h)},c({SS:a,DS:o,Ss:s}),u);function d(m,h){if(!m.isInt()||!h.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(m.isZero())return m;if(h.isZero())return h;for(var f=m.times(h);!h.isZero();){var p=h;h=m.mod(p),m=p}return f.div(m).abs()}});var rV="log10",rse=["typed","config","Complex"],kD=N(rV,rse,r=>{var{typed:e,config:t,Complex:i}=r;return e(rV,{number:function(o){return o>=0||t.predictable?dE(o):new i(o,0).log().div(Math.LN10)},Complex:function(o){return new i(o).log().div(Math.LN10)},BigNumber:function(o){return!o.isNegative()||t.predictable?o.log():new i(o.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":e.referToSelf(n=>o=>Ge(o,n))})});var iV="log2",ise=["typed","config","Complex"],RD=N(iV,ise,r=>{var{typed:e,config:t,Complex:i}=r;return e(iV,{number:function(a){return a>=0||t.predictable?mE(a):n(new i(a,0))},Complex:n,BigNumber:function(a){return!a.isNegative()||t.predictable?a.log(2):n(new i(a.toNumber(),0))},"Array | Matrix":e.referToSelf(o=>a=>Ge(a,o))});function n(o){var a=Math.sqrt(o.re*o.re+o.im*o.im);return new i(Math.log2?Math.log2(a):Math.log(a)/Math.LN2,Math.atan2(o.im,o.re)/Math.LN2)}});var nse="multiplyScalar",ose=["typed"],FD=N(nse,ose,r=>{var{typed:e}=r;return e("multiplyScalar",{"number, number":nE,"Complex, Complex":function(i,n){return i.mul(n)},"BigNumber, BigNumber":function(i,n){return i.times(n)},"bigint, bigint":function(i,n){return i*n},"Fraction, Fraction":function(i,n){return i.mul(n)},"number | Fraction | BigNumber | Complex, Unit":(t,i)=>i.multiply(t),"Unit, number | Fraction | BigNumber | Complex | Unit":(t,i)=>t.multiply(i)})});var nV="multiply",ase=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],OD=N(nV,ase,r=>{var{typed:e,matrix:t,addScalar:i,multiplyScalar:n,equalScalar:o,dot:a}=r,s=yr({typed:e,equalScalar:o}),c=vi({typed:e});function l(v,y){switch(v.length){case 1:switch(y.length){case 1:if(v[0]!==y[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(v[0]!==y[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+v[0]+") must match Matrix rows ("+y[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+y.length+" dimensions)")}break;case 2:switch(y.length){case 1:if(v[1]!==y[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+v[1]+") must match Vector length ("+y[0]+")");break;case 2:if(v[1]!==y[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+v[1]+") must match Matrix B rows ("+y[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+y.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+v.length+" dimensions)")}}function u(v,y,A){if(A===0)throw new Error("Cannot multiply two empty vectors");return a(v,y)}function d(v,y){if(y.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return m(v,y)}function m(v,y){var A=v._data,b=v._size,E=v._datatype||v.getDataType(),D=y._data,S=y._size,I=y._datatype||y.getDataType(),M=b[0],q=S[1],U,F=i,O=n;E&&I&&E===I&&typeof E=="string"&&E!=="mixed"&&(U=E,F=e.find(i,[U,U]),O=e.find(n,[U,U]));for(var G=[],B=0;B<q;B++){for(var ee=O(A[0],D[0][B]),ae=1;ae<M;ae++)ee=F(ee,O(A[ae],D[ae][B]));G[B]=ee}return v.createDenseMatrix({data:G,size:[q],datatype:E===v._datatype&&I===y._datatype?U:void 0})}var h=e("_multiplyMatrixVector",{"DenseMatrix, any":p,"SparseMatrix, any":T}),f=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":w,"DenseMatrix, SparseMatrix":C,"SparseMatrix, DenseMatrix":g,"SparseMatrix, SparseMatrix":_});function p(v,y){var A=v._data,b=v._size,E=v._datatype||v.getDataType(),D=y._data,S=y._datatype||y.getDataType(),I=b[0],M=b[1],q,U=i,F=n;E&&S&&E===S&&typeof E=="string"&&E!=="mixed"&&(q=E,U=e.find(i,[q,q]),F=e.find(n,[q,q]));for(var O=[],G=0;G<I;G++){for(var B=A[G],ee=F(B[0],D[0]),ae=1;ae<M;ae++)ee=U(ee,F(B[ae],D[ae]));O[G]=ee}return v.createDenseMatrix({data:O,size:[I],datatype:E===v._datatype&&S===y._datatype?q:void 0})}function w(v,y){var A=v._data,b=v._size,E=v._datatype||v.getDataType(),D=y._data,S=y._size,I=y._datatype||y.getDataType(),M=b[0],q=b[1],U=S[1],F,O=i,G=n;E&&I&&E===I&&typeof E=="string"&&E!=="mixed"&&E!=="mixed"&&(F=E,O=e.find(i,[F,F]),G=e.find(n,[F,F]));for(var B=[],ee=0;ee<M;ee++){var ae=A[ee];B[ee]=[];for(var J=0;J<U;J++){for(var H=G(ae[0],D[0][J]),ce=1;ce<q;ce++)H=O(H,G(ae[ce],D[ce][J]));B[ee][J]=H}}return v.createDenseMatrix({data:B,size:[M,U],datatype:E===v._datatype&&I===y._datatype?F:void 0})}function C(v,y){var A=v._data,b=v._size,E=v._datatype||v.getDataType(),D=y._values,S=y._index,I=y._ptr,M=y._size,q=y._datatype||y._data===void 0?y._datatype:y.getDataType();if(!D)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var U=b[0],F=M[1],O,G=i,B=n,ee=o,ae=0;E&&q&&E===q&&typeof E=="string"&&E!=="mixed"&&(O=E,G=e.find(i,[O,O]),B=e.find(n,[O,O]),ee=e.find(o,[O,O]),ae=e.convert(0,O));for(var J=[],H=[],ce=[],ye=y.createSparseMatrix({values:J,index:H,ptr:ce,size:[U,F],datatype:E===v._datatype&&q===y._datatype?O:void 0}),V=0;V<F;V++){ce[V]=H.length;var P=I[V],j=I[V+1];if(j>P)for(var z=0,Q=0;Q<U;Q++){for(var ie=Q+1,re=void 0,pe=P;pe<j;pe++){var fe=S[pe];z!==ie?(re=B(A[Q][fe],D[pe]),z=ie):re=G(re,B(A[Q][fe],D[pe]))}z===ie&&!ee(re,ae)&&(H.push(Q),J.push(re))}}return ce[F]=H.length,ye}function T(v,y){var A=v._values,b=v._index,E=v._ptr,D=v._datatype||v._data===void 0?v._datatype:v.getDataType();if(!A)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var S=y._data,I=y._datatype||y.getDataType(),M=v._size[0],q=y._size[0],U=[],F=[],O=[],G,B=i,ee=n,ae=o,J=0;D&&I&&D===I&&typeof D=="string"&&D!=="mixed"&&(G=D,B=e.find(i,[G,G]),ee=e.find(n,[G,G]),ae=e.find(o,[G,G]),J=e.convert(0,G));var H=[],ce=[];O[0]=0;for(var ye=0;ye<q;ye++){var V=S[ye];if(!ae(V,J))for(var P=E[ye],j=E[ye+1],z=P;z<j;z++){var Q=b[z];ce[Q]?H[Q]=B(H[Q],ee(V,A[z])):(ce[Q]=!0,F.push(Q),H[Q]=ee(V,A[z]))}}for(var ie=F.length,re=0;re<ie;re++){var pe=F[re];U[re]=H[pe]}return O[1]=F.length,v.createSparseMatrix({values:U,index:F,ptr:O,size:[M,1],datatype:D===v._datatype&&I===y._datatype?G:void 0})}function g(v,y){var A=v._values,b=v._index,E=v._ptr,D=v._datatype||v._data===void 0?v._datatype:v.getDataType();if(!A)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var S=y._data,I=y._datatype||y.getDataType(),M=v._size[0],q=y._size[0],U=y._size[1],F,O=i,G=n,B=o,ee=0;D&&I&&D===I&&typeof D=="string"&&D!=="mixed"&&(F=D,O=e.find(i,[F,F]),G=e.find(n,[F,F]),B=e.find(o,[F,F]),ee=e.convert(0,F));for(var ae=[],J=[],H=[],ce=v.createSparseMatrix({values:ae,index:J,ptr:H,size:[M,U],datatype:D===v._datatype&&I===y._datatype?F:void 0}),ye=[],V=[],P=0;P<U;P++){H[P]=J.length;for(var j=P+1,z=0;z<q;z++){var Q=S[z][P];if(!B(Q,ee))for(var ie=E[z],re=E[z+1],pe=ie;pe<re;pe++){var fe=b[pe];V[fe]!==j?(V[fe]=j,J.push(fe),ye[fe]=G(Q,A[pe])):ye[fe]=O(ye[fe],G(Q,A[pe]))}}for(var $=H[P],K=J.length,se=$;se<K;se++){var de=J[se];ae[se]=ye[de]}}return H[U]=J.length,ce}function _(v,y){var A=v._values,b=v._index,E=v._ptr,D=v._datatype||v._data===void 0?v._datatype:v.getDataType(),S=y._values,I=y._index,M=y._ptr,q=y._datatype||y._data===void 0?y._datatype:y.getDataType(),U=v._size[0],F=y._size[1],O=A&&S,G,B=i,ee=n;D&&q&&D===q&&typeof D=="string"&&D!=="mixed"&&(G=D,B=e.find(i,[G,G]),ee=e.find(n,[G,G]));for(var ae=O?[]:void 0,J=[],H=[],ce=v.createSparseMatrix({values:ae,index:J,ptr:H,size:[U,F],datatype:D===v._datatype&&q===y._datatype?G:void 0}),ye=O?[]:void 0,V=[],P,j,z,Q,ie,re,pe,fe,$=0;$<F;$++){H[$]=J.length;var K=$+1;for(ie=M[$],re=M[$+1],Q=ie;Q<re;Q++)if(fe=I[Q],O)for(j=E[fe],z=E[fe+1],P=j;P<z;P++)pe=b[P],V[pe]!==K?(V[pe]=K,J.push(pe),ye[pe]=ee(S[Q],A[P])):ye[pe]=B(ye[pe],ee(S[Q],A[P]));else for(j=E[fe],z=E[fe+1],P=j;P<z;P++)pe=b[P],V[pe]!==K&&(V[pe]=K,J.push(pe));if(O)for(var se=H[$],de=J.length,Ee=se;Ee<de;Ee++){var Se=J[Ee];ae[Ee]=ye[Se]}}return H[F]=J.length,ce}return e(nV,n,{"Array, Array":e.referTo("Matrix, Matrix",v=>(y,A)=>{l(it(y),it(A));var b=v(t(y),t(A));return He(b)?b.valueOf():b}),"Matrix, Matrix":function(y,A){var b=y.size(),E=A.size();return l(b,E),b.length===1?E.length===1?u(y,A,b[0]):d(y,A):E.length===1?h(y,A):f(y,A)},"Matrix, Array":e.referTo("Matrix,Matrix",v=>(y,A)=>v(y,t(A))),"Array, Matrix":e.referToSelf(v=>(y,A)=>v(t(y,A.storage()),A)),"SparseMatrix, any":function(y,A){return s(y,A,n,!1)},"DenseMatrix, any":function(y,A){return c(y,A,n,!1)},"any, SparseMatrix":function(y,A){return s(A,y,n,!0)},"any, DenseMatrix":function(y,A){return c(A,y,n,!0)},"Array, any":function(y,A){return c(t(y),A,n,!1).valueOf()},"any, Array":function(y,A){return c(t(A),y,n,!0).valueOf()},"any, any":n,"any, any, ...any":e.referToSelf(v=>(y,A,b)=>{for(var E=v(y,A),D=0;D<b.length;D++)E=v(E,b[D]);return E})})});var oV="nthRoot",sse=["typed","matrix","equalScalar","BigNumber","concat"],PD=N(oV,sse,r=>{var{typed:e,matrix:t,equalScalar:i,BigNumber:n,concat:o}=r,a=Dn({typed:e}),s=yi({typed:e,equalScalar:i}),c=xc({typed:e,equalScalar:i}),l=yr({typed:e,equalScalar:i}),u=wt({typed:e,matrix:t,concat:o});function d(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return e(oV,{number:hE,"number, number":hE,BigNumber:h=>m(h,new n(2)),"BigNumber, BigNumber":m,Complex:d,"Complex, number":d,Array:e.referTo("DenseMatrix,number",h=>f=>h(t(f),2).valueOf()),DenseMatrix:e.referTo("DenseMatrix,number",h=>f=>h(f,2)),SparseMatrix:e.referTo("SparseMatrix,number",h=>f=>h(f,2)),"SparseMatrix, SparseMatrix":e.referToSelf(h=>(f,p)=>{if(p.density()===1)return c(f,p,h);throw new Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":e.referToSelf(h=>(f,p)=>{if(p.density()===1)return a(f,p,h,!1);throw new Error("Root must be non-zero")}),"Array, SparseMatrix":e.referTo("DenseMatrix,SparseMatrix",h=>(f,p)=>h(t(f),p)),"number | BigNumber, SparseMatrix":e.referToSelf(h=>(f,p)=>{if(p.density()===1)return l(p,f,h,!0);throw new Error("Root must be non-zero")})},u({scalar:"number | BigNumber",SD:s,Ss:l,sS:!1}));function m(h,f){var p=n.precision,w=n.clone({precision:p+2}),C=new n(0),T=new w(1),g=f.isNegative();if(g&&(f=f.neg()),f.isZero())throw new Error("Root must be non-zero");if(h.isNegative()&&!f.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(h.isZero())return g?new w(1/0):0;if(!h.isFinite())return g?C:h;var _=h.abs().pow(T.div(f));return _=h.isNeg()?_.neg():_,new n((g?T.div(_):_).toPrecision(p))}});var aV="sign",cse=["typed","BigNumber","Fraction","complex"],BD=N(aV,cse,r=>{var{typed:e,BigNumber:t,complex:i,Fraction:n}=r;return e(aV,{number:E0,Complex:function(a){return a.im===0?i(E0(a.re)):a.sign()},BigNumber:function(a){return new t(a.cmp(0))},bigint:function(a){return a>0n?1n:a<0n?-1n:0n},Fraction:function(a){return new n(a.s)},"Array | Matrix":e.referToSelf(o=>a=>Ge(a,o,!0)),Unit:e.referToSelf(o=>a=>{if(!a._isDerived()&&a.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return e.find(o,a.valueType())(a.value)})})});var lse="sqrt",use=["config","typed","Complex"],LD=N(lse,use,r=>{var{config:e,typed:t,Complex:i}=r;return t("sqrt",{number:n,Complex:function(a){return a.sqrt()},BigNumber:function(a){return!a.isNegative()||e.predictable?a.sqrt():n(a.toNumber())},Unit:function(a){return a.pow(.5)}});function n(o){return isNaN(o)?NaN:o>=0||e.predictable?Math.sqrt(o):new i(o,0).sqrt()}});var sV="square",dse=["typed"],VD=N(sV,dse,r=>{var{typed:e}=r;return e(sV,{number:fE,Complex:function(i){return i.mul(i)},BigNumber:function(i){return i.times(i)},bigint:function(i){return i*i},Fraction:function(i){return i.mul(i)},Unit:function(i){return i.pow(2)}})});var cV="subtract",mse=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],zD=N(cV,mse,r=>{var{typed:e,matrix:t,equalScalar:i,subtractScalar:n,unaryMinus:o,DenseMatrix:a,concat:s}=r,c=Dn({typed:e}),l=Fr({typed:e}),u=_c({typed:e,equalScalar:i}),d=Zn({typed:e,DenseMatrix:a}),m=ar({typed:e,DenseMatrix:a}),h=wt({typed:e,matrix:t,concat:s});return e(cV,{"any, any":n},h({elop:n,SS:u,DS:c,SD:l,Ss:m,sS:d}))});var lV="xgcd",hse=["typed","config","matrix","BigNumber"],UD=N(lV,hse,r=>{var{typed:e,config:t,matrix:i,BigNumber:n}=r;return e(lV,{"number, number":function(s,c){var l=pE(s,c);return t.matrix==="Array"?l:i(l)},"BigNumber, BigNumber":o});function o(a,s){var c,l,u,d=new n(0),m=new n(1),h=d,f=m,p=m,w=d;if(!a.isInt()||!s.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!s.isZero();)l=a.div(s).floor(),u=a.mod(s),c=h,h=f.minus(l.times(h)),f=c,c=p,p=w.minus(l.times(p)),w=c,a=s,s=u;var C;return a.lt(d)?C=[a.neg(),f.neg(),w.neg()]:C=[a,a.isZero()?0:f,w],t.matrix==="Array"?C:i(C)}});var uV="invmod",fse=["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],qD=N(uV,fse,r=>{var{typed:e,config:t,BigNumber:i,xgcd:n,equal:o,smaller:a,mod:s,add:c,isInteger:l}=r;return e(uV,{"number, number":u,"BigNumber, BigNumber":u});function u(d,m){if(!l(d)||!l(m))throw new Error("Parameters in function invmod must be integer numbers");if(d=s(d,m),o(m,0))throw new Error("Divisor must be non zero");var h=n(d,m);h=h.valueOf();var[f,p]=h;return o(f,i(1))?(p=s(p,m),a(p,i(0))&&(p=c(p,m)),p):NaN}});var pse="matAlgo09xS0Sf",gse=["typed","equalScalar"],I0=N(pse,gse,r=>{var{typed:e,equalScalar:t}=r;return function(n,o,a){var s=n._values,c=n._index,l=n._ptr,u=n._size,d=n._datatype||n._data===void 0?n._datatype:n.getDataType(),m=o._values,h=o._index,f=o._ptr,p=o._size,w=o._datatype||o._data===void 0?o._datatype:o.getDataType();if(u.length!==p.length)throw new bt(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");var C=u[0],T=u[1],g,_=t,v=0,y=a;typeof d=="string"&&d===w&&d!=="mixed"&&(g=d,_=e.find(t,[g,g]),v=e.convert(0,g),y=e.find(a,[g,g]));var A=s&&m?[]:void 0,b=[],E=[],D=A?[]:void 0,S=[],I,M,q,U,F;for(M=0;M<T;M++){E[M]=b.length;var O=M+1;if(D)for(U=f[M],F=f[M+1],q=U;q<F;q++)I=h[q],S[I]=O,D[I]=m[q];for(U=l[M],F=l[M+1],q=U;q<F;q++)if(I=c[q],D){var G=S[I]===O?D[I]:v,B=y(s[q],G);_(B,v)||(b.push(I),A.push(B))}else b.push(I)}return E[T]=b.length,n.createSparseMatrix({values:A,index:b,ptr:E,size:[C,T],datatype:d===n._datatype&&w===o._datatype?g:void 0})}});var dV="dotMultiply",vse=["typed","matrix","equalScalar","multiplyScalar","concat"],jD=N(dV,vse,r=>{var{typed:e,matrix:t,equalScalar:i,multiplyScalar:n,concat:o}=r,a=yi({typed:e,equalScalar:i}),s=I0({typed:e,equalScalar:i}),c=yr({typed:e,equalScalar:i}),l=wt({typed:e,matrix:t,concat:o});return e(dV,l({elop:n,SS:s,DS:a,Ss:c}))});function mV(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitAnd");var t=r.constructor;if(r.isNaN()||e.isNaN())return new t(NaN);if(r.isZero()||e.eq(-1)||r.eq(e))return r;if(e.isZero()||r.eq(-1))return e;if(!r.isFinite()||!e.isFinite()){if(!r.isFinite()&&!e.isFinite())return r.isNegative()===e.isNegative()?r:new t(0);if(!r.isFinite())return e.isNegative()?r:r.isNegative()?new t(0):e;if(!e.isFinite())return r.isNegative()?e:e.isNegative()?new t(0):r}return $D(r,e,function(i,n){return i&n})}function Rd(r){if(r.isFinite()&&!r.isInteger())throw new Error("Integer expected in function bitNot");var e=r.constructor,t=e.precision;e.config({precision:1e9});var i=r.plus(new e(1));return i.s=-i.s||null,e.config({precision:t}),i}function hV(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitOr");var t=r.constructor;if(r.isNaN()||e.isNaN())return new t(NaN);var i=new t(-1);return r.isZero()||e.eq(i)||r.eq(e)?e:e.isZero()||r.eq(i)?r:!r.isFinite()||!e.isFinite()?!r.isFinite()&&!r.isNegative()&&e.isNegative()||r.isNegative()&&!e.isNegative()&&!e.isFinite()?i:r.isNegative()&&e.isNegative()?r.isFinite()?r:e:r.isFinite()?e:r:$D(r,e,function(n,o){return n|o})}function $D(r,e,t){var i=r.constructor,n,o,a=+(r.s<0),s=+(e.s<0);if(a){n=M0(Rd(r));for(var c=0;c<n.length;++c)n[c]^=1}else n=M0(r);if(s){o=M0(Rd(e));for(var l=0;l<o.length;++l)o[l]^=1}else o=M0(e);var u,d,m;n.length<=o.length?(u=n,d=o,m=a):(u=o,d=n,m=s);var h=u.length,f=d.length,p=t(a,s)^1,w=new i(p^1),C=new i(1),T=new i(2),g=i.precision;for(i.config({precision:1e9});h>0;)t(u[--h],d[--f])===p&&(w=w.plus(C)),C=C.times(T);for(;f>0;)t(m,d[--f])===p&&(w=w.plus(C)),C=C.times(T);return i.config({precision:g}),p===0&&(w.s=-w.s),w}function M0(r){for(var e=r.d,t=e[0]+"",i=1;i<e.length;++i){for(var n=e[i]+"",o=7-n.length;o--;)n="0"+n;t+=n}for(var a=t.length;t.charAt(a)==="0";)a--;var s=r.e,c=t.slice(0,a+1||1),l=c.length;if(s>0)if(++s>l)for(s-=l;s--;)c+="0";else s<l&&(c=c.slice(0,s)+"."+c.slice(s));for(var u=[0],d=0;d<c.length;){for(var m=u.length;m--;)u[m]*=10;u[0]+=parseInt(c.charAt(d++));for(var h=0;h<u.length;++h)u[h]>1&&((u[h+1]===null||u[h+1]===void 0)&&(u[h+1]=0),u[h+1]+=u[h]>>1,u[h]&=1)}return u.reverse()}function fV(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitXor");var t=r.constructor;if(r.isNaN()||e.isNaN())return new t(NaN);if(r.isZero())return e;if(e.isZero())return r;if(r.eq(e))return new t(0);var i=new t(-1);return r.eq(i)?Rd(e):e.eq(i)?Rd(r):!r.isFinite()||!e.isFinite()?!r.isFinite()&&!e.isFinite()?i:new t(r.isNegative()===e.isNegative()?1/0:-1/0):$D(r,e,function(n,o){return n^o})}function pV(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function leftShift");var t=r.constructor;return r.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new t(NaN):r.isZero()||e.isZero()?r:!r.isFinite()&&!e.isFinite()?new t(NaN):e.lt(55)?r.times(Math.pow(2,e.toNumber())+""):r.times(new t(2).pow(e))}function gV(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function rightArithShift");var t=r.constructor;return r.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new t(NaN):r.isZero()||e.isZero()?r:e.isFinite()?e.lt(55)?r.div(Math.pow(2,e.toNumber())+"").floor():r.div(new t(2).pow(e)).floor():r.isNegative()?new t(-1):r.isFinite()?new t(0):new t(NaN)}var vV="bitAnd",yse=["typed","matrix","equalScalar","concat"],If=N(vV,yse,r=>{var{typed:e,matrix:t,equalScalar:i,concat:n}=r,o=yi({typed:e,equalScalar:i}),a=xc({typed:e,equalScalar:i}),s=yr({typed:e,equalScalar:i}),c=wt({typed:e,matrix:t,concat:n});return e(vV,{"number, number":vE,"BigNumber, BigNumber":mV,"bigint, bigint":(l,u)=>l&u},c({SS:a,DS:o,Ss:s}))});var yV="bitNot",bse=["typed"],HD=N(yV,bse,r=>{var{typed:e}=r;return e(yV,{number:yE,BigNumber:Rd,bigint:t=>~t,"Array | Matrix":e.referToSelf(t=>i=>Ge(i,t))})});var bV="bitOr",_se=["typed","matrix","equalScalar","DenseMatrix","concat"],Mf=N(bV,_se,r=>{var{typed:e,matrix:t,equalScalar:i,DenseMatrix:n,concat:o}=r,a=Dn({typed:e}),s=kd({typed:e,equalScalar:i}),c=Zn({typed:e,DenseMatrix:n}),l=wt({typed:e,matrix:t,concat:o});return e(bV,{"number, number":bE,"BigNumber, BigNumber":hV,"bigint, bigint":(u,d)=>u|d},l({SS:s,DS:a,Ss:c}))});var xse="matAlgo07xSSf",wse=["typed","SparseMatrix"],Ri=N(xse,wse,r=>{var{typed:e,SparseMatrix:t}=r;return function(o,a,s){var c=o._size,l=o._datatype||o._data===void 0?o._datatype:o.getDataType(),u=a._size,d=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(c.length!==u.length)throw new bt(c.length,u.length);if(c[0]!==u[0]||c[1]!==u[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+u+")");var m=c[0],h=c[1],f,p=0,w=s;typeof l=="string"&&l===d&&l!=="mixed"&&(f=l,p=e.convert(0,f),w=e.find(s,[f,f]));for(var C=[],T=[],g=new Array(h+1).fill(0),_=[],v=[],y=[],A=[],b=0;b<h;b++){var E=b+1,D=0;i(o,b,y,_,E),i(a,b,A,v,E);for(var S=0;S<m;S++){var I=y[S]===E?_[S]:p,M=A[S]===E?v[S]:p,q=w(I,M);q!==0&&q!==!1&&(T.push(S),C.push(q),D++)}g[b+1]=g[b]+D}return new t({values:C,index:T,ptr:g,size:[m,h],datatype:l===o._datatype&&d===a._datatype?f:void 0})};function i(n,o,a,s,c){for(var l=n._values,u=n._index,d=n._ptr,m=d[o],h=d[o+1];m<h;m++){var f=u[m];a[f]=c,s[f]=l[m]}}});var _V="bitXor",Ese=["typed","matrix","DenseMatrix","concat","SparseMatrix"],GD=N(_V,Ese,r=>{var{typed:e,matrix:t,DenseMatrix:i,concat:n,SparseMatrix:o}=r,a=Fr({typed:e}),s=Ri({typed:e,SparseMatrix:o}),c=ar({typed:e,DenseMatrix:i}),l=wt({typed:e,matrix:t,concat:n});return e(_V,{"number, number":_E,"BigNumber, BigNumber":fV,"bigint, bigint":(u,d)=>u^d},l({SS:s,DS:a,Ss:c}))});var xV="arg",Dse=["typed"],WD=N(xV,Dse,r=>{var{typed:e}=r;return e(xV,{number:function(i){return Math.atan2(0,i)},BigNumber:function(i){return i.constructor.atan2(0,i)},Complex:function(i){return i.arg()},"Array | Matrix":e.referToSelf(t=>i=>Ge(i,t))})});var wV="conj",Ase=["typed"],XD=N(wV,Ase,r=>{var{typed:e}=r;return e(wV,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.conjugate(),"Array | Matrix":e.referToSelf(t=>i=>Ge(i,t))})});var EV="im",Cse=["typed"],KD=N(EV,Cse,r=>{var{typed:e}=r;return e(EV,{number:()=>0,"BigNumber | Fraction":t=>t.mul(0),Complex:t=>t.im,"Array | Matrix":e.referToSelf(t=>i=>Ge(i,t))})});var DV="re",Sse=["typed"],QD=N(DV,Sse,r=>{var{typed:e}=r;return e(DV,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.re,"Array | Matrix":e.referToSelf(t=>i=>Ge(i,t))})});var AV="not",Tse=["typed"],YD=N(AV,Tse,r=>{var{typed:e}=r;return e(AV,{"null | undefined":()=>!0,number:CE,Complex:function(i){return i.re===0&&i.im===0},BigNumber:function(i){return i.isZero()||i.isNaN()},bigint:t=>!t,Unit:e.referToSelf(t=>i=>e.find(t,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(t=>i=>Ge(i,t))})});var CV="or",Ise=["typed","matrix","equalScalar","DenseMatrix","concat"],Nf=N(CV,Ise,r=>{var{typed:e,matrix:t,equalScalar:i,DenseMatrix:n,concat:o}=r,a=Fr({typed:e}),s=_c({typed:e,equalScalar:i}),c=ar({typed:e,DenseMatrix:n}),l=wt({typed:e,matrix:t,concat:o});return e(CV,{"number, number":D0,"Complex, Complex":function(d,m){return d.re!==0||d.im!==0||m.re!==0||m.im!==0},"BigNumber, BigNumber":function(d,m){return!d.isZero()&&!d.isNaN()||!m.isZero()&&!m.isNaN()},"bigint, bigint":D0,"Unit, Unit":e.referToSelf(u=>(d,m)=>u(d.value||0,m.value||0))},l({SS:s,DS:a,Ss:c}))});var SV="xor",Mse=["typed","matrix","DenseMatrix","concat","SparseMatrix"],ZD=N(SV,Mse,r=>{var{typed:e,matrix:t,DenseMatrix:i,concat:n,SparseMatrix:o}=r,a=Fr({typed:e}),s=Ri({typed:e,SparseMatrix:o}),c=ar({typed:e,DenseMatrix:i}),l=wt({typed:e,matrix:t,concat:n});return e(SV,{"number, number":A0,"Complex, Complex":function(d,m){return(d.re!==0||d.im!==0)!=(m.re!==0||m.im!==0)},"bigint, bigint":A0,"BigNumber, BigNumber":function(d,m){return(!d.isZero()&&!d.isNaN())!=(!m.isZero()&&!m.isNaN())},"Unit, Unit":e.referToSelf(u=>(d,m)=>u(d.value||0,m.value||0))},l({SS:s,DS:a,Ss:c}))});var TV="concat",Nse=["typed","matrix","isInteger"],kf=N(TV,Nse,r=>{var{typed:e,matrix:t,isInteger:i}=r;return e(TV,{"...Array | Matrix | number | BigNumber":function(o){var a,s=o.length,c=-1,l,u=!1,d=[];for(a=0;a<s;a++){var m=o[a];if(He(m)&&(u=!0),mt(m)||tt(m)){if(a!==s-1)throw new Error("Dimension must be specified as last argument");if(l=c,c=m.valueOf(),!i(c))throw new TypeError("Integer number expected for dimension");if(c<0||a>0&&c>l)throw new cn(c,l+1)}else{var h=at(m).valueOf(),f=it(h);if(d[a]=h,l=c,c=f.length-1,a>0&&c!==l)throw new bt(l+1,c+1)}}if(d.length===0)throw new SyntaxError("At least one matrix expected");for(var p=d.shift();d.length;)p=K1(p,d.shift(),c);return u?t(p):p},"...string":function(o){return o.join("")}})});var IV="column",kse=["typed","Index","matrix","range"],Rf=N(IV,kse,r=>{var{typed:e,Index:t,matrix:i,range:n}=r;return e(IV,{"Matrix, number":o,"Array, number":function(s,c){return o(i(at(s)),c).valueOf()}});function o(a,s){if(a.size().length!==2)throw new Error("Only two dimensional matrix is supported");Er(s,a.size()[1]);var c=n(0,a.size()[0]),l=new t(c,s),u=a.subset(l);return He(u)?u:i([[u]])}});var MV="count",Rse=["typed","size","prod"],JD=N(MV,Rse,r=>{var{typed:e,size:t,prod:i}=r;return e(MV,{string:function(o){return o.length},"Matrix | Array":function(o){return i(t(o))}})});var NV="cross",Fse=["typed","matrix","subtract","multiply"],eA=N(NV,Fse,r=>{var{typed:e,matrix:t,subtract:i,multiply:n}=r;return e(NV,{"Matrix, Matrix":function(s,c){return t(o(s.toArray(),c.toArray()))},"Matrix, Array":function(s,c){return t(o(s.toArray(),c))},"Array, Matrix":function(s,c){return t(o(s,c.toArray()))},"Array, Array":o});function o(a,s){var c=Math.max(it(a).length,it(s).length);a=Cd(a),s=Cd(s);var l=it(a),u=it(s);if(l.length!==1||u.length!==1||l[0]!==3||u[0]!==3)throw new RangeError("Vectors with length 3 expected (Size A = ["+l.join(", ")+"], B = ["+u.join(", ")+"])");var d=[i(n(a[1],s[2]),n(a[2],s[1])),i(n(a[2],s[0]),n(a[0],s[2])),i(n(a[0],s[1]),n(a[1],s[0]))];return c>1?[d]:d}});var kV="diag",Ose=["typed","matrix","DenseMatrix","SparseMatrix"],tA=N(kV,Ose,r=>{var{typed:e,matrix:t,DenseMatrix:i,SparseMatrix:n}=r;return e(kV,{Array:function(l){return o(l,0,it(l),null)},"Array, number":function(l,u){return o(l,u,it(l),null)},"Array, BigNumber":function(l,u){return o(l,u.toNumber(),it(l),null)},"Array, string":function(l,u){return o(l,0,it(l),u)},"Array, number, string":function(l,u,d){return o(l,u,it(l),d)},"Array, BigNumber, string":function(l,u,d){return o(l,u.toNumber(),it(l),d)},Matrix:function(l){return o(l,0,l.size(),l.storage())},"Matrix, number":function(l,u){return o(l,u,l.size(),l.storage())},"Matrix, BigNumber":function(l,u){return o(l,u.toNumber(),l.size(),l.storage())},"Matrix, string":function(l,u){return o(l,0,l.size(),u)},"Matrix, number, string":function(l,u,d){return o(l,u,l.size(),d)},"Matrix, BigNumber, string":function(l,u,d){return o(l,u.toNumber(),l.size(),d)}});function o(c,l,u,d){if(!je(l))throw new TypeError("Second parameter in function diag must be an integer");var m=l>0?l:0,h=l<0?-l:0;switch(u.length){case 1:return a(c,l,d,u[0],h,m);case 2:return s(c,l,d,u,h,m)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function a(c,l,u,d,m,h){var f=[d+m,d+h];if(u&&u!=="sparse"&&u!=="dense")throw new TypeError("Unknown matrix type ".concat(u,'"'));var p=u==="sparse"?n.diagonal(f,c,l):i.diagonal(f,c,l);return u!==null?p:p.valueOf()}function s(c,l,u,d,m,h){if(He(c)){var f=c.diagonal(l);return u!==null?u!==f.storage()?t(f,u):f:f.valueOf()}for(var p=Math.min(d[0]-m,d[1]-h),w=[],C=0;C<p;C++)w[C]=c[C+m][C+h];return u!==null?t(w):w}});var Pse="filter",Bse=["typed"],Ff=N(Pse,Bse,r=>{var{typed:e}=r;return e("filter",{"Array, function":RV,"Matrix, function":function(i,n){return i.create(RV(i.valueOf(),n),i.datatype())},"Array, RegExp":W1,"Matrix, RegExp":function(i,n){return i.create(W1(i.valueOf(),n),i.datatype())}})});function RV(r,e){var t=Vo(e,r,"filter");return f3(r,function(i,n,o){return t(i,[n],o)})}var FV="flatten",Lse=["typed"],rA=N(FV,Lse,r=>{var{typed:e}=r;return e(FV,{Array:function(i){return kt(i)},Matrix:function(i){return i.create(kt(i.toArray()),i.datatype())}})});var iA="forEach",Vse=["typed"],Of=N(iA,Vse,r=>{var{typed:e}=r;return e(iA,{"Array, function":zse,"Matrix, function":function(i,n){i.forEach(n)}})});function zse(r,e){Ef(r,[],r,Vo(e,r,iA))}var OV="getMatrixDataType",Use=["typed"],nA=N(OV,Use,r=>{var{typed:e}=r;return e(OV,{Array:function(i){return Ll(i,Ht)},Matrix:function(i){return i.getDataType()}})});var PV="identity",qse=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],oA=N(PV,qse,r=>{var{typed:e,config:t,matrix:i,BigNumber:n,DenseMatrix:o,SparseMatrix:a}=r;return e(PV,{"":function(){return t.matrix==="Matrix"?i([]):[]},string:function(u){return i(u)},"number | BigNumber":function(u){return c(u,u,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(u,d){return c(u,u,d)},"number | BigNumber, number | BigNumber":function(u,d){return c(u,d,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(u,d,m){return c(u,d,m)},Array:function(u){return s(u)},"Array, string":function(u,d){return s(u,d)},Matrix:function(u){return s(u.valueOf(),u.storage())},"Matrix, string":function(u,d){return s(u.valueOf(),d)}});function s(l,u){switch(l.length){case 0:return u?i(u):[];case 1:return c(l[0],l[0],u);case 2:return c(l[0],l[1],u);default:throw new Error("Vector containing two values expected")}}function c(l,u,d){var m=tt(l)||tt(u)?n:null;if(tt(l)&&(l=l.toNumber()),tt(u)&&(u=u.toNumber()),!je(l)||l<1)throw new Error("Parameters in function identity must be positive integers");if(!je(u)||u<1)throw new Error("Parameters in function identity must be positive integers");var h=m?new n(1):1,f=m?new m(0):0,p=[l,u];if(d){if(d==="sparse")return a.diagonal(p,h,0,f);if(d==="dense")return o.diagonal(p,h,0,f);throw new TypeError('Unknown matrix type "'.concat(d,'"'))}for(var w=la([],p,f),C=l<u?l:u,T=0;T<C;T++)w[T][T]=h;return w}});var BV="kron",jse=["typed","matrix","multiplyScalar"],aA=N(BV,jse,r=>{var{typed:e,matrix:t,multiplyScalar:i}=r;return e(BV,{"Matrix, Matrix":function(a,s){return t(n(a.toArray(),s.toArray()))},"Matrix, Array":function(a,s){return t(n(a.toArray(),s))},"Array, Matrix":function(a,s){return t(n(a,s.toArray()))},"Array, Array":n});function n(o,a){if(it(o).length===1&&(o=[o]),it(a).length===1&&(a=[a]),it(o).length>2||it(a).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(o.length)+", y = "+JSON.stringify(a.length)+")");var s=[],c=[];return o.map(function(l){return a.map(function(u){return c=[],s.push(c),l.map(function(d){return u.map(function(m){return c.push(i(d,m))})})})})&&s}});var sA="map",$se=["typed"],Pf=N(sA,$se,r=>{var{typed:e}=r;return e(sA,{"Array, function":i,"Matrix, function":function(o,a){return o.map(a)},"Array|Matrix, Array|Matrix, ...Array|Matrix|function":(n,o,a)=>t([n,o,...a.slice(0,a.length-1)],a[a.length-1])});function t(n,o){if(typeof o!="function")throw new Error("Last argument must be a callback function");var a=n[0].isMatrix,s=wf(...n.map(_=>_.isMatrix?_.size():it(_))),c=a?(_,v)=>_.get(v):Td,l=a?n.map(_=>_.isMatrix?_.create(ka(_.toArray(),s),_.datatype()):n[0].create(ka(_.valueOf(),s))):n.map(_=>_.isMatrix?ka(_.toArray(),s):ka(_,s)),u;if(e.isTypedFunction(o)){var d=s.map(()=>0),m=l.map(_=>c(_,d)),h=g(o,m,d,l);u=C(h)}else{var f=n.length,p=T(o,f);u=C(p)}var w=(_,v)=>u([_,...l.slice(1).map(y=>c(y,v))],v);if(a)return l[0].map(w);return i(l[0],w);function C(_){switch(_){case 0:return v=>o(...v);case 1:return(v,y)=>o(...v,y);case 2:return(v,y)=>o(...v,y,...l)}}function T(_,v){return _.length>v+1?2:_.length===v+1?1:0}function g(_,v,y,A){return e.resolve(_,[...v,y,...A])!==null?2:e.resolve(_,[...v,y])!==null?1:(e.resolve(_,v)!==null,0)}}function i(n,o){return Ef(n,[],n,Vo(o,n,sA))}});var LV="diff",Hse=["typed","matrix","subtract","number"],Bf=N(LV,Hse,r=>{var{typed:e,matrix:t,subtract:i,number:n}=r;return e(LV,{"Array | Matrix":function(u){return He(u)?t(a(u.toArray())):a(u)},"Array | Matrix, number":function(u,d){if(!je(d))throw new RangeError("Dimension must be a whole number");return He(u)?t(o(u.toArray(),d)):o(u,d)},"Array, BigNumber":e.referTo("Array,number",l=>(u,d)=>l(u,n(d))),"Matrix, BigNumber":e.referTo("Matrix,number",l=>(u,d)=>l(u,n(d)))});function o(l,u){if(He(l)&&(l=l.toArray()),!Array.isArray(l))throw RangeError("Array/Matrix does not have that many dimensions");if(u>0){var d=[];return l.forEach(m=>{d.push(o(m,u-1))}),d}else{if(u===0)return a(l);throw RangeError("Cannot have negative dimension")}}function a(l){for(var u=[],d=l.length,m=1;m<d;m++)u.push(s(l[m-1],l[m]));return u}function s(l,u){He(l)&&(l=l.toArray()),He(u)&&(u=u.toArray());var d=Array.isArray(l),m=Array.isArray(u);if(d&&m)return c(l,u);if(!d&&!m)return i(u,l);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}function c(l,u){if(l.length!==u.length)throw RangeError("Not all sub-arrays have the same length");for(var d=[],m=l.length,h=0;h<m;h++)d.push(s(l[h],u[h]));return d}});var Gse="ones",Wse=["typed","config","matrix","BigNumber"],cA=N(Gse,Wse,r=>{var{typed:e,config:t,matrix:i,BigNumber:n}=r;return e("ones",{"":function(){return t.matrix==="Array"?o([]):o([],"default")},"...number | BigNumber | string":function(l){var u=l[l.length-1];if(typeof u=="string"){var d=l.pop();return o(l,d)}else return t.matrix==="Array"?o(l):o(l,"default")},Array:o,Matrix:function(l){var u=l.storage();return o(l.valueOf(),u)},"Array | Matrix, string":function(l,u){return o(l.valueOf(),u)}});function o(c,l){var u=a(c),d=u?new n(1):1;if(s(c),l){var m=i(l);return c.length>0?m.resize(c,d):m}else{var h=[];return c.length>0?la(h,c,d):h}}function a(c){var l=!1;return c.forEach(function(u,d,m){tt(u)&&(l=!0,m[d]=u.toNumber())}),l}function s(c){c.forEach(function(l){if(typeof l!="number"||!je(l)||l<0)throw new Error("Parameters in function ones must be positive integers")})}});function Fd(){throw new Error('No "bignumber" implementation available')}function N0(){throw new Error('No "fraction" implementation available')}function k0(){throw new Error('No "matrix" implementation available')}var VV="range",Xse=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],Lf=N(VV,Xse,r=>{var{typed:e,config:t,matrix:i,bignumber:n,smaller:o,smallerEq:a,larger:s,largerEq:c,add:l,isPositive:u}=r;return e(VV,{string:m,"string, boolean":m,"number, number":function(w,C){return d(h(w,C,1,!1))},"number, number, number":function(w,C,T){return d(h(w,C,T,!1))},"number, number, boolean":function(w,C,T){return d(h(w,C,1,T))},"number, number, number, boolean":function(w,C,T,g){return d(h(w,C,T,g))},"BigNumber, BigNumber":function(w,C){var T=w.constructor;return d(h(w,C,new T(1),!1))},"BigNumber, BigNumber, BigNumber":function(w,C,T){return d(h(w,C,T,!1))},"BigNumber, BigNumber, boolean":function(w,C,T){var g=w.constructor;return d(h(w,C,new g(1),T))},"BigNumber, BigNumber, BigNumber, boolean":function(w,C,T,g){return d(h(w,C,T,g))},"Unit, Unit, Unit":function(w,C,T){return d(h(w,C,T,!1))},"Unit, Unit, Unit, boolean":function(w,C,T,g){return d(h(w,C,T,g))}});function d(p){return t.matrix==="Matrix"?i?i(p):k0():p}function m(p,w){var C=f(p);if(!C)throw new SyntaxError('String "'+p+'" is no valid range');return t.number==="BigNumber"?(n===void 0&&Fd(),d(h(n(C.start),n(C.end),n(C.step)),w)):d(h(C.start,C.end,C.step,w))}function h(p,w,C,T){for(var g=[],_=u(C)?T?a:o:T?c:s,v=p;_(v,w);)g.push(v),v=l(v,C);return g}function f(p){var w=p.split(":"),C=w.map(function(g){return Number(g)}),T=C.some(function(g){return isNaN(g)});if(T)return null;switch(C.length){case 2:return{start:C[0],end:C[1],step:1};case 3:return{start:C[0],end:C[2],step:C[1]};default:return null}}});var zV="reshape",Kse=["typed","isInteger","matrix"],lA=N(zV,Kse,r=>{var{typed:e,isInteger:t}=r;return e(zV,{"Matrix, Array":function(n,o){return n.reshape(o,!0)},"Array, Array":function(n,o){return o.forEach(function(a){if(!t(a))throw new TypeError("Invalid size for dimension: "+a)}),_f(n,o)}})});var Qse="resize",Yse=["config","matrix"],uA=N(Qse,Yse,r=>{var{config:e,matrix:t}=r;return function(o,a,s){if(arguments.length!==2&&arguments.length!==3)throw new gs("resize",arguments.length,2,3);if(He(a)&&(a=a.valueOf()),tt(a[0])&&(a=a.map(function(u){return tt(u)?u.toNumber():u})),He(o))return o.resize(a,s,!0);if(typeof o=="string")return i(o,a,s);var c=Array.isArray(o)?!1:e.matrix!=="Array";if(a.length===0){for(;Array.isArray(o);)o=o[0];return at(o)}else{Array.isArray(o)||(o=[o]),o=at(o);var l=la(o,a,s);return c?t(l):l}};function i(n,o,a){if(a!==void 0){if(typeof a!="string"||a.length!==1)throw new TypeError("Single character expected as defaultValue")}else a=" ";if(o.length!==1)throw new bt(o.length,1);var s=o[0];if(typeof s!="number"||!je(s))throw new TypeError("Invalid size, must contain positive integers (size: "+vt(o)+")");if(n.length>s)return n.substring(0,s);if(n.length<s){for(var c=n,l=0,u=s-n.length;l<u;l++)c+=a;return c}else return n}});var UV="rotate",Zse=["typed","multiply","rotationMatrix"],dA=N(UV,Zse,r=>{var{typed:e,multiply:t,rotationMatrix:i}=r;return e(UV,{"Array , number | BigNumber | Complex | Unit":function(a,s){n(a,2);var c=t(i(s),a);return c.toArray()},"Matrix , number | BigNumber | Complex | Unit":function(a,s){return n(a,2),t(i(s),a)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(a,s,c){n(a,3);var l=t(i(s,c),a);return l},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(a,s,c){return n(a,3),t(i(s,c),a)}});function n(o,a){var s=Array.isArray(o)?it(o):o.size();if(s.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(a));if(s.length===2&&s[1]!==1)throw new RangeError("Vector must be of dimensions 1x".concat(a));if(s[0]!==a)throw new RangeError("Vector must be of dimensions 1x".concat(a))}});var qV="rotationMatrix",Jse=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],mA=N(qV,Jse,r=>{var{typed:e,config:t,multiplyScalar:i,addScalar:n,unaryMinus:o,norm:a,BigNumber:s,matrix:c,DenseMatrix:l,SparseMatrix:u,cos:d,sin:m}=r;return e(qV,{"":function(){return t.matrix==="Matrix"?c([]):[]},string:function(g){return c(g)},"number | BigNumber | Complex | Unit":function(g){return h(g,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(g,_){return h(g,_)},"number | BigNumber | Complex | Unit, Array":function(g,_){var v=c(_);return f(v),C(g,v,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(g,_){f(_);var v=_.storage()||(t.matrix==="Matrix"?"dense":void 0);return C(g,_,v)},"number | BigNumber | Complex | Unit, Array, string":function(g,_,v){var y=c(_);return f(y),C(g,y,v)},"number | BigNumber | Complex | Unit, Matrix, string":function(g,_,v){return f(_),C(g,_,v)}});function h(T,g){var _=tt(T),v=_?new s(-1):-1,y=d(T),A=m(T),b=[[y,i(v,A)],[A,y]];return w(b,g)}function f(T){var g=T.size();if(g.length<1||g[0]!==3)throw new RangeError("Vector must be of dimensions 1x3")}function p(T){return T.reduce((g,_)=>i(g,_))}function w(T,g){if(g){if(g==="sparse")return new u(T);if(g==="dense")return new l(T);throw new TypeError('Unknown matrix type "'.concat(g,'"'))}return T}function C(T,g,_){var v=a(g);if(v===0)throw new RangeError("Rotation around zero vector");var y=tt(T)?s:null,A=y?new y(1):1,b=y?new y(-1):-1,E=y?new y(g.get([0])/v):g.get([0])/v,D=y?new y(g.get([1])/v):g.get([1])/v,S=y?new y(g.get([2])/v):g.get([2])/v,I=d(T),M=n(A,o(I)),q=m(T),U=n(I,p([E,E,M])),F=n(p([E,D,M]),p([b,S,q])),O=n(p([E,S,M]),p([D,q])),G=n(p([E,D,M]),p([S,q])),B=n(I,p([D,D,M])),ee=n(p([D,S,M]),p([b,E,q])),ae=n(p([E,S,M]),p([b,D,q])),J=n(p([D,S,M]),p([E,q])),H=n(I,p([S,S,M])),ce=[[U,F,O],[G,B,ee],[ae,J,H]];return w(ce,_)}});var jV="row",ece=["typed","Index","matrix","range"],Vf=N(jV,ece,r=>{var{typed:e,Index:t,matrix:i,range:n}=r;return e(jV,{"Matrix, number":o,"Array, number":function(s,c){return o(i(at(s)),c).valueOf()}});function o(a,s){if(a.size().length!==2)throw new Error("Only two dimensional matrix is supported");Er(s,a.size()[0]);var c=n(0,a.size()[1]),l=new t(s,c),u=a.subset(l);return He(u)?u:i([[u]])}});var $V="size",tce=["typed","config","?matrix"],hA=N($V,tce,r=>{var{typed:e,config:t,matrix:i}=r;return e($V,{Matrix:function(o){return o.create(o.size(),"number")},Array:it,string:function(o){return t.matrix==="Array"?[o.length]:i([o.length],"dense","number")},"number | Complex | BigNumber | Unit | boolean | null":function(o){return t.matrix==="Array"?[]:i?i([],"dense","number"):k0()}})});var HV="squeeze",rce=["typed"],fA=N(HV,rce,r=>{var{typed:e}=r;return e(HV,{Array:function(i){return Cd(at(i))},Matrix:function(i){var n=Cd(i.toArray());return Array.isArray(n)?i.create(n,i.datatype()):n},any:function(i){return at(i)}})});var GV="subset",ice=["typed","matrix","zeros","add"],zf=N(GV,ice,r=>{var{typed:e,matrix:t,zeros:i,add:n}=r;return e(GV,{"Matrix, Index":function(s,c){return Bl(c)?t():(bf(s,c),s.subset(c))},"Array, Index":e.referTo("Matrix, Index",function(a){return function(s,c){var l=a(t(s),c);return c.isScalar()?l:l.valueOf()}}),"Object, Index":oce,"string, Index":nce,"Matrix, Index, any, any":function(s,c,l,u){return Bl(c)?s:(bf(s,c),s.clone().subset(c,o(l,c),u))},"Array, Index, any, any":e.referTo("Matrix, Index, any, any",function(a){return function(s,c,l,u){var d=a(t(s),c,l,u);return d.isMatrix?d.valueOf():d}}),"Array, Index, any":e.referTo("Matrix, Index, any, any",function(a){return function(s,c,l){return a(t(s),c,l,void 0).valueOf()}}),"Matrix, Index, any":e.referTo("Matrix, Index, any, any",function(a){return function(s,c,l){return a(s,c,l,void 0)}}),"string, Index, string":WV,"string, Index, string, string":WV,"Object, Index, any":ace});function o(a,s){if(typeof a=="string")throw new Error("can't boradcast a string");if(s._isScalar)return a;var c=s.size();if(c.every(l=>l>0))try{return n(a,i(c))}catch{return a}else return a}});function nce(r,e){if(!mc(e))throw new TypeError("Index expected");if(Bl(e))return"";if(bf(Array.from(r),e),e.size().length!==1)throw new bt(e.size().length,1);var t=r.length;Er(e.min()[0],t),Er(e.max()[0],t);var i=e.dimension(0),n="";return i.forEach(function(o){n+=r.charAt(o)}),n}function WV(r,e,t,i){if(!e||e.isIndex!==!0)throw new TypeError("Index expected");if(Bl(e))return r;if(bf(Array.from(r),e),e.size().length!==1)throw new bt(e.size().length,1);if(i!==void 0){if(typeof i!="string"||i.length!==1)throw new TypeError("Single character expected as defaultValue")}else i=" ";var n=e.dimension(0),o=n.size()[0];if(o!==t.length)throw new bt(n.size()[0],t.length);var a=r.length;Er(e.min()[0]),Er(e.max()[0]);for(var s=[],c=0;c<a;c++)s[c]=r.charAt(c);if(n.forEach(function(d,m){s[d]=t.charAt(m[0])}),s.length>a)for(var l=a-1,u=s.length;l<u;l++)s[l]||(s[l]=i);return s.join("")}function oce(r,e){if(!Bl(e)){if(e.size().length!==1)throw new bt(e.size(),1);var t=e.dimension(0);if(typeof t!="string")throw new TypeError("String expected as index to retrieve an object property");return Gr(r,t)}}function ace(r,e,t){if(Bl(e))return r;if(e.size().length!==1)throw new bt(e.size(),1);var i=e.dimension(0);if(typeof i!="string")throw new TypeError("String expected as index to retrieve an object property");var n=at(r);return Ia(n,i,t),n}var XV="transpose",sce=["typed","matrix"],pA=N(XV,sce,r=>{var{typed:e,matrix:t}=r;return e(XV,{Array:a=>i(t(a)).valueOf(),Matrix:i,any:at});function i(a){var s=a.size(),c;switch(s.length){case 1:c=a.clone();break;case 2:{var l=s[0],u=s[1];if(u===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+vt(s)+")");switch(a.storage()){case"dense":c=n(a,l,u);break;case"sparse":c=o(a,l,u);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+vt(s)+")")}return c}function n(a,s,c){for(var l=a._data,u=[],d,m=0;m<c;m++){d=u[m]=[];for(var h=0;h<s;h++)d[h]=at(l[h][m])}return a.createDenseMatrix({data:u,size:[c,s],datatype:a._datatype})}function o(a,s,c){for(var l=a._values,u=a._index,d=a._ptr,m=l?[]:void 0,h=[],f=[],p=[],w=0;w<s;w++)p[w]=0;var C,T,g;for(C=0,T=u.length;C<T;C++)p[u[C]]++;for(var _=0,v=0;v<s;v++)f.push(_),_+=p[v],p[v]=f[v];for(f.push(_),g=0;g<c;g++)for(var y=d[g],A=d[g+1],b=y;b<A;b++){var E=p[u[b]]++;h[E]=g,l&&(m[E]=at(l[b]))}return a.createSparseMatrix({values:m,index:h,ptr:f,size:[c,s],datatype:a._datatype})}});var KV="ctranspose",cce=["typed","transpose","conj"],gA=N(KV,cce,r=>{var{typed:e,transpose:t,conj:i}=r;return e(KV,{any:function(o){return i(t(o))}})});var QV="zeros",lce=["typed","config","matrix","BigNumber"],vA=N(QV,lce,r=>{var{typed:e,config:t,matrix:i,BigNumber:n}=r;return e(QV,{"":function(){return t.matrix==="Array"?o([]):o([],"default")},"...number | BigNumber | string":function(l){var u=l[l.length-1];if(typeof u=="string"){var d=l.pop();return o(l,d)}else return t.matrix==="Array"?o(l):o(l,"default")},Array:o,Matrix:function(l){var u=l.storage();return o(l.valueOf(),u)},"Array | Matrix, string":function(l,u){return o(l.valueOf(),u)}});function o(c,l){var u=a(c),d=u?new n(0):0;if(s(c),l){var m=i(l);return c.length>0?m.resize(c,d):m}else{var h=[];return c.length>0?la(h,c,d):h}}function a(c){var l=!1;return c.forEach(function(u,d,m){tt(u)&&(l=!0,m[d]=u.toNumber())}),l}function s(c){c.forEach(function(l){if(typeof l!="number"||!je(l)||l<0)throw new Error("Parameters in function zeros must be positive integers")})}});var YV="fft",uce=["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],yA=N(YV,uce,r=>{var{typed:e,matrix:t,addScalar:i,multiplyScalar:n,divideScalar:o,exp:a,tau:s,i:c,dotDivide:l,conj:u,pow:d,ceil:m,log2:h}=r;return e(YV,{Array:f,Matrix:function(g){return g.create(f(g.valueOf()),g.datatype())}});function f(T){var g=it(T);return g.length===1?C(T,g[0]):p(T.map(_=>f(_,g.slice(1))),0)}function p(T,g){var _=it(T);if(g!==0)return new Array(_[0]).fill(0).map((y,A)=>p(T[A],g-1));if(_.length===1)return C(T);function v(y){var A=it(y);return new Array(A[1]).fill(0).map((b,E)=>new Array(A[0]).fill(0).map((D,S)=>y[S][E]))}return v(p(v(T),1))}function w(T){for(var g=T.length,_=a(o(n(-1,n(c,s)),g)),v=[],y=1-g;y<g;y++)v.push(d(_,o(d(y,2),2)));for(var A=d(2,m(h(g+g-1))),b=[...new Array(g).fill(0).map((F,O)=>n(T[O],v[g-1+O])),...new Array(A-g).fill(0)],E=[...new Array(g+g-1).fill(0).map((F,O)=>o(1,v[O])),...new Array(A-(g+g-1)).fill(0)],D=C(b),S=C(E),I=new Array(A).fill(0).map((F,O)=>n(D[O],S[O])),M=l(u(f(u(I))),A),q=[],U=g-1;U<g+g-1;U++)q.push(n(M[U],v[U]));return q}function C(T){var g=T.length;if(g===1)return[T[0]];if(g%2===0){for(var _=[...C(T.filter((b,E)=>E%2===0),g/2),...C(T.filter((b,E)=>E%2===1),g/2)],v=0;v<g/2;v++){var y=_[v],A=n(_[v+g/2],a(n(n(s,c),o(-v,g))));_[v]=i(y,A),_[v+g/2]=i(y,n(-1,A))}return _}else return w(T)}});var ZV="ifft",dce=["typed","fft","dotDivide","conj"],bA=N(ZV,dce,r=>{var{typed:e,fft:t,dotDivide:i,conj:n}=r;return e(ZV,{"Array | Matrix":function(a){var s=He(a)?a.size():it(a);return i(n(t(n(a))),s.reduce((c,l)=>c*l,1))}})});function Ul(r){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(r)}function JV(r,e){if(Ul(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var i=t.call(r,e||"default");if(Ul(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function e4(r){var e=JV(r,"string");return Ul(e)=="symbol"?e:e+""}function hr(r,e,t){return(e=e4(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function t4(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),t.push.apply(t,i)}return t}function mce(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?t4(Object(t),!0).forEach(function(i){hr(r,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):t4(Object(t)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))})}return r}var hce="solveODE",fce=["typed","add","subtract","multiply","divide","max","map","abs","isPositive","isNegative","larger","smaller","matrix","bignumber","unaryMinus"],_A=N(hce,fce,r=>{var{typed:e,add:t,subtract:i,multiply:n,divide:o,max:a,map:s,abs:c,isPositive:l,isNegative:u,larger:d,smaller:m,matrix:h,bignumber:f,unaryMinus:p}=r;function w(b){return function(E,D,S,I){var M=!(D.length===2&&(D.every(y)||D.every(nn)));if(M)throw new Error('"tspan" must be an Array of two numeric values or two units [tStart, tEnd]');var q=D[0],U=D[1],F=d(U,q),O=I.firstStep;if(O!==void 0&&!l(O))throw new Error('"firstStep" must be positive');var G=I.maxStep;if(G!==void 0&&!l(G))throw new Error('"maxStep" must be positive');var B=I.minStep;if(B&&u(B))throw new Error('"minStep" must be positive or zero');var ee=[q,U,O,B,G].filter(Mt=>Mt!==void 0);if(!(ee.every(y)||ee.every(nn)))throw new Error('Inconsistent type of "t" dependant variables');for(var ae=1,J=I.tol?I.tol:1e-4,H=I.minDelta?I.minDelta:.2,ce=I.maxDelta?I.maxDelta:5,ye=I.maxIter?I.maxIter:1e4,V=[q,U,...S,G,B].some(tt),[P,j,z,Q]=V?[f(b.a),f(b.c),f(b.b),f(b.bp)]:[b.a,b.c,b.b,b.bp],ie=O?F?O:p(O):o(i(U,q),ae),re=[q],pe=[S],fe=i(z,Q),$=0,K=0,se=_(F),de=v(F);se(re[$],U);){var Ee=[];ie=de(re[$],U,ie),Ee.push(E(re[$],pe[$]));for(var Se=1;Se<j.length;++Se)Ee.push(E(t(re[$],n(j[Se],ie)),t(pe[$],n(ie,P[Se],Ee))));var Be=a(c(s(n(fe,Ee),Mt=>nn(Mt)?Mt.value:Mt)));Be<J&&J/Be>1/4&&(re.push(t(re[$],ie)),pe.push(t(pe[$],n(ie,z,Ee))),$++);var We=.84*(J/Be)**(1/5);if(m(We,H)?We=H:d(We,ce)&&(We=ce),We=V?f(We):We,ie=n(ie,We),G&&d(c(ie),G)?ie=F?G:p(G):B&&m(c(ie),B)&&(ie=F?B:p(B)),K++,K>ye)throw new Error("Maximum number of iterations reached, try changing options")}return{t:re,y:pe}}}function C(b,E,D,S){var I=[[],[.5],[0,.75],[.2222222222222222,.3333333333333333,.4444444444444444]],M=[null,1/2,3/4,1],q=[2/9,1/3,4/9,0],U=[7/24,1/4,1/3,1/8],F={a:I,c:M,b:q,bp:U};return w(F)(b,E,D,S)}function T(b,E,D,S){var I=[[],[.2],[.075,.225],[.9777777777777777,-3.7333333333333334,3.5555555555555554],[2.9525986892242035,-11.595793324188385,9.822892851699436,-.2908093278463649],[2.8462752525252526,-10.757575757575758,8.906422717743473,.2784090909090909,-.2735313036020583],[.09114583333333333,0,.44923629829290207,.6510416666666666,-.322376179245283,.13095238095238096]],M=[null,1/5,3/10,4/5,8/9,1,1],q=[35/384,0,500/1113,125/192,-2187/6784,11/84,0],U=[5179/57600,0,7571/16695,393/640,-92097/339200,187/2100,1/40],F={a:I,c:M,b:q,bp:U};return w(F)(b,E,D,S)}function g(b,E,D,S){var I=S.method?S.method:"RK45",M={RK23:C,RK45:T};if(I.toUpperCase()in M){var q=mce({},S);return delete q.method,M[I.toUpperCase()](b,E,D,q)}else{var U=Object.keys(M).map(O=>'"'.concat(O,'"')),F="".concat(U.slice(0,-1).join(", ")," and ").concat(U.slice(-1));throw new Error('Unavailable method "'.concat(I,'". Available methods are ').concat(F))}}function _(b){return b?m:d}function v(b){var E=b?d:m;return function(D,S,I){var M=t(D,I);return E(M,S)?i(S,D):I}}function y(b){return tt(b)||mt(b)}function A(b,E,D,S){var I=g(b,E.toArray(),D.toArray(),S);return{t:h(I.t),y:h(I.y)}}return e("solveODE",{"function, Array, Array, Object":g,"function, Matrix, Matrix, Object":A,"function, Array, Array":(b,E,D)=>g(b,E,D,{}),"function, Matrix, Matrix":(b,E,D)=>A(b,E,D,{}),"function, Array, number | BigNumber | Unit":(b,E,D)=>{var S=g(b,E,[D],{});return{t:S.t,y:S.y.map(I=>I[0])}},"function, Matrix, number | BigNumber | Unit":(b,E,D)=>{var S=g(b,E.toArray(),[D],{});return{t:h(S.t),y:h(S.y.map(I=>I[0]))}},"function, Array, number | BigNumber | Unit, Object":(b,E,D,S)=>{var I=g(b,E,[D],S);return{t:I.t,y:I.y.map(M=>M[0])}},"function, Matrix, number | BigNumber | Unit, Object":(b,E,D,S)=>{var I=g(b,E.toArray(),[D],S);return{t:h(I.t),y:h(I.y.map(M=>M[0]))}}})});var pce="erf",gce=["typed"],xA=N(pce,gce,r=>{var{typed:e}=r;return e("name",{number:function(a){var s=Math.abs(a);return s>=bce?Po(a):s<=vce?Po(a)*t(s):s<=4?Po(a)*(1-i(s)):Po(a)*(1-n(s))},"Array | Matrix":e.referToSelf(o=>a=>Ge(a,o))});function t(o){var a=o*o,s=vs[0][4]*a,c=a,l;for(l=0;l<3;l+=1)s=(s+vs[0][l])*a,c=(c+Od[0][l])*a;return o*(s+vs[0][3])/(c+Od[0][3])}function i(o){var a=vs[1][8]*o,s=o,c;for(c=0;c<7;c+=1)a=(a+vs[1][c])*o,s=(s+Od[1][c])*o;var l=(a+vs[1][7])/(s+Od[1][7]),u=parseInt(o*16)/16,d=(o-u)*(o+u);return Math.exp(-u*u)*Math.exp(-d)*l}function n(o){var a=1/(o*o),s=vs[2][5]*a,c=a,l;for(l=0;l<4;l+=1)s=(s+vs[2][l])*a,c=(c+Od[2][l])*a;var u=a*(s+vs[2][4])/(c+Od[2][4]);u=(yce-u)/o,a=parseInt(o*16)/16;var d=(o-a)*(o+a);return Math.exp(-a*a)*Math.exp(-d)*u}}),vce=.46875,yce=.5641895835477563,vs=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,21531153547440383e-24],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],Od=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],bce=Math.pow(2,53);var r4="zeta",_ce=["typed","config","multiply","pow","divide","factorial","equal","smallerEq","isNegative","gamma","sin","subtract","add","?Complex","?BigNumber","pi"],wA=N(r4,_ce,r=>{var{typed:e,config:t,multiply:i,pow:n,divide:o,factorial:a,equal:s,smallerEq:c,isNegative:l,gamma:u,sin:d,subtract:m,add:h,Complex:f,BigNumber:p,pi:w}=r;return e(r4,{number:y=>C(y,A=>A,()=>20),BigNumber:y=>C(y,A=>new p(A),()=>Math.abs(Math.log10(t.relTol))),Complex:T});function C(y,A,b){return s(y,0)?A(-.5):s(y,1)?A(NaN):isFinite(y)?g(y,A,b,E=>E):l(y)?A(NaN):A(1)}function T(y){return y.re===0&&y.im===0?new f(-.5):y.re===1?new f(NaN,NaN):y.re===1/0&&y.im===0?new f(1):y.im===1/0||y.re===-1/0?new f(NaN,NaN):g(y,A=>A,A=>Math.round(1.3*15+.9*Math.abs(A.im)),A=>A.re)}function g(y,A,b,E){var D=b(y);if(E(y)>-(D-1)/2)return v(y,A(D),A);var S=i(n(2,y),n(A(w),m(y,1)));return S=i(S,d(i(o(A(w),2),y))),S=i(S,u(m(1,y))),i(S,g(m(1,y),A,b,E))}function _(y,A){for(var b=y,E=y;c(E,A);E=h(E,1)){var D=o(i(a(h(A,m(E,1))),n(4,E)),i(a(m(A,E)),a(i(2,E))));b=h(b,D)}return i(A,b)}function v(y,A,b){for(var E=o(1,i(_(b(0),A),m(1,n(2,m(1,y))))),D=b(0),S=b(1);c(S,A);S=h(S,1))D=h(D,o(i((-1)**(S-1),_(S,A)),n(S,y)));return i(E,D)}});var i4="mode",xce=["typed","isNaN","isNumeric"],EA=N(i4,xce,r=>{var{typed:e,isNaN:t,isNumeric:i}=r;return e(i4,{"Array | Matrix":n,"...":function(a){return n(a)}});function n(o){o=kt(o.valueOf());var a=o.length;if(a===0)throw new Error("Cannot calculate mode of an empty array");for(var s={},c=[],l=0,u=0;u<o.length;u++){var d=o[u];if(i(d)&&t(d))throw new Error("Cannot calculate mode of an array containing NaN values");d in s||(s[d]=0),s[d]++,s[d]===l?c.push(d):s[d]>l&&(l=s[d],c=[d])}return c}});function si(r,e,t){var i;return String(r).includes("Unexpected type")?(i=arguments.length>2?" (type: "+Ht(t)+", value: "+JSON.stringify(t)+")":" (type: "+r.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+i)):String(r).includes("complex numbers")?(i=arguments.length>2?" (type: "+Ht(t)+", value: "+JSON.stringify(t)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+i)):r}var n4="prod",wce=["typed","config","multiplyScalar","numeric"],DA=N(n4,wce,r=>{var{typed:e,config:t,multiplyScalar:i,numeric:n}=r;return e(n4,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(s,c){throw new Error("prod(A, dim) is not yet supported")},"...":function(s){return o(s)}});function o(a){var s;if(En(a,function(c){try{s=s===void 0?c:i(s,c)}catch(l){throw si(l,"prod",c)}}),typeof s=="string"&&(s=n(s,_n(s,t))),s===void 0)throw new Error("Cannot calculate prod of an empty array");return s}});var o4="format",Ece=["typed"],AA=N(o4,Ece,r=>{var{typed:e}=r;return e(o4,{any:vt,"any, Object | function | number | BigNumber":vt})});var a4="bin",Dce=["typed","format"],CA=N(a4,Dce,r=>{var{typed:e,format:t}=r;return e(a4,{"number | BigNumber":function(n){return t(n,{notation:"bin"})},"number | BigNumber, number | BigNumber":function(n,o){return t(n,{notation:"bin",wordSize:o})}})});var s4="oct",Ace=["typed","format"],SA=N(s4,Ace,r=>{var{typed:e,format:t}=r;return e(s4,{"number | BigNumber":function(n){return t(n,{notation:"oct"})},"number | BigNumber, number | BigNumber":function(n,o){return t(n,{notation:"oct",wordSize:o})}})});var c4="hex",Cce=["typed","format"],TA=N(c4,Cce,r=>{var{typed:e,format:t}=r;return e(c4,{"number | BigNumber":function(n){return t(n,{notation:"hex"})},"number | BigNumber, number | BigNumber":function(n,o){return t(n,{notation:"hex",wordSize:o})}})});var R0=/\$([\w.]+)/g;var l4="print",Sce=["typed"],Uf=N(l4,Sce,r=>{var{typed:e}=r;return e(l4,{"string, Object | Array":u4,"string, Object | Array, number | Object":u4})});function u4(r,e,t){return r.replace(R0,function(i,n){var o=n.split("."),a=e[o.shift()];for(a!==void 0&&a.isMatrix&&(a=a.toArray());o.length&&a!==void 0;){var s=o.shift();a=s?a[s]:a+"."}return a!==void 0?ni(a)?a:vt(a,t):i})}var d4="to",Tce=["typed","matrix","concat"],IA=N(d4,Tce,r=>{var{typed:e,matrix:t,concat:i}=r,n=wt({typed:e,matrix:t,concat:i});return e(d4,{"Unit, Unit | string":(o,a)=>o.to(a)},n({Ds:!0}))});var m4="isPrime",Ice=["typed"],MA=N(m4,Ice,r=>{var{typed:e}=r;return e(m4,{number:function(i){if(i<=3)return i>1;if(i%2===0||i%3===0)return!1;for(var n=5;n*n<=i;n+=6)if(i%n===0||i%(n+2)===0)return!1;return!0},bigint:function(i){if(i<=3n)return i>1n;if(i%2n===0n||i%3n===0n)return!1;for(var n=5n;n*n<=i;n+=6n)if(i%n===0n||i%(n+2n)===0n)return!1;return!0},BigNumber:function(i){if(i.lte(3))return i.gt(1);if(i.mod(2).eq(0)||i.mod(3).eq(0))return!1;if(i.lt(Math.pow(2,32))){for(var n=i.toNumber(),o=5;o*o<=n;o+=6)if(n%o===0||n%(o+2)===0)return!1;return!0}function a(T,g,_){for(var v=1;!g.eq(0);)g.mod(2).eq(0)?(g=g.div(2),T=T.mul(T).mod(_)):(g=g.sub(1),v=T.mul(v).mod(_));return v}var s=i.constructor.clone({precision:i.toFixed(0).length*2});i=new s(i);for(var c=0,l=i.sub(1);l.mod(2).eq(0);)l=l.div(2),c+=1;var u=null;if(i.lt("3317044064679887385961981"))u=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(T=>T<i);else{var d=Math.min(i.toNumber()-2,Math.floor(2*Math.pow(i.toFixed(0).length*Math.log(10),2)));u=[];for(var m=2;m<=d;m+=1)u.push(d)}for(var h=0;h<u.length;h+=1){var f=u[h],p=a(i.sub(i).add(f),l,i);if(!p.eq(1)){for(var w=0,C=p;!C.eq(i.sub(1));w+=1,C=C.mul(C).mod(i))if(w===c-1)return!1}}return!0},"Array | Matrix":e.referToSelf(t=>i=>Ge(i,t))})});var Mce="numeric",Nce=["number","?bignumber","?fraction"],NA=N(Mce,Nce,r=>{var{number:e,bignumber:t,fraction:i}=r,n={string:!0,number:!0,BigNumber:!0,Fraction:!0},o={number:a=>e(a),BigNumber:t?a=>t(a):Fd,bigint:a=>BigInt(a),Fraction:i?a=>i(a):N0};return function(s){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",l=arguments.length>2?arguments[2]:void 0;if(l!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var u=Ht(s);if(!(u in n))throw new TypeError("Cannot convert "+s+' of type "'+u+'"; valid input types are '+Object.keys(n).join(", "));if(!(c in o))throw new TypeError("Cannot convert "+s+' to type "'+c+'"; valid output types are '+Object.keys(o).join(", "));return c===u?s:o[c](s)}});var h4="divideScalar",kce=["typed","numeric"],kA=N(h4,kce,r=>{var{typed:e,numeric:t}=r;return e(h4,{"number, number":function(n,o){return n/o},"Complex, Complex":function(n,o){return n.div(o)},"BigNumber, BigNumber":function(n,o){return n.div(o)},"bigint, bigint":function(n,o){return n/o},"Fraction, Fraction":function(n,o){return n.div(o)},"Unit, number | Complex | Fraction | BigNumber | Unit":(i,n)=>i.divide(n),"number | Fraction | Complex | BigNumber, Unit":(i,n)=>n.divideInto(i)})});var f4="pow",Rce=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],RA=N(f4,Rce,r=>{var{typed:e,config:t,identity:i,multiply:n,matrix:o,inv:a,number:s,fraction:c,Complex:l}=r;return e(f4,{"number, number":u,"Complex, Complex":function(f,p){return f.pow(p)},"BigNumber, BigNumber":function(f,p){return p.isInteger()||f>=0||t.predictable?f.pow(p):new l(f.toNumber(),0).pow(p.toNumber(),0)},"bigint, bigint":(h,f)=>h**f,"Fraction, Fraction":function(f,p){var w=f.pow(p);if(w!=null)return w;if(t.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return u(f.valueOf(),p.valueOf())},"Array, number":d,"Array, BigNumber":function(f,p){return d(f,p.toNumber())},"Matrix, number":m,"Matrix, BigNumber":function(f,p){return m(f,p.toNumber())},"Unit, number | BigNumber":function(f,p){return f.pow(p)}});function u(h,f){if(t.predictable&&!je(f)&&h<0)try{var p=c(f),w=s(p);if((f===w||Math.abs((f-w)/f)<1e-14)&&p.d%2n===1n)return(p.n%2n===0n?1:-1)*Math.pow(-h,f)}catch{}return t.predictable&&(h<-1&&f===1/0||h>-1&&h<0&&f===-1/0)?NaN:je(f)||h>=0||t.predictable?gE(h,f):h*h<1&&f===1/0||h*h>1&&f===-1/0?0:new l(h,0).pow(f,0)}function d(h,f){if(!je(f))throw new TypeError("For A^b, b must be an integer (value is "+f+")");var p=it(h);if(p.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+p.length+" dimensions)");if(p[0]!==p[1])throw new Error("For A^b, A must be square (size is "+p[0]+"x"+p[1]+")");if(f<0)try{return d(a(h),-f)}catch(T){throw T.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+f+")"):T}for(var w=i(p[0]).valueOf(),C=h;f>=1;)(f&1)===1&&(w=n(C,w)),f>>=1,C=n(C,C);return w}function m(h,f){return o(d(h.valueOf(),f))}});var Pd="Number of decimals in function round must be an integer",p4="round",Fce=["typed","config","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],FA=N(p4,Fce,r=>{var{typed:e,config:t,matrix:i,equalScalar:n,zeros:o,BigNumber:a,DenseMatrix:s}=r,c=yr({typed:e,equalScalar:n}),l=ar({typed:e,DenseMatrix:s}),u=vi({typed:e});function d(m){return Math.abs(xd(m).exponent)}return e(p4,{number:function(h){var f=Md(h,d(t.relTol)),p=Vr(h,f,t.relTol,t.absTol)?f:h;return Md(p)},"number, number":function(h,f){var p=d(t.relTol);if(f>=p)return Md(h,f);var w=Md(h,p),C=Vr(h,w,t.relTol,t.absTol)?w:h;return Md(C,f)},"number, BigNumber":function(h,f){if(!f.isInteger())throw new TypeError(Pd);return new a(h).toDecimalPlaces(f.toNumber())},Complex:function(h){return h.round()},"Complex, number":function(h,f){if(f%1)throw new TypeError(Pd);return h.round(f)},"Complex, BigNumber":function(h,f){if(!f.isInteger())throw new TypeError(Pd);var p=f.toNumber();return h.round(p)},BigNumber:function(h){var f=new a(h).toDecimalPlaces(d(t.relTol)),p=Jr(h,f,t.relTol,t.absTol)?f:h;return p.toDecimalPlaces(0)},"BigNumber, BigNumber":function(h,f){if(!f.isInteger())throw new TypeError(Pd);var p=d(t.relTol);if(f>=p)return h.toDecimalPlaces(f.toNumber());var w=h.toDecimalPlaces(p),C=Jr(h,w,t.relTol,t.absTol)?w:h;return C.toDecimalPlaces(f.toNumber())},Fraction:function(h){return h.round()},"Fraction, number":function(h,f){if(f%1)throw new TypeError(Pd);return h.round(f)},"Fraction, BigNumber":function(h,f){if(!f.isInteger())throw new TypeError(Pd);return h.round(f.toNumber())},"Unit, number, Unit":e.referToSelf(m=>function(h,f,p){var w=h.toNumeric(p);return p.multiply(m(w,f))}),"Unit, BigNumber, Unit":e.referToSelf(m=>(h,f,p)=>m(h,f.toNumber(),p)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(m=>(h,f,p)=>Ge(h,w=>m(w,f,p),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(m=>(h,f)=>m(h,0,f)),"Array | Matrix":e.referToSelf(m=>h=>Ge(h,m,!0)),"SparseMatrix, number | BigNumber":e.referToSelf(m=>(h,f)=>c(h,f,m,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(m=>(h,f)=>u(h,f,m,!1)),"Array, number | BigNumber":e.referToSelf(m=>(h,f)=>u(i(h),f,m,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":e.referToSelf(m=>(h,f)=>n(h,0)?o(f.size(),f.storage()):l(f,h,m,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":e.referToSelf(m=>(h,f)=>n(h,0)?o(f.size(),f.storage()):u(f,h,m,!0)),"number | Complex | BigNumber | Fraction, Array":e.referToSelf(m=>(h,f)=>u(i(f),h,m,!0).valueOf())})});var g4="log",Oce=["config","typed","typeOf","divideScalar","Complex"],OA=N(g4,Oce,r=>{var{typed:e,typeOf:t,config:i,divideScalar:n,Complex:o}=r;return e(g4,{number:function(s){return s>=0||i.predictable?_3(s):new o(s,0).log()},Complex:function(s){return s.log()},BigNumber:function(s){return!s.isNegative()||i.predictable?s.ln():new o(s.toNumber(),0).log()},"any, any":e.referToSelf(a=>(s,c)=>{if(t(s)==="Fraction"&&t(c)==="Fraction"){var l=s.log(c);if(l!==null)return l}return n(a(s),a(c))})})});var v4="log1p",Pce=["typed","config","divideScalar","log","Complex"],PA=N(v4,Pce,r=>{var{typed:e,config:t,divideScalar:i,log:n,Complex:o}=r;return e(v4,{number:function(c){return c>=-1||t.predictable?n0(c):a(new o(c,0))},Complex:a,BigNumber:function(c){var l=c.plus(1);return!l.isNegative()||t.predictable?l.ln():a(new o(c.toNumber(),0))},"Array | Matrix":e.referToSelf(s=>c=>Ge(c,s)),"any, any":e.referToSelf(s=>(c,l)=>i(s(c),n(l)))});function a(s){var c=s.re+1;return new o(Math.log(Math.sqrt(c*c+s.im*s.im)),Math.atan2(s.im,c))}});var y4="nthRoots",Bce=["config","typed","divideScalar","Complex"],BA=N(y4,Bce,r=>{var{typed:e,config:t,divideScalar:i,Complex:n}=r,o=[function(c){return new n(c,0)},function(c){return new n(0,c)},function(c){return new n(-c,0)},function(c){return new n(0,-c)}];function a(s,c){if(c<0)throw new Error("Root must be greater than zero");if(c===0)throw new Error("Root must be non-zero");if(c%1!==0)throw new Error("Root must be an integer");if(s===0||s.abs()===0)return[new n(0,0)];var l=typeof s=="number",u;(l||s.re===0||s.im===0)&&(l?u=2*+(s<0):s.im===0?u=2*+(s.re<0):u=2*+(s.im<0)+1);for(var d=s.arg(),m=s.abs(),h=[],f=Math.pow(m,1/c),p=0;p<c;p++){var w=(u+4*p)/c;if(w===Math.round(w)){h.push(o[w%4](f));continue}h.push(new n({r:f,phi:(d+2*Math.PI*p)/c}))}return h}return e(y4,{Complex:function(c){return a(c,2)},"Complex, number":a})});var b4="dotPow",Lce=["typed","equalScalar","matrix","pow","DenseMatrix","concat","SparseMatrix"],LA=N(b4,Lce,r=>{var{typed:e,equalScalar:t,matrix:i,pow:n,DenseMatrix:o,concat:a,SparseMatrix:s}=r,c=Fr({typed:e}),l=Ri({typed:e,SparseMatrix:s}),u=yr({typed:e,equalScalar:t}),d=ar({typed:e,DenseMatrix:o}),m=wt({typed:e,matrix:i,concat:a}),h={};for(var f in n.signatures)Object.prototype.hasOwnProperty.call(n.signatures,f)&&!f.includes("Matrix")&&!f.includes("Array")&&(h[f]=n.signatures[f]);var p=e(h);return e(b4,m({elop:p,SS:l,DS:c,Ss:u,sS:d}))});var _4="dotDivide",Vce=["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat","SparseMatrix"],VA=N(_4,Vce,r=>{var{typed:e,matrix:t,equalScalar:i,divideScalar:n,DenseMatrix:o,concat:a,SparseMatrix:s}=r,c=yi({typed:e,equalScalar:i}),l=Fr({typed:e}),u=Ri({typed:e,SparseMatrix:s}),d=yr({typed:e,equalScalar:i}),m=ar({typed:e,DenseMatrix:o}),h=wt({typed:e,matrix:t,concat:a});return e(_4,h({elop:n,SS:u,DS:l,SD:c,Ss:d,sS:m}))});function Ra(r){var{DenseMatrix:e}=r;return function(i,n,o){var a=i.size();if(a.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+vt(a)+")");var s=a[0],c=a[1];if(s!==c)throw new RangeError("Matrix must be square (size: "+vt(a)+")");var l=[];if(He(n)){var u=n.size(),d=n._data;if(u.length===1){if(u[0]!==s)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var m=0;m<s;m++)l[m]=[d[m]];return new e({data:l,size:[s,1],datatype:n._datatype})}if(u.length===2){if(u[0]!==s||u[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(kl(n)){if(o){l=[];for(var h=0;h<s;h++)l[h]=[d[h][0]];return new e({data:l,size:[s,1],datatype:n._datatype})}return n}if(na(n)){for(var f=0;f<s;f++)l[f]=[0];for(var p=n._values,w=n._index,C=n._ptr,T=C[1],g=C[0];g<T;g++){var _=w[g];l[_][0]=p[g]}return new e({data:l,size:[s,1],datatype:n._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(tr(n)){var v=it(n);if(v.length===1){if(v[0]!==s)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var y=0;y<s;y++)l[y]=[n[y]];return new e({data:l,size:[s,1]})}if(v.length===2){if(v[0]!==s||v[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var A=0;A<s;A++)l[A]=[n[A][0]];return new e({data:l,size:[s,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var x4="lsolve",zce=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],zA=N(x4,zce,r=>{var{typed:e,matrix:t,divideScalar:i,multiplyScalar:n,subtractScalar:o,equalScalar:a,DenseMatrix:s}=r,c=Ra({DenseMatrix:s});return e(x4,{"SparseMatrix, Array | Matrix":function(m,h){return u(m,h)},"DenseMatrix, Array | Matrix":function(m,h){return l(m,h)},"Array, Array | Matrix":function(m,h){var f=t(m),p=l(f,h);return p.valueOf()}});function l(d,m){m=c(d,m,!0);for(var h=m._data,f=d._size[0],p=d._size[1],w=[],C=d._data,T=0;T<p;T++){var g=h[T][0]||0,_=void 0;if(a(g,0))_=0;else{var v=C[T][T];if(a(v,0))throw new Error("Linear system cannot be solved since matrix is singular");_=i(g,v);for(var y=T+1;y<f;y++)h[y]=[o(h[y][0]||0,n(_,C[y][T]))]}w[T]=[_]}return new s({data:w,size:[f,1]})}function u(d,m){m=c(d,m,!0);for(var h=m._data,f=d._size[0],p=d._size[1],w=d._values,C=d._index,T=d._ptr,g=[],_=0;_<p;_++){var v=h[_][0]||0;if(a(v,0))g[_]=[0];else{for(var y=0,A=[],b=[],E=T[_],D=T[_+1],S=E;S<D;S++){var I=C[S];I===_?y=w[S]:I>_&&(A.push(w[S]),b.push(I))}if(a(y,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var M=i(v,y),q=0,U=b.length;q<U;q++){var F=b[q];h[F]=[o(h[F][0]||0,n(M,A[q]))]}g[_]=[M]}}return new s({data:g,size:[f,1]})}});var w4="usolve",Uce=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],UA=N(w4,Uce,r=>{var{typed:e,matrix:t,divideScalar:i,multiplyScalar:n,subtractScalar:o,equalScalar:a,DenseMatrix:s}=r,c=Ra({DenseMatrix:s});return e(w4,{"SparseMatrix, Array | Matrix":function(m,h){return u(m,h)},"DenseMatrix, Array | Matrix":function(m,h){return l(m,h)},"Array, Array | Matrix":function(m,h){var f=t(m),p=l(f,h);return p.valueOf()}});function l(d,m){m=c(d,m,!0);for(var h=m._data,f=d._size[0],p=d._size[1],w=[],C=d._data,T=p-1;T>=0;T--){var g=h[T][0]||0,_=void 0;if(a(g,0))_=0;else{var v=C[T][T];if(a(v,0))throw new Error("Linear system cannot be solved since matrix is singular");_=i(g,v);for(var y=T-1;y>=0;y--)h[y]=[o(h[y][0]||0,n(_,C[y][T]))]}w[T]=[_]}return new s({data:w,size:[f,1]})}function u(d,m){m=c(d,m,!0);for(var h=m._data,f=d._size[0],p=d._size[1],w=d._values,C=d._index,T=d._ptr,g=[],_=p-1;_>=0;_--){var v=h[_][0]||0;if(a(v,0))g[_]=[0];else{for(var y=0,A=[],b=[],E=T[_],D=T[_+1],S=D-1;S>=E;S--){var I=C[S];I===_?y=w[S]:I<_&&(A.push(w[S]),b.push(I))}if(a(y,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var M=i(v,y),q=0,U=b.length;q<U;q++){var F=b[q];h[F]=[o(h[F][0],n(M,A[q]))]}g[_]=[M]}}return new s({data:g,size:[f,1]})}});var E4="lsolveAll",qce=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],qA=N(E4,qce,r=>{var{typed:e,matrix:t,divideScalar:i,multiplyScalar:n,subtractScalar:o,equalScalar:a,DenseMatrix:s}=r,c=Ra({DenseMatrix:s});return e(E4,{"SparseMatrix, Array | Matrix":function(m,h){return u(m,h)},"DenseMatrix, Array | Matrix":function(m,h){return l(m,h)},"Array, Array | Matrix":function(m,h){var f=t(m),p=l(f,h);return p.map(w=>w.valueOf())}});function l(d,m){for(var h=[c(d,m,!0)._data.map(b=>b[0])],f=d._data,p=d._size[0],w=d._size[1],C=0;C<w;C++)for(var T=h.length,g=0;g<T;g++){var _=h[g];if(a(f[C][C],0))if(a(_[C],0)){if(g===0){var y=[..._];y[C]=1;for(var A=C+1;A<w;A++)y[A]=o(y[A],f[A][C]);h.push(y)}}else{if(g===0)return[];h.splice(g,1),g-=1,T-=1}else{_[C]=i(_[C],f[C][C]);for(var v=C+1;v<w;v++)_[v]=o(_[v],n(_[C],f[v][C]))}}return h.map(b=>new s({data:b.map(E=>[E]),size:[p,1]}))}function u(d,m){for(var h=[c(d,m,!0)._data.map(ae=>ae[0])],f=d._size[0],p=d._size[1],w=d._values,C=d._index,T=d._ptr,g=0;g<p;g++)for(var _=h.length,v=0;v<_;v++){for(var y=h[v],A=[],b=[],E=T[g],D=T[g+1],S=0,I=E;I<D;I++){var M=C[I];M===g?S=w[I]:M>g&&(A.push(w[I]),b.push(M))}if(a(S,0))if(a(y[g],0)){if(v===0){var O=[...y];O[g]=1;for(var G=0,B=b.length;G<B;G++){var ee=b[G];O[ee]=o(O[ee],A[G])}h.push(O)}}else{if(v===0)return[];h.splice(v,1),v-=1,_-=1}else{y[g]=i(y[g],S);for(var q=0,U=b.length;q<U;q++){var F=b[q];y[F]=o(y[F],n(y[g],A[q]))}}}return h.map(ae=>new s({data:ae.map(J=>[J]),size:[f,1]}))}});var D4="usolveAll",jce=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],jA=N(D4,jce,r=>{var{typed:e,matrix:t,divideScalar:i,multiplyScalar:n,subtractScalar:o,equalScalar:a,DenseMatrix:s}=r,c=Ra({DenseMatrix:s});return e(D4,{"SparseMatrix, Array | Matrix":function(m,h){return u(m,h)},"DenseMatrix, Array | Matrix":function(m,h){return l(m,h)},"Array, Array | Matrix":function(m,h){var f=t(m),p=l(f,h);return p.map(w=>w.valueOf())}});function l(d,m){for(var h=[c(d,m,!0)._data.map(b=>b[0])],f=d._data,p=d._size[0],w=d._size[1],C=w-1;C>=0;C--)for(var T=h.length,g=0;g<T;g++){var _=h[g];if(a(f[C][C],0))if(a(_[C],0)){if(g===0){var y=[..._];y[C]=1;for(var A=C-1;A>=0;A--)y[A]=o(y[A],f[A][C]);h.push(y)}}else{if(g===0)return[];h.splice(g,1),g-=1,T-=1}else{_[C]=i(_[C],f[C][C]);for(var v=C-1;v>=0;v--)_[v]=o(_[v],n(_[C],f[v][C]))}}return h.map(b=>new s({data:b.map(E=>[E]),size:[p,1]}))}function u(d,m){for(var h=[c(d,m,!0)._data.map(ae=>ae[0])],f=d._size[0],p=d._size[1],w=d._values,C=d._index,T=d._ptr,g=p-1;g>=0;g--)for(var _=h.length,v=0;v<_;v++){for(var y=h[v],A=[],b=[],E=T[g],D=T[g+1],S=0,I=D-1;I>=E;I--){var M=C[I];M===g?S=w[I]:M<g&&(A.push(w[I]),b.push(M))}if(a(S,0))if(a(y[g],0)){if(v===0){var O=[...y];O[g]=1;for(var G=0,B=b.length;G<B;G++){var ee=b[G];O[ee]=o(O[ee],A[G])}h.push(O)}}else{if(v===0)return[];h.splice(v,1),v-=1,_-=1}else{y[g]=i(y[g],S);for(var q=0,U=b.length;q<U;q++){var F=b[q];y[F]=o(y[F],n(y[g],A[q]))}}}return h.map(ae=>new s({data:ae.map(J=>[J]),size:[f,1]}))}});var $ce="matAlgo08xS0Sid",Hce=["typed","equalScalar"],Bd=N($ce,Hce,r=>{var{typed:e,equalScalar:t}=r;return function(n,o,a){var s=n._values,c=n._index,l=n._ptr,u=n._size,d=n._datatype||n._data===void 0?n._datatype:n.getDataType(),m=o._values,h=o._index,f=o._ptr,p=o._size,w=o._datatype||o._data===void 0?o._datatype:o.getDataType();if(u.length!==p.length)throw new bt(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");if(!s||!m)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var C=u[0],T=u[1],g,_=t,v=0,y=a;typeof d=="string"&&d===w&&d!=="mixed"&&(g=d,_=e.find(t,[g,g]),v=e.convert(0,g),y=e.find(a,[g,g]));for(var A=[],b=[],E=[],D=[],S=[],I,M,q,U,F=0;F<T;F++){E[F]=b.length;var O=F+1;for(M=l[F],q=l[F+1],I=M;I<q;I++)U=c[I],S[U]=O,D[U]=s[I],b.push(U);for(M=f[F],q=f[F+1],I=M;I<q;I++)U=h[I],S[U]===O&&(D[U]=y(D[U],m[I]));for(I=E[F];I<b.length;){U=b[I];var G=D[U];_(G,v)?b.splice(I,1):(A.push(G),I++)}}return E[T]=b.length,n.createSparseMatrix({values:A,index:b,ptr:E,size:[C,T],datatype:d===n._datatype&&w===o._datatype?g:void 0})}});var Ld=N("useMatrixForArrayScalar",["typed","matrix"],r=>{var{typed:e,matrix:t}=r;return{"Array, number":e.referTo("DenseMatrix, number",i=>(n,o)=>i(t(n),o).valueOf()),"Array, BigNumber":e.referTo("DenseMatrix, BigNumber",i=>(n,o)=>i(t(n),o).valueOf()),"number, Array":e.referTo("number, DenseMatrix",i=>(n,o)=>i(n,t(o)).valueOf()),"BigNumber, Array":e.referTo("BigNumber, DenseMatrix",i=>(n,o)=>i(n,t(o)).valueOf())}});var A4="leftShift",Gce=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],$A=N(A4,Gce,r=>{var{typed:e,matrix:t,equalScalar:i,zeros:n,DenseMatrix:o,concat:a}=r,s=Dn({typed:e}),c=yi({typed:e,equalScalar:i}),l=Bd({typed:e,equalScalar:i}),u=Zn({typed:e,DenseMatrix:o}),d=yr({typed:e,equalScalar:i}),m=vi({typed:e}),h=wt({typed:e,matrix:t,concat:a}),f=Ld({typed:e,matrix:t});return e(A4,{"number, number":xE,"BigNumber, BigNumber":pV,"bigint, bigint":(p,w)=>p<<w,"SparseMatrix, number | BigNumber":e.referToSelf(p=>(w,C)=>i(C,0)?w.clone():d(w,C,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(w,C)=>i(C,0)?w.clone():m(w,C,p,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(p=>(w,C)=>i(w,0)?n(C.size(),C.storage()):u(C,w,p,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(p=>(w,C)=>i(w,0)?n(C.size(),C.storage()):m(C,w,p,!0))},f,h({SS:l,DS:s,SD:c}))});var C4="rightArithShift",Wce=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],HA=N(C4,Wce,r=>{var{typed:e,matrix:t,equalScalar:i,zeros:n,DenseMatrix:o,concat:a}=r,s=Dn({typed:e}),c=yi({typed:e,equalScalar:i}),l=Bd({typed:e,equalScalar:i}),u=Zn({typed:e,DenseMatrix:o}),d=yr({typed:e,equalScalar:i}),m=vi({typed:e}),h=wt({typed:e,matrix:t,concat:a}),f=Ld({typed:e,matrix:t});return e(C4,{"number, number":wE,"BigNumber, BigNumber":gV,"bigint, bigint":(p,w)=>p>>w,"SparseMatrix, number | BigNumber":e.referToSelf(p=>(w,C)=>i(C,0)?w.clone():d(w,C,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(w,C)=>i(C,0)?w.clone():m(w,C,p,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(p=>(w,C)=>i(w,0)?n(C.size(),C.storage()):u(C,w,p,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(p=>(w,C)=>i(w,0)?n(C.size(),C.storage()):m(C,w,p,!0))},f,h({SS:l,DS:s,SD:c}))});var S4="rightLogShift",Xce=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],GA=N(S4,Xce,r=>{var{typed:e,matrix:t,equalScalar:i,zeros:n,DenseMatrix:o,concat:a}=r,s=Dn({typed:e}),c=yi({typed:e,equalScalar:i}),l=Bd({typed:e,equalScalar:i}),u=Zn({typed:e,DenseMatrix:o}),d=yr({typed:e,equalScalar:i}),m=vi({typed:e}),h=wt({typed:e,matrix:t,concat:a}),f=Ld({typed:e,matrix:t});return e(S4,{"number, number":EE,"SparseMatrix, number | BigNumber":e.referToSelf(p=>(w,C)=>i(C,0)?w.clone():d(w,C,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(w,C)=>i(C,0)?w.clone():m(w,C,p,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(p=>(w,C)=>i(w,0)?n(C.size(),C.storage()):u(C,w,p,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(p=>(w,C)=>i(w,0)?n(C.size(),C.storage()):m(C,w,p,!0))},f,h({SS:l,DS:s,SD:c}))});var T4="and",Kce=["typed","matrix","equalScalar","zeros","not","concat"],qf=N(T4,Kce,r=>{var{typed:e,matrix:t,equalScalar:i,zeros:n,not:o,concat:a}=r,s=yi({typed:e,equalScalar:i}),c=xc({typed:e,equalScalar:i}),l=yr({typed:e,equalScalar:i}),u=vi({typed:e}),d=wt({typed:e,matrix:t,concat:a});return e(T4,{"number, number":C0,"Complex, Complex":function(h,f){return(h.re!==0||h.im!==0)&&(f.re!==0||f.im!==0)},"BigNumber, BigNumber":function(h,f){return!h.isZero()&&!f.isZero()&&!h.isNaN()&&!f.isNaN()},"bigint, bigint":C0,"Unit, Unit":e.referToSelf(m=>(h,f)=>m(h.value||0,f.value||0)),"SparseMatrix, any":e.referToSelf(m=>(h,f)=>o(f)?n(h.size(),h.storage()):l(h,f,m,!1)),"DenseMatrix, any":e.referToSelf(m=>(h,f)=>o(f)?n(h.size(),h.storage()):u(h,f,m,!1)),"any, SparseMatrix":e.referToSelf(m=>(h,f)=>o(h)?n(h.size(),h.storage()):l(f,h,m,!0)),"any, DenseMatrix":e.referToSelf(m=>(h,f)=>o(h)?n(h.size(),h.storage()):u(f,h,m,!0)),"Array, any":e.referToSelf(m=>(h,f)=>m(t(h),f).valueOf()),"any, Array":e.referToSelf(m=>(h,f)=>m(h,t(f)).valueOf())},d({SS:c,DS:s}))});var F0="compare",Qce=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],WA=N(F0,Qce,r=>{var{typed:e,config:t,equalScalar:i,matrix:n,BigNumber:o,Fraction:a,DenseMatrix:s,concat:c}=r,l=Fr({typed:e}),u=_c({typed:e,equalScalar:i}),d=ar({typed:e,DenseMatrix:s}),m=wt({typed:e,matrix:n,concat:c}),h=Uo({typed:e});return e(F0,Yce({typed:e,config:t}),{"boolean, boolean":function(p,w){return p===w?0:p>w?1:-1},"BigNumber, BigNumber":function(p,w){return Jr(p,w,t.relTol,t.absTol)?new o(0):new o(p.cmp(w))},"bigint, bigint":function(p,w){return p===w?0n:p>w?1n:-1n},"Fraction, Fraction":function(p,w){return new a(p.compare(w))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},h,m({SS:u,DS:l,Ss:d}))}),Yce=N(F0,["typed","config"],r=>{var{typed:e,config:t}=r;return e(F0,{"number, number":function(n,o){return Vr(n,o,t.relTol,t.absTol)?0:n>o?1:-1}})});var ql=zu(M4(),1);var N4="compareNatural",Zce=["typed","compare"],XA=N(N4,Zce,r=>{var{typed:e,compare:t}=r,i=t.signatures["boolean,boolean"];return e(N4,{"any, any":n});function n(c,l){var u=Ht(c),d=Ht(l),m;if((u==="number"||u==="BigNumber"||u==="Fraction")&&(d==="number"||d==="BigNumber"||d==="Fraction"))return m=t(c,l),m.toString()!=="0"?m>0?1:-1:(0,ql.default)(u,d);var h=["Array","DenseMatrix","SparseMatrix"];if(h.includes(u)||h.includes(d))return m=o(n,c,l),m!==0?m:(0,ql.default)(u,d);if(u!==d)return(0,ql.default)(u,d);if(u==="Complex")return Jce(c,l);if(u==="Unit")return c.equalBase(l)?n(c.value,l.value):a(n,c.formatUnits(),l.formatUnits());if(u==="boolean")return i(c,l);if(u==="string")return(0,ql.default)(c,l);if(u==="Object")return s(n,c,l);if(u==="null"||u==="undefined")return 0;throw new TypeError('Unsupported type of value "'+u+'"')}function o(c,l,u){return na(l)&&na(u)?a(c,l.toJSON().values,u.toJSON().values):na(l)?o(c,l.toArray(),u):na(u)?o(c,l,u.toArray()):kl(l)?o(c,l.toJSON().data,u):kl(u)?o(c,l,u.toJSON().data):Array.isArray(l)?Array.isArray(u)?a(c,l,u):o(c,l,[u]):o(c,[l],u)}function a(c,l,u){for(var d=0,m=Math.min(l.length,u.length);d<m;d++){var h=c(l[d],u[d]);if(h!==0)return h}return l.length>u.length?1:l.length<u.length?-1:0}function s(c,l,u){var d=Object.keys(l),m=Object.keys(u);d.sort(ql.default),m.sort(ql.default);var h=a(c,d,m);if(h!==0)return h;for(var f=0;f<d.length;f++){var p=c(l[d[f]],u[m[f]]);if(p!==0)return p}return 0}});function Jce(r,e){return r.re>e.re?1:r.re<e.re?-1:r.im>e.im?1:r.im<e.im?-1:0}var k4="compareText",ele=["typed","matrix","concat"];y0.signature="any, any";var KA=N(k4,ele,r=>{var{typed:e,matrix:t,concat:i}=r,n=wt({typed:e,matrix:t,concat:i});return e(k4,y0,n({elop:y0,Ds:!0}))});var O0="equal",tle=["typed","matrix","equalScalar","DenseMatrix","concat","SparseMatrix"],QA=N(O0,tle,r=>{var{typed:e,matrix:t,equalScalar:i,DenseMatrix:n,concat:o,SparseMatrix:a}=r,s=Fr({typed:e}),c=Ri({typed:e,SparseMatrix:a}),l=ar({typed:e,DenseMatrix:n}),u=wt({typed:e,matrix:t,concat:o});return e(O0,rle({typed:e,equalScalar:i}),u({elop:i,SS:c,DS:s,Ss:l}))}),rle=N(O0,["typed","equalScalar"],r=>{var{typed:e,equalScalar:t}=r;return e(O0,{"any, any":function(n,o){return n===null?o===null:o===null?n===null:n===void 0?o===void 0:o===void 0?n===void 0:t(n,o)}})});var R4="equalText",ile=["typed","compareText","isZero"],YA=N(R4,ile,r=>{var{typed:e,compareText:t,isZero:i}=r;return e(R4,{"any, any":function(o,a){return i(t(o,a))}})});var P0="smaller",nle=["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],ZA=N(P0,nle,r=>{var{typed:e,config:t,matrix:i,DenseMatrix:n,concat:o,SparseMatrix:a}=r,s=Fr({typed:e}),c=Ri({typed:e,SparseMatrix:a}),l=ar({typed:e,DenseMatrix:n}),u=wt({typed:e,matrix:i,concat:o}),d=Uo({typed:e});return e(P0,ole({typed:e,config:t}),{"boolean, boolean":(m,h)=>m<h,"BigNumber, BigNumber":function(h,f){return h.lt(f)&&!Jr(h,f,t.relTol,t.absTol)},"bigint, bigint":(m,h)=>m<h,"Fraction, Fraction":(m,h)=>m.compare(h)===-1,"Complex, Complex":function(h,f){throw new TypeError("No ordering relation is defined for complex numbers")}},d,u({SS:c,DS:s,Ss:l}))}),ole=N(P0,["typed","config"],r=>{var{typed:e,config:t}=r;return e(P0,{"number, number":function(n,o){return n<o&&!Vr(n,o,t.relTol,t.absTol)}})});var B0="smallerEq",ale=["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],JA=N(B0,ale,r=>{var{typed:e,config:t,matrix:i,DenseMatrix:n,concat:o,SparseMatrix:a}=r,s=Fr({typed:e}),c=Ri({typed:e,SparseMatrix:a}),l=ar({typed:e,DenseMatrix:n}),u=wt({typed:e,matrix:i,concat:o}),d=Uo({typed:e});return e(B0,sle({typed:e,config:t}),{"boolean, boolean":(m,h)=>m<=h,"BigNumber, BigNumber":function(h,f){return h.lte(f)||Jr(h,f,t.relTol,t.absTol)},"bigint, bigint":(m,h)=>m<=h,"Fraction, Fraction":(m,h)=>m.compare(h)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},d,u({SS:c,DS:s,Ss:l}))}),sle=N(B0,["typed","config"],r=>{var{typed:e,config:t}=r;return e(B0,{"number, number":function(n,o){return n<=o||Vr(n,o,t.relTol,t.absTol)}})});var L0="larger",cle=["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],eC=N(L0,cle,r=>{var{typed:e,config:t,matrix:i,DenseMatrix:n,concat:o,SparseMatrix:a}=r,s=Fr({typed:e}),c=Ri({typed:e,SparseMatrix:a}),l=ar({typed:e,DenseMatrix:n}),u=wt({typed:e,matrix:i,concat:o}),d=Uo({typed:e});return e(L0,lle({typed:e,config:t}),{"boolean, boolean":(m,h)=>m>h,"BigNumber, BigNumber":function(h,f){return h.gt(f)&&!Jr(h,f,t.relTol,t.absTol)},"bigint, bigint":(m,h)=>m>h,"Fraction, Fraction":(m,h)=>m.compare(h)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},d,u({SS:c,DS:s,Ss:l}))}),lle=N(L0,["typed","config"],r=>{var{typed:e,config:t}=r;return e(L0,{"number, number":function(n,o){return n>o&&!Vr(n,o,t.relTol,t.absTol)}})});var V0="largerEq",ule=["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],tC=N(V0,ule,r=>{var{typed:e,config:t,matrix:i,DenseMatrix:n,concat:o,SparseMatrix:a}=r,s=Fr({typed:e}),c=Ri({typed:e,SparseMatrix:a}),l=ar({typed:e,DenseMatrix:n}),u=wt({typed:e,matrix:i,concat:o}),d=Uo({typed:e});return e(V0,dle({typed:e,config:t}),{"boolean, boolean":(m,h)=>m>=h,"BigNumber, BigNumber":function(h,f){return h.gte(f)||Jr(h,f,t.relTol,t.absTol)},"bigint, bigint":function(h,f){return h>=f},"Fraction, Fraction":(m,h)=>m.compare(h)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},d,u({SS:c,DS:s,Ss:l}))}),dle=N(V0,["typed","config"],r=>{var{typed:e,config:t}=r;return e(V0,{"number, number":function(n,o){return n>=o||Vr(n,o,t.relTol,t.absTol)}})});var F4="deepEqual",mle=["typed","equal"],rC=N(F4,mle,r=>{var{typed:e,equal:t}=r;return e(F4,{"any, any":function(o,a){return i(o.valueOf(),a.valueOf())}});function i(n,o){if(Array.isArray(n))if(Array.isArray(o)){var a=n.length;if(a!==o.length)return!1;for(var s=0;s<a;s++)if(!i(n[s],o[s]))return!1;return!0}else return!1;else return Array.isArray(o)?!1:t(n,o)}});var z0="unequal",hle=["typed","config","equalScalar","matrix","DenseMatrix","concat","SparseMatrix"],iC=N(z0,hle,r=>{var{typed:e,config:t,equalScalar:i,matrix:n,DenseMatrix:o,concat:a,SparseMatrix:s}=r,c=Fr({typed:e}),l=Ri({typed:e,SparseMatrix:s}),u=ar({typed:e,DenseMatrix:o}),d=wt({typed:e,matrix:n,concat:a});return e(z0,fle({typed:e,equalScalar:i}),d({elop:m,SS:l,DS:c,Ss:u}));function m(h,f){return!i(h,f)}}),fle=N(z0,["typed","equalScalar"],r=>{var{typed:e,equalScalar:t}=r;return e(z0,{"any, any":function(n,o){return n===null?o!==null:o===null?n!==null:n===void 0?o!==void 0:o===void 0?n!==void 0:!t(n,o)}})});var O4="partitionSelect",ple=["typed","isNumeric","isNaN","compare"],nC=N(O4,ple,r=>{var{typed:e,isNumeric:t,isNaN:i,compare:n}=r,o=n,a=(l,u)=>-n(l,u);return e(O4,{"Array | Matrix, number":function(u,d){return s(u,d,o)},"Array | Matrix, number, string":function(u,d,m){if(m==="asc")return s(u,d,o);if(m==="desc")return s(u,d,a);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":s});function s(l,u,d){if(!je(u)||u<0)throw new Error("k must be a non-negative integer");if(He(l)){var m=l.size();if(m.length>1)throw new Error("Only one dimensional matrices supported");return c(l.valueOf(),u,d)}if(Array.isArray(l))return c(l,u,d)}function c(l,u,d){if(u>=l.length)throw new Error("k out of bounds");for(var m=0;m<l.length;m++)if(t(l[m])&&i(l[m]))return l[m];for(var h=0,f=l.length-1;h<f;){for(var p=h,w=f,C=l[Math.floor(Math.random()*(f-h+1))+h];p<w;)if(d(l[p],C)>=0){var T=l[w];l[w]=l[p],l[p]=T,--w}else++p;d(l[p],C)>0&&--p,u<=p?f=p:h=p+1}return l[u]}});var P4="sort",gle=["typed","matrix","compare","compareNatural"],oC=N(P4,gle,r=>{var{typed:e,matrix:t,compare:i,compareNatural:n}=r,o=i,a=(u,d)=>-i(u,d);return e(P4,{Array:function(d){return c(d),d.sort(o)},Matrix:function(d){return l(d),t(d.toArray().sort(o),d.storage())},"Array, function":function(d,m){return c(d),d.sort(m)},"Matrix, function":function(d,m){return l(d),t(d.toArray().sort(m),d.storage())},"Array, string":function(d,m){return c(d),d.sort(s(m))},"Matrix, string":function(d,m){return l(d),t(d.toArray().sort(s(m)),d.storage())}});function s(u){if(u==="asc")return o;if(u==="desc")return a;if(u==="natural")return n;throw new Error('String "asc", "desc", or "natural" expected')}function c(u){if(it(u).length!==1)throw new Error("One dimensional array expected")}function l(u){if(u.size().length!==1)throw new Error("One dimensional matrix expected")}});var B4="max",vle=["typed","config","numeric","larger"],jf=N(B4,vle,r=>{var{typed:e,config:t,numeric:i,larger:n}=r;return e(B4,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(c,l){return bc(c,l.valueOf(),o)},"...":function(c){if(zo(c))throw new TypeError("Scalar values expected in function max");return a(c)}});function o(s,c){try{return n(s,c)?s:c}catch(l){throw si(l,"max",c)}}function a(s){var c;if(En(s,function(l){try{isNaN(l)&&typeof l=="number"?c=NaN:(c===void 0||n(l,c))&&(c=l)}catch(u){throw si(u,"max",l)}}),c===void 0)throw new Error("Cannot calculate max of an empty array");return typeof c=="string"&&(c=i(c,_n(c,t))),c}});var L4="min",yle=["typed","config","numeric","smaller"],$f=N(L4,yle,r=>{var{typed:e,config:t,numeric:i,smaller:n}=r;return e(L4,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(c,l){return bc(c,l.valueOf(),o)},"...":function(c){if(zo(c))throw new TypeError("Scalar values expected in function min");return a(c)}});function o(s,c){try{return n(s,c)?s:c}catch(l){throw si(l,"min",c)}}function a(s){var c;if(En(s,function(l){try{isNaN(l)&&typeof l=="number"?c=NaN:(c===void 0||n(l,c))&&(c=l)}catch(u){throw si(u,"min",l)}}),c===void 0)throw new Error("Cannot calculate min of an empty array");return typeof c=="string"&&(c=i(c,_n(c,t))),c}});var ble="ImmutableDenseMatrix",_le=["smaller","DenseMatrix"],aC=N(ble,_le,r=>{var{smaller:e,DenseMatrix:t}=r;function i(n,o){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(o&&!ni(o))throw new Error("Invalid datatype: "+o);if(He(n)||tr(n)){var a=new t(n,o);this._data=a._data,this._size=a._size,this._datatype=a._datatype,this._min=null,this._max=null}else if(n&&tr(n.data)&&tr(n.size))this._data=n.data,this._size=n.size,this._datatype=n.datatype,this._min=typeof n.min<"u"?n.min:null,this._max=typeof n.max<"u"?n.max:null;else{if(n)throw new TypeError("Unsupported type of data ("+Ht(n)+")");this._data=[],this._size=[0],this._datatype=o,this._min=null,this._max=null}}return i.prototype=new t,i.prototype.type="ImmutableDenseMatrix",i.prototype.isImmutableDenseMatrix=!0,i.prototype.subset=function(n){switch(arguments.length){case 1:{var o=t.prototype.subset.call(this,n);return He(o)?new i({data:o._data,size:o._size,datatype:o._datatype}):o}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},i.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},i.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},i.prototype.clone=function(){return new i({data:at(this._data),size:at(this._size),datatype:this._datatype})},i.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},i.fromJSON=function(n){return new i(n)},i.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},i.prototype.min=function(){if(this._min===null){var n=null;this.forEach(function(o){(n===null||e(o,n))&&(n=o)}),this._min=n!==null?n:void 0}return this._min},i.prototype.max=function(){if(this._max===null){var n=null;this.forEach(function(o){(n===null||e(n,o))&&(n=o)}),this._max=n!==null?n:void 0}return this._max},i},{isClass:!0});var xle="Index",wle=["ImmutableDenseMatrix","getMatrixDataType"],sC=N(xle,wle,r=>{var{ImmutableDenseMatrix:e,getMatrixDataType:t}=r;function i(o){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var a=0,s=arguments.length;a<s;a++){var c=arguments[a],l=tr(c),u=He(c),d=null;if(bd(c))this._dimensions.push(c),this._isScalar=!1;else if(l||u){var m=void 0;t(c)==="boolean"?(l&&(m=n(V4(c).valueOf())),u&&(m=n(V4(c._data).valueOf())),d=c.valueOf().length):m=n(c.valueOf()),this._dimensions.push(m);var h=m.size();(h.length!==1||h[0]!==1||d!==null)&&(this._isScalar=!1)}else if(typeof c=="number")this._dimensions.push(n([c]));else if(typeof c=="string")this._dimensions.push(c);else throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._sourceSize.push(d)}}i.prototype.type="Index",i.prototype.isIndex=!0;function n(o){for(var a=0,s=o.length;a<s;a++)if(typeof o[a]!="number"||!je(o[a]))throw new TypeError("Index parameters must be positive integer numbers");return new e(o)}return i.prototype.clone=function(){var o=new i;return o._dimensions=at(this._dimensions),o._isScalar=this._isScalar,o._sourceSize=this._sourceSize,o},i.create=function(o){var a=new i;return i.apply(a,o),a},i.prototype.size=function(){for(var o=[],a=0,s=this._dimensions.length;a<s;a++){var c=this._dimensions[a];o[a]=typeof c=="string"?1:c.size()[0]}return o},i.prototype.max=function(){for(var o=[],a=0,s=this._dimensions.length;a<s;a++){var c=this._dimensions[a];o[a]=typeof c=="string"?c:c.max()}return o},i.prototype.min=function(){for(var o=[],a=0,s=this._dimensions.length;a<s;a++){var c=this._dimensions[a];o[a]=typeof c=="string"?c:c.min()}return o},i.prototype.forEach=function(o){for(var a=0,s=this._dimensions.length;a<s;a++)o(this._dimensions[a],a,this)},i.prototype.dimension=function(o){return typeof o!="number"?null:this._dimensions[o]||null},i.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},i.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},i.prototype.isScalar=function(){return this._isScalar},i.prototype.toArray=function(){for(var o=[],a=0,s=this._dimensions.length;a<s;a++){var c=this._dimensions[a];o.push(typeof c=="string"?c:c.toArray())}return o},i.prototype.valueOf=i.prototype.toArray,i.prototype.toString=function(){for(var o=[],a=0,s=this._dimensions.length;a<s;a++){var c=this._dimensions[a];typeof c=="string"?o.push(JSON.stringify(c)):o.push(c.toString())}return"["+o.join(", ")+"]"},i.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},i.fromJSON=function(o){return i.create(o.dimensions)},i},{isClass:!0});function V4(r){var e=[];return r.forEach((t,i)=>{t&&e.push(i)}),e}var Ele="FibonacciHeap",Dle=["smaller","larger"],cC=N(Ele,Dle,r=>{var{smaller:e,larger:t}=r,i=1/Math.log((1+Math.sqrt(5))/2);function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}n.prototype.type="FibonacciHeap",n.prototype.isFibonacciHeap=!0,n.prototype.insert=function(u,d){var m={key:u,value:d,degree:0};if(this._minimum){var h=this._minimum;m.left=h,m.right=h.right,h.right=m,m.right.left=m,e(u,h.key)&&(this._minimum=m)}else m.left=m,m.right=m,this._minimum=m;return this._size++,m},n.prototype.size=function(){return this._size},n.prototype.clear=function(){this._minimum=null,this._size=0},n.prototype.isEmpty=function(){return this._size===0},n.prototype.extractMinimum=function(){var u=this._minimum;if(u===null)return u;for(var d=this._minimum,m=u.degree,h=u.child;m>0;){var f=h.right;h.left.right=h.right,h.right.left=h.left,h.left=d,h.right=d.right,d.right=h,h.right.left=h,h.parent=null,h=f,m--}return u.left.right=u.right,u.right.left=u.left,u===u.right?d=null:(d=u.right,d=l(d,this._size)),this._size--,this._minimum=d,u},n.prototype.remove=function(u){this._minimum=o(this._minimum,u,-1),this.extractMinimum()};function o(u,d,m){d.key=m;var h=d.parent;return h&&e(d.key,h.key)&&(a(u,d,h),s(u,h)),e(d.key,u.key)&&(u=d),u}function a(u,d,m){d.left.right=d.right,d.right.left=d.left,m.degree--,m.child===d&&(m.child=d.right),m.degree===0&&(m.child=null),d.left=u,d.right=u.right,u.right=d,d.right.left=d,d.parent=null,d.mark=!1}function s(u,d){var m=d.parent;m&&(d.mark?(a(u,d,m),s(m)):d.mark=!0)}var c=function(d,m){d.left.right=d.right,d.right.left=d.left,d.parent=m,m.child?(d.left=m.child,d.right=m.child.right,m.child.right=d,d.right.left=d):(m.child=d,d.right=d,d.left=d),m.degree++,d.mark=!1};function l(u,d){var m=Math.floor(Math.log(d)*i)+1,h=new Array(m),f=0,p=u;if(p)for(f++,p=p.right;p!==u;)f++,p=p.right;for(var w;f>0;){for(var C=p.degree,T=p.right;w=h[C],!!w;){if(t(p.key,w.key)){var g=w;w=p,p=g}c(w,p),h[C]=null,C++}h[C]=p,p=T,f--}u=null;for(var _=0;_<m;_++)w=h[_],w&&(u?(w.left.right=w.right,w.right.left=w.left,w.left=u,w.right=u.right,u.right=w,w.right.left=w,e(w.key,u.key)&&(u=w)):u=w);return u}return n},{isClass:!0});var Ale="Spa",Cle=["addScalar","equalScalar","FibonacciHeap"],lC=N(Ale,Cle,r=>{var{addScalar:e,equalScalar:t,FibonacciHeap:i}=r;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new i}return n.prototype.type="Spa",n.prototype.isSpa=!0,n.prototype.set=function(o,a){if(this._values[o])this._values[o].value=a;else{var s=this._heap.insert(o,a);this._values[o]=s}},n.prototype.get=function(o){var a=this._values[o];return a?a.value:0},n.prototype.accumulate=function(o,a){var s=this._values[o];s?s.value=e(s.value,a):(s=this._heap.insert(o,a),this._values[o]=s)},n.prototype.forEach=function(o,a,s){var c=this._heap,l=this._values,u=[],d=c.extractMinimum();for(d&&u.push(d);d&&d.key<=a;)d.key>=o&&(t(d.value,0)||s(d.key,d.value,this)),d=c.extractMinimum(),d&&u.push(d);for(var m=0;m<u.length;m++){var h=u[m];d=c.insert(h.key,h.value),l[d.key]=d}},n.prototype.swap=function(o,a){var s=this._values[o],c=this._values[a];if(!s&&c)s=this._heap.insert(o,c.value),this._heap.remove(c),this._values[o]=s,this._values[a]=void 0;else if(s&&!c)c=this._heap.insert(a,s.value),this._heap.remove(s),this._values[a]=c,this._values[o]=void 0;else if(s&&c){var l=s.value;s.value=c.value,c.value=l}},n},{isClass:!0});function z4(r){var e=0,t=1,i=Object.create(null),n=Object.create(null),o=0,a=function(c){var l=n[c];if(l&&(delete i[l],delete n[c],--e,t===l)){if(!e){o=0,t=1;return}for(;!Object.prototype.hasOwnProperty.call(i,++t););}};return r=Math.abs(r),{hit:function(c){var l=n[c],u=++o;if(i[u]=c,n[c]=u,!l)return++e,e<=r?void 0:(c=i[t],a(c),c);if(delete i[l],t===l)for(;!Object.prototype.hasOwnProperty.call(i,++t););},delete:a,clear:function(){e=o=0,t=1,i=Object.create(null),n=Object.create(null)}}}function jl(r){var{hasher:e,limit:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t=t??Number.POSITIVE_INFINITY,e=e??JSON.stringify,function i(){typeof i.cache!="object"&&(i.cache={values:new Map,lru:z4(t||Number.POSITIVE_INFINITY)});for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var a=e(n);if(i.cache.values.has(a))return i.cache.lru.hit(a),i.cache.values.get(a);var s=r.apply(r,n);return i.cache.values.set(a,s),i.cache.values.delete(i.cache.lru.hit(a)),s}}var U4=jl(function(r){return new r(1).exp()},{hasher:U0}),q4=jl(function(r){return new r(1).plus(new r(5).sqrt()).div(2)},{hasher:U0}),Hf=jl(function(r){return r.acos(-1)},{hasher:U0}),j4=jl(function(r){return Hf(r).times(2)},{hasher:U0});function U0(r){return r[0].precision}function $4(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),t.push.apply(t,i)}return t}function uC(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$4(Object(t),!0).forEach(function(i){hr(r,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):$4(Object(t)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))})}return r}var Sle="Unit",Tle=["?on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],dC=N(Sle,Tle,r=>{var{on:e,config:t,addScalar:i,subtractScalar:n,multiplyScalar:o,divideScalar:a,pow:s,abs:c,fix:l,round:u,equal:d,isNumeric:m,format:h,number:f,Complex:p,BigNumber:w,Fraction:C}=r,T=f;function g($,K){if(!(this instanceof g))throw new Error("Constructor must be called with the new operator");if(!($==null||m($)||Bn($)))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,K===void 0)this.units=[],this.dimensions=G.map(de=>0);else if(typeof K=="string"){var se=g.parse(K);this.units=se.units,this.dimensions=se.dimensions}else if(nn(K)&&K.value===null)this.fixPrefix=K.fixPrefix,this.skipAutomaticSimplification=K.skipAutomaticSimplification,this.dimensions=K.dimensions.slice(0),this.units=K.units.map(de=>Kr({},de));else throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.value=this._normalize($)}Object.defineProperty(g,"name",{value:"Unit"}),g.prototype.constructor=g,g.prototype.type="Unit",g.prototype.isUnit=!0;var _,v,y;function A(){for(;y===" "||y==="	";)D()}function b($){return $>="0"&&$<="9"||$==="."}function E($){return $>="0"&&$<="9"}function D(){v++,y=_.charAt(v)}function S($){v=$,y=_.charAt(v)}function I(){var $="",K=v;if(y==="+"?D():y==="-"&&($+=y,D()),!b(y))return S(K),null;if(y==="."){if($+=y,D(),!E(y))return S(K),null}else{for(;E(y);)$+=y,D();y==="."&&($+=y,D())}for(;E(y);)$+=y,D();if(y==="E"||y==="e"){var se="",de=v;if(se+=y,D(),(y==="+"||y==="-")&&(se+=y,D()),!E(y))return S(de),$;for($=$+se;E(y);)$+=y,D()}return $}function M(){for(var $="";E(y)||g.isValidAlpha(y);)$+=y,D();var K=$.charAt(0);return g.isValidAlpha(K)?$:null}function q($){return y===$?(D(),$):null}g.parse=function($,K){if(K=K||{},_=$,v=-1,y="",typeof _!="string")throw new TypeError("Invalid argument in Unit.parse, string expected");var se=new g;se.units=[];var de=1,Ee=!1;D(),A();var Se=I(),Be=null;if(Se){if(t.number==="BigNumber")Be=new w(Se);else if(t.number==="Fraction")try{Be=new C(Se)}catch{Be=parseFloat(Se)}else Be=parseFloat(Se);A(),q("*")?(de=1,Ee=!0):q("/")&&(de=-1,Ee=!0)}for(var We=[],Mt=1;;){for(A();y==="(";)We.push(de),Mt*=de,de=1,D(),A();var ft=void 0;if(y){var sr=y;if(ft=M(),ft===null)throw new SyntaxError('Unexpected "'+sr+'" in "'+_+'" at index '+v.toString())}else break;var rr=U(ft);if(rr===null)throw new SyntaxError('Unit "'+ft+'" not found.');var Xt=de*Mt;if(A(),q("^")){A();var cr=I();if(cr===null)throw new SyntaxError('In "'+$+'", "^" must be followed by a floating-point number');Xt*=cr}se.units.push({unit:rr.unit,prefix:rr.prefix,power:Xt});for(var Y=0;Y<G.length;Y++)se.dimensions[Y]+=(rr.unit.dimensions[Y]||0)*Xt;for(A();y===")";){if(We.length===0)throw new SyntaxError('Unmatched ")" in "'+_+'" at index '+v.toString());Mt/=We.pop(),D(),A()}if(Ee=!1,q("*")?(de=1,Ee=!0):q("/")?(de=-1,Ee=!0):de=1,rr.unit.base){var le=rr.unit.base.key;V.auto[le]={unit:rr.unit,prefix:rr.prefix}}}if(A(),y)throw new SyntaxError('Could not parse: "'+$+'"');if(Ee)throw new SyntaxError('Trailing characters: "'+$+'"');if(We.length!==0)throw new SyntaxError('Unmatched "(" in "'+_+'"');if(se.units.length===0&&!K.allowNoUnits)throw new SyntaxError('"'+$+'" contains no units');return se.value=Be!==void 0?se._normalize(Be):null,se},g.prototype.clone=function(){var $=new g;$.fixPrefix=this.fixPrefix,$.skipAutomaticSimplification=this.skipAutomaticSimplification,$.value=at(this.value),$.dimensions=this.dimensions.slice(0),$.units=[];for(var K=0;K<this.units.length;K++){$.units[K]={};for(var se in this.units[K])Ke(this.units[K],se)&&($.units[K][se]=this.units[K][se])}return $},g.prototype.valueType=function(){return Ht(this.value)},g.prototype._isDerived=function(){return this.units.length===0?!1:this.units.length>1||Math.abs(this.units[0].power-1)>1e-15},g.prototype._normalize=function($){if($==null||this.units.length===0)return $;for(var K=$,se=g._getNumberConverter(Ht($)),de=0;de<this.units.length;de++){var Ee=se(this.units[de].unit.value),Se=se(this.units[de].prefix.value),Be=se(this.units[de].power);K=o(K,s(o(Ee,Se),Be))}return K},g.prototype._denormalize=function($,K){if($==null||this.units.length===0)return $;for(var se=$,de=g._getNumberConverter(Ht($)),Ee=0;Ee<this.units.length;Ee++){var Se=de(this.units[Ee].unit.value),Be=de(this.units[Ee].prefix.value),We=de(this.units[Ee].power);se=a(se,s(o(Se,Be),We))}return se};var U=jl($=>{if(Ke(H,$)){var K=H[$],se=K.prefixes[""];return{unit:K,prefix:se}}for(var de in H)if(Ke(H,de)&&c3($,de)){var Ee=H[de],Se=$.length-de.length,Be=$.substring(0,Se),We=Ke(Ee.prefixes,Be)?Ee.prefixes[Be]:void 0;if(We!==void 0)return{unit:Ee,prefix:We}}return null},{hasher:$=>$[0],limit:100});g.isValuelessUnit=function($){return U($)!==null},g.prototype.hasBase=function($){if(typeof $=="string"&&($=B[$]),!$)return!1;for(var K=0;K<G.length;K++)if(Math.abs((this.dimensions[K]||0)-($.dimensions[K]||0))>1e-12)return!1;return!0},g.prototype.equalBase=function($){for(var K=0;K<G.length;K++)if(Math.abs((this.dimensions[K]||0)-($.dimensions[K]||0))>1e-12)return!1;return!0},g.prototype.equals=function($){return this.equalBase($)&&d(this.value,$.value)},g.prototype.multiply=function($){for(var K=this.clone(),se=nn($)?$:new g($),de=0;de<G.length;de++)K.dimensions[de]=(this.dimensions[de]||0)+(se.dimensions[de]||0);for(var Ee=0;Ee<se.units.length;Ee++){var Se=uC({},se.units[Ee]);K.units.push(Se)}if(this.value!==null||se.value!==null){var Be=this.value===null?this._normalize(1):this.value,We=se.value===null?se._normalize(1):se.value;K.value=o(Be,We)}else K.value=null;return nn($)&&(K.skipAutomaticSimplification=!1),F(K)},g.prototype.divideInto=function($){return new g($).divide(this)},g.prototype.divide=function($){for(var K=this.clone(),se=nn($)?$:new g($),de=0;de<G.length;de++)K.dimensions[de]=(this.dimensions[de]||0)-(se.dimensions[de]||0);for(var Ee=0;Ee<se.units.length;Ee++){var Se=uC(uC({},se.units[Ee]),{},{power:-se.units[Ee].power});K.units.push(Se)}if(this.value!==null||se.value!==null){var Be=this.value===null?this._normalize(1):this.value,We=se.value===null?se._normalize(1):se.value;K.value=a(Be,We)}else K.value=null;return nn($)&&(K.skipAutomaticSimplification=!1),F(K)},g.prototype.pow=function($){for(var K=this.clone(),se=0;se<G.length;se++)K.dimensions[se]=(this.dimensions[se]||0)*$;for(var de=0;de<K.units.length;de++)K.units[de].power*=$;return K.value!==null?K.value=s(K.value,$):K.value=null,K.skipAutomaticSimplification=!1,F(K)};function F($){return $.equalBase(B.NONE)&&$.value!==null&&!t.predictable?$.value:$}g.prototype.abs=function(){var $=this.clone();if($.value!==null)if($._isDerived()||$.units.length===0||$.units[0].unit.offset===0)$.value=c($.value);else{var K=$._numberConverter(),se=K($.units[0].unit.value),de=K($.units[0].unit.offset),Ee=o(se,de);$.value=n(c(i($.value,Ee)),Ee)}for(var Se in $.units)($.units[Se].unit.name==="VA"||$.units[Se].unit.name==="VAR")&&($.units[Se].unit=H.W);return $},g.prototype.to=function($){var K=this.value===null?this._normalize(1):this.value,se;if(typeof $=="string")se=g.parse($);else if(nn($))se=$.clone();else throw new Error("String or Unit expected as parameter");if(!this.equalBase(se))throw new Error("Units do not match ('".concat(se.toString(),"' != '").concat(this.toString(),"')"));if(se.value!==null)throw new Error("Cannot convert to a unit with a value");if(this.value===null||this._isDerived()||this.units.length===0||se.units.length===0||this.units[0].unit.offset===se.units[0].unit.offset)se.value=at(K);else{var de=g._getNumberConverter(Ht(K)),Ee=this.units[0].unit.value,Se=this.units[0].unit.offset,Be=o(Ee,Se),We=se.units[0].unit.value,Mt=se.units[0].unit.offset,ft=o(We,Mt);se.value=i(K,de(n(Be,ft)))}return se.fixPrefix=!0,se.skipAutomaticSimplification=!0,se},g.prototype.toNumber=function($){return T(this.toNumeric($))},g.prototype.toNumeric=function($){var K;return $?K=this.to($):K=this.clone(),K._isDerived()||K.units.length===0?K._denormalize(K.value):K._denormalize(K.value,K.units[0].prefix.value)},g.prototype.toString=function(){return this.format()},g.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.units.length>0?this.formatUnits():null,fixPrefix:this.fixPrefix}},g.fromJSON=function($){var K,se=new g($.value,(K=$.unit)!==null&&K!==void 0?K:void 0);return se.fixPrefix=$.fixPrefix||!1,se},g.prototype.valueOf=g.prototype.toString,g.prototype.simplify=function(){var $=this.clone(),K=[],se;for(var de in P)if(Ke(P,de)&&$.hasBase(B[de])){se=de;break}if(se==="NONE")$.units=[];else{var Ee;if(se&&Ke(P,se)&&(Ee=P[se]),Ee)$.units=[{unit:Ee.unit,prefix:Ee.prefix,power:1}];else{for(var Se=!1,Be=0;Be<G.length;Be++){var We=G[Be];Math.abs($.dimensions[Be]||0)>1e-12&&(Ke(P,We)?K.push({unit:P[We].unit,prefix:P[We].prefix,power:$.dimensions[Be]||0}):Se=!0)}K.length<$.units.length&&!Se&&($.units=K)}}return $},g.prototype.toSI=function(){for(var $=this.clone(),K=[],se=0;se<G.length;se++){var de=G[se];if(Math.abs($.dimensions[se]||0)>1e-12)if(Ke(V.si,de))K.push({unit:V.si[de].unit,prefix:V.si[de].prefix,power:$.dimensions[se]||0});else throw new Error("Cannot express custom unit "+de+" in SI units")}return $.units=K,$.fixPrefix=!0,$.skipAutomaticSimplification=!0,this.value!==null?($.value=null,this.to($)):$},g.prototype.formatUnits=function(){for(var $="",K="",se=0,de=0,Ee=0;Ee<this.units.length;Ee++)this.units[Ee].power>0?(se++,$+=" "+this.units[Ee].prefix.name+this.units[Ee].unit.name,Math.abs(this.units[Ee].power-1)>1e-15&&($+="^"+this.units[Ee].power)):this.units[Ee].power<0&&de++;if(de>0)for(var Se=0;Se<this.units.length;Se++)this.units[Se].power<0&&(se>0?(K+=" "+this.units[Se].prefix.name+this.units[Se].unit.name,Math.abs(this.units[Se].power+1)>1e-15&&(K+="^"+-this.units[Se].power)):(K+=" "+this.units[Se].prefix.name+this.units[Se].unit.name,K+="^"+this.units[Se].power));$=$.substr(1),K=K.substr(1),se>1&&de>0&&($="("+$+")"),de>1&&se>0&&(K="("+K+")");var Be=$;return se>0&&de>0&&(Be+=" / "),Be+=K,Be},g.prototype.format=function($){var K=this.skipAutomaticSimplification||this.value===null?this.clone():this.simplify(),se=!1;typeof K.value<"u"&&K.value!==null&&Bn(K.value)&&(se=Math.abs(K.value.re)<1e-14);for(var de in K.units)Ke(K.units,de)&&K.units[de].unit&&(K.units[de].unit.name==="VA"&&se?K.units[de].unit=H.VAR:K.units[de].unit.name==="VAR"&&!se&&(K.units[de].unit=H.VA));K.units.length===1&&!K.fixPrefix&&Math.abs(K.units[0].power-Math.round(K.units[0].power))<1e-14&&(K.units[0].prefix=K._bestPrefix());var Ee=K._denormalize(K.value),Se=K.value!==null?h(Ee,$||{}):"",Be=K.formatUnits();return K.value&&Bn(K.value)&&(Se="("+Se+")"),Be.length>0&&Se.length>0&&(Se+=" "),Se+=Be,Se},g.prototype._bestPrefix=function(){if(this.units.length!==1)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var $=this.value!==null?c(this.value):0,K=c(this.units[0].unit.value),se=this.units[0].prefix;if($===0)return se;var de=this.units[0].power,Ee=Math.log($/Math.pow(se.value*K,de))/Math.LN10-1.2;if(Ee>-2.200001&&Ee<1.800001)return se;Ee=Math.abs(Ee);var Se=this.units[0].unit.prefixes;for(var Be in Se)if(Ke(Se,Be)){var We=Se[Be];if(We.scientific){var Mt=Math.abs(Math.log($/Math.pow(We.value*K,de))/Math.LN10-1.2);(Mt<Ee||Mt===Ee&&We.name.length<se.name.length)&&(se=We,Ee=Mt)}}return se},g.prototype.splitUnit=function($){for(var K=this.clone(),se=[],de=0;de<$.length&&(K=K.to($[de]),de!==$.length-1);de++){var Ee=K.toNumeric(),Se=u(Ee),Be=void 0,We=d(Se,Ee);We?Be=Se:Be=l(K.toNumeric());var Mt=new g(Be,$[de].toString());se.push(Mt),K=n(K,Mt)}for(var ft=0,sr=0;sr<se.length;sr++)ft=i(ft,se[sr].value);return d(ft,this.value)&&(K.value=0),se.push(K),se};var O={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},R:{name:"R",value:1e27,scientific:!0},Q:{name:"Q",value:1e30,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0},r:{name:"r",value:1e-27,scientific:!0},q:{name:"q",value:1e-30,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},ronna:{name:"ronna",value:1e27,scientific:!0},quetta:{name:"quetta",value:1e30,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0},ronto:{name:"ronto",value:1e-27,scientific:!0},quecto:{name:"quecto",value:1e-30,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},R:{name:"R",value:1e54,scientific:!0},Q:{name:"Q",value:1e60,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0},r:{name:"r",value:1e-54,scientific:!0},q:{name:"q",value:1e-60,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},R:{name:"R",value:1e81,scientific:!0},Q:{name:"Q",value:1e90,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0},r:{name:"r",value:1e-81,scientific:!0},q:{name:"q",value:1e-90,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};O.SHORTLONG=Kr({},O.SHORT,O.LONG),O.BINARY_SHORT=Kr({},O.BINARY_SHORT_SI,O.BINARY_SHORT_IEC),O.BINARY_LONG=Kr({},O.BINARY_LONG_SI,O.BINARY_LONG_IEC);var G=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],B={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var ee in B)Ke(B,ee)&&(B[ee].key=ee);var ae={},J={name:"",base:ae,value:1,offset:0,dimensions:G.map($=>0)},H={meter:{name:"meter",base:B.LENGTH,prefixes:O.LONG,value:1,offset:0},inch:{name:"inch",base:B.LENGTH,prefixes:O.NONE,value:.0254,offset:0},foot:{name:"foot",base:B.LENGTH,prefixes:O.NONE,value:.3048,offset:0},yard:{name:"yard",base:B.LENGTH,prefixes:O.NONE,value:.9144,offset:0},mile:{name:"mile",base:B.LENGTH,prefixes:O.NONE,value:1609.344,offset:0},link:{name:"link",base:B.LENGTH,prefixes:O.NONE,value:.201168,offset:0},rod:{name:"rod",base:B.LENGTH,prefixes:O.NONE,value:5.0292,offset:0},chain:{name:"chain",base:B.LENGTH,prefixes:O.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:B.LENGTH,prefixes:O.NONE,value:1e-10,offset:0},m:{name:"m",base:B.LENGTH,prefixes:O.SHORT,value:1,offset:0},in:{name:"in",base:B.LENGTH,prefixes:O.NONE,value:.0254,offset:0},ft:{name:"ft",base:B.LENGTH,prefixes:O.NONE,value:.3048,offset:0},yd:{name:"yd",base:B.LENGTH,prefixes:O.NONE,value:.9144,offset:0},mi:{name:"mi",base:B.LENGTH,prefixes:O.NONE,value:1609.344,offset:0},li:{name:"li",base:B.LENGTH,prefixes:O.NONE,value:.201168,offset:0},rd:{name:"rd",base:B.LENGTH,prefixes:O.NONE,value:5.02921,offset:0},ch:{name:"ch",base:B.LENGTH,prefixes:O.NONE,value:20.1168,offset:0},mil:{name:"mil",base:B.LENGTH,prefixes:O.NONE,value:254e-7,offset:0},m2:{name:"m2",base:B.SURFACE,prefixes:O.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:B.SURFACE,prefixes:O.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:B.SURFACE,prefixes:O.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:B.SURFACE,prefixes:O.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:B.SURFACE,prefixes:O.NONE,value:2589988110336e-6,offset:0},sqrd:{name:"sqrd",base:B.SURFACE,prefixes:O.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:B.SURFACE,prefixes:O.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:B.SURFACE,prefixes:O.NONE,value:64516e-14,offset:0},acre:{name:"acre",base:B.SURFACE,prefixes:O.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:B.SURFACE,prefixes:O.NONE,value:1e4,offset:0},m3:{name:"m3",base:B.VOLUME,prefixes:O.CUBIC,value:1,offset:0},L:{name:"L",base:B.VOLUME,prefixes:O.SHORT,value:.001,offset:0},l:{name:"l",base:B.VOLUME,prefixes:O.SHORT,value:.001,offset:0},litre:{name:"litre",base:B.VOLUME,prefixes:O.LONG,value:.001,offset:0},cuin:{name:"cuin",base:B.VOLUME,prefixes:O.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:B.VOLUME,prefixes:O.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:B.VOLUME,prefixes:O.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:B.VOLUME,prefixes:O.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:B.VOLUME,prefixes:O.NONE,value:15e-6,offset:0},drop:{name:"drop",base:B.VOLUME,prefixes:O.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:B.VOLUME,prefixes:O.NONE,value:5e-8,offset:0},minim:{name:"minim",base:B.VOLUME,prefixes:O.NONE,value:61611519921875e-21,offset:0},fluiddram:{name:"fluiddram",base:B.VOLUME,prefixes:O.NONE,value:36966911953125e-19,offset:0},fluidounce:{name:"fluidounce",base:B.VOLUME,prefixes:O.NONE,value:295735295625e-16,offset:0},gill:{name:"gill",base:B.VOLUME,prefixes:O.NONE,value:.00011829411825,offset:0},cc:{name:"cc",base:B.VOLUME,prefixes:O.NONE,value:1e-6,offset:0},cup:{name:"cup",base:B.VOLUME,prefixes:O.NONE,value:.0002365882365,offset:0},pint:{name:"pint",base:B.VOLUME,prefixes:O.NONE,value:.000473176473,offset:0},quart:{name:"quart",base:B.VOLUME,prefixes:O.NONE,value:.000946352946,offset:0},gallon:{name:"gallon",base:B.VOLUME,prefixes:O.NONE,value:.003785411784,offset:0},beerbarrel:{name:"beerbarrel",base:B.VOLUME,prefixes:O.NONE,value:.117347765304,offset:0},oilbarrel:{name:"oilbarrel",base:B.VOLUME,prefixes:O.NONE,value:.158987294928,offset:0},hogshead:{name:"hogshead",base:B.VOLUME,prefixes:O.NONE,value:.238480942392,offset:0},g:{name:"g",base:B.MASS,prefixes:O.SHORT,value:.001,offset:0},gram:{name:"gram",base:B.MASS,prefixes:O.LONG,value:.001,offset:0},ton:{name:"ton",base:B.MASS,prefixes:O.SHORT,value:907.18474,offset:0},t:{name:"t",base:B.MASS,prefixes:O.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:B.MASS,prefixes:O.LONG,value:1e3,offset:0},grain:{name:"grain",base:B.MASS,prefixes:O.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:B.MASS,prefixes:O.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:B.MASS,prefixes:O.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:B.MASS,prefixes:O.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:B.MASS,prefixes:O.NONE,value:45.359237,offset:0},stick:{name:"stick",base:B.MASS,prefixes:O.NONE,value:.115,offset:0},stone:{name:"stone",base:B.MASS,prefixes:O.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:B.MASS,prefixes:O.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:B.MASS,prefixes:O.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:B.MASS,prefixes:O.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:B.MASS,prefixes:O.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:B.MASS,prefixes:O.NONE,value:45.359237,offset:0},s:{name:"s",base:B.TIME,prefixes:O.SHORT,value:1,offset:0},min:{name:"min",base:B.TIME,prefixes:O.NONE,value:60,offset:0},h:{name:"h",base:B.TIME,prefixes:O.NONE,value:3600,offset:0},second:{name:"second",base:B.TIME,prefixes:O.LONG,value:1,offset:0},sec:{name:"sec",base:B.TIME,prefixes:O.LONG,value:1,offset:0},minute:{name:"minute",base:B.TIME,prefixes:O.NONE,value:60,offset:0},hour:{name:"hour",base:B.TIME,prefixes:O.NONE,value:3600,offset:0},day:{name:"day",base:B.TIME,prefixes:O.NONE,value:86400,offset:0},week:{name:"week",base:B.TIME,prefixes:O.NONE,value:7*86400,offset:0},month:{name:"month",base:B.TIME,prefixes:O.NONE,value:2629800,offset:0},year:{name:"year",base:B.TIME,prefixes:O.NONE,value:31557600,offset:0},decade:{name:"decade",base:B.TIME,prefixes:O.NONE,value:315576e3,offset:0},century:{name:"century",base:B.TIME,prefixes:O.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:B.TIME,prefixes:O.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:B.FREQUENCY,prefixes:O.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:B.FREQUENCY,prefixes:O.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:B.ANGLE,prefixes:O.SHORT,value:1,offset:0},radian:{name:"radian",base:B.ANGLE,prefixes:O.LONG,value:1,offset:0},deg:{name:"deg",base:B.ANGLE,prefixes:O.SHORT,value:null,offset:0},degree:{name:"degree",base:B.ANGLE,prefixes:O.LONG,value:null,offset:0},grad:{name:"grad",base:B.ANGLE,prefixes:O.SHORT,value:null,offset:0},gradian:{name:"gradian",base:B.ANGLE,prefixes:O.LONG,value:null,offset:0},cycle:{name:"cycle",base:B.ANGLE,prefixes:O.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:B.ANGLE,prefixes:O.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:B.ANGLE,prefixes:O.NONE,value:null,offset:0},A:{name:"A",base:B.CURRENT,prefixes:O.SHORT,value:1,offset:0},ampere:{name:"ampere",base:B.CURRENT,prefixes:O.LONG,value:1,offset:0},K:{name:"K",base:B.TEMPERATURE,prefixes:O.SHORT,value:1,offset:0},degC:{name:"degC",base:B.TEMPERATURE,prefixes:O.SHORT,value:1,offset:273.15},degF:{name:"degF",base:B.TEMPERATURE,prefixes:O.SHORT,value:new C(5,9),offset:459.67},degR:{name:"degR",base:B.TEMPERATURE,prefixes:O.SHORT,value:new C(5,9),offset:0},kelvin:{name:"kelvin",base:B.TEMPERATURE,prefixes:O.LONG,value:1,offset:0},celsius:{name:"celsius",base:B.TEMPERATURE,prefixes:O.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:B.TEMPERATURE,prefixes:O.LONG,value:new C(5,9),offset:459.67},rankine:{name:"rankine",base:B.TEMPERATURE,prefixes:O.LONG,value:new C(5,9),offset:0},mol:{name:"mol",base:B.AMOUNT_OF_SUBSTANCE,prefixes:O.SHORT,value:1,offset:0},mole:{name:"mole",base:B.AMOUNT_OF_SUBSTANCE,prefixes:O.LONG,value:1,offset:0},cd:{name:"cd",base:B.LUMINOUS_INTENSITY,prefixes:O.SHORT,value:1,offset:0},candela:{name:"candela",base:B.LUMINOUS_INTENSITY,prefixes:O.LONG,value:1,offset:0},N:{name:"N",base:B.FORCE,prefixes:O.SHORT,value:1,offset:0},newton:{name:"newton",base:B.FORCE,prefixes:O.LONG,value:1,offset:0},dyn:{name:"dyn",base:B.FORCE,prefixes:O.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:B.FORCE,prefixes:O.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:B.FORCE,prefixes:O.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:B.FORCE,prefixes:O.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:B.FORCE,prefixes:O.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:B.FORCE,prefixes:O.NONE,value:9.80665,offset:0},J:{name:"J",base:B.ENERGY,prefixes:O.SHORT,value:1,offset:0},joule:{name:"joule",base:B.ENERGY,prefixes:O.LONG,value:1,offset:0},erg:{name:"erg",base:B.ENERGY,prefixes:O.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:B.ENERGY,prefixes:O.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:B.ENERGY,prefixes:O.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:B.ENERGY,prefixes:O.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:B.ENERGY,prefixes:O.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:B.POWER,prefixes:O.SHORT,value:1,offset:0},watt:{name:"watt",base:B.POWER,prefixes:O.LONG,value:1,offset:0},hp:{name:"hp",base:B.POWER,prefixes:O.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:B.POWER,prefixes:O.SHORT,value:p.I,offset:0},VA:{name:"VA",base:B.POWER,prefixes:O.SHORT,value:1,offset:0},Pa:{name:"Pa",base:B.PRESSURE,prefixes:O.SHORT,value:1,offset:0},psi:{name:"psi",base:B.PRESSURE,prefixes:O.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:B.PRESSURE,prefixes:O.NONE,value:101325,offset:0},bar:{name:"bar",base:B.PRESSURE,prefixes:O.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:B.PRESSURE,prefixes:O.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:B.PRESSURE,prefixes:O.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:B.PRESSURE,prefixes:O.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:B.PRESSURE,prefixes:O.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:B.ELECTRIC_CHARGE,prefixes:O.LONG,value:1,offset:0},C:{name:"C",base:B.ELECTRIC_CHARGE,prefixes:O.SHORT,value:1,offset:0},farad:{name:"farad",base:B.ELECTRIC_CAPACITANCE,prefixes:O.LONG,value:1,offset:0},F:{name:"F",base:B.ELECTRIC_CAPACITANCE,prefixes:O.SHORT,value:1,offset:0},volt:{name:"volt",base:B.ELECTRIC_POTENTIAL,prefixes:O.LONG,value:1,offset:0},V:{name:"V",base:B.ELECTRIC_POTENTIAL,prefixes:O.SHORT,value:1,offset:0},ohm:{name:"ohm",base:B.ELECTRIC_RESISTANCE,prefixes:O.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:B.ELECTRIC_INDUCTANCE,prefixes:O.LONG,value:1,offset:0},H:{name:"H",base:B.ELECTRIC_INDUCTANCE,prefixes:O.SHORT,value:1,offset:0},siemens:{name:"siemens",base:B.ELECTRIC_CONDUCTANCE,prefixes:O.LONG,value:1,offset:0},S:{name:"S",base:B.ELECTRIC_CONDUCTANCE,prefixes:O.SHORT,value:1,offset:0},weber:{name:"weber",base:B.MAGNETIC_FLUX,prefixes:O.LONG,value:1,offset:0},Wb:{name:"Wb",base:B.MAGNETIC_FLUX,prefixes:O.SHORT,value:1,offset:0},tesla:{name:"tesla",base:B.MAGNETIC_FLUX_DENSITY,prefixes:O.LONG,value:1,offset:0},T:{name:"T",base:B.MAGNETIC_FLUX_DENSITY,prefixes:O.SHORT,value:1,offset:0},b:{name:"b",base:B.BIT,prefixes:O.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:B.BIT,prefixes:O.BINARY_LONG,value:1,offset:0},B:{name:"B",base:B.BIT,prefixes:O.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:B.BIT,prefixes:O.BINARY_LONG,value:8,offset:0}},ce={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fldr:"fluiddram",fluiddrams:"fluiddram",floz:"fluidounce",fluidounces:"fluidounce",gi:"gill",gills:"gill",cp:"cup",cups:"cup",pt:"pint",pints:"pint",qt:"quart",quarts:"quart",gal:"gallon",gallons:"gallon",bbl:"beerbarrel",beerbarrels:"beerbarrel",obl:"oilbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function ye($){if($.number==="BigNumber"){var K=Hf(w);H.rad.value=new w(1),H.deg.value=K.div(180),H.grad.value=K.div(200),H.cycle.value=K.times(2),H.arcsec.value=K.div(648e3),H.arcmin.value=K.div(10800)}else H.rad.value=1,H.deg.value=Math.PI/180,H.grad.value=Math.PI/200,H.cycle.value=Math.PI*2,H.arcsec.value=Math.PI/648e3,H.arcmin.value=Math.PI/10800;H.radian.value=H.rad.value,H.degree.value=H.deg.value,H.gradian.value=H.grad.value}ye(t),e&&e("config",function($,K){$.number!==K.number&&ye($)});var V={si:{NONE:{unit:J,prefix:O.NONE[""]},LENGTH:{unit:H.m,prefix:O.SHORT[""]},MASS:{unit:H.g,prefix:O.SHORT.k},TIME:{unit:H.s,prefix:O.SHORT[""]},CURRENT:{unit:H.A,prefix:O.SHORT[""]},TEMPERATURE:{unit:H.K,prefix:O.SHORT[""]},LUMINOUS_INTENSITY:{unit:H.cd,prefix:O.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:H.mol,prefix:O.SHORT[""]},ANGLE:{unit:H.rad,prefix:O.SHORT[""]},BIT:{unit:H.bits,prefix:O.SHORT[""]},FORCE:{unit:H.N,prefix:O.SHORT[""]},ENERGY:{unit:H.J,prefix:O.SHORT[""]},POWER:{unit:H.W,prefix:O.SHORT[""]},PRESSURE:{unit:H.Pa,prefix:O.SHORT[""]},ELECTRIC_CHARGE:{unit:H.C,prefix:O.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:H.F,prefix:O.SHORT[""]},ELECTRIC_POTENTIAL:{unit:H.V,prefix:O.SHORT[""]},ELECTRIC_RESISTANCE:{unit:H.ohm,prefix:O.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:H.H,prefix:O.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:H.S,prefix:O.SHORT[""]},MAGNETIC_FLUX:{unit:H.Wb,prefix:O.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:H.T,prefix:O.SHORT[""]},FREQUENCY:{unit:H.Hz,prefix:O.SHORT[""]}}};V.cgs=JSON.parse(JSON.stringify(V.si)),V.cgs.LENGTH={unit:H.m,prefix:O.SHORT.c},V.cgs.MASS={unit:H.g,prefix:O.SHORT[""]},V.cgs.FORCE={unit:H.dyn,prefix:O.SHORT[""]},V.cgs.ENERGY={unit:H.erg,prefix:O.NONE[""]},V.us=JSON.parse(JSON.stringify(V.si)),V.us.LENGTH={unit:H.ft,prefix:O.NONE[""]},V.us.MASS={unit:H.lbm,prefix:O.NONE[""]},V.us.TEMPERATURE={unit:H.degF,prefix:O.NONE[""]},V.us.FORCE={unit:H.lbf,prefix:O.NONE[""]},V.us.ENERGY={unit:H.BTU,prefix:O.BTU[""]},V.us.POWER={unit:H.hp,prefix:O.NONE[""]},V.us.PRESSURE={unit:H.psi,prefix:O.NONE[""]},V.auto=JSON.parse(JSON.stringify(V.si));var P=V.auto;g.setUnitSystem=function($){if(Ke(V,$))P=V[$];else throw new Error("Unit system "+$+" does not exist. Choices are: "+Object.keys(V).join(", "))},g.getUnitSystem=function(){for(var $ in V)if(Ke(V,$)&&V[$]===P)return $},g.typeConverters={BigNumber:function(K){return K!=null&&K.isFraction?new w(String(K.n)).div(String(K.d)).times(String(K.s)):new w(K+"")},Fraction:function(K){return new C(K)},Complex:function(K){return K},number:function(K){return K!=null&&K.isFraction?f(K):K}},g.prototype._numberConverter=function(){var $=g.typeConverters[this.valueType()];if($)return $;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},g._getNumberConverter=function($){if(!g.typeConverters[$])throw new TypeError('Unsupported type "'+$+'"');return g.typeConverters[$]};for(var j in H)if(Ke(H,j)){var z=H[j];z.dimensions=z.base.dimensions}for(var Q in ce)if(Ke(ce,Q)){var ie=H[ce[Q]],re={};for(var pe in ie)Ke(ie,pe)&&(re[pe]=ie[pe]);re.name=Q,H[Q]=re}g.isValidAlpha=function(K){return/^[a-zA-Z]$/.test(K)};function fe($){for(var K=0;K<$.length;K++){if(y=$.charAt(K),K===0&&!g.isValidAlpha(y))throw new Error('Invalid unit name (must begin with alpha character): "'+$+'"');if(K>0&&!(g.isValidAlpha(y)||E(y)))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+$+'"')}}return g.createUnit=function($,K){if(typeof $!="object")throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(K&&K.override){for(var se in $)if(Ke($,se)&&g.deleteUnit(se),$[se].aliases)for(var de=0;de<$[se].aliases.length;de++)g.deleteUnit($[se].aliases[de])}var Ee;for(var Se in $)Ke($,Se)&&(Ee=g.createUnitSingle(Se,$[Se]));return Ee},g.createUnitSingle=function($,K){if((typeof K>"u"||K===null)&&(K={}),typeof $!="string")throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(Ke(H,$))throw new Error('Cannot create unit "'+$+'": a unit with that name already exists');fe($);var se=null,de=[],Ee=0,Se,Be,We;if(K&&K.type==="Unit")se=K.clone();else if(typeof K=="string")K!==""&&(Se=K);else if(typeof K=="object")Se=K.definition,Be=K.prefixes,Ee=K.offset,We=K.baseName,K.aliases&&(de=K.aliases.valueOf());else throw new TypeError('Cannot create unit "'+$+'" from "'+K.toString()+'": expecting "string" or "Unit" or "Object"');if(de){for(var Mt=0;Mt<de.length;Mt++)if(Ke(H,de[Mt]))throw new Error('Cannot create alias "'+de[Mt]+'": a unit with that name already exists')}if(Se&&typeof Se=="string"&&!se)try{se=g.parse(Se,{allowNoUnits:!0})}catch(X){throw X.message='Could not create unit "'+$+'" from "'+Se+'": '+X.message,X}else Se&&Se.type==="Unit"&&(se=Se.clone());de=de||[],Ee=Ee||0,Be&&Be.toUpperCase?Be=O[Be.toUpperCase()]||O.NONE:Be=O.NONE;var ft={};if(se){ft={name:$,value:se.value,dimensions:se.dimensions.slice(0),prefixes:Be,offset:Ee};var cr=!1;for(var Y in B)if(Ke(B,Y)){for(var le=!0,ge=0;ge<G.length;ge++)if(Math.abs((ft.dimensions[ge]||0)-(B[Y].dimensions[ge]||0))>1e-12){le=!1;break}if(le){cr=!0,ft.base=B[Y];break}}if(!cr){We=We||$+"_STUFF";var Te={dimensions:se.dimensions.slice(0)};Te.key=We,B[We]=Te,P[We]={unit:ft,prefix:O.NONE[""]},ft.base=B[We]}}else{if(We=We||$+"_STUFF",G.indexOf(We)>=0)throw new Error('Cannot create new base unit "'+$+'": a base unit with that name already exists (and cannot be overridden)');G.push(We);for(var sr in B)Ke(B,sr)&&(B[sr].dimensions[G.length-1]=0);for(var rr={dimensions:[]},Xt=0;Xt<G.length;Xt++)rr.dimensions[Xt]=0;rr.dimensions[G.length-1]=1,rr.key=We,B[We]=rr,ft={name:$,value:1,dimensions:B[We].dimensions.slice(0),prefixes:Be,offset:Ee,base:B[We]},P[We]={unit:ft,prefix:O.NONE[""]}}g.UNITS[$]=ft;for(var Ne=0;Ne<de.length;Ne++){var we=de[Ne],$e={};for(var R in ft)Ke(ft,R)&&($e[R]=ft[R]);$e.name=we,g.UNITS[we]=$e}return delete U.cache,new g(null,$)},g.deleteUnit=function($){delete g.UNITS[$],delete U.cache},g.PREFIXES=O,g.BASE_DIMENSIONS=G,g.BASE_UNITS=B,g.UNIT_SYSTEMS=V,g.UNITS=H,g},{isClass:!0});var H4="unit",Ile=["typed","Unit"],mC=N(H4,Ile,r=>{var{typed:e,Unit:t}=r;return e(H4,{Unit:function(n){return n.clone()},string:function(n){return t.isValuelessUnit(n)?new t(null,n):t.parse(n,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(n,o){return new t(n,o)},"number | BigNumber | Fraction":function(n){return new t(n)},"Array | Matrix":e.referToSelf(i=>n=>Ge(n,i))})});var G4="sparse",Mle=["typed","SparseMatrix"],hC=N(G4,Mle,r=>{var{typed:e,SparseMatrix:t}=r;return e(G4,{"":function(){return new t([])},string:function(n){return new t([],n)},"Array | Matrix":function(n){return new t(n)},"Array | Matrix, string":function(n,o){return new t(n,o)}})});var W4="createUnit",Nle=["typed","Unit"],fC=N(W4,Nle,r=>{var{typed:e,Unit:t}=r;return e(W4,{"Object, Object":function(n,o){return t.createUnit(n,o)},Object:function(n){return t.createUnit(n,{})},"string, Unit | string | Object, Object":function(n,o,a){var s={};return s[n]=o,t.createUnit(s,a)},"string, Unit | string | Object":function(n,o){var a={};return a[n]=o,t.createUnit(a,{})},string:function(n){var o={};return o[n]={},t.createUnit(o,{})}})});var X4="acos",kle=["typed","config","Complex"],pC=N(X4,kle,r=>{var{typed:e,config:t,Complex:i}=r;return e(X4,{number:function(o){return o>=-1&&o<=1||t.predictable?Math.acos(o):new i(o,0).acos()},Complex:function(o){return o.acos()},BigNumber:function(o){return o.acos()}})});var K4="acosh",Rle=["typed","config","Complex"],gC=N(K4,Rle,r=>{var{typed:e,config:t,Complex:i}=r;return e(K4,{number:function(o){return o>=1||t.predictable?IE(o):o<=-1?new i(Math.log(Math.sqrt(o*o-1)-o),Math.PI):new i(o,0).acosh()},Complex:function(o){return o.acosh()},BigNumber:function(o){return o.acosh()}})});var Q4="acot",Fle=["typed","BigNumber"],vC=N(Q4,Fle,r=>{var{typed:e,BigNumber:t}=r;return e(Q4,{number:ME,Complex:function(n){return n.acot()},BigNumber:function(n){return new t(1).div(n).atan()}})});var Y4="acoth",Ole=["typed","config","Complex","BigNumber"],yC=N(Y4,Ole,r=>{var{typed:e,config:t,Complex:i,BigNumber:n}=r;return e(Y4,{number:function(a){return a>=1||a<=-1||t.predictable?NE(a):new i(a,0).acoth()},Complex:function(a){return a.acoth()},BigNumber:function(a){return new n(1).div(a).atanh()}})});var Z4="acsc",Ple=["typed","config","Complex","BigNumber"],bC=N(Z4,Ple,r=>{var{typed:e,config:t,Complex:i,BigNumber:n}=r;return e(Z4,{number:function(a){return a<=-1||a>=1||t.predictable?kE(a):new i(a,0).acsc()},Complex:function(a){return a.acsc()},BigNumber:function(a){return new n(1).div(a).asin()}})});var J4="acsch",Ble=["typed","BigNumber"],_C=N(J4,Ble,r=>{var{typed:e,BigNumber:t}=r;return e(J4,{number:RE,Complex:function(n){return n.acsch()},BigNumber:function(n){return new t(1).div(n).asinh()}})});var ez="asec",Lle=["typed","config","Complex","BigNumber"],xC=N(ez,Lle,r=>{var{typed:e,config:t,Complex:i,BigNumber:n}=r;return e(ez,{number:function(a){return a<=-1||a>=1||t.predictable?FE(a):new i(a,0).asec()},Complex:function(a){return a.asec()},BigNumber:function(a){return new n(1).div(a).acos()}})});var tz="asech",Vle=["typed","config","Complex","BigNumber"],wC=N(tz,Vle,r=>{var{typed:e,config:t,Complex:i,BigNumber:n}=r;return e(tz,{number:function(a){if(a<=1&&a>=-1||t.predictable){var s=1/a;if(s>0||t.predictable)return OE(a);var c=Math.sqrt(s*s-1);return new i(Math.log(c-s),Math.PI)}return new i(a,0).asech()},Complex:function(a){return a.asech()},BigNumber:function(a){return new n(1).div(a).acosh()}})});var rz="asin",zle=["typed","config","Complex"],EC=N(rz,zle,r=>{var{typed:e,config:t,Complex:i}=r;return e(rz,{number:function(o){return o>=-1&&o<=1||t.predictable?Math.asin(o):new i(o,0).asin()},Complex:function(o){return o.asin()},BigNumber:function(o){return o.asin()}})});var Ule="asinh",qle=["typed"],DC=N(Ule,qle,r=>{var{typed:e}=r;return e("asinh",{number:PE,Complex:function(i){return i.asinh()},BigNumber:function(i){return i.asinh()}})});var jle="atan",$le=["typed"],AC=N(jle,$le,r=>{var{typed:e}=r;return e("atan",{number:function(i){return Math.atan(i)},Complex:function(i){return i.atan()},BigNumber:function(i){return i.atan()}})});var iz="atan2",Hle=["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],CC=N(iz,Hle,r=>{var{typed:e,matrix:t,equalScalar:i,BigNumber:n,DenseMatrix:o,concat:a}=r,s=yi({typed:e,equalScalar:i}),c=Fr({typed:e}),l=I0({typed:e,equalScalar:i}),u=yr({typed:e,equalScalar:i}),d=ar({typed:e,DenseMatrix:o}),m=wt({typed:e,matrix:t,concat:a});return e(iz,{"number, number":Math.atan2,"BigNumber, BigNumber":(h,f)=>n.atan2(h,f)},m({scalar:"number | BigNumber",SS:l,DS:c,SD:s,Ss:u,sS:d}))});var nz="atanh",Gle=["typed","config","Complex"],SC=N(nz,Gle,r=>{var{typed:e,config:t,Complex:i}=r;return e(nz,{number:function(o){return o<=1&&o>=-1||t.predictable?BE(o):new i(o,0).atanh()},Complex:function(o){return o.atanh()},BigNumber:function(o){return o.atanh()}})});var qo=N("trigUnit",["typed"],r=>{var{typed:e}=r;return{Unit:e.referToSelf(t=>i=>{if(!i.hasBase(i.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return e.find(t,i.valueType())(i.value)})}});var oz="cos",Wle=["typed"],TC=N(oz,Wle,r=>{var{typed:e}=r,t=qo({typed:e});return e(oz,{number:Math.cos,"Complex | BigNumber":i=>i.cos()},t)});var az="cosh",Xle=["typed"],IC=N(az,Xle,r=>{var{typed:e}=r;return e(az,{number:a0,"Complex | BigNumber":t=>t.cosh()})});var sz="cot",Kle=["typed","BigNumber"],MC=N(sz,Kle,r=>{var{typed:e,BigNumber:t}=r,i=qo({typed:e});return e(sz,{number:LE,Complex:n=>n.cot(),BigNumber:n=>new t(1).div(n.tan())},i)});var cz="coth",Qle=["typed","BigNumber"],NC=N(cz,Qle,r=>{var{typed:e,BigNumber:t}=r;return e(cz,{number:VE,Complex:i=>i.coth(),BigNumber:i=>new t(1).div(i.tanh())})});var lz="csc",Yle=["typed","BigNumber"],kC=N(lz,Yle,r=>{var{typed:e,BigNumber:t}=r,i=qo({typed:e});return e(lz,{number:zE,Complex:n=>n.csc(),BigNumber:n=>new t(1).div(n.sin())},i)});var uz="csch",Zle=["typed","BigNumber"],RC=N(uz,Zle,r=>{var{typed:e,BigNumber:t}=r;return e(uz,{number:UE,Complex:i=>i.csch(),BigNumber:i=>new t(1).div(i.sinh())})});var dz="sec",Jle=["typed","BigNumber"],FC=N(dz,Jle,r=>{var{typed:e,BigNumber:t}=r,i=qo({typed:e});return e(dz,{number:qE,Complex:n=>n.sec(),BigNumber:n=>new t(1).div(n.cos())},i)});var mz="sech",eue=["typed","BigNumber"],OC=N(mz,eue,r=>{var{typed:e,BigNumber:t}=r;return e(mz,{number:jE,Complex:i=>i.sech(),BigNumber:i=>new t(1).div(i.cosh())})});var hz="sin",tue=["typed"],PC=N(hz,tue,r=>{var{typed:e}=r,t=qo({typed:e});return e(hz,{number:Math.sin,"Complex | BigNumber":i=>i.sin()},t)});var fz="sinh",rue=["typed"],BC=N(fz,rue,r=>{var{typed:e}=r;return e(fz,{number:$E,"Complex | BigNumber":t=>t.sinh()})});var pz="tan",iue=["typed"],LC=N(pz,iue,r=>{var{typed:e}=r,t=qo({typed:e});return e(pz,{number:Math.tan,"Complex | BigNumber":i=>i.tan()},t)});var nue="tanh",oue=["typed"],VC=N(nue,oue,r=>{var{typed:e}=r;return e("tanh",{number:s0,"Complex | BigNumber":t=>t.tanh()})});var gz="setCartesian",aue=["typed","size","subset","compareNatural","Index","DenseMatrix"],zC=N(gz,aue,r=>{var{typed:e,size:t,subset:i,compareNatural:n,Index:o,DenseMatrix:a}=r;return e(gz,{"Array | Matrix, Array | Matrix":function(c,l){var u=[];if(i(t(c),new o(0))!==0&&i(t(l),new o(0))!==0){var d=kt(Array.isArray(c)?c:c.toArray()).sort(n),m=kt(Array.isArray(l)?l:l.toArray()).sort(n);u=[];for(var h=0;h<d.length;h++)for(var f=0;f<m.length;f++)u.push([d[h],m[f]])}return Array.isArray(c)&&Array.isArray(l)?u:new a(u)}})});var vz="setDifference",sue=["typed","size","subset","compareNatural","Index","DenseMatrix"],UC=N(vz,sue,r=>{var{typed:e,size:t,subset:i,compareNatural:n,Index:o,DenseMatrix:a}=r;return e(vz,{"Array | Matrix, Array | Matrix":function(c,l){var u;if(i(t(c),new o(0))===0)u=[];else{if(i(t(l),new o(0))===0)return kt(c.toArray());var d=fs(kt(Array.isArray(c)?c:c.toArray()).sort(n)),m=fs(kt(Array.isArray(l)?l:l.toArray()).sort(n));u=[];for(var h,f=0;f<d.length;f++){h=!1;for(var p=0;p<m.length;p++)if(n(d[f].value,m[p].value)===0&&d[f].identifier===m[p].identifier){h=!0;break}h||u.push(d[f])}}return Array.isArray(c)&&Array.isArray(l)?Sd(u):new a(Sd(u))}})});var yz="setDistinct",cue=["typed","size","subset","compareNatural","Index","DenseMatrix"],qC=N(yz,cue,r=>{var{typed:e,size:t,subset:i,compareNatural:n,Index:o,DenseMatrix:a}=r;return e(yz,{"Array | Matrix":function(c){var l;if(i(t(c),new o(0))===0)l=[];else{var u=kt(Array.isArray(c)?c:c.toArray()).sort(n);l=[],l.push(u[0]);for(var d=1;d<u.length;d++)n(u[d],u[d-1])!==0&&l.push(u[d])}return Array.isArray(c)?l:new a(l)}})});var bz="setIntersect",lue=["typed","size","subset","compareNatural","Index","DenseMatrix"],jC=N(bz,lue,r=>{var{typed:e,size:t,subset:i,compareNatural:n,Index:o,DenseMatrix:a}=r;return e(bz,{"Array | Matrix, Array | Matrix":function(c,l){var u;if(i(t(c),new o(0))===0||i(t(l),new o(0))===0)u=[];else{var d=fs(kt(Array.isArray(c)?c:c.toArray()).sort(n)),m=fs(kt(Array.isArray(l)?l:l.toArray()).sort(n));u=[];for(var h=0;h<d.length;h++)for(var f=0;f<m.length;f++)if(n(d[h].value,m[f].value)===0&&d[h].identifier===m[f].identifier){u.push(d[h]);break}}return Array.isArray(c)&&Array.isArray(l)?Sd(u):new a(Sd(u))}})});var _z="setIsSubset",uue=["typed","size","subset","compareNatural","Index"],$C=N(_z,uue,r=>{var{typed:e,size:t,subset:i,compareNatural:n,Index:o}=r;return e(_z,{"Array | Matrix, Array | Matrix":function(s,c){if(i(t(s),new o(0))===0)return!0;if(i(t(c),new o(0))===0)return!1;for(var l=fs(kt(Array.isArray(s)?s:s.toArray()).sort(n)),u=fs(kt(Array.isArray(c)?c:c.toArray()).sort(n)),d,m=0;m<l.length;m++){d=!1;for(var h=0;h<u.length;h++)if(n(l[m].value,u[h].value)===0&&l[m].identifier===u[h].identifier){d=!0;break}if(d===!1)return!1}return!0}})});var xz="setMultiplicity",due=["typed","size","subset","compareNatural","Index"],HC=N(xz,due,r=>{var{typed:e,size:t,subset:i,compareNatural:n,Index:o}=r;return e(xz,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(s,c){if(i(t(c),new o(0))===0)return 0;for(var l=kt(Array.isArray(c)?c:c.toArray()),u=0,d=0;d<l.length;d++)n(l[d],s)===0&&u++;return u}})});var wz="setPowerset",mue=["typed","size","subset","compareNatural","Index"],GC=N(wz,mue,r=>{var{typed:e,size:t,subset:i,compareNatural:n,Index:o}=r;return e(wz,{"Array | Matrix":function(l){if(i(t(l),new o(0))===0)return[];for(var u=kt(Array.isArray(l)?l:l.toArray()).sort(n),d=[],m=0;m.toString(2).length<=u.length;)d.push(a(u,m.toString(2).split("").reverse())),m++;return s(d)}});function a(c,l){for(var u=[],d=0;d<l.length;d++)l[d]==="1"&&u.push(c[d]);return u}function s(c){for(var l=[],u=c.length-1;u>0;u--)for(var d=0;d<u;d++)c[d].length>c[d+1].length&&(l=c[d],c[d]=c[d+1],c[d+1]=l);return c}});var Ez="setSize",hue=["typed","compareNatural"],WC=N(Ez,hue,r=>{var{typed:e,compareNatural:t}=r;return e(Ez,{"Array | Matrix":function(n){return Array.isArray(n)?kt(n).length:kt(n.toArray()).length},"Array | Matrix, boolean":function(n,o){if(o===!1||n.length===0)return Array.isArray(n)?kt(n).length:kt(n.toArray()).length;for(var a=kt(Array.isArray(n)?n:n.toArray()).sort(t),s=1,c=1;c<a.length;c++)t(a[c],a[c-1])!==0&&s++;return s}})});var Dz="setSymDifference",fue=["typed","size","concat","subset","setDifference","Index"],XC=N(Dz,fue,r=>{var{typed:e,size:t,concat:i,subset:n,setDifference:o,Index:a}=r;return e(Dz,{"Array | Matrix, Array | Matrix":function(c,l){if(n(t(c),new a(0))===0)return kt(l);if(n(t(l),new a(0))===0)return kt(c);var u=kt(c),d=kt(l);return i(o(u,d),o(d,u))}})});var Az="setUnion",pue=["typed","size","concat","subset","setIntersect","setSymDifference","Index"],KC=N(Az,pue,r=>{var{typed:e,size:t,concat:i,subset:n,setIntersect:o,setSymDifference:a,Index:s}=r;return e(Az,{"Array | Matrix, Array | Matrix":function(l,u){if(n(t(l),new s(0))===0)return kt(u);if(n(t(u),new s(0))===0)return kt(l);var d=kt(l),m=kt(u);return i(a(d,m),o(d,m))}})});var Cz="add",gue=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],QC=N(Cz,gue,r=>{var{typed:e,matrix:t,addScalar:i,equalScalar:n,DenseMatrix:o,SparseMatrix:a,concat:s}=r,c=Dn({typed:e}),l=kd({typed:e,equalScalar:n}),u=Zn({typed:e,DenseMatrix:o}),d=wt({typed:e,matrix:t,concat:s});return e(Cz,{"any, any":i,"any, any, ...any":e.referToSelf(m=>(h,f,p)=>{for(var w=m(h,f),C=0;C<p.length;C++)w=m(w,p[C]);return w})},d({elop:i,DS:c,SS:l,Ss:u}))});var Sz="hypot",vue=["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],YC=N(Sz,vue,r=>{var{typed:e,abs:t,addScalar:i,divideScalar:n,multiplyScalar:o,sqrt:a,smaller:s,isPositive:c}=r;return e(Sz,{"... number | BigNumber":l,Array:l,Matrix:u=>l(kt(u.toArray()))});function l(u){for(var d=0,m=0,h=0;h<u.length;h++){if(Bn(u[h]))throw new TypeError("Unexpected type of argument to hypot");var f=t(u[h]);s(m,f)?(d=o(d,o(n(m,f),n(m,f))),d=i(d,1),m=f):d=i(d,c(f)?o(n(f,m),n(f,m)):f)}return o(m,a(d))}});var Tz="norm",yue=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],ZC=N(Tz,yue,r=>{var{typed:e,abs:t,add:i,pow:n,conj:o,sqrt:a,multiply:s,equalScalar:c,larger:l,smaller:u,matrix:d,ctranspose:m,eigs:h}=r;return e(Tz,{number:Math.abs,Complex:function(b){return b.abs()},BigNumber:function(b){return b.abs()},boolean:function(b){return Math.abs(b)},Array:function(b){return y(d(b),2)},Matrix:function(b){return y(b,2)},"Array, number | BigNumber | string":function(b,E){return y(d(b),E)},"Matrix, number | BigNumber | string":function(b,E){return y(b,E)}});function f(A){var b=0;return A.forEach(function(E){var D=t(E);l(D,b)&&(b=D)},!0),b}function p(A){var b;return A.forEach(function(E){var D=t(E);(!b||u(D,b))&&(b=D)},!0),b||0}function w(A,b){if(b===Number.POSITIVE_INFINITY||b==="inf")return f(A);if(b===Number.NEGATIVE_INFINITY||b==="-inf")return p(A);if(b==="fro")return y(A,2);if(typeof b=="number"&&!isNaN(b)){if(!c(b,0)){var E=0;return A.forEach(function(D){E=i(n(t(D),b),E)},!0),n(E,1/b)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function C(A){var b=0;return A.forEach(function(E,D){b=i(b,s(E,o(E)))}),t(a(b))}function T(A){var b=[],E=0;return A.forEach(function(D,S){var I=S[1],M=i(b[I]||0,t(D));l(M,E)&&(E=M),b[I]=M},!0),E}function g(A){var b=A.size();if(b[0]!==b[1])throw new RangeError("Invalid matrix dimensions");var E=m(A),D=s(E,A),S=h(D).values.toArray(),I=S[S.length-1];return t(a(I))}function _(A){var b=[],E=0;return A.forEach(function(D,S){var I=S[0],M=i(b[I]||0,t(D));l(M,E)&&(E=M),b[I]=M},!0),E}function v(A,b){if(b===1)return T(A);if(b===Number.POSITIVE_INFINITY||b==="inf")return _(A);if(b==="fro")return C(A);if(b===2)return g(A);throw new Error("Unsupported parameter value "+b)}function y(A,b){var E=A.size();if(E.length===1)return w(A,b);if(E.length===2){if(E[0]&&E[1])return v(A,b);throw new RangeError("Invalid matrix dimensions")}}});var Iz="dot",bue=["typed","addScalar","multiplyScalar","conj","size"],JC=N(Iz,bue,r=>{var{typed:e,addScalar:t,multiplyScalar:i,conj:n,size:o}=r;return e(Iz,{"Array | DenseMatrix, Array | DenseMatrix":s,"SparseMatrix, SparseMatrix":c});function a(u,d){var m=l(u),h=l(d),f,p;if(m.length===1)f=m[0];else if(m.length===2&&m[1]===1)f=m[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+m.join(", ")+")");if(h.length===1)p=h[0];else if(h.length===2&&h[1]===1)p=h[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+h.join(", ")+")");if(f!==p)throw new RangeError("Vectors must have equal length ("+f+" != "+p+")");if(f===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return f}function s(u,d){var m=a(u,d),h=He(u)?u._data:u,f=He(u)?u._datatype||u.getDataType():void 0,p=He(d)?d._data:d,w=He(d)?d._datatype||d.getDataType():void 0,C=l(u).length===2,T=l(d).length===2,g=t,_=i;if(f&&w&&f===w&&typeof f=="string"&&f!=="mixed"){var v=f;g=e.find(t,[v,v]),_=e.find(i,[v,v])}if(!C&&!T){for(var y=_(n(h[0]),p[0]),A=1;A<m;A++)y=g(y,_(n(h[A]),p[A]));return y}if(!C&&T){for(var b=_(n(h[0]),p[0][0]),E=1;E<m;E++)b=g(b,_(n(h[E]),p[E][0]));return b}if(C&&!T){for(var D=_(n(h[0][0]),p[0]),S=1;S<m;S++)D=g(D,_(n(h[S][0]),p[S]));return D}if(C&&T){for(var I=_(n(h[0][0]),p[0][0]),M=1;M<m;M++)I=g(I,_(n(h[M][0]),p[M][0]));return I}}function c(u,d){a(u,d);for(var m=u._index,h=u._values,f=d._index,p=d._values,w=0,C=t,T=i,g=0,_=0;g<m.length&&_<f.length;){var v=m[g],y=f[_];if(v<y){g++;continue}if(v>y){_++;continue}v===y&&(w=C(w,T(h[g],p[_])),g++,_++)}return w}function l(u){return He(u)?u.size():o(u)}});var _ue="trace",xue=["typed","matrix","add"],eS=N(_ue,xue,r=>{var{typed:e,matrix:t,add:i}=r;return e("trace",{Array:function(s){return n(t(s))},SparseMatrix:o,DenseMatrix:n,any:at});function n(a){var s=a._size,c=a._data;switch(s.length){case 1:if(s[0]===1)return at(c[0]);throw new RangeError("Matrix must be square (size: "+vt(s)+")");case 2:{var l=s[0],u=s[1];if(l===u){for(var d=0,m=0;m<l;m++)d=i(d,c[m][m]);return d}else throw new RangeError("Matrix must be square (size: "+vt(s)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+vt(s)+")")}}function o(a){var s=a._values,c=a._index,l=a._ptr,u=a._size,d=u[0],m=u[1];if(d===m){var h=0;if(s.length>0)for(var f=0;f<m;f++)for(var p=l[f],w=l[f+1],C=p;C<w;C++){var T=c[C];if(T===f){h=i(h,s[C]);break}if(T>f)break}return h}throw new RangeError("Matrix must be square (size: "+vt(u)+")")}});var Mz="index",wue=["typed","Index"],tS=N(Mz,wue,r=>{var{typed:e,Index:t}=r;return e(Mz,{"...number | string | BigNumber | Range | Array | Matrix":function(n){var o=n.map(function(s){return tt(s)?s.toNumber():tr(s)||He(s)?s.map(function(c){return tt(c)?c.toNumber():c}):s}),a=new t;return t.apply(a,o),a}})});var q0=new Set(["end"]);var Eue="Node",Due=["mathWithTransform"],rS=N(Eue,Due,r=>{var{mathWithTransform:e}=r;function t(n){for(var o of[...q0])if(n.has(o))throw new Error('Scope contains an illegal symbol, "'+o+'" is a reserved keyword')}class i{get type(){return"Node"}get isNode(){return!0}evaluate(o){return this.compile().evaluate(o)}compile(){var o=this._compile(e,{}),a={},s=null;function c(l){var u=us(l);return t(u),o(u,a,s)}return{evaluate:c}}_compile(o,a){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(o){throw new Error("Cannot run forEach on a Node interface")}map(o){throw new Error("Cannot run map on a Node interface")}_ifNode(o){if(!Vt(o))throw new TypeError("Callback function must return a Node");return o}traverse(o){o(this,null,null);function a(s,c){s.forEach(function(l,u,d){c(l,u,d),a(l,c)})}a(this,o)}transform(o){function a(s,c,l){var u=o(s,c,l);return u!==s?u:s.map(a)}return a(this,null,null)}filter(o){var a=[];return this.traverse(function(s,c,l){o(s,c,l)&&a.push(s)}),a}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(o){return o.cloneDeep()})}equals(o){return o?this.type===o.type&&Xn(this,o):!1}toString(o){var a=this._getCustomString(o);return typeof a<"u"?a:this._toString(o)}_toString(){throw new Error("_toString not implemented for "+this.type)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(o){var a=this._getCustomString(o);return typeof a<"u"?a:this._toHTML(o)}_toHTML(){throw new Error("_toHTML not implemented for "+this.type)}toTex(o){var a=this._getCustomString(o);return typeof a<"u"?a:this._toTex(o)}_toTex(o){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(o){if(o&&typeof o=="object")switch(typeof o.handler){case"object":case"undefined":return;case"function":return o.handler(this,o);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}return i},{isClass:!0,isNode:!0});function Or(r){return r&&r.isIndexError?new cn(r.index+1,r.min+1,r.max!==void 0?r.max+1:void 0):r}function j0(r){var{subset:e}=r;return function(i,n){try{if(Array.isArray(i))return e(i,n);if(i&&typeof i.subset=="function")return i.subset(n);if(typeof i=="string")return e(i,n);if(typeof i=="object"){if(!n.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return Gr(i,n.getObjectProperty())}else throw new TypeError("Cannot apply index: unsupported type of object")}catch(o){throw Or(o)}}}var $0="AccessorNode",Aue=["subset","Node"],iS=N($0,Aue,r=>{var{subset:e,Node:t}=r,i=j0({subset:e});function n(a){return!(ho(a)||on(a)||Ot(a)||Ln(a)||hc(a)||an(a)||Mr(a))}class o extends t{constructor(s,c){if(super(),!Vt(s))throw new TypeError('Node expected for parameter "object"');if(!Oo(c))throw new TypeError('IndexNode expected for parameter "index"');this.object=s,this.index=c}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return $0}get isAccessorNode(){return!0}_compile(s,c){var l=this.object._compile(s,c),u=this.index._compile(s,c);if(this.index.isObjectProperty()){var d=this.index.getObjectProperty();return function(h,f,p){return Gr(l(h,f,p),d)}}else return function(h,f,p){var w=l(h,f,p),C=u(h,f,w);return i(w,C)}}forEach(s){s(this.object,"object",this),s(this.index,"index",this)}map(s){return new o(this._ifNode(s(this.object,"object",this)),this._ifNode(s(this.index,"index",this)))}clone(){return new o(this.object,this.index)}_toString(s){var c=this.object.toString(s);return n(this.object)&&(c="("+c+")"),c+this.index.toString(s)}_toHTML(s){var c=this.object.toHTML(s);return n(this.object)&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),c+this.index.toHTML(s)}_toTex(s){var c=this.object.toTex(s);return n(this.object)&&(c="\\left(' + object + '\\right)"),c+this.index.toTex(s)}toJSON(){return{mathjs:$0,object:this.object,index:this.index}}static fromJSON(s){return new o(s.object,s.index)}}return hr(o,"name",$0),o},{isClass:!0,isNode:!0});var H0="ArrayNode",Cue=["Node"],nS=N(H0,Cue,r=>{var{Node:e}=r;class t extends e{constructor(n){if(super(),this.items=n||[],!Array.isArray(this.items)||!this.items.every(Vt))throw new TypeError("Array containing Nodes expected")}get type(){return H0}get isArrayNode(){return!0}_compile(n,o){var a=Lo(this.items,function(l){return l._compile(n,o)}),s=n.config.matrix!=="Array";if(s){var c=n.matrix;return function(u,d,m){return c(Lo(a,function(h){return h(u,d,m)}))}}else return function(u,d,m){return Lo(a,function(h){return h(u,d,m)})}}forEach(n){for(var o=0;o<this.items.length;o++){var a=this.items[o];n(a,"items["+o+"]",this)}}map(n){for(var o=[],a=0;a<this.items.length;a++)o[a]=this._ifNode(n(this.items[a],"items["+a+"]",this));return new t(o)}clone(){return new t(this.items.slice(0))}_toString(n){var o=this.items.map(function(a){return a.toString(n)});return"["+o.join(", ")+"]"}toJSON(){return{mathjs:H0,items:this.items}}static fromJSON(n){return new t(n.items)}_toHTML(n){var o=this.items.map(function(a){return a.toHTML(n)});return'<span class="math-parenthesis math-square-parenthesis">[</span>'+o.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(n){function o(a,s){var c=a.some(on)&&!a.every(on),l=s||c,u=l?"&":"\\\\",d=a.map(function(m){return m.items?o(m.items,!s):m.toTex(n)}).join(u);return c||!l||l&&!s?"\\begin{bmatrix}"+d+"\\end{bmatrix}":d}return o(this.items,!1)}}return hr(t,"name",H0),t},{isClass:!0,isNode:!0});function Nz(r){var{subset:e,matrix:t}=r;return function(n,o,a){try{if(Array.isArray(n)){var s=t(n).subset(o,a).valueOf();return s.forEach((c,l)=>{n[l]=c}),n}else{if(n&&typeof n.subset=="function")return n.subset(o,a);if(typeof n=="string")return e(n,o,a);if(typeof n=="object"){if(!o.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return Ia(n,o.getObjectProperty(),a),n}else throw new TypeError("Cannot apply index: unsupported type of object")}}catch(c){throw Or(c)}}}var jo=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function G0(r,e){if(!e||e!=="auto")return r;for(var t=r;an(t);)t=t.content;return t}function pr(r,e,t,i){var n=r;e!=="keep"&&(n=r.getContent());for(var o=n.getIdentifier(),a=null,s=0;s<jo.length;s++)if(o in jo[s]){a=s;break}if(o==="OperatorNode:multiply"&&n.implicit&&t!=="show"){var c=G0(n.args[0],e);!(Ot(c)&&i&&i.getIdentifier()==="OperatorNode:divide"&&pf(G0(i.args[0],e)))&&!(c.getIdentifier()==="OperatorNode:divide"&&pf(G0(c.args[0],e))&&Ot(G0(c.args[1])))&&(a+=1)}return a}function Vd(r,e){var t=r;e!=="keep"&&(t=r.getContent());var i=t.getIdentifier(),n=pr(t,e);if(n===null)return null;var o=jo[n][i];if(Ke(o,"associativity")){if(o.associativity==="left")return"left";if(o.associativity==="right")return"right";throw Error("'"+i+"' has the invalid associativity '"+o.associativity+"'.")}return null}function W0(r,e,t){var i=t!=="keep"?r.getContent():r,n=t!=="keep"?r.getContent():e,o=i.getIdentifier(),a=n.getIdentifier(),s=pr(i,t);if(s===null)return null;var c=jo[s][o];if(Ke(c,"associativeWith")&&c.associativeWith instanceof Array){for(var l=0;l<c.associativeWith.length;l++)if(c.associativeWith[l]===a)return!0;return!1}return null}function kz(r){var e="OperatorNode:"+r;for(var t of jo)if(e in t)return t[e].op;return null}var X0="AssignmentNode",Sue=["subset","?matrix","Node"],oS=N(X0,Sue,r=>{var{subset:e,matrix:t,Node:i}=r,n=j0({subset:e}),o=Nz({subset:e,matrix:t});function a(c,l,u){l||(l="keep");var d=pr(c,l,u),m=pr(c.value,l,u);return l==="all"||m!==null&&m<=d}class s extends i{constructor(l,u,d){if(super(),this.object=l,this.index=d?u:null,this.value=d||u,!Mr(l)&&!ho(l))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(Mr(l)&&l.name==="end")throw new Error('Cannot assign to symbol "end"');if(this.index&&!Oo(this.index))throw new TypeError('IndexNode expected as "index"');if(!Vt(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return X0}get isAssignmentNode(){return!0}_compile(l,u){var d=this.object._compile(l,u),m=this.index?this.index._compile(l,u):null,h=this.value._compile(l,u),f=this.object.name;if(this.index)if(this.index.isObjectProperty()){var p=this.index.getObjectProperty();return function(_,v,y){var A=d(_,v,y),b=h(_,v,y);return Ia(A,p,b),b}}else{if(Mr(this.object))return function(_,v,y){var A=d(_,v,y),b=h(_,v,y),E=m(_,v,A);return _.set(f,o(A,E,b)),b};var w=this.object.object._compile(l,u);if(this.object.index.isObjectProperty()){var C=this.object.index.getObjectProperty();return function(_,v,y){var A=w(_,v,y),b=Gr(A,C),E=m(_,v,b),D=h(_,v,y);return Ia(A,C,o(b,E,D)),D}}else{var T=this.object.index._compile(l,u);return function(_,v,y){var A=w(_,v,y),b=T(_,v,A),E=n(A,b),D=m(_,v,E),S=h(_,v,y);return o(A,b,o(E,D,S)),S}}}else{if(!Mr(this.object))throw new TypeError("SymbolNode expected as object");return function(_,v,y){var A=h(_,v,y);return _.set(f,A),A}}}forEach(l){l(this.object,"object",this),this.index&&l(this.index,"index",this),l(this.value,"value",this)}map(l){var u=this._ifNode(l(this.object,"object",this)),d=this.index?this._ifNode(l(this.index,"index",this)):null,m=this._ifNode(l(this.value,"value",this));return new s(u,d,m)}clone(){return new s(this.object,this.index,this.value)}_toString(l){var u=this.object.toString(l),d=this.index?this.index.toString(l):"",m=this.value.toString(l);return a(this,l&&l.parenthesis,l&&l.implicit)&&(m="("+m+")"),u+d+" = "+m}toJSON(){return{mathjs:X0,object:this.object,index:this.index,value:this.value}}static fromJSON(l){return new s(l.object,l.index,l.value)}_toHTML(l){var u=this.object.toHTML(l),d=this.index?this.index.toHTML(l):"",m=this.value.toHTML(l);return a(this,l&&l.parenthesis,l&&l.implicit)&&(m='<span class="math-paranthesis math-round-parenthesis">(</span>'+m+'<span class="math-paranthesis math-round-parenthesis">)</span>'),u+d+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+m}_toTex(l){var u=this.object.toTex(l),d=this.index?this.index.toTex(l):"",m=this.value.toTex(l);return a(this,l&&l.parenthesis,l&&l.implicit)&&(m="\\left(".concat(m,"\\right)")),u+d+"="+m}}return hr(s,"name",X0),s},{isClass:!0,isNode:!0});var K0="BlockNode",Tue=["ResultSet","Node"],aS=N(K0,Tue,r=>{var{ResultSet:e,Node:t}=r;class i extends t{constructor(o){if(super(),!Array.isArray(o))throw new Error("Array expected");this.blocks=o.map(function(a){var s=a&&a.node,c=a&&a.visible!==void 0?a.visible:!0;if(!Vt(s))throw new TypeError('Property "node" must be a Node');if(typeof c!="boolean")throw new TypeError('Property "visible" must be a boolean');return{node:s,visible:c}})}get type(){return K0}get isBlockNode(){return!0}_compile(o,a){var s=Lo(this.blocks,function(c){return{evaluate:c.node._compile(o,a),visible:c.visible}});return function(l,u,d){var m=[];return _0(s,function(f){var p=f.evaluate(l,u,d);f.visible&&m.push(p)}),new e(m)}}forEach(o){for(var a=0;a<this.blocks.length;a++)o(this.blocks[a].node,"blocks["+a+"].node",this)}map(o){for(var a=[],s=0;s<this.blocks.length;s++){var c=this.blocks[s],l=this._ifNode(o(c.node,"blocks["+s+"].node",this));a[s]={node:l,visible:c.visible}}return new i(a)}clone(){var o=this.blocks.map(function(a){return{node:a.node,visible:a.visible}});return new i(o)}_toString(o){return this.blocks.map(function(a){return a.node.toString(o)+(a.visible?"":";")}).join(`
`)}toJSON(){return{mathjs:K0,blocks:this.blocks}}static fromJSON(o){return new i(o.blocks)}_toHTML(o){return this.blocks.map(function(a){return a.node.toHTML(o)+(a.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(o){return this.blocks.map(function(a){return a.node.toTex(o)+(a.visible?"":";")}).join(`\\;\\;
`)}}return hr(i,"name",K0),i},{isClass:!0,isNode:!0});var Q0="ConditionalNode",Iue=["Node"],sS=N(Q0,Iue,r=>{var{Node:e}=r;function t(n){if(typeof n=="number"||typeof n=="boolean"||typeof n=="string")return!!n;if(n){if(tt(n))return!n.isZero();if(Bn(n))return!!(n.re||n.im);if(nn(n))return!!n.value}if(n==null)return!1;throw new TypeError('Unsupported type of condition "'+Ht(n)+'"')}class i extends e{constructor(o,a,s){if(super(),!Vt(o))throw new TypeError("Parameter condition must be a Node");if(!Vt(a))throw new TypeError("Parameter trueExpr must be a Node");if(!Vt(s))throw new TypeError("Parameter falseExpr must be a Node");this.condition=o,this.trueExpr=a,this.falseExpr=s}get type(){return Q0}get isConditionalNode(){return!0}_compile(o,a){var s=this.condition._compile(o,a),c=this.trueExpr._compile(o,a),l=this.falseExpr._compile(o,a);return function(d,m,h){return t(s(d,m,h))?c(d,m,h):l(d,m,h)}}forEach(o){o(this.condition,"condition",this),o(this.trueExpr,"trueExpr",this),o(this.falseExpr,"falseExpr",this)}map(o){return new i(this._ifNode(o(this.condition,"condition",this)),this._ifNode(o(this.trueExpr,"trueExpr",this)),this._ifNode(o(this.falseExpr,"falseExpr",this)))}clone(){return new i(this.condition,this.trueExpr,this.falseExpr)}_toString(o){var a=o&&o.parenthesis?o.parenthesis:"keep",s=pr(this,a,o&&o.implicit),c=this.condition.toString(o),l=pr(this.condition,a,o&&o.implicit);(a==="all"||this.condition.type==="OperatorNode"||l!==null&&l<=s)&&(c="("+c+")");var u=this.trueExpr.toString(o),d=pr(this.trueExpr,a,o&&o.implicit);(a==="all"||this.trueExpr.type==="OperatorNode"||d!==null&&d<=s)&&(u="("+u+")");var m=this.falseExpr.toString(o),h=pr(this.falseExpr,a,o&&o.implicit);return(a==="all"||this.falseExpr.type==="OperatorNode"||h!==null&&h<=s)&&(m="("+m+")"),c+" ? "+u+" : "+m}toJSON(){return{mathjs:Q0,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(o){return new i(o.condition,o.trueExpr,o.falseExpr)}_toHTML(o){var a=o&&o.parenthesis?o.parenthesis:"keep",s=pr(this,a,o&&o.implicit),c=this.condition.toHTML(o),l=pr(this.condition,a,o&&o.implicit);(a==="all"||this.condition.type==="OperatorNode"||l!==null&&l<=s)&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>');var u=this.trueExpr.toHTML(o),d=pr(this.trueExpr,a,o&&o.implicit);(a==="all"||this.trueExpr.type==="OperatorNode"||d!==null&&d<=s)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>');var m=this.falseExpr.toHTML(o),h=pr(this.falseExpr,a,o&&o.implicit);return(a==="all"||this.falseExpr.type==="OperatorNode"||h!==null&&h<=s)&&(m='<span class="math-parenthesis math-round-parenthesis">(</span>'+m+'<span class="math-parenthesis math-round-parenthesis">)</span>'),c+'<span class="math-operator math-conditional-operator">?</span>'+u+'<span class="math-operator math-conditional-operator">:</span>'+m}_toTex(o){return"\\begin{cases} {"+this.trueExpr.toTex(o)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(o)+"}\\\\{"+this.falseExpr.toTex(o)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return hr(i,"name",Q0),i},{isClass:!0,isNode:!0});var Pz=zu(Fz(),1);var lS={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},ur={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},uS={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(ur.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(ur.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(ur.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(ur.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(ur.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(ur.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(ur.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(ur.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(ur.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(ur.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(ur.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(ur.bitAnd,"${args[1]}\\right)")},bitNot:{1:ur.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(ur.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(ur.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(ur.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(ur.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(ur.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(ur.and,"${args[1]}\\right)")},not:{1:ur.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(ur.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(ur.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(ur.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(ur.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(ur.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(ur.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(ur.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(ur.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(ur.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(ur.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(ur.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(ur.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(ur.to,"${args[1]}\\right)")},numeric:function(e,t){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},bigint:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(lS.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},Bz="\\mathrm{${name}}\\left(${args}\\right)",Oz={deg:"^\\circ"};function Y0(r){return(0,Pz.default)(r,{preserveFormatting:!0})}function Z0(r,e){return e=typeof e>"u"?!1:e,e?Ke(Oz,r)?Oz[r]:"\\mathrm{"+Y0(r)+"}":Ke(lS,r)?lS[r]:Y0(r)}var J0="ConstantNode",Rue=["Node"],dS=N(J0,Rue,r=>{var{Node:e}=r;class t extends e{constructor(n){super(),this.value=n}get type(){return J0}get isConstantNode(){return!0}_compile(n,o){var a=this.value;return function(){return a}}forEach(n){}map(n){return this.clone()}clone(){return new t(this.value)}_toString(n){return vt(this.value,n)}_toHTML(n){var o=this._toString(n);switch(Ht(this.value)){case"number":case"bigint":case"BigNumber":case"Fraction":return'<span class="math-number">'+o+"</span>";case"string":return'<span class="math-string">'+o+"</span>";case"boolean":return'<span class="math-boolean">'+o+"</span>";case"null":return'<span class="math-null-symbol">'+o+"</span>";case"undefined":return'<span class="math-undefined">'+o+"</span>";default:return'<span class="math-symbol">'+o+"</span>"}}toJSON(){return{mathjs:J0,value:this.value}}static fromJSON(n){return new t(n.value)}_toTex(n){var o=this._toString(n),a=Ht(this.value);switch(a){case"string":return"\\mathtt{"+Y0(o)+"}";case"number":case"BigNumber":{var s=a==="BigNumber"?this.value.isFinite():isFinite(this.value);if(!s)return this.value.valueOf()<0?"-\\infty":"\\infty";var c=o.toLowerCase().indexOf("e");return c!==-1?o.substring(0,c)+"\\cdot10^{"+o.substring(c+1)+"}":o}case"bigint":return o.toString();case"Fraction":return this.value.toLatex();default:return o}}}return hr(t,"name",J0),t},{isClass:!0,isNode:!0});var ey="FunctionAssignmentNode",Fue=["typed","Node"],mS=N(ey,Fue,r=>{var{typed:e,Node:t}=r;function i(o,a,s){var c=pr(o,a,s),l=pr(o.expr,a,s);return a==="all"||l!==null&&l<=c}class n extends t{constructor(a,s,c){if(super(),typeof a!="string")throw new TypeError('String expected for parameter "name"');if(!Array.isArray(s))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!Vt(c))throw new TypeError('Node expected for parameter "expr"');if(q0.has(a))throw new Error('Illegal function name, "'+a+'" is a reserved keyword');var l=new Set;for(var u of s){var d=typeof u=="string"?u:u.name;if(l.has(d))throw new Error('Duplicate parameter name "'.concat(d,'"'));l.add(d)}this.name=a,this.params=s.map(function(m){return m&&m.name||m}),this.types=s.map(function(m){return m&&m.type||"any"}),this.expr=c}get type(){return ey}get isFunctionAssignmentNode(){return!0}_compile(a,s){var c=Object.create(s);_0(this.params,function(f){c[f]=!0});var l=this.expr._compile(a,c),u=this.name,d=this.params,m=X1(this.types,","),h=u+"("+X1(this.params,", ")+")";return function(p,w,C){var T={};T[m]=function(){for(var _=Object.create(w),v=0;v<d.length;v++)_[d[v]]=arguments[v];return l(p,_,C)};var g=e(u,T);return g.syntax=h,p.set(u,g),g}}forEach(a){a(this.expr,"expr",this)}map(a){var s=this._ifNode(a(this.expr,"expr",this));return new n(this.name,this.params.slice(0),s)}clone(){return new n(this.name,this.params.slice(0),this.expr)}_toString(a){var s=a&&a.parenthesis?a.parenthesis:"keep",c=this.expr.toString(a);return i(this,s,a&&a.implicit)&&(c="("+c+")"),this.name+"("+this.params.join(", ")+") = "+c}toJSON(){var a=this.types;return{mathjs:ey,name:this.name,params:this.params.map(function(s,c){return{name:s,type:a[c]}}),expr:this.expr}}static fromJSON(a){return new n(a.name,a.params,a.expr)}_toHTML(a){for(var s=a&&a.parenthesis?a.parenthesis:"keep",c=[],l=0;l<this.params.length;l++)c.push('<span class="math-symbol math-parameter">'+$i(this.params[l])+"</span>");var u=this.expr.toHTML(a);return i(this,s,a&&a.implicit)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+$i(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+c.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+u}_toTex(a){var s=a&&a.parenthesis?a.parenthesis:"keep",c=this.expr.toTex(a);return i(this,s,a&&a.implicit)&&(c="\\left(".concat(c,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(Z0).join(",")+"\\right)="+c}}return hr(n,"name",ey),n},{isClass:!0,isNode:!0});var ty="IndexNode",Oue=["Node","size"],hS=N(ty,Oue,r=>{var{Node:e,size:t}=r;class i extends e{constructor(o,a){if(super(),this.dimensions=o,this.dotNotation=a||!1,!Array.isArray(o)||!o.every(Vt))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return ty}get isIndexNode(){return!0}_compile(o,a){var s=Lo(this.dimensions,function(l,u){var d=l.filter(f=>f.isSymbolNode&&f.name==="end").length>0;if(d){var m=Object.create(a);m.end=!0;var h=l._compile(o,m);return function(p,w,C){if(!He(C)&&!tr(C)&&!ni(C))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+Ht(C));var T=t(C).valueOf(),g=Object.create(w);return g.end=T[u],h(p,g,C)}}else return l._compile(o,a)}),c=Gr(o,"index");return function(u,d,m){var h=Lo(s,function(f){return f(u,d,m)});return c(...h)}}forEach(o){for(var a=0;a<this.dimensions.length;a++)o(this.dimensions[a],"dimensions["+a+"]",this)}map(o){for(var a=[],s=0;s<this.dimensions.length;s++)a[s]=this._ifNode(o(this.dimensions[s],"dimensions["+s+"]",this));return new i(a,this.dotNotation)}clone(){return new i(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return this.dimensions.length===1&&Ot(this.dimensions[0])&&typeof this.dimensions[0].value=="string"}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(o){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:ty,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(o){return new i(o.dimensions,o.dotNotation)}_toHTML(o){for(var a=[],s=0;s<this.dimensions.length;s++)a[s]=this.dimensions[s].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+$i(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(o){var a=this.dimensions.map(function(s){return s.toTex(o)});return this.dotNotation?"."+this.getObjectProperty():"_{"+a.join(",")+"}"}}return hr(i,"name",ty),i},{isClass:!0,isNode:!0});var ry="ObjectNode",Pue=["Node"],fS=N(ry,Pue,r=>{var{Node:e}=r;class t extends e{constructor(n){if(super(),this.properties=n||{},n&&(typeof n!="object"||!Object.keys(n).every(function(o){return Vt(n[o])})))throw new TypeError("Object containing Nodes expected")}get type(){return ry}get isObjectNode(){return!0}_compile(n,o){var a={};for(var s in this.properties)if(Ke(this.properties,s)){var c=Pl(s),l=JSON.parse(c),u=Gr(this.properties,s);a[l]=u._compile(n,o)}return function(m,h,f){var p={};for(var w in a)Ke(a,w)&&(p[w]=a[w](m,h,f));return p}}forEach(n){for(var o in this.properties)Ke(this.properties,o)&&n(this.properties[o],"properties["+Pl(o)+"]",this)}map(n){var o={};for(var a in this.properties)Ke(this.properties,a)&&(o[a]=this._ifNode(n(this.properties[a],"properties["+Pl(a)+"]",this)));return new t(o)}clone(){var n={};for(var o in this.properties)Ke(this.properties,o)&&(n[o]=this.properties[o]);return new t(n)}_toString(n){var o=[];for(var a in this.properties)Ke(this.properties,a)&&o.push(Pl(a)+": "+this.properties[a].toString(n));return"{"+o.join(", ")+"}"}toJSON(){return{mathjs:ry,properties:this.properties}}static fromJSON(n){return new t(n.properties)}_toHTML(n){var o=[];for(var a in this.properties)Ke(this.properties,a)&&o.push('<span class="math-symbol math-property">'+$i(a)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[a].toHTML(n));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+o.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(n){var o=[];for(var a in this.properties)Ke(this.properties,a)&&o.push("\\mathbf{"+a+":} & "+this.properties[a].toTex(n)+"\\\\");var s="\\left\\{\\begin{array}{ll}"+o.join(`
`)+"\\end{array}\\right\\}";return s}}return hr(t,"name",ry),t},{isClass:!0,isNode:!0});function $l(r,e){return new yd(r,new lc(e),new Set(Object.keys(e)))}var iy="OperatorNode",Bue=["Node"],pS=N(iy,Bue,r=>{var{Node:e}=r;function t(o,a){var s=o;if(a==="auto")for(;an(s);)s=s.content;return Ot(s)?!0:Lr(s)?t(s.args[0],a):!1}function i(o,a,s,c,l){var u=pr(o,a,s),d=Vd(o,a);if(a==="all"||c.length>2&&o.getIdentifier()!=="OperatorNode:add"&&o.getIdentifier()!=="OperatorNode:multiply")return c.map(function(D){switch(D.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});var m;switch(c.length){case 0:m=[];break;case 1:{var h=pr(c[0],a,s,o);if(l&&h!==null){var f,p;if(a==="keep"?(f=c[0].getIdentifier(),p=o.getIdentifier()):(f=c[0].getContent().getIdentifier(),p=o.getContent().getIdentifier()),jo[u][p].latexLeftParens===!1){m=[!1];break}if(jo[h][f].latexParens===!1){m=[!1];break}}if(h===null){m=[!1];break}if(h<=u){m=[!0];break}m=[!1]}break;case 2:{var w,C=pr(c[0],a,s,o),T=W0(o,c[0],a);C===null?w=!1:C===u&&d==="right"&&!T||C<u?w=!0:w=!1;var g,_=pr(c[1],a,s,o),v=W0(o,c[1],a);if(_===null?g=!1:_===u&&d==="left"&&!v||_<u?g=!0:g=!1,l){var y,A,b;a==="keep"?(y=o.getIdentifier(),A=o.args[0].getIdentifier(),b=o.args[1].getIdentifier()):(y=o.getContent().getIdentifier(),A=o.args[0].getContent().getIdentifier(),b=o.args[1].getContent().getIdentifier()),C!==null&&(jo[u][y].latexLeftParens===!1&&(w=!1),jo[C][A].latexParens===!1&&(w=!1)),_!==null&&(jo[u][y].latexRightParens===!1&&(g=!1),jo[_][b].latexParens===!1&&(g=!1))}m=[w,g]}break;default:(o.getIdentifier()==="OperatorNode:add"||o.getIdentifier()==="OperatorNode:multiply")&&(m=c.map(function(D){var S=pr(D,a,s,o),I=W0(o,D,a),M=Vd(D,a);return S===null?!1:u===S&&d===M&&!I?!0:S<u}));break}if(c.length>=2&&o.getIdentifier()==="OperatorNode:multiply"&&o.implicit&&a!=="all"&&s==="hide")for(var E=1;E<m.length;++E)t(c[E],a)&&!m[E-1]&&(a!=="keep"||!an(c[E-1]))&&(m[E]=!0);return m}class n extends e{constructor(a,s,c,l,u){if(super(),typeof a!="string")throw new TypeError('string expected for parameter "op"');if(typeof s!="string")throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(c)||!c.every(Vt))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=l===!0,this.isPercentage=u===!0,this.op=a,this.fn=s,this.args=c||[]}get type(){return iy}get isOperatorNode(){return!0}_compile(a,s){if(typeof this.fn!="string"||!Jv(a,this.fn))throw a[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var c=Gr(a,this.fn),l=Lo(this.args,function(f){return f._compile(a,s)});if(typeof c=="function"&&c.rawArgs===!0){var u=this.args;return function(p,w,C){return c(u,a,$l(p,w))}}else if(l.length===1){var d=l[0];return function(p,w,C){return c(d(p,w,C))}}else if(l.length===2){var m=l[0],h=l[1];return function(p,w,C){return c(m(p,w,C),h(p,w,C))}}else return function(p,w,C){return c.apply(null,Lo(l,function(T){return T(p,w,C)}))}}forEach(a){for(var s=0;s<this.args.length;s++)a(this.args[s],"args["+s+"]",this)}map(a){for(var s=[],c=0;c<this.args.length;c++)s[c]=this._ifNode(a(this.args[c],"args["+c+"]",this));return new n(this.op,this.fn,s,this.implicit,this.isPercentage)}clone(){return new n(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return this.args.length===1}isBinary(){return this.args.length===2}_toString(a){var s=a&&a.parenthesis?a.parenthesis:"keep",c=a&&a.implicit?a.implicit:"hide",l=this.args,u=i(this,s,c,l,!1);if(l.length===1){var d=Vd(this,s),m=l[0].toString(a);u[0]&&(m="("+m+")");var h=/[a-zA-Z]+/.test(this.op);return d==="right"?this.op+(h?" ":"")+m:d==="left"?m+(h?" ":"")+this.op:m+this.op}else if(l.length===2){var f=l[0].toString(a),p=l[1].toString(a);return u[0]&&(f="("+f+")"),u[1]&&(p="("+p+")"),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&c==="hide"?f+" "+p:f+" "+this.op+" "+p}else if(l.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var w=l.map(function(C,T){return C=C.toString(a),u[T]&&(C="("+C+")"),C});return this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&c==="hide"?w.join(" "):w.join(" "+this.op+" ")}else return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:iy,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(a){return new n(a.op,a.fn,a.args,a.implicit,a.isPercentage)}_toHTML(a){var s=a&&a.parenthesis?a.parenthesis:"keep",c=a&&a.implicit?a.implicit:"hide",l=this.args,u=i(this,s,c,l,!1);if(l.length===1){var d=Vd(this,s),m=l[0].toHTML(a);return u[0]&&(m='<span class="math-parenthesis math-round-parenthesis">(</span>'+m+'<span class="math-parenthesis math-round-parenthesis">)</span>'),d==="right"?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+$i(this.op)+"</span>"+m:m+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+$i(this.op)+"</span>"}else if(l.length===2){var h=l[0].toHTML(a),f=l[1].toHTML(a);return u[0]&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u[1]&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&c==="hide"?h+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+f:h+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+$i(this.op)+"</span>"+f}else{var p=l.map(function(w,C){return w=w.toHTML(a),u[C]&&(w='<span class="math-parenthesis math-round-parenthesis">(</span>'+w+'<span class="math-parenthesis math-round-parenthesis">)</span>'),w});return l.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")?this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&c==="hide"?p.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):p.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+$i(this.op)+"</span>"):'<span class="math-function">'+$i(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+p.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}}_toTex(a){var s=a&&a.parenthesis?a.parenthesis:"keep",c=a&&a.implicit?a.implicit:"hide",l=this.args,u=i(this,s,c,l,!0),d=ur[this.fn];if(d=typeof d>"u"?this.op:d,l.length===1){var m=Vd(this,s),h=l[0].toTex(a);return u[0]&&(h="\\left(".concat(h,"\\right)")),m==="right"?d+h:h+d}else if(l.length===2){var f=l[0],p=f.toTex(a);u[0]&&(p="\\left(".concat(p,"\\right)"));var w=l[1],C=w.toTex(a);u[1]&&(C="\\left(".concat(C,"\\right)"));var T;switch(s==="keep"?T=f.getIdentifier():T=f.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return d+"{"+p+"}{"+C+"}";case"OperatorNode:pow":switch(p="{"+p+"}",C="{"+C+"}",T){case"ConditionalNode":case"OperatorNode:divide":p="\\left(".concat(p,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&c==="hide")return p+"~"+C}return p+d+C}else if(l.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var g=l.map(function(_,v){return _=_.toTex(a),u[v]&&(_="\\left(".concat(_,"\\right)")),_});return this.getIdentifier()==="OperatorNode:multiply"&&this.implicit&&c==="hide"?g.join("~"):g.join(d)}else return"\\mathrm{"+this.fn+"}\\left("+l.map(function(_){return _.toTex(a)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return hr(n,"name",iy),n},{isClass:!0,isNode:!0});var ny="ParenthesisNode",Lue=["Node"],gS=N(ny,Lue,r=>{var{Node:e}=r;class t extends e{constructor(n){if(super(),!Vt(n))throw new TypeError('Node expected for parameter "content"');this.content=n}get type(){return ny}get isParenthesisNode(){return!0}_compile(n,o){return this.content._compile(n,o)}getContent(){return this.content.getContent()}forEach(n){n(this.content,"content",this)}map(n){var o=n(this.content,"content",this);return new t(o)}clone(){return new t(this.content)}_toString(n){return!n||n&&!n.parenthesis||n&&n.parenthesis==="keep"?"("+this.content.toString(n)+")":this.content.toString(n)}toJSON(){return{mathjs:ny,content:this.content}}static fromJSON(n){return new t(n.content)}_toHTML(n){return!n||n&&!n.parenthesis||n&&n.parenthesis==="keep"?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(n)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(n)}_toTex(n){return!n||n&&!n.parenthesis||n&&n.parenthesis==="keep"?"\\left(".concat(this.content.toTex(n),"\\right)"):this.content.toTex(n)}}return hr(t,"name",ny),t},{isClass:!0,isNode:!0});var oy="RangeNode",Vue=["Node"],vS=N(oy,Vue,r=>{var{Node:e}=r;function t(n,o,a){var s=pr(n,o,a),c={},l=pr(n.start,o,a);if(c.start=l!==null&&l<=s||o==="all",n.step){var u=pr(n.step,o,a);c.step=u!==null&&u<=s||o==="all"}var d=pr(n.end,o,a);return c.end=d!==null&&d<=s||o==="all",c}class i extends e{constructor(o,a,s){if(super(),!Vt(o))throw new TypeError("Node expected");if(!Vt(a))throw new TypeError("Node expected");if(s&&!Vt(s))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=o,this.end=a,this.step=s||null}get type(){return oy}get isRangeNode(){return!0}needsEnd(){var o=this.filter(function(a){return Mr(a)&&a.name==="end"});return o.length>0}_compile(o,a){var s=o.range,c=this.start._compile(o,a),l=this.end._compile(o,a);if(this.step){var u=this.step._compile(o,a);return function(m,h,f){return s(c(m,h,f),l(m,h,f),u(m,h,f))}}else return function(m,h,f){return s(c(m,h,f),l(m,h,f))}}forEach(o){o(this.start,"start",this),o(this.end,"end",this),this.step&&o(this.step,"step",this)}map(o){return new i(this._ifNode(o(this.start,"start",this)),this._ifNode(o(this.end,"end",this)),this.step&&this._ifNode(o(this.step,"step",this)))}clone(){return new i(this.start,this.end,this.step&&this.step)}_toString(o){var a=o&&o.parenthesis?o.parenthesis:"keep",s=t(this,a,o&&o.implicit),c,l=this.start.toString(o);if(s.start&&(l="("+l+")"),c=l,this.step){var u=this.step.toString(o);s.step&&(u="("+u+")"),c+=":"+u}var d=this.end.toString(o);return s.end&&(d="("+d+")"),c+=":"+d,c}toJSON(){return{mathjs:oy,start:this.start,end:this.end,step:this.step}}static fromJSON(o){return new i(o.start,o.end,o.step)}_toHTML(o){var a=o&&o.parenthesis?o.parenthesis:"keep",s=t(this,a,o&&o.implicit),c,l=this.start.toHTML(o);if(s.start&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),c=l,this.step){var u=this.step.toHTML(o);s.step&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),c+='<span class="math-operator math-range-operator">:</span>'+u}var d=this.end.toHTML(o);return s.end&&(d='<span class="math-parenthesis math-round-parenthesis">(</span>'+d+'<span class="math-parenthesis math-round-parenthesis">)</span>'),c+='<span class="math-operator math-range-operator">:</span>'+d,c}_toTex(o){var a=o&&o.parenthesis?o.parenthesis:"keep",s=t(this,a,o&&o.implicit),c=this.start.toTex(o);if(s.start&&(c="\\left(".concat(c,"\\right)")),this.step){var l=this.step.toTex(o);s.step&&(l="\\left(".concat(l,"\\right)")),c+=":"+l}var u=this.end.toTex(o);return s.end&&(u="\\left(".concat(u,"\\right)")),c+=":"+u,c}}return hr(i,"name",oy),i},{isClass:!0,isNode:!0});var ay="RelationalNode",zue=["Node"],yS=N(ay,zue,r=>{var{Node:e}=r,t={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class i extends e{constructor(o,a){if(super(),!Array.isArray(o))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(a))throw new TypeError("Parameter params must be an array");if(o.length!==a.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=o,this.params=a}get type(){return ay}get isRelationalNode(){return!0}_compile(o,a){var s=this,c=this.params.map(l=>l._compile(o,a));return function(u,d,m){for(var h,f=c[0](u,d,m),p=0;p<s.conditionals.length;p++){h=f,f=c[p+1](u,d,m);var w=Gr(o,s.conditionals[p]);if(!w(h,f))return!1}return!0}}forEach(o){this.params.forEach((a,s)=>o(a,"params["+s+"]",this),this)}map(o){return new i(this.conditionals.slice(),this.params.map((a,s)=>this._ifNode(o(a,"params["+s+"]",this)),this))}clone(){return new i(this.conditionals,this.params)}_toString(o){for(var a=o&&o.parenthesis?o.parenthesis:"keep",s=pr(this,a,o&&o.implicit),c=this.params.map(function(d,m){var h=pr(d,a,o&&o.implicit);return a==="all"||h!==null&&h<=s?"("+d.toString(o)+")":d.toString(o)}),l=c[0],u=0;u<this.conditionals.length;u++)l+=" "+t[this.conditionals[u]],l+=" "+c[u+1];return l}toJSON(){return{mathjs:ay,conditionals:this.conditionals,params:this.params}}static fromJSON(o){return new i(o.conditionals,o.params)}_toHTML(o){for(var a=o&&o.parenthesis?o.parenthesis:"keep",s=pr(this,a,o&&o.implicit),c=this.params.map(function(d,m){var h=pr(d,a,o&&o.implicit);return a==="all"||h!==null&&h<=s?'<span class="math-parenthesis math-round-parenthesis">(</span>'+d.toHTML(o)+'<span class="math-parenthesis math-round-parenthesis">)</span>':d.toHTML(o)}),l=c[0],u=0;u<this.conditionals.length;u++)l+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+$i(t[this.conditionals[u]])+"</span>"+c[u+1];return l}_toTex(o){for(var a=o&&o.parenthesis?o.parenthesis:"keep",s=pr(this,a,o&&o.implicit),c=this.params.map(function(d,m){var h=pr(d,a,o&&o.implicit);return a==="all"||h!==null&&h<=s?"\\left("+d.toTex(o)+"\right)":d.toTex(o)}),l=c[0],u=0;u<this.conditionals.length;u++)l+=ur[this.conditionals[u]]+c[u+1];return l}}return hr(i,"name",ay),i},{isClass:!0,isNode:!0});var Uue="SymbolNode",que=["math","?Unit","Node"],bS=N(Uue,que,r=>{var{math:e,Unit:t,Node:i}=r;function n(a){return t?t.isValuelessUnit(a):!1}class o extends i{constructor(s){if(super(),typeof s!="string")throw new TypeError('String expected for parameter "name"');this.name=s}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(s,c){var l=this.name;if(c[l]===!0)return function(d,m,h){return Gr(m,l)};if(l in s)return function(d,m,h){return d.has(l)?d.get(l):Gr(s,l)};var u=n(l);return function(d,m,h){return d.has(l)?d.get(l):u?new t(null,l):o.onUndefinedSymbol(l)}}forEach(s){}map(s){return this.clone()}static onUndefinedSymbol(s){throw new Error("Undefined symbol "+s)}clone(){return new o(this.name)}_toString(s){return this.name}_toHTML(s){var c=$i(this.name);return c==="true"||c==="false"?'<span class="math-symbol math-boolean">'+c+"</span>":c==="i"?'<span class="math-symbol math-imaginary-symbol">'+c+"</span>":c==="Infinity"?'<span class="math-symbol math-infinity-symbol">'+c+"</span>":c==="NaN"?'<span class="math-symbol math-nan-symbol">'+c+"</span>":c==="null"?'<span class="math-symbol math-null-symbol">'+c+"</span>":c==="undefined"?'<span class="math-symbol math-undefined-symbol">'+c+"</span>":'<span class="math-symbol">'+c+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(s){return new o(s.name)}_toTex(s){var c=!1;typeof e[this.name]>"u"&&n(this.name)&&(c=!0);var l=Z0(this.name,c);return l[0]==="\\"?l:" "+l}}return o},{isClass:!0,isNode:!0});var sy="FunctionNode",jue=["math","Node","SymbolNode"],_S=N(sy,jue,r=>{var e,{math:t,Node:i,SymbolNode:n}=r,o=c=>vt(c,{truncate:78});function a(c,l,u){for(var d="",m=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,h=0,f;(f=m.exec(c))!==null;)if(d+=c.substring(h,f.index),h=f.index,f[0]==="$$")d+="$",h++;else{h+=f[0].length;var p=l[f[1]];if(!p)throw new ReferenceError("Template: Property "+f[1]+" does not exist.");if(f[2]===void 0)switch(typeof p){case"string":d+=p;break;case"object":if(Vt(p))d+=p.toTex(u);else if(Array.isArray(p))d+=p.map(function(w,C){if(Vt(w))return w.toTex(u);throw new TypeError("Template: "+f[1]+"["+C+"] is not a Node.")}).join(",");else throw new TypeError("Template: "+f[1]+" has to be a Node, String or array of Nodes");break;default:throw new TypeError("Template: "+f[1]+" has to be a Node, String or array of Nodes")}else if(Vt(p[f[2]]&&p[f[2]]))d+=p[f[2]].toTex(u);else throw new TypeError("Template: "+f[1]+"["+f[2]+"] is not a Node.")}return d+=c.slice(h),d}class s extends i{constructor(l,u){if(super(),typeof l=="string"&&(l=new n(l)),!Vt(l))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(u)||!u.every(Vt))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=l,this.args=u||[]}get name(){return this.fn.name||""}get type(){return sy}get isFunctionNode(){return!0}_compile(l,u){var d=this.args.map(b=>b._compile(l,u));if(Mr(this.fn)){var m=this.fn.name;if(u[m]){var C=this.args;return function(E,D,S){var I=Gr(D,m);if(typeof I!="function")throw new TypeError("Argument '".concat(m,"' was not a function; received: ").concat(o(I)));if(I.rawArgs)return I(C,l,$l(E,D));var M=d.map(q=>q(E,D,S));return I.apply(I,M)}}else{var h=m in l?Gr(l,m):void 0,f=typeof h=="function"&&h.rawArgs===!0,p=b=>{var E;if(b.has(m))E=b.get(m);else if(m in l)E=Gr(l,m);else return s.onUndefinedFunction(m);if(typeof E=="function")return E;throw new TypeError("'".concat(m,`' is not a function; its value is:
  `).concat(o(E)))};if(f){var w=this.args;return function(E,D,S){var I=p(E);if(I.rawArgs===!0)return I(w,l,$l(E,D));var M=d.map(q=>q(E,D,S));return I(...M)}}else switch(d.length){case 0:return function(E,D,S){var I=p(E);return I()};case 1:return function(E,D,S){var I=p(E),M=d[0];return I(M(E,D,S))};case 2:return function(E,D,S){var I=p(E),M=d[0],q=d[1];return I(M(E,D,S),q(E,D,S))};default:return function(E,D,S){var I=p(E),M=d.map(q=>q(E,D,S));return I(...M)}}}}else if(ho(this.fn)&&Oo(this.fn.index)&&this.fn.index.isObjectProperty()){var T=this.fn.object._compile(l,u),g=this.fn.index.getObjectProperty(),_=this.args;return function(E,D,S){var I=T(E,D,S),M=lL(I,g);if(M!=null&&M.rawArgs)return M(_,l,$l(E,D));var q=d.map(U=>U(E,D,S));return M.apply(I,q)}}else{var v=this.fn.toString(),y=this.fn._compile(l,u),A=this.args;return function(E,D,S){var I=y(E,D,S);if(typeof I!="function")throw new TypeError("Expression '".concat(v,"' did not evaluate to a function; value is:")+`
  `.concat(o(I)));if(I.rawArgs)return I(A,l,$l(E,D));var M=d.map(q=>q(E,D,S));return I.apply(I,M)}}}forEach(l){l(this.fn,"fn",this);for(var u=0;u<this.args.length;u++)l(this.args[u],"args["+u+"]",this)}map(l){for(var u=this._ifNode(l(this.fn,"fn",this)),d=[],m=0;m<this.args.length;m++)d[m]=this._ifNode(l(this.args[m],"args["+m+"]",this));return new s(u,d)}clone(){return new s(this.fn,this.args.slice(0))}toString(l){var u,d=this.fn.toString(l);return l&&typeof l.handler=="object"&&Ke(l.handler,d)&&(u=l.handler[d](this,l)),typeof u<"u"?u:super.toString(l)}_toString(l){var u=this.args.map(function(m){return m.toString(l)}),d=Ma(this.fn)?"("+this.fn.toString(l)+")":this.fn.toString(l);return d+"("+u.join(", ")+")"}toJSON(){return{mathjs:sy,fn:this.fn,args:this.args}}_toHTML(l){var u=this.args.map(function(d){return d.toHTML(l)});return'<span class="math-function">'+$i(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+u.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(l){var u;return l&&typeof l.handler=="object"&&Ke(l.handler,this.name)&&(u=l.handler[this.name](this,l)),typeof u<"u"?u:super.toTex(l)}_toTex(l){var u=this.args.map(function(h){return h.toTex(l)}),d;uS[this.name]&&(d=uS[this.name]),t[this.name]&&(typeof t[this.name].toTex=="function"||typeof t[this.name].toTex=="object"||typeof t[this.name].toTex=="string")&&(d=t[this.name].toTex);var m;switch(typeof d){case"function":m=d(this,l);break;case"string":m=a(d,this,l);break;case"object":switch(typeof d[u.length]){case"function":m=d[u.length](this,l);break;case"string":m=a(d[u.length],this,l);break}}return typeof m<"u"?m:a(Bz,this,l)}getIdentifier(){return this.type+":"+this.name}}return e=s,hr(s,"name",sy),hr(s,"onUndefinedFunction",function(c){throw new Error("Undefined function "+c)}),hr(s,"fromJSON",function(c){return new e(c.fn,c.args)}),s},{isClass:!0,isNode:!0});var Lz="parse",$ue=["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],xS=N(Lz,$ue,r=>{var{typed:e,numeric:t,config:i,AccessorNode:n,ArrayNode:o,AssignmentNode:a,BlockNode:s,ConditionalNode:c,ConstantNode:l,FunctionAssignmentNode:u,FunctionNode:d,IndexNode:m,ObjectNode:h,OperatorNode:f,ParenthesisNode:p,RangeNode:w,RelationalNode:C,SymbolNode:T}=r,g=e(Lz,{string:function(X){return ae(X,{})},"Array | Matrix":function(X){return _(X,{})},"string, Object":function(X,te){var De=te.nodes!==void 0?te.nodes:{};return ae(X,De)},"Array | Matrix, Object":_});function _(R){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},te=X.nodes!==void 0?X.nodes:{};return Ge(R,function(De){if(typeof De!="string")throw new TypeError("String expected");return ae(De,te)})}var v={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},y={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},A={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},b={true:!0,false:!1,null:null,undefined:void 0},E=["NaN","Infinity"],D={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function S(){return{extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:v.NULL,nestingLevel:0,conditionalLevel:null}}function I(R,X){return R.expression.substr(R.index,X)}function M(R){return I(R,1)}function q(R){R.index++}function U(R){return R.expression.charAt(R.index-1)}function F(R){return R.expression.charAt(R.index+1)}function O(R){for(R.tokenType=v.NULL,R.token="",R.comment="";;){if(M(R)==="#")for(;M(R)!==`
`&&M(R)!=="";)R.comment+=M(R),q(R);if(g.isWhitespace(M(R),R.nestingLevel))q(R);else break}if(M(R)===""){R.tokenType=v.DELIMITER;return}if(M(R)===`
`&&!R.nestingLevel){R.tokenType=v.DELIMITER,R.token=M(R),q(R);return}var X=M(R),te=I(R,2),De=I(R,3);if(De.length===3&&y[De]){R.tokenType=v.DELIMITER,R.token=De,q(R),q(R),q(R);return}if(te.length===2&&y[te]){R.tokenType=v.DELIMITER,R.token=te,q(R),q(R);return}if(y[X]){R.tokenType=v.DELIMITER,R.token=X,q(R);return}if(g.isDigitDot(X)){R.tokenType=v.NUMBER;var et=I(R,2);if(et==="0b"||et==="0o"||et==="0x"){for(R.token+=M(R),q(R),R.token+=M(R),q(R);g.isHexDigit(M(R));)R.token+=M(R),q(R);if(M(R)===".")for(R.token+=".",q(R);g.isHexDigit(M(R));)R.token+=M(R),q(R);else if(M(R)==="i")for(R.token+="i",q(R);g.isDigit(M(R));)R.token+=M(R),q(R);return}if(M(R)==="."){if(R.token+=M(R),q(R),!g.isDigit(M(R))){R.tokenType=v.DELIMITER;return}}else{for(;g.isDigit(M(R));)R.token+=M(R),q(R);g.isDecimalMark(M(R),F(R))&&(R.token+=M(R),q(R))}for(;g.isDigit(M(R));)R.token+=M(R),q(R);if(M(R)==="E"||M(R)==="e"){if(g.isDigit(F(R))||F(R)==="-"||F(R)==="+"){if(R.token+=M(R),q(R),(M(R)==="+"||M(R)==="-")&&(R.token+=M(R),q(R)),!g.isDigit(M(R)))throw we(R,'Digit expected, got "'+M(R)+'"');for(;g.isDigit(M(R));)R.token+=M(R),q(R);if(g.isDecimalMark(M(R),F(R)))throw we(R,'Digit expected, got "'+M(R)+'"')}else if(F(R)===".")throw q(R),we(R,'Digit expected, got "'+M(R)+'"')}return}if(g.isAlpha(M(R),U(R),F(R))){for(;g.isAlpha(M(R),U(R),F(R))||g.isDigit(M(R));)R.token+=M(R),q(R);Ke(A,R.token)?R.tokenType=v.DELIMITER:R.tokenType=v.SYMBOL;return}for(R.tokenType=v.UNKNOWN;M(R)!=="";)R.token+=M(R),q(R);throw we(R,'Syntax error in part "'+R.token+'"')}function G(R){do O(R);while(R.token===`
`)}function B(R){R.nestingLevel++}function ee(R){R.nestingLevel--}g.isAlpha=function(X,te,De){return g.isValidLatinOrGreek(X)||g.isValidMathSymbol(X,De)||g.isValidMathSymbol(te,X)},g.isValidLatinOrGreek=function(X){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(X)},g.isValidMathSymbol=function(X,te){return/^[\uD835]$/.test(X)&&/^[\uDC00-\uDFFF]$/.test(te)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(te)},g.isWhitespace=function(X,te){return X===" "||X==="	"||X===`
`&&te>0},g.isDecimalMark=function(X,te){return X==="."&&te!=="/"&&te!=="*"&&te!=="^"},g.isDigitDot=function(X){return X>="0"&&X<="9"||X==="."},g.isDigit=function(X){return X>="0"&&X<="9"},g.isHexDigit=function(X){return X>="0"&&X<="9"||X>="a"&&X<="f"||X>="A"&&X<="F"};function ae(R,X){var te=S();Kr(te,{expression:R,extraNodes:X}),O(te);var De=J(te);if(te.token!=="")throw te.tokenType===v.DELIMITER?$e(te,"Unexpected operator "+te.token):we(te,'Unexpected part "'+te.token+'"');return De}function J(R){var X,te=[],De;for(R.token!==""&&R.token!==`
`&&R.token!==";"&&(X=H(R),R.comment&&(X.comment=R.comment));R.token===`
`||R.token===";";)te.length===0&&X&&(De=R.token!==";",te.push({node:X,visible:De})),O(R),R.token!==`
`&&R.token!==";"&&R.token!==""&&(X=H(R),R.comment&&(X.comment=R.comment),De=R.token!==";",te.push({node:X,visible:De}));return te.length>0?new s(te):(X||(X=new l(void 0),R.comment&&(X.comment=R.comment)),X)}function H(R){var X,te,De,et,ht=ce(R);if(R.token==="="){if(Mr(ht))return X=ht.name,G(R),De=H(R),new a(new T(X),De);if(ho(ht))return G(R),De=H(R),new a(ht.object,ht.index,De);if(Ln(ht)&&Mr(ht.fn)&&(et=!0,te=[],X=ht.name,ht.args.forEach(function(gr,xi){Mr(gr)?te[xi]=gr.name:et=!1}),et))return G(R),De=H(R),new u(X,te,De);throw we(R,"Invalid left hand side of assignment operator =")}return ht}function ce(R){for(var X=ye(R);R.token==="?";){var te=R.conditionalLevel;R.conditionalLevel=R.nestingLevel,G(R);var De=X,et=H(R);if(R.token!==":")throw we(R,"False part of conditional expression expected");R.conditionalLevel=null,G(R);var ht=H(R);X=new c(De,et,ht),R.conditionalLevel=te}return X}function ye(R){for(var X=V(R);R.token==="or";)G(R),X=new f("or","or",[X,V(R)]);return X}function V(R){for(var X=P(R);R.token==="xor";)G(R),X=new f("xor","xor",[X,P(R)]);return X}function P(R){for(var X=j(R);R.token==="and";)G(R),X=new f("and","and",[X,j(R)]);return X}function j(R){for(var X=z(R);R.token==="|";)G(R),X=new f("|","bitOr",[X,z(R)]);return X}function z(R){for(var X=Q(R);R.token==="^|";)G(R),X=new f("^|","bitXor",[X,Q(R)]);return X}function Q(R){for(var X=ie(R);R.token==="&";)G(R),X=new f("&","bitAnd",[X,ie(R)]);return X}function ie(R){for(var X=[re(R)],te=[],De={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};Ke(De,R.token);){var et={name:R.token,fn:De[R.token]};te.push(et),G(R),X.push(re(R))}return X.length===1?X[0]:X.length===2?new f(te[0].name,te[0].fn,X):new C(te.map(ht=>ht.fn),X)}function re(R){var X,te,De,et;X=pe(R);for(var ht={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};Ke(ht,R.token);)te=R.token,De=ht[te],G(R),et=[X,pe(R)],X=new f(te,De,et);return X}function pe(R){var X,te,De,et;X=fe(R);for(var ht={to:"to",in:"to"};Ke(ht,R.token);)te=R.token,De=ht[te],G(R),te==="in"&&R.token===""?X=new f("*","multiply",[X,new T("in")],!0):(et=[X,fe(R)],X=new f(te,De,et));return X}function fe(R){var X,te=[];if(R.token===":"?X=new l(1):X=$(R),R.token===":"&&R.conditionalLevel!==R.nestingLevel){for(te.push(X);R.token===":"&&te.length<3;)G(R),R.token===")"||R.token==="]"||R.token===","||R.token===""?te.push(new T("end")):te.push($(R));te.length===3?X=new w(te[0],te[2],te[1]):X=new w(te[0],te[1])}return X}function $(R){var X,te,De,et;X=K(R);for(var ht={"+":"add","-":"subtract"};Ke(ht,R.token);){te=R.token,De=ht[te],G(R);var gr=K(R);gr.isPercentage?et=[X,new f("*","multiply",[X,gr])]:et=[X,gr],X=new f(te,De,et)}return X}function K(R){var X,te,De,et;X=se(R),te=X;for(var ht={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};Ke(ht,R.token);)if(De=R.token,et=ht[De],G(R),De==="%"&&R.tokenType===v.DELIMITER&&R.token!=="(")if(R.token!==""&&ht[R.token]){var gr=new f("/","divide",[X,new l(100)],!1,!0);De=R.token,et=ht[De],G(R),te=se(R),X=new f(De,et,[gr,te])}else X=new f("/","divide",[X,new l(100)],!1,!0);else te=se(R),X=new f(De,et,[X,te]);return X}function se(R){var X,te;for(X=de(R),te=X;R.tokenType===v.SYMBOL||R.token==="in"&&Ot(X)||R.token==="in"&&Lr(X)&&X.fn==="unaryMinus"&&Ot(X.args[0])||R.tokenType===v.NUMBER&&!Ot(te)&&(!Lr(te)||te.op==="!")||R.token==="(";)te=de(R),X=new f("*","multiply",[X,te],!0);return X}function de(R){for(var X=Ee(R),te=X,De=[];R.token==="/"&&pf(te);)if(De.push(Kr({},R)),G(R),R.tokenType===v.NUMBER)if(De.push(Kr({},R)),G(R),R.tokenType===v.SYMBOL||R.token==="("||R.token==="in")Kr(R,De.pop()),De.pop(),te=Ee(R),X=new f("/","divide",[X,te]);else{De.pop(),Kr(R,De.pop());break}else{Kr(R,De.pop());break}return X}function Ee(R){var X,te,De,et={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return Ke(et,R.token)?(De=et[R.token],X=R.token,G(R),te=[Ee(R)],new f(X,De,te)):Se(R)}function Se(R){var X,te,De,et;return X=Be(R),(R.token==="^"||R.token===".^")&&(te=R.token,De=te==="^"?"pow":"dotPow",G(R),et=[X,Ee(R)],X=new f(te,De,et)),X}function Be(R){var X,te,De,et;X=We(R);for(var ht={"!":"factorial","'":"ctranspose"};Ke(ht,R.token);)te=R.token,De=ht[te],O(R),et=[X],X=new f(te,De,et),X=ft(R,X);return X}function We(R){var X=[];if(R.tokenType===v.SYMBOL&&Ke(R.extraNodes,R.token)){var te=R.extraNodes[R.token];if(O(R),R.token==="("){if(X=[],B(R),O(R),R.token!==")")for(X.push(H(R));R.token===",";)O(R),X.push(H(R));if(R.token!==")")throw we(R,"Parenthesis ) expected");ee(R),O(R)}return new te(X)}return Mt(R)}function Mt(R){var X,te;return R.tokenType===v.SYMBOL||R.tokenType===v.DELIMITER&&R.token in A?(te=R.token,O(R),Ke(b,te)?X=new l(b[te]):E.includes(te)?X=new l(t(te,"number")):X=new T(te),X=ft(R,X),X):sr(R)}function ft(R,X,te){for(var De;(R.token==="("||R.token==="["||R.token===".")&&(!te||te.includes(R.token));)if(De=[],R.token==="(")if(Mr(X)||ho(X)){if(B(R),O(R),R.token!==")")for(De.push(H(R));R.token===",";)O(R),De.push(H(R));if(R.token!==")")throw we(R,"Parenthesis ) expected");ee(R),O(R),X=new d(X,De)}else return X;else if(R.token==="["){if(B(R),O(R),R.token!=="]")for(De.push(H(R));R.token===",";)O(R),De.push(H(R));if(R.token!=="]")throw we(R,"Parenthesis ] expected");ee(R),O(R),X=new n(X,new m(De))}else{O(R);var et=R.tokenType===v.SYMBOL||R.tokenType===v.DELIMITER&&R.token in A;if(!et)throw we(R,"Property name expected after dot");De.push(new l(R.token)),O(R);var ht=!0;X=new n(X,new m(De,ht))}return X}function sr(R){var X,te;return R.token==='"'||R.token==="'"?(te=rr(R,R.token),X=new l(te),X=ft(R,X),X):Xt(R)}function rr(R,X){for(var te="";M(R)!==""&&M(R)!==X;)if(M(R)==="\\"){q(R);var De=M(R),et=D[De];if(et!==void 0)te+=et,R.index+=1;else if(De==="u"){var ht=R.expression.slice(R.index+1,R.index+5);if(/^[0-9A-Fa-f]{4}$/.test(ht))te+=String.fromCharCode(parseInt(ht,16)),R.index+=5;else throw we(R,"Invalid unicode character \\u".concat(ht))}else throw we(R,"Bad escape character \\".concat(De))}else te+=M(R),q(R);if(O(R),R.token!==X)throw we(R,"End of string ".concat(X," expected"));return O(R),te}function Xt(R){var X,te,De,et;if(R.token==="["){if(B(R),O(R),R.token!=="]"){var ht=cr(R);if(R.token===";"){for(De=1,te=[ht];R.token===";";)O(R),R.token!=="]"&&(te[De]=cr(R),De++);if(R.token!=="]")throw we(R,"End of matrix ] expected");ee(R),O(R),et=te[0].items.length;for(var gr=1;gr<De;gr++)if(te[gr].items.length!==et)throw $e(R,"Column dimensions mismatch ("+te[gr].items.length+" !== "+et+")");X=new o(te)}else{if(R.token!=="]")throw we(R,"End of matrix ] expected");ee(R),O(R),X=ht}}else ee(R),O(R),X=new o([]);return ft(R,X)}return Y(R)}function cr(R){for(var X=[H(R)],te=1;R.token===",";)O(R),R.token!=="]"&&R.token!==";"&&(X[te]=H(R),te++);return new o(X)}function Y(R){if(R.token==="{"){B(R);var X,te={};do if(O(R),R.token!=="}"){if(R.token==='"'||R.token==="'")X=rr(R,R.token);else if(R.tokenType===v.SYMBOL||R.tokenType===v.DELIMITER&&R.token in A)X=R.token,O(R);else throw we(R,"Symbol or string expected as object key");if(R.token!==":")throw we(R,"Colon : expected after object key");O(R),te[X]=H(R)}while(R.token===",");if(R.token!=="}")throw we(R,"Comma , or bracket } expected after object value");ee(R),O(R);var De=new h(te);return De=ft(R,De),De}return le(R)}function le(R){var X;if(R.tokenType===v.NUMBER){X=R.token,O(R);var te=_n(X,i),De=t(X,te);return new l(De)}return ge(R)}function ge(R){var X;if(R.token==="("){if(B(R),O(R),X=H(R),R.token!==")")throw we(R,"Parenthesis ) expected");return ee(R),O(R),X=new p(X),X=ft(R,X),X}return Te(R)}function Te(R){throw R.token===""?we(R,"Unexpected end of expression"):we(R,"Value expected")}function Ne(R){return R.index-R.token.length+1}function we(R,X){var te=Ne(R),De=new SyntaxError(X+" (char "+te+")");return De.char=te,De}function $e(R,X){var te=Ne(R),De=new SyntaxError(X+" (char "+te+")");return De.char=te,De}return e.addConversion({from:"string",to:"Node",convert:g}),g});var Vz="compile",Hue=["typed","parse"],wS=N(Vz,Hue,r=>{var{typed:e,parse:t}=r;return e(Vz,{string:function(n){return t(n).compile()},"Array | Matrix":function(n){return Ge(n,function(o){return t(o).compile()})}})});var zz="evaluate",Gue=["typed","parse"],ES=N(zz,Gue,r=>{var{typed:e,parse:t}=r;return e(zz,{string:function(n){var o=uc();return t(n).compile().evaluate(o)},"string, Map | Object":function(n,o){return t(n).compile().evaluate(o)},"Array | Matrix":function(n){var o=uc();return Ge(n,function(a){return t(a).compile().evaluate(o)})},"Array | Matrix, Map | Object":function(n,o){return Ge(n,function(a){return t(a).compile().evaluate(o)})}})});var Wue="Parser",Xue=["evaluate","parse"],DS=N(Wue,Xue,r=>{var{evaluate:e,parse:t}=r;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:uc(),writable:!1})}i.prototype.type="Parser",i.prototype.isParser=!0,i.prototype.evaluate=function(o){return e(o,this.scope)},i.prototype.get=function(o){if(this.scope.has(o))return this.scope.get(o)},i.prototype.getAll=function(){return dL(this.scope)},i.prototype.getAllAsMap=function(){return this.scope};function n(o){if(o.length===0)return!1;for(var a=0;a<o.length;a++){var s=o.charAt(a-1),c=o.charAt(a),l=o.charAt(a+1),u=t.isAlpha(c,s,l)||a>0&&t.isDigit(c);if(!u)return!1}return!0}return i.prototype.set=function(o,a){if(!n(o))throw new Error("Invalid variable name: '".concat(o,"'. Variable names must follow the specified rules."));return this.scope.set(o,a),a},i.prototype.remove=function(o){this.scope.delete(o)},i.prototype.clear=function(){this.scope.clear()},i},{isClass:!0});var Uz="parser",Kue=["typed","Parser"],AS=N(Uz,Kue,r=>{var{typed:e,Parser:t}=r;return e(Uz,{"":function(){return new t}})});var qz="lup",Que=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],CS=N(qz,Que,r=>{var{typed:e,matrix:t,abs:i,addScalar:n,divideScalar:o,multiplyScalar:a,subtractScalar:s,larger:c,equalScalar:l,unaryMinus:u,DenseMatrix:d,SparseMatrix:m,Spa:h}=r;return e(qz,{DenseMatrix:function(C){return f(C)},SparseMatrix:function(C){return p(C)},Array:function(C){var T=t(C),g=f(T);return{L:g.L.valueOf(),U:g.U.valueOf(),p:g.p}}});function f(w){var C=w._size[0],T=w._size[1],g=Math.min(C,T),_=at(w._data),v=[],y=[C,g],A=[],b=[g,T],E,D,S,I=[];for(E=0;E<C;E++)I[E]=E;for(D=0;D<T;D++){if(D>0)for(E=0;E<C;E++){var M=Math.min(E,D),q=0;for(S=0;S<M;S++)q=n(q,a(_[E][S],_[S][D]));_[E][D]=s(_[E][D],q)}var U=D,F=0,O=0;for(E=D;E<C;E++){var G=_[E][D],B=i(G);c(B,F)&&(U=E,F=B,O=G)}if(D!==U&&(I[D]=[I[U],I[U]=I[D]][0],d._swapRows(D,U,_)),D<C)for(E=D+1;E<C;E++){var ee=_[E][D];l(ee,0)||(_[E][D]=o(_[E][D],O))}}for(D=0;D<T;D++)for(E=0;E<C;E++){if(D===0&&(E<T&&(A[E]=[]),v[E]=[]),E<D){E<T&&(A[E][D]=_[E][D]),D<C&&(v[E][D]=0);continue}if(E===D){E<T&&(A[E][D]=_[E][D]),D<C&&(v[E][D]=1);continue}E<T&&(A[E][D]=0),D<C&&(v[E][D]=_[E][D])}var ae=new d({data:v,size:y}),J=new d({data:A,size:b}),H=[];for(E=0,g=I.length;E<g;E++)H[I[E]]=E;return{L:ae,U:J,p:H,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function p(w){var C=w._size[0],T=w._size[1],g=Math.min(C,T),_=w._values,v=w._index,y=w._ptr,A=[],b=[],E=[],D=[C,g],S=[],I=[],M=[],q=[g,T],U,F,O,G=[],B=[];for(U=0;U<C;U++)G[U]=U,B[U]=U;var ee=function(H,ce){var ye=B[H],V=B[ce];G[ye]=ce,G[V]=H,B[H]=V,B[ce]=ye},ae=function(){var H=new h;F<C&&(E.push(A.length),A.push(1),b.push(F)),M.push(S.length);var ce=y[F],ye=y[F+1];for(O=ce;O<ye;O++)U=v[O],H.set(G[U],_[O]);F>0&&H.forEach(0,F-1,function(z,Q){m._forEachRow(z,A,b,E,function(ie,re){ie>z&&H.accumulate(ie,u(a(re,Q)))})});var V=F,P=H.get(F),j=i(P);H.forEach(F+1,C-1,function(z,Q){var ie=i(Q);c(ie,j)&&(V=z,j=ie,P=Q)}),F!==V&&(m._swapRows(F,V,D[1],A,b,E),m._swapRows(F,V,q[1],S,I,M),H.swap(F,V),ee(F,V)),H.forEach(0,C-1,function(z,Q){z<=F?(S.push(Q),I.push(z)):(Q=o(Q,P),l(Q,0)||(A.push(Q),b.push(z)))})};for(F=0;F<T;F++)ae();return M.push(S.length),E.push(A.length),{L:new m({values:A,index:b,ptr:E,size:D}),U:new m({values:S,index:I,ptr:M,size:q}),p:G,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}});var jz="qr",Yue=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],SS=N(jz,Yue,r=>{var{typed:e,matrix:t,zeros:i,identity:n,isZero:o,equal:a,sign:s,sqrt:c,conj:l,unaryMinus:u,addScalar:d,divideScalar:m,multiplyScalar:h,subtractScalar:f,complex:p}=r;return Kr(e(jz,{DenseMatrix:function(_){return C(_)},SparseMatrix:function(_){return T(_)},Array:function(_){var v=t(_),y=C(v);return{Q:y.Q.valueOf(),R:y.R.valueOf()}}}),{_denseQRimpl:w});function w(g){var _=g._size[0],v=g._size[1],y=n([_],"dense"),A=y._data,b=g.clone(),E=b._data,D,S,I,M=i([_],"");for(I=0;I<Math.min(v,_);++I){var q=E[I][I],U=u(a(q,0)?1:s(q)),F=l(U),O=0;for(D=I;D<_;D++)O=d(O,h(E[D][I],l(E[D][I])));var G=h(U,c(O));if(!o(G)){var B=f(q,G);for(M[I]=1,D=I+1;D<_;D++)M[D]=m(E[D][I],B);var ee=u(l(m(B,G))),ae=void 0;for(S=I;S<v;S++){for(ae=0,D=I;D<_;D++)ae=d(ae,h(l(M[D]),E[D][S]));for(ae=h(ae,ee),D=I;D<_;D++)E[D][S]=h(f(E[D][S],h(M[D],ae)),F)}for(D=0;D<_;D++){for(ae=0,S=I;S<_;S++)ae=d(ae,h(A[D][S],M[S]));for(ae=h(ae,ee),S=I;S<_;++S)A[D][S]=m(f(A[D][S],h(ae,l(M[S]))),F)}}}return{Q:y,R:b,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function C(g){var _=w(g),v=_.R._data;if(g._data.length>0)for(var y=v[0][0].type==="Complex"?p(0):0,A=0;A<v.length;++A)for(var b=0;b<A&&b<(v[0]||[]).length;++b)v[A][b]=y;return _}function T(g){throw new Error("qr not implemented for sparse matrices yet")}});function $z(r,e,t,i){for(var n=r._values,o=r._index,a=r._ptr,s=r._size,c=r._datatype,l=s[0],u=s[1],d=i&&r._values?[]:null,m=[],h=[],f=0,p=0;p<u;p++){h[p]=f;for(var w=t?t[p]:p,C=a[w],T=a[w+1],g=C;g<T;g++){var _=e?e[o[g]]:o[g];m[f]=_,d&&(d[f]=n[g]),f++}}return h[u]=f,r.createSparseMatrix({values:d,index:m,ptr:h,size:[l,u],datatype:c})}function cy(r,e,t,i,n,o,a){var s=0;for(t[a]=r;s>=0;){var c=t[a+s],l=t[i+c];l===-1?(s--,o[e++]=c):(t[i+c]=t[n+l],++s,t[a+s]=l)}return e}function Hz(r,e){if(!r)return null;var t=0,i,n=[],o=[],a=0,s=e,c=2*e;for(i=0;i<e;i++)o[a+i]=-1;for(i=e-1;i>=0;i--)r[i]!==-1&&(o[s+i]=o[a+r[i]],o[a+r[i]]=i);for(i=0;i<e;i++)r[i]===-1&&(t=cy(i,t,o,a,s,n,c));return n}function Gz(r,e){if(!r)return null;var t=r._index,i=r._ptr,n=r._size,o=n[0],a=n[1],s=[],c=[],l=0,u=a,d,m;if(e)for(d=0;d<o;d++)c[u+d]=-1;for(var h=0;h<a;h++){s[h]=-1,c[l+h]=-1;for(var f=i[h],p=i[h+1],w=f;w<p;w++){var C=t[w];for(d=e?c[u+C]:C;d!==-1&&d<h;d=m)m=c[l+d],c[l+d]=h,m===-1&&(s[d]=h);e&&(c[u+C]=h)}}return s}function Wz(r,e,t){for(var i=r._values,n=r._index,o=r._ptr,a=r._size,s=a[1],c=0,l=0;l<s;l++){var u=o[l];for(o[l]=c;u<o[l+1];u++)e(n[u],l,i?i[u]:1,t)&&(n[c]=n[u],i&&(i[c]=i[u]),c++)}return o[s]=c,n.splice(c,n.length-c),i&&i.splice(c,i.length-c),c}function ua(r){return-r-2}var Zue="csAmd",Jue=["add","multiply","transpose"],Xz=N(Zue,Jue,r=>{var{add:e,multiply:t,transpose:i}=r;return function(u,d){if(!d||u<=0||u>3)return null;var m=d._size,h=m[0],f=m[1],p=0,w=Math.max(16,10*Math.sqrt(f));w=Math.min(f-2,w);var C=n(u,d,h,f,w);Wz(C,c,null);for(var T=C._index,g=C._ptr,_=g[f],v=[],y=[],A=0,b=f+1,E=2*(f+1),D=3*(f+1),S=4*(f+1),I=5*(f+1),M=6*(f+1),q=7*(f+1),U=v,F=o(f,g,y,A,D,U,E,q,b,M,S,I),O=a(f,g,y,I,S,M,w,b,D,U,E),G=0,B,ee,ae,J,H,ce,ye,V,P,j,z,Q,ie,re,pe,fe;O<f;){for(ae=-1;G<f&&(ae=y[D+G])===-1;G++);y[E+ae]!==-1&&(U[y[E+ae]]=-1),y[D+G]=y[E+ae];var $=y[S+ae],K=y[b+ae];O+=K;var se=0;y[b+ae]=-K;var de=g[ae],Ee=$===0?de:_,Se=Ee;for(J=1;J<=$+1;J++){for(J>$?(ce=ae,ye=de,V=y[A+ae]-$):(ce=T[de++],ye=g[ce],V=y[A+ce]),H=1;H<=V;H++)B=T[ye++],!((P=y[b+B])<=0)&&(se+=P,y[b+B]=-P,T[Se++]=B,y[E+B]!==-1&&(U[y[E+B]]=U[B]),U[B]!==-1?y[E+U[B]]=y[E+B]:y[D+y[I+B]]=y[E+B]);ce!==ae&&(g[ce]=ua(ae),y[M+ce]=0)}for($!==0&&(_=Se),y[I+ae]=se,g[ae]=Ee,y[A+ae]=Se-Ee,y[S+ae]=-2,F=s(F,p,y,M,f),j=Ee;j<Se;j++)if(B=T[j],!((z=y[S+B])<=0)){P=-y[b+B];var Be=F-P;for(de=g[B],Q=g[B]+z-1;de<=Q;de++)ce=T[de],y[M+ce]>=F?y[M+ce]-=P:y[M+ce]!==0&&(y[M+ce]=y[I+ce]+Be)}for(j=Ee;j<Se;j++){for(B=T[j],Q=g[B],ie=Q+y[S+B]-1,re=Q,pe=0,fe=0,de=Q;de<=ie;de++)if(ce=T[de],y[M+ce]!==0){var We=y[M+ce]-F;We>0?(fe+=We,T[re++]=ce,pe+=ce):(g[ce]=ua(ae),y[M+ce]=0)}y[S+B]=re-Q+1;var Mt=re,ft=Q+y[A+B];for(de=ie+1;de<ft;de++){ee=T[de];var sr=y[b+ee];sr<=0||(fe+=sr,T[re++]=ee,pe+=ee)}fe===0?(g[B]=ua(ae),P=-y[b+B],se-=P,K+=P,O+=P,y[b+B]=0,y[S+B]=-1):(y[I+B]=Math.min(y[I+B],fe),T[re]=T[Mt],T[Mt]=T[Q],T[Q]=ae,y[A+B]=re-Q+1,pe=(pe<0?-pe:pe)%f,y[E+B]=y[q+pe],y[q+pe]=B,U[B]=pe)}for(y[I+ae]=se,p=Math.max(p,se),F=s(F+p,p,y,M,f),j=Ee;j<Se;j++)if(B=T[j],!(y[b+B]>=0))for(pe=U[B],B=y[q+pe],y[q+pe]=-1;B!==-1&&y[E+B]!==-1;B=y[E+B],F++){for(V=y[A+B],z=y[S+B],de=g[B]+1;de<=g[B]+V-1;de++)y[M+T[de]]=F;var rr=B;for(ee=y[E+B];ee!==-1;){var Xt=y[A+ee]===V&&y[S+ee]===z;for(de=g[ee]+1;Xt&&de<=g[ee]+V-1;de++)y[M+T[de]]!==F&&(Xt=0);Xt?(g[ee]=ua(B),y[b+B]+=y[b+ee],y[b+ee]=0,y[S+ee]=-1,ee=y[E+ee],y[E+rr]=ee):(rr=ee,ee=y[E+ee])}}for(de=Ee,j=Ee;j<Se;j++)B=T[j],!((P=-y[b+B])<=0)&&(y[b+B]=P,fe=y[I+B]+se-P,fe=Math.min(fe,f-O-P),y[D+fe]!==-1&&(U[y[D+fe]]=B),y[E+B]=y[D+fe],U[B]=-1,y[D+fe]=B,G=Math.min(G,fe),y[I+B]=fe,T[de++]=B);y[b+ae]=K,(y[A+ae]=de-Ee)===0&&(g[ae]=-1,y[M+ae]=0),$!==0&&(_=de)}for(B=0;B<f;B++)g[B]=ua(g[B]);for(ee=0;ee<=f;ee++)y[D+ee]=-1;for(ee=f;ee>=0;ee--)y[b+ee]>0||(y[E+ee]=y[D+g[ee]],y[D+g[ee]]=ee);for(ce=f;ce>=0;ce--)y[b+ce]<=0||g[ce]!==-1&&(y[E+ce]=y[D+g[ce]],y[D+g[ce]]=ce);for(ae=0,B=0;B<=f;B++)g[B]===-1&&(ae=cy(B,ae,y,D,E,v,M));return v.splice(v.length-1,1),v};function n(l,u,d,m,h){var f=i(u);if(l===1&&m===d)return e(u,f);if(l===2){for(var p=f._index,w=f._ptr,C=0,T=0;T<d;T++){var g=w[T];if(w[T]=C,!(w[T+1]-g>h))for(var _=w[T+1];g<_;g++)p[C++]=p[g]}return w[d]=C,u=i(f),t(f,u)}return t(f,u)}function o(l,u,d,m,h,f,p,w,C,T,g,_){for(var v=0;v<l;v++)d[m+v]=u[v+1]-u[v];d[m+l]=0;for(var y=0;y<=l;y++)d[h+y]=-1,f[y]=-1,d[p+y]=-1,d[w+y]=-1,d[C+y]=1,d[T+y]=1,d[g+y]=0,d[_+y]=d[m+y];var A=s(0,0,d,T,l);return d[g+l]=-2,u[l]=-1,d[T+l]=0,A}function a(l,u,d,m,h,f,p,w,C,T,g){for(var _=0,v=0;v<l;v++){var y=d[m+v];if(y===0)d[h+v]=-2,_++,u[v]=-1,d[f+v]=0;else if(y>p)d[w+v]=0,d[h+v]=-1,_++,u[v]=ua(l),d[w+l]++;else{var A=d[C+y];A!==-1&&(T[A]=v),d[g+v]=d[C+y],d[C+y]=v}}return _}function s(l,u,d,m,h){if(l<2||l+u<0){for(var f=0;f<h;f++)d[m+f]!==0&&(d[m+f]=1);l=2}return l}function c(l,u){return l!==u}});function Kz(r,e,t,i,n,o,a){var s,c,l=0,u;if(r<=e||t[i+e]<=t[n+r])return-1;t[n+r]=t[i+e];var d=t[o+r];if(t[o+r]=e,d===-1)l=1,u=r;else{for(l=2,u=d;u!==t[a+u];u=t[a+u]);for(s=d;s!==u;s=c)c=t[a+s],t[a+s]=u}return{jleaf:l,q:u}}var ede="csCounts",tde=["transpose"],Qz=N(ede,tde,r=>{var{transpose:e}=r;return function(t,i,n,o){if(!t||!i||!n)return null;var a=t._size,s=a[0],c=a[1],l,u,d,m,h,f,p,w=4*c+(o?c+s+1:0),C=[],T=0,g=c,_=2*c,v=3*c,y=4*c,A=5*c+1;for(d=0;d<w;d++)C[d]=-1;var b=[],E=e(t),D=E._index,S=E._ptr;for(d=0;d<c;d++)for(u=n[d],b[u]=C[v+u]===-1?1:0;u!==-1&&C[v+u]===-1;u=i[u])C[v+u]=d;if(o){for(d=0;d<c;d++)C[n[d]]=d;for(l=0;l<s;l++){for(d=c,f=S[l],p=S[l+1],h=f;h<p;h++)d=Math.min(d,C[D[h]]);C[A+l]=C[y+d],C[y+d]=l}}for(l=0;l<c;l++)C[T+l]=l;for(d=0;d<c;d++){for(u=n[d],i[u]!==-1&&b[i[u]]--,m=o?C[y+d]:u;m!==-1;m=o?C[A+m]:-1)for(h=S[m];h<S[m+1];h++){l=D[h];var I=Kz(l,u,C,v,g,_,T);I.jleaf>=1&&b[u]++,I.jleaf===2&&b[I.q]--}i[u]!==-1&&(C[T+u]=i[u])}for(u=0;u<c;u++)i[u]!==-1&&(b[i[u]]+=b[u]);return b}});var rde="csSqr",ide=["add","multiply","transpose"],Yz=N(rde,ide,r=>{var{add:e,multiply:t,transpose:i}=r,n=Xz({add:e,multiply:t,transpose:i}),o=Qz({transpose:i});return function(c,l,u){var d=l._ptr,m=l._size,h=m[1],f,p={};if(p.q=n(c,l),c&&!p.q)return null;if(u){var w=c?$z(l,null,p.q,0):l;p.parent=Gz(w,1);var C=Hz(p.parent,h);if(p.cp=o(w,p.parent,C,1),w&&p.parent&&p.cp&&a(w,p))for(p.unz=0,f=0;f<h;f++)p.unz+=p.cp[f]}else p.unz=4*d[h]+h,p.lnz=p.unz;return p};function a(s,c){var l=s._ptr,u=s._index,d=s._size,m=d[0],h=d[1];c.pinv=[],c.leftmost=[];var f=c.parent,p=c.pinv,w=c.leftmost,C=[],T=0,g=m,_=m+h,v=m+2*h,y,A,b,E,D;for(A=0;A<h;A++)C[g+A]=-1,C[_+A]=-1,C[v+A]=0;for(y=0;y<m;y++)w[y]=-1;for(A=h-1;A>=0;A--)for(E=l[A],D=l[A+1],b=E;b<D;b++)w[u[b]]=A;for(y=m-1;y>=0;y--)p[y]=-1,A=w[y],A!==-1&&(C[v+A]++===0&&(C[_+A]=y),C[T+y]=C[g+A],C[g+A]=y);for(c.lnz=0,c.m2=m,A=0;A<h;A++)if(y=C[g+A],c.lnz++,y<0&&(y=c.m2++),p[y]=A,!(--v[A]<=0)){c.lnz+=C[v+A];var S=f[A];S!==-1&&(C[v+S]===0&&(C[_+S]=C[_+A]),C[T+C[_+A]]=C[g+S],C[g+S]=C[T+y],C[v+S]+=C[v+A])}for(y=0;y<m;y++)p[y]<0&&(p[y]=A++);return!0}});function Gf(r,e){return r[e]<0}function ly(r,e){r[e]=ua(r[e])}function TS(r){return r<0?ua(r):r}function Zz(r,e,t,i,n){var o=e._index,a=e._ptr,s=e._size,c=s[1],l,u,d,m=0;for(i[0]=r;m>=0;){r=i[m];var h=n?n[r]:r;Gf(a,r)||(ly(a,r),i[c+m]=h<0?0:TS(a[h]));var f=1;for(u=i[c+m],d=h<0?0:TS(a[h+1]);u<d;u++)if(l=o[u],!Gf(a,l)){i[c+m]=u,i[++m]=l,f=0;break}f&&(m--,i[--t]=r)}return t}function Jz(r,e,t,i,n){var o=r._ptr,a=r._size,s=e._index,c=e._ptr,l=a[1],u,d,m,h=l;for(d=c[t],m=c[t+1],u=d;u<m;u++){var f=s[u];Gf(o,f)||(h=Zz(f,r,h,i,n))}for(u=h;u<l;u++)ly(o,i[u]);return h}var nde="csSpsolve",ode=["divideScalar","multiply","subtract"],e8=N(nde,ode,r=>{var{divideScalar:e,multiply:t,subtract:i}=r;return function(o,a,s,c,l,u,d){var m=o._values,h=o._index,f=o._ptr,p=o._size,w=p[1],C=a._values,T=a._index,g=a._ptr,_,v,y,A,b=Jz(o,a,s,c,u);for(_=b;_<w;_++)l[c[_]]=0;for(v=g[s],y=g[s+1],_=v;_<y;_++)l[T[_]]=C[_];for(var E=b;E<w;E++){var D=c[E],S=u?u[D]:D;if(!(S<0))for(v=f[S],y=f[S+1],l[D]=e(l[D],m[d?v:y-1]),_=d?v+1:v,A=d?y:y-1;_<A;_++){var I=h[_];l[I]=i(l[I],t(m[_],l[D]))}}return b}});var ade="csLu",sde=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],t8=N(ade,sde,r=>{var{abs:e,divideScalar:t,multiply:i,subtract:n,larger:o,largerEq:a,SparseMatrix:s}=r,c=e8({divideScalar:t,multiply:i,subtract:n});return function(u,d,m){if(!u)return null;var h=u._size,f=h[1],p,w=100,C=100;d&&(p=d.q,w=d.lnz||w,C=d.unz||C);var T=[],g=[],_=[],v=new s({values:T,index:g,ptr:_,size:[f,f]}),y=[],A=[],b=[],E=new s({values:y,index:A,ptr:b,size:[f,f]}),D=[],S,I,M=[],q=[];for(S=0;S<f;S++)M[S]=0,D[S]=-1,_[S+1]=0;w=0,C=0;for(var U=0;U<f;U++){_[U]=w,b[U]=C;var F=p?p[U]:U,O=c(v,u,F,q,M,D,1),G=-1,B=-1;for(I=O;I<f;I++)if(S=q[I],D[S]<0){var ee=e(M[S]);o(ee,B)&&(B=ee,G=S)}else A[C]=D[S],y[C++]=M[S];if(G===-1||B<=0)return null;D[F]<0&&a(e(M[F]),i(B,m))&&(G=F);var ae=M[G];for(A[C]=U,y[C++]=ae,D[G]=U,g[w]=G,T[w++]=1,I=O;I<f;I++)S=q[I],D[S]<0&&(g[w]=S,T[w++]=t(M[S],ae)),M[S]=0}for(_[f]=w,b[f]=C,I=0;I<w;I++)g[I]=D[g[I]];return T.splice(w,T.length-w),g.splice(w,g.length-w),y.splice(C,y.length-C),A.splice(C,A.length-C),{L:v,U:E,pinv:D}}});var r8="slu",cde=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],IS=N(r8,cde,r=>{var{typed:e,abs:t,add:i,multiply:n,transpose:o,divideScalar:a,subtract:s,larger:c,largerEq:l,SparseMatrix:u}=r,d=Yz({add:i,multiply:n,transpose:o}),m=t8({abs:t,divideScalar:a,multiply:n,subtract:s,larger:c,largerEq:l,SparseMatrix:u});return e(r8,{"SparseMatrix, number, number":function(f,p,w){if(!je(p)||p<0||p>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(w<0||w>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var C=d(p,f,!1),T=m(f,C,w);return{L:T.L,U:T.U,p:T.pinv,q:C.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function MS(r,e){var t,i=e.length,n=[];if(r)for(t=0;t<i;t++)n[r[t]]=e[t];else for(t=0;t<i;t++)n[t]=e[t];return n}var i8="lusolve",lde=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],NS=N(i8,lde,r=>{var{typed:e,matrix:t,lup:i,slu:n,usolve:o,lsolve:a,DenseMatrix:s}=r,c=Ra({DenseMatrix:s});return e(i8,{"Array, Array | Matrix":function(m,h){m=t(m);var f=i(m),p=u(f.L,f.U,f.p,null,h);return p.valueOf()},"DenseMatrix, Array | Matrix":function(m,h){var f=i(m);return u(f.L,f.U,f.p,null,h)},"SparseMatrix, Array | Matrix":function(m,h){var f=i(m);return u(f.L,f.U,f.p,null,h)},"SparseMatrix, Array | Matrix, number, number":function(m,h,f,p){var w=n(m,f,p);return u(w.L,w.U,w.p,w.q,h)},"Object, Array | Matrix":function(m,h){return u(m.L,m.U,m.p,m.q,h)}});function l(d){if(He(d))return d;if(tr(d))return t(d);throw new TypeError("Invalid Matrix LU decomposition")}function u(d,m,h,f,p){d=l(d),m=l(m),h&&(p=c(d,p,!0),p._data=MS(h,p._data));var w=a(d,p),C=o(m,w);return f&&(C._data=MS(f,C._data)),C}});var n8="polynomialRoot",ude=["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],kS=N(n8,ude,r=>{var{typed:e,isZero:t,equalScalar:i,add:n,subtract:o,multiply:a,divide:s,sqrt:c,unaryMinus:l,cbrt:u,typeOf:d,im:m,re:h}=r;return e(n8,{"number|Complex, ...number|Complex":(f,p)=>{for(var w=[f,...p];w.length>0&&t(w[w.length-1]);)w.pop();if(w.length<2)throw new RangeError("Polynomial [".concat(f,", ").concat(p,"] must have a non-zero non-constant coefficient"));switch(w.length){case 2:return[l(s(w[0],w[1]))];case 3:{var[C,T,g]=w,_=a(2,g),v=a(T,T),y=a(4,g,C);if(i(v,y))return[s(l(T),_)];var A=c(o(v,y));return[s(o(A,T),_),s(o(l(A),T),_)]}case 4:{var[b,E,D,S]=w,I=l(a(3,S)),M=a(D,D),q=a(3,S,E),U=n(a(2,D,D,D),a(27,S,S,b)),F=a(9,S,D,E);if(i(M,q)&&i(U,F))return[s(D,I)];var O=o(M,q),G=o(U,F),B=n(a(18,S,D,E,b),a(D,D,E,E)),ee=n(a(4,D,D,D,b),a(4,S,E,E,E),a(27,S,S,b,b));if(i(B,ee))return[s(o(a(4,S,D,E),n(a(9,S,S,b),a(D,D,D))),a(S,O)),s(o(a(9,S,b),a(D,E)),a(2,O))];var ae;i(M,q)?ae=G:ae=s(n(G,c(o(a(G,G),a(4,O,O,O)))),2);var J=!0,H=u(ae,J).toArray().map(ce=>s(n(D,ce,s(O,ce)),I));return H.map(ce=>d(ce)==="Complex"&&i(h(ce),h(ce)+m(ce))?h(ce):ce)}default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(w))}}})});var dde="Help",mde=["evaluate"],RS=N(dde,mde,r=>{var{evaluate:e}=r;function t(i){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(!i)throw new Error('Argument "doc" missing');this.doc=i}return t.prototype.type="Help",t.prototype.isHelp=!0,t.prototype.toString=function(){var i=this.doc||{},n=`
`;if(i.name&&(n+="Name: "+i.name+`

`),i.category&&(n+="Category: "+i.category+`

`),i.description&&(n+=`Description:
    `+i.description+`

`),i.syntax&&(n+=`Syntax:
    `+i.syntax.join(`
    `)+`

`),i.examples){n+=`Examples:
`;for(var o=!1,a=e("config()"),s={config:d=>(o=!0,e("config(newConfig)",{newConfig:d}))},c=0;c<i.examples.length;c++){var l=i.examples[c];n+="    "+l+`
`;var u=void 0;try{u=e(l,s)}catch(d){u=d}u!==void 0&&!t0(u)&&(n+="        "+vt(u,{precision:14})+`
`)}n+=`
`,o&&e("config(originalConfig)",{originalConfig:a})}return i.mayThrow&&i.mayThrow.length&&(n+="Throws: "+i.mayThrow.join(", ")+`

`),i.seealso&&i.seealso.length&&(n+="See also: "+i.seealso.join(", ")+`
`),n},t.prototype.toJSON=function(){var i=at(this.doc);return i.mathjs="Help",i},t.fromJSON=function(i){var n={};return Object.keys(i).filter(o=>o!=="mathjs").forEach(o=>{n[o]=i[o]}),new t(n)},t.prototype.valueOf=t.prototype.toString,t},{isClass:!0});var hde="Chain",fde=["?on","math","typed"],FS=N(hde,fde,r=>{var{on:e,math:t,typed:i}=r;function n(l){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");r0(l)?this.value=l.value:this.value=l}n.prototype.type="Chain",n.prototype.isChain=!0,n.prototype.done=function(){return this.value},n.prototype.valueOf=function(){return this.value},n.prototype.toString=function(){return vt(this.value)},n.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},n.fromJSON=function(l){return new n(l.value)};function o(l,u){typeof u=="function"&&(n.prototype[l]=s(u))}function a(l,u){AL(n.prototype,l,function(){var m=u();if(typeof m=="function")return s(m)})}function s(l){return function(){if(arguments.length===0)return new n(l(this.value));for(var u=[this.value],d=0;d<arguments.length;d++)u[d+1]=arguments[d];if(i.isTypedFunction(l)){var m=i.resolve(l,u);if(m.params.length===1)throw new Error("chain function "+l.name+" cannot match rest parameter between chain value and additional arguments.");return new n(m.implementation.apply(l,u))}return new n(l.apply(l,u))}}n.createProxy=function(l,u){if(typeof l=="string")o(l,u);else{var d=function(f){Ke(l,f)&&c[f]===void 0&&a(f,()=>l[f])};for(var m in l)d(m)}};var c={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return n.createProxy(t),e&&e("import",function(l,u,d){d||a(l,u)}),n},{isClass:!0});var OS={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]};var o8={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]};var a8={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]};var s8={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]};var c8={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]};var l8={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]};var u8={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]};var d8={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]};var m8={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]};var h8={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]};var f8={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]};var PS={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]};var p8={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]};var g8={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]};var v8={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]};var y8={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]};var b8={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]};var _8={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","bigint","complex","fraction","index","matrix","string","unit"]};var x8={name:"bigint",category:"Construction",syntax:["bigint(x)"],description:"Create a bigint, an integer with an arbitrary number of digits, from a number or string.",examples:["123123123123123123 # a large number will lose digits",'bigint("123123123123123123")','bignumber(["1", "3", "5"])'],seealso:["boolean","bignumber","number","complex","fraction","index","matrix","string","unit"]};var w8={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]};var E8={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]};var D8={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]};var A8={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]};var C8={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = 1","B = [1, 2, 3]","B[B>1 and B<3]"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]};var S8={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]};var T8={name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","bigint","boolean","complex","fraction","index","matrix","string","unit"]};var I8={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]};var M8={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]};var N8={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]};var k8={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]};var R8={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]};var F8={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]};var O8={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x, "string": f(x)=concat(x,x) })',"double(2)",'double("hello")'],seealso:[]};var P8={name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]};var B8={name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]};var L8={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]};var V8={name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]};var z8={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]};var U8={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]};var q8={name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6, 1)"],seealso:["cbrt","sqrt"]};var j8={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]};var $8={name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]};var H8={name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]};var G8={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]};var W8={name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConstant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]};var X8={name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]};var K8={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]};var Q8={name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]};var Y8={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]};var Z8={name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]};var J8={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]};var e5={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]};var t5={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]};var r5={name:"ceil",category:"Arithmetic",syntax:["ceil(x)","ceil(x, n)","ceil(unit, valuelessUnit)","ceil(unit, n, valuelessUnit)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)","ceil(3.241cm, cm)","ceil(3.241cm, 2, cm)"],seealso:["floor","fix","round"]};var i5={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]};var n5={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]};var o5={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]};var a5={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]};var s5={name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]};var c5={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]};var l5={name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]};var u5={name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]};var d5={name:"fix",category:"Arithmetic",syntax:["fix(x)","fix(x, n)","fix(unit, valuelessUnit)","fix(unit, n, valuelessUnit)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)","fix(3.241cm, cm)","fix(3.241cm, 2, cm)"],seealso:["ceil","floor","round"]};var m5={name:"floor",category:"Arithmetic",syntax:["floor(x)","floor(x, n)","floor(unit, valuelessUnit)","floor(unit, n, valuelessUnit)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)","floor(3.241cm, cm)","floor(3.241cm, 2, cm)"],seealso:["ceil","fix","round"]};var h5={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]};var f5={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenuse of a list with values.",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]};var p5={name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax \u2263 1 (mod b)",examples:["invmod(8, 12)","invmod(7, 13)","invmod(15151, 15122)"],seealso:["gcd","xgcd"]};var g5={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]};var v5={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]};var y5={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]};var b5={name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]};var _5={name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]};var x5={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]};var w5={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]};var E5={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']};var D5={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]};var A5={name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]};var C5={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","pow([[1, 2], [4, 3]], 2)","pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]};var S5={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)","round(unit, valuelessUnit)","round(unit, n, valuelessUnit)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)","round(3.241cm, 2, cm)","round([3.2, 3.8, -4.7])"],seealso:["ceil","floor","fix"]};var T5={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]};var I5={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]};var M5={name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]};var N5={name:"sylvester",category:"Algebra",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","A = [[-1, -2], [1, 1]]; B = [[2, -1], [1, -2]]; C = [[-3, 2], [3, 0]]","sylvester(A, B, C)"],seealso:["schur","lyap"]};var k5={name:"schur",category:"Algebra",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","A = [[1, 0], [-4, 3]]","schur(A)"],seealso:["lyap","sylvester"]};var R5={name:"lyap",category:"Algebra",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","A = [[-2, 0], [1, -4]]","Q = [[3, 1], [1, 3]]","lyap(A,Q)"],seealso:["schur","sylvester"]};var F5={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]};var O5={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]};var P5={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]};var B5={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]};var L5={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]};var V5={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]};var z5={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]};var U5={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]};var q5={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]};var j5={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]};var $5={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]};var H5={name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]};var G5={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]};var W5={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]};var X5={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]};var K5={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]};var Q5={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]};var Y5={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]};var Z5={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]};var J5={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]};var eU={name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate(expression, scope)","evaluate([expr1, expr2, expr3, ...])","evaluate([expr1, expr2, expr3, ...], scope)"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(16)")','evaluate("2 inch to cm")','evaluate("sin(x * pi)", { "x": 1/2 })','evaluate(["width=2", "height=4","width*height"])'],seealso:[]};var tU={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]};var rU={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]};var iU={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]};var nU={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]};var oU={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]};var aU={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]};var sU={name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]};var cU={name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]};var lU={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var uU={name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]};var dU={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]};var mU={name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]};var hU={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var fU={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var pU={name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicate the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["A = [1, 2, 4, 7, 0]","diff(A)","diff(A, 1)","B = [[1, 2], [3, 4]]","diff(B)","diff(B, 1)","diff(B, 2)","diff(B, bignumber(2))","diff([[1, 2], matrix([3, 4])], 2)"],seealso:["subtract","partitionSelect"]};var gU={name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]};var vU={name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and optionally eigenvectors of a square matrix",examples:["eigs([[5, 2.3], [2.3, 1]])","eigs([[1, 2, 3], [4, 5, 6], [7, 8, 9]], { precision: 1e-6, eigenvectors: false })"],seealso:["inv"]};var yU={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]};var bU={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]};var _U={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]};var xU={name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]};var wU={name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var EU={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var DU={name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the Moore\u2013Penrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]};var AU={name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the Kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]};var CU={name:"map",category:"Matrix",syntax:["map(x, callback)","map(x, y, ..., callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array or the matrices/arrays.",examples:["map([1, 2, 3], square)","map([1, 2], [3, 4], f(a,b) = a + b)"],seealso:["filter","forEach"]};var SU={name:"matrixFromColumns",category:"Matrix",syntax:["matrixFromColumns(...arr)","matrixFromColumns(row1, row2)","matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]};var TU={name:"matrixFromFunction",category:"Matrix",syntax:["matrixFromFunction(size, fn)","matrixFromFunction(size, fn, format)","matrixFromFunction(size, fn, format, datatype)","matrixFromFunction(size, format, fn)","matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]};var IU={name:"matrixFromRows",category:"Matrix",syntax:["matrixFromRows(...arr)","matrixFromRows(row1, row2)","matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]};var MU={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]};var NU={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1, compareText)',"arr = [5, 2, 1]","partitionSelect(arr, 0) # returns 1, arr is now: [1, 2, 5]","arr","partitionSelect(arr, 1, 'desc') # returns 2, arr is now: [5, 2, 1]","arr"],seealso:["sort"]};var kU={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"range(1m, 1m, 3m)","a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]};var RU={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]};var FU={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]};var OU={name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]};var PU={name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]};var BU={name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]};var LU={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]};var VU={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"], "natural")',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]};var zU={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]};var UU={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]};var qU={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]};var jU={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]};var $U={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]};var HU={name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional Fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]};var GU={name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse Fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]};var WU={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]};var XU={name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]};var KU={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]};var QU={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]};var YU={name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]};var ZU={name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]};var JU={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]};var e6={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]};var t6={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]};var r6={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]};var i6={name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]};var n6={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]};var o6={name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]};var a6={name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]};var s6={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]};var c6={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]};var l6={name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]};var u6={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]};var d6={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]};var m6={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]};var h6={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]};var f6={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]};var p6={name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]};var g6={name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]};var v6={name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]};var y6={name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]};var b6={name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]};var _6={name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]};var x6={name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]};var w6={name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]};var E6={name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]};var D6={name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]};var A6={name:"zpk2tf",category:"Signal",syntax:["zpk2tf(z, p, k)"],description:"Compute the transfer function of a zero-pole-gain model.",examples:["zpk2tf([1, 2], [-1, -2], 1)","zpk2tf([1, 2], [-1, -2])","zpk2tf([1 - 3i, 2 + 2i], [-1, -2])"],seealso:[]};var C6={name:"freqz",category:"Signal",syntax:["freqz(b, a)","freqz(b, a, w)"],description:"Calculates the frequency response of a filter given its numerator and denominator coefficients.",examples:["freqz([1, 2], [1, 2, 3])","freqz([1, 2], [1, 2, 3], [0, 1])","freqz([1, 2], [1, 2, 3], 512)"],seealso:[]};var S6={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]};var T6={name:"zeta",category:"Special",syntax:["zeta(s)"],description:"Compute the Riemann Zeta Function using an infinite series and Riemann's Functional Equation for the entire complex plane",examples:["zeta(0.2)","zeta(-0.5)","zeta(4)"],seealso:[]};var I6={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]};var M6={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dimension)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]};var N6={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dimension)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]};var k6={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]};var R6={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dimension)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]};var F6={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]};var O6={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]};var P6={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:`Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probability are: Number, BigNumber. 

In case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.`,examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]};var B6={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, dimension)","std(A, normalization)","std(A, dimension, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]};var L6={name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]};var V6={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)","sum(A, dimension)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]};var z6={name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, dimension)","variance(A, normalization)","variance(A, dimension, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]};var U6={name:"corr",category:"Statistics",syntax:["corr(A,B)"],description:"Compute the correlation coefficient of a two list with values, For matrices, the matrix correlation coefficient is calculated.",examples:["corr([2, 4, 6, 8],[1, 2, 3, 6])","corr(matrix([[1, 2.2, 3, 4.8, 5], [1, 2, 3, 4, 5]]), matrix([[4, 5.3, 6.6, 7, 8], [1, 2, 3, 4, 5]]))"],seealso:["max","mean","min","median","min","prod","std","sum"]};var q6={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]};var j6={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]};var $6={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]};var H6={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the inverse hyperbolic tangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]};var G6={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]};var W6={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the inverse hyperbolic cosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]};var X6={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]};var K6={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]};var Q6={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]};var Y6={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]};var Z6={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]};var J6={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]};var eq={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]};var tq={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]};var rq={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]};var iq={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]};var nq={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]};var oq={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]};var aq={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]};var sq={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]};var cq={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]};var lq={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]};var uq={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]};var dq={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]};var mq={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]};var hq={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]};var fq={name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]};var pq={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables, and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]};var gq={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]};var vq={name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]};var yq={name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]};var bq={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]};var _q={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]};var xq={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]};var wq={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]};var Eq={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]};var Dq={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]};var Aq={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]};var Cq={name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, bigint, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "bigint")','numeric("4", "BigNumber")','numeric("4", "Fraction")','numeric(4, "Fraction")','numeric(fraction(2, 5), "number")'],seealso:["number","bigint","fraction","bignumber","string","format"]};var Sq={name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]};var Tq={name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $1, $2, $3", [6, 9, 4])'],seealso:["format"]};var Iq={name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]};var Mq={name:"solveODE",category:"Numeric",syntax:["solveODE(func, tspan, y0)","solveODE(func, tspan, y0, options)"],description:"Numerical Integration of Ordinary Differential Equations.",examples:["f(t,y) = y","tspan = [0, 4]","solveODE(f, tspan, 1)","solveODE(f, tspan, [1, 2])",'solveODE(f, tspan, 1, { method:"RK23", maxStep:0.1 })'],seealso:["derivative","simplifyCore"]};var Nq={bignumber:_8,bigint:x8,boolean:w8,complex:E8,createUnit:D8,fraction:A8,index:C8,matrix:S8,number:T8,sparse:I8,splitUnit:M8,string:N8,unit:k8,e:OS,E:OS,false:o8,i:a8,Infinity:s8,LN2:l8,LN10:c8,LOG2E:d8,LOG10E:u8,NaN:m8,null:h8,pi:PS,PI:PS,phi:f8,SQRT1_2:p8,SQRT2:g8,tau:v8,true:y8,version:b8,speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Bohr magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Bohr radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:P8,lsolve:L8,lsolveAll:V8,lup:z8,lusolve:U8,leafCount:B8,polynomialRoot:q8,resolve:H8,simplify:G8,simplifyConstant:W8,simplifyCore:X8,symbolicEqual:Q8,rationalize:$8,slu:K8,usolve:Y8,usolveAll:Z8,qr:j8,abs:J8,add:e5,cbrt:t5,ceil:r5,cube:i5,divide:n5,dotDivide:o5,dotMultiply:a5,dotPow:s5,exp:c5,expm:l5,expm1:u5,fix:d5,floor:m5,gcd:h5,hypot:f5,lcm:g5,log:v5,log2:_5,log1p:b5,log10:y5,mod:x5,multiply:w5,norm:E5,nthRoot:D5,nthRoots:A5,pow:C5,round:S5,sign:T5,sqrt:I5,sqrtm:M5,square:F5,subtract:O5,unaryMinus:P5,unaryPlus:B5,xgcd:L5,invmod:p5,bitAnd:V5,bitNot:z5,bitOr:U5,bitXor:q5,leftShift:j5,rightArithShift:$5,rightLogShift:H5,bellNumbers:G5,catalan:W5,composition:X5,stirlingS2:K5,config:R8,import:F8,typed:O8,arg:Q5,conj:Y5,re:J5,im:Z5,evaluate:eU,help:tU,distance:rU,intersect:iU,and:nU,not:oU,or:aU,xor:sU,concat:lU,count:uU,cross:dU,column:cU,ctranspose:mU,det:hU,diag:fU,diff:pU,dot:gU,getMatrixDataType:xU,identity:wU,filter:yU,flatten:bU,forEach:_U,inv:EU,pinv:DU,eigs:vU,kron:AU,matrixFromFunction:TU,matrixFromRows:IU,matrixFromColumns:SU,map:CU,ones:MU,partitionSelect:NU,range:kU,resize:FU,reshape:RU,rotate:OU,rotationMatrix:PU,row:BU,size:LU,sort:VU,squeeze:zU,subset:UU,trace:qU,transpose:jU,zeros:$U,fft:HU,ifft:GU,sylvester:N5,schur:k5,lyap:R5,solveODE:Mq,combinations:WU,combinationsWithRep:XU,factorial:KU,gamma:QU,kldivergence:ZU,lgamma:YU,multinomial:JU,permutations:e6,pickRandom:t6,random:r6,randomInt:i6,compare:n6,compareNatural:o6,compareText:a6,deepEqual:s6,equal:c6,equalText:l6,larger:u6,largerEq:d6,smaller:m6,smallerEq:h6,unequal:f6,setCartesian:p6,setDifference:g6,setDistinct:v6,setIntersect:y6,setIsSubset:b6,setMultiplicity:_6,setPowerset:x6,setSize:w6,setSymDifference:E6,setUnion:D6,zpk2tf:A6,freqz:C6,erf:S6,zeta:T6,cumsum:L6,mad:I6,max:M6,mean:N6,median:k6,min:R6,mode:F6,prod:O6,quantileSeq:P6,std:B6,sum:V6,variance:z6,corr:U6,acos:q6,acosh:j6,acot:$6,acoth:H6,acsc:G6,acsch:W6,asec:X6,asech:K6,asin:Q6,asinh:Y6,atan:Z6,atanh:eq,atan2:J6,cos:tq,cosh:rq,cot:iq,coth:nq,csc:oq,csch:aq,sec:sq,sech:cq,sin:lq,sinh:uq,tan:dq,tanh:mq,to:hq,clone:pq,format:gq,bin:fq,oct:Sq,hex:yq,isNaN:_q,isInteger:bq,isNegative:xq,isNumeric:wq,hasNumericValue:vq,isPositive:Eq,isPrime:Dq,isZero:Aq,print:Tq,typeOf:Iq,numeric:Cq};var kq="help",pde=["typed","mathWithTransform","Help"],BS=N(kq,pde,r=>{var{typed:e,mathWithTransform:t,Help:i}=r;return e(kq,{any:function(o){var a,s=o;if(typeof o!="string"){for(a in t)if(Ke(t,a)&&o===t[a]){s=a;break}}var c=Gr(Nq,s);if(!c){var l=typeof s=="function"?s.name:s;throw new Error('No documentation found on "'+l+'"')}return new i(c)}})});var Rq="chain",gde=["typed","Chain"],LS=N(Rq,gde,r=>{var{typed:e,Chain:t}=r;return e(Rq,{"":function(){return new t},any:function(n){return new t(n)}})});var Fq="det",vde=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],VS=N(Fq,vde,r=>{var{typed:e,matrix:t,subtractScalar:i,multiply:n,divideScalar:o,isZero:a,unaryMinus:s}=r;return e(Fq,{any:function(u){return at(u)},"Array | Matrix":function(u){var d;switch(He(u)?d=u.size():Array.isArray(u)?(u=t(u),d=u.size()):d=[],d.length){case 0:return at(u);case 1:if(d[0]===1)return at(u.valueOf()[0]);if(d[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+vt(d)+")");case 2:{var m=d[0],h=d[1];if(m===h)return c(u.clone().valueOf(),m,h);if(h===0)return 1;throw new RangeError("Matrix must be square (size: "+vt(d)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+vt(d)+")")}}});function c(l,u,d){if(u===1)return at(l[0][0]);if(u===2)return i(n(l[0][0],l[1][1]),n(l[1][0],l[0][1]));for(var m=!1,h=new Array(u).fill(0).map((A,b)=>b),f=0;f<u;f++){var p=h[f];if(a(l[p][f])){var w=void 0;for(w=f+1;w<u;w++)if(!a(l[h[w]][f])){p=h[w],h[w]=h[f],h[f]=p,m=!m;break}if(w===u)return l[p][f]}for(var C=l[p][f],T=f===0?1:l[h[f-1]][f-1],g=f+1;g<u;g++)for(var _=h[g],v=f+1;v<u;v++)l[_][v]=o(i(n(l[_][v],C),n(l[_][f],l[p][v])),T)}var y=l[h[u-1]][u-1];return m?s(y):y}});var Oq="inv",yde=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],zS=N(Oq,yde,r=>{var{typed:e,matrix:t,divideScalar:i,addScalar:n,multiply:o,unaryMinus:a,det:s,identity:c,abs:l}=r;return e(Oq,{"Array | Matrix":function(m){var h=He(m)?m.size():it(m);switch(h.length){case 1:if(h[0]===1)return He(m)?t([i(1,m.valueOf()[0])]):[i(1,m[0])];throw new RangeError("Matrix must be square (size: "+vt(h)+")");case 2:{var f=h[0],p=h[1];if(f===p)return He(m)?t(u(m.valueOf(),f,p),m.storage()):u(m,f,p);throw new RangeError("Matrix must be square (size: "+vt(h)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+vt(h)+")")}},any:function(m){return i(1,m)}});function u(d,m,h){var f,p,w,C,T;if(m===1){if(C=d[0][0],C===0)throw Error("Cannot calculate inverse, determinant is zero");return[[i(1,C)]]}else if(m===2){var g=s(d);if(g===0)throw Error("Cannot calculate inverse, determinant is zero");return[[i(d[1][1],g),i(a(d[0][1]),g)],[i(a(d[1][0]),g),i(d[0][0],g)]]}else{var _=d.concat();for(f=0;f<m;f++)_[f]=_[f].concat();for(var v=c(m).valueOf(),y=0;y<h;y++){var A=l(_[y][y]),b=y;for(f=y+1;f<m;)l(_[f][y])>A&&(A=l(_[f][y]),b=f),f++;if(A===0)throw Error("Cannot calculate inverse, determinant is zero");f=b,f!==y&&(T=_[y],_[y]=_[f],_[f]=T,T=v[y],v[y]=v[f],v[f]=T);var E=_[y],D=v[y];for(f=0;f<m;f++){var S=_[f],I=v[f];if(f!==y){if(S[y]!==0){for(w=i(a(S[y]),E[y]),p=y;p<h;p++)S[p]=n(S[p],o(w,E[p]));for(p=0;p<h;p++)I[p]=n(I[p],o(w,D[p]))}}else{for(w=E[y],p=y;p<h;p++)S[p]=i(S[p],w);for(p=0;p<h;p++)I[p]=i(I[p],w)}}}return v}}});var Pq="pinv",bde=["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],US=N(Pq,bde,r=>{var{typed:e,matrix:t,inv:i,deepEqual:n,equal:o,dotDivide:a,dot:s,ctranspose:c,divideScalar:l,multiply:u,add:d,Complex:m}=r;return e(Pq,{"Array | Matrix":function(g){var _=He(g)?g.size():it(g);switch(_.length){case 1:return C(g)?c(g):_[0]===1?i(g):a(c(g),s(g,g));case 2:{if(C(g))return c(g);var v=_[0],y=_[1];if(v===y)try{return i(g)}catch(A){if(!(A instanceof Error&&A.message.match(/Cannot calculate inverse, determinant is zero/)))throw A}return He(g)?t(h(g.valueOf(),v,y),g.storage()):h(g,v,y)}default:throw new RangeError("Matrix must be two dimensional (size: "+vt(_)+")")}},any:function(g){return o(g,0)?at(g):l(1,g)}});function h(T,g,_){var{C:v,F:y}=p(T,g,_),A=u(i(u(c(v),v)),c(v)),b=u(c(y),i(u(y,c(y))));return u(b,A)}function f(T,g,_){for(var v=at(T),y=0,A=0;A<g;A++){if(_<=y)return v;for(var b=A;w(v[b][y]);)if(b++,g===b&&(b=A,y++,_===y))return v;[v[b],v[A]]=[v[A],v[b]];for(var E=v[A][y],D=0;D<_;D++)v[A][D]=a(v[A][D],E);for(var S=0;S<g;S++)if(S!==A){E=v[S][y];for(var I=0;I<_;I++)v[S][I]=d(v[S][I],u(-1,u(E,v[A][I])))}y++}return v}function p(T,g,_){var v=f(T,g,_),y=T.map((b,E)=>b.filter((D,S)=>S<g&&!w(s(v[S],v[S])))),A=v.filter((b,E)=>!w(s(v[E],v[E])));return{C:y,F:A}}function w(T){return o(d(T,m(1,1)),d(0,m(1,1)))}function C(T){return n(d(T,m(1,1)),d(u(T,0),m(1,1)))}});function Bq(r){var{addScalar:e,subtract:t,flatten:i,multiply:n,multiplyScalar:o,divideScalar:a,sqrt:s,abs:c,bignumber:l,diag:u,size:d,reshape:m,inv:h,qr:f,usolve:p,usolveAll:w,equal:C,complex:T,larger:g,smaller:_,matrixFromColumns:v,dot:y}=r;function A(J,H,ce,ye){var V=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,P=b(J,H,ce,ye,V);E(J,H,ce,ye,V,P);var{values:j,C:z}=D(J,H,ce,ye,V);if(V){var Q=S(J,H,z,P,j,ce,ye);return{values:j,eigenvectors:Q}}return{values:j}}function b(J,H,ce,ye,V){var P=ye==="BigNumber",j=ye==="Complex",z=P?l(0):0,Q=P?l(1):j?T(1):1,ie=P?l(1):1,re=P?l(10):2,pe=o(re,re),fe;V&&(fe=Array(H).fill(Q));for(var $=!1;!$;){$=!0;for(var K=0;K<H;K++){for(var se=z,de=z,Ee=0;Ee<H;Ee++)K!==Ee&&(se=e(se,c(J[Ee][K])),de=e(de,c(J[K][Ee])));if(!C(se,0)&&!C(de,0)){for(var Se=ie,Be=se,We=a(de,re),Mt=o(de,re);_(Be,We);)Be=o(Be,pe),Se=o(Se,re);for(;g(Be,Mt);)Be=a(Be,pe),Se=a(Se,re);var ft=_(a(e(Be,de),Se),o(e(se,de),.95));if(ft){$=!1;for(var sr=a(1,Se),rr=0;rr<H;rr++)K!==rr&&(J[K][rr]=o(J[K][rr],sr),J[rr][K]=o(J[rr][K],Se));V&&(fe[K]=o(fe[K],sr))}}}}return V?u(fe):null}function E(J,H,ce,ye,V,P){var j=ye==="BigNumber",z=ye==="Complex",Q=j?l(0):z?T(0):0;j&&(ce=l(ce));for(var ie=0;ie<H-2;ie++){for(var re=0,pe=Q,fe=ie+1;fe<H;fe++){var $=J[fe][ie];_(c(pe),c($))&&(pe=$,re=fe)}if(!_(c(pe),ce)){if(re!==ie+1){var K=J[re];J[re]=J[ie+1],J[ie+1]=K;for(var se=0;se<H;se++){var de=J[se][re];J[se][re]=J[se][ie+1],J[se][ie+1]=de}if(V){var Ee=P[re];P[re]=P[ie+1],P[ie+1]=Ee}}for(var Se=ie+2;Se<H;Se++){var Be=a(J[Se][ie],pe);if(Be!==0){for(var We=0;We<H;We++)J[Se][We]=t(J[Se][We],o(Be,J[ie+1][We]));for(var Mt=0;Mt<H;Mt++)J[Mt][ie+1]=e(J[Mt][ie+1],o(Be,J[Mt][Se]));if(V)for(var ft=0;ft<H;ft++)P[Se][ft]=t(P[Se][ft],o(Be,P[ie+1][ft]))}}}}return P}function D(J,H,ce,ye,V){var P=ye==="BigNumber",j=ye==="Complex",z=P?l(1):j?T(1):1;P&&(ce=l(ce));for(var Q=at(J),ie=[],re=H,pe=[],fe=V?u(Array(H).fill(z)):void 0,$=V?u(Array(re).fill(z)):void 0,K=0;K<=100;){K+=1;for(var se=Q[re-1][re-1],de=0;de<re;de++)Q[de][de]=t(Q[de][de],se);var{Q:Ee,R:Se}=f(Q);Q=n(Se,Ee);for(var Be=0;Be<re;Be++)Q[Be][Be]=e(Q[Be][Be],se);if(V&&($=n($,Ee)),re===1||_(c(Q[re-1][re-2]),ce)){K=0,ie.push(Q[re-1][re-1]),V&&(pe.unshift([[1]]),q($,H),fe=n(fe,$),re>1&&($=u(Array(re-1).fill(z)))),re-=1,Q.pop();for(var We=0;We<re;We++)Q[We].pop()}else if(re===2||_(c(Q[re-2][re-3]),ce)){K=0;var Mt=I(Q[re-2][re-2],Q[re-2][re-1],Q[re-1][re-2],Q[re-1][re-1]);ie.push(...Mt),V&&(pe.unshift(M(Q[re-2][re-2],Q[re-2][re-1],Q[re-1][re-2],Q[re-1][re-1],Mt[0],Mt[1],ce,ye)),q($,H),fe=n(fe,$),re>2&&($=u(Array(re-2).fill(z)))),re-=2,Q.pop(),Q.pop();for(var ft=0;ft<re;ft++)Q[ft].pop(),Q[ft].pop()}if(re===0)break}if(ie.sort((Xt,cr)=>+t(c(Xt),c(cr))),K>100){var sr=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+ie.join(", "));throw sr.values=ie,sr.vectors=[],sr}var rr=V?n(fe,U(pe,H)):void 0;return{values:ie,C:rr}}function S(J,H,ce,ye,V,P,j){var z=h(ce),Q=n(z,J,ce),ie=j==="BigNumber",re=j==="Complex",pe=ie?l(0):re?T(0):0,fe=ie?l(1):re?T(1):1,$=[],K=[];for(var se of V){var de=F($,se,C);de===-1?($.push(se),K.push(1)):K[de]+=1}for(var Ee=[],Se=$.length,Be=Array(H).fill(pe),We=u(Array(H).fill(fe)),Mt=function(){var rr=$[ft],Xt=t(Q,n(rr,We)),cr=w(Xt,Be);for(cr.shift();cr.length<K[ft];){var Y=O(Xt,H,cr,P,j);if(Y===null)break;cr.push(Y)}var le=n(h(ye),ce);cr=cr.map(ge=>n(le,ge)),Ee.push(...cr.map(ge=>({value:rr,vector:i(ge)})))},ft=0;ft<Se;ft++)Mt();return Ee}function I(J,H,ce,ye){var V=e(J,ye),P=t(o(J,ye),o(H,ce)),j=o(V,.5),z=o(s(t(o(V,V),o(4,P))),.5);return[e(j,z),t(j,z)]}function M(J,H,ce,ye,V,P,j,z){var Q=z==="BigNumber",ie=z==="Complex",re=Q?l(0):ie?T(0):0,pe=Q?l(1):ie?T(1):1;if(_(c(ce),j))return[[pe,re],[re,pe]];if(g(c(t(V,P)),j))return[[t(V,ye),t(P,ye)],[ce,ce]];var fe=t(J,V),$=t(ye,V);return _(c(H),j)&&_(c($),j)?[[fe,pe],[ce,re]]:[[H,re],[$,pe]]}function q(J,H){for(var ce=0;ce<J.length;ce++)J[ce].push(...Array(H-J[ce].length).fill(0));for(var ye=J.length;ye<H;ye++)J.push(Array(H).fill(0)),J[ye][ye]=1;return J}function U(J,H){for(var ce=[],ye=0;ye<H;ye++)ce[ye]=Array(H).fill(0);var V=0;for(var P of J){for(var j=P.length,z=0;z<j;z++)for(var Q=0;Q<j;Q++)ce[V+z][V+Q]=P[z][Q];V+=j}return ce}function F(J,H,ce){for(var ye=0;ye<J.length;ye++)if(ce(J[ye],H))return ye;return-1}function O(J,H,ce,ye,V){for(var P=V==="BigNumber"?l(1e3):1e3,j,z=0;z<5;++z){j=G(H,ce,V);try{j=p(J,j)}catch{continue}if(g(ee(j),P))break}if(z>=5)return null;for(z=0;;){var Q=p(J,j);if(_(ee(B(j,[Q])),ye))break;if(++z>=10)return null;j=ae(Q)}return j}function G(J,H,ce){var ye=ce==="BigNumber",V=ce==="Complex",P=Array(J).fill(0).map(j=>2*Math.random()-1);return ye&&(P=P.map(j=>l(j))),V&&(P=P.map(j=>T(j))),P=B(P,H),ae(P,ce)}function B(J,H){var ce=d(J);for(var ye of H)ye=m(ye,ce),J=t(J,n(a(y(ye,J),y(ye,ye)),ye));return J}function ee(J){return c(s(y(J,J)))}function ae(J,H){var ce=H==="BigNumber",ye=H==="Complex",V=ce?l(1):ye?T(1):1;return n(a(V,ee(J)),J)}return A}function Lq(r){var{config:e,addScalar:t,subtract:i,abs:n,atan:o,cos:a,sin:s,multiplyScalar:c,inv:l,bignumber:u,multiply:d,add:m}=r;function h(E,D){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.relTol,I=arguments.length>3?arguments[3]:void 0,M=arguments.length>4?arguments[4]:void 0;if(I==="number")return f(E,S,M);if(I==="BigNumber")return p(E,S,M);throw TypeError("Unsupported data type: "+I)}function f(E,D,S){var I=E.length,M=Math.abs(D/I),q,U;if(S){U=new Array(I);for(var F=0;F<I;F++)U[F]=Array(I).fill(0),U[F][F]=1}for(var O=y(E);Math.abs(O[1])>=Math.abs(M);){var G=O[0][0],B=O[0][1];q=w(E[G][G],E[B][B],E[G][B]),E=v(E,q,G,B),S&&(U=T(U,q,G,B)),O=y(E)}for(var ee=Array(I).fill(0),ae=0;ae<I;ae++)ee[ae]=E[ae][ae];return b(at(ee),U,S)}function p(E,D,S){var I=E.length,M=n(D/I),q,U;if(S){U=new Array(I);for(var F=0;F<I;F++)U[F]=Array(I).fill(0),U[F][F]=1}for(var O=A(E);n(O[1])>=n(M);){var G=O[0][0],B=O[0][1];q=C(E[G][G],E[B][B],E[G][B]),E=_(E,q,G,B),S&&(U=g(U,q,G,B)),O=A(E)}for(var ee=Array(I).fill(0),ae=0;ae<I;ae++)ee[ae]=E[ae][ae];return b(at(ee),U,S)}function w(E,D,S){var I=D-E;return Math.abs(I)<=e.relTol?Math.PI/4:.5*Math.atan(2*S/(D-E))}function C(E,D,S){var I=i(D,E);return n(I)<=e.relTol?u(-1).acos().div(4):c(.5,o(d(2,S,l(I))))}function T(E,D,S,I){for(var M=E.length,q=Math.cos(D),U=Math.sin(D),F=Array(M).fill(0),O=Array(M).fill(0),G=0;G<M;G++)F[G]=q*E[G][S]-U*E[G][I],O[G]=U*E[G][S]+q*E[G][I];for(var B=0;B<M;B++)E[B][S]=F[B],E[B][I]=O[B];return E}function g(E,D,S,I){for(var M=E.length,q=a(D),U=s(D),F=Array(M).fill(u(0)),O=Array(M).fill(u(0)),G=0;G<M;G++)F[G]=i(c(q,E[G][S]),c(U,E[G][I])),O[G]=t(c(U,E[G][S]),c(q,E[G][I]));for(var B=0;B<M;B++)E[B][S]=F[B],E[B][I]=O[B];return E}function _(E,D,S,I){for(var M=E.length,q=u(a(D)),U=u(s(D)),F=c(q,q),O=c(U,U),G=Array(M).fill(u(0)),B=Array(M).fill(u(0)),ee=d(u(2),q,U,E[S][I]),ae=t(i(c(F,E[S][S]),ee),c(O,E[I][I])),J=m(c(O,E[S][S]),ee,c(F,E[I][I])),H=0;H<M;H++)G[H]=i(c(q,E[S][H]),c(U,E[I][H])),B[H]=t(c(U,E[S][H]),c(q,E[I][H]));E[S][S]=ae,E[I][I]=J,E[S][I]=u(0),E[I][S]=u(0);for(var ce=0;ce<M;ce++)ce!==S&&ce!==I&&(E[S][ce]=G[ce],E[ce][S]=G[ce],E[I][ce]=B[ce],E[ce][I]=B[ce]);return E}function v(E,D,S,I){for(var M=E.length,q=Math.cos(D),U=Math.sin(D),F=q*q,O=U*U,G=Array(M).fill(0),B=Array(M).fill(0),ee=F*E[S][S]-2*q*U*E[S][I]+O*E[I][I],ae=O*E[S][S]+2*q*U*E[S][I]+F*E[I][I],J=0;J<M;J++)G[J]=q*E[S][J]-U*E[I][J],B[J]=U*E[S][J]+q*E[I][J];E[S][S]=ee,E[I][I]=ae,E[S][I]=0,E[I][S]=0;for(var H=0;H<M;H++)H!==S&&H!==I&&(E[S][H]=G[H],E[H][S]=G[H],E[I][H]=B[H],E[H][I]=B[H]);return E}function y(E){for(var D=E.length,S=0,I=[0,1],M=0;M<D;M++)for(var q=M+1;q<D;q++)Math.abs(S)<Math.abs(E[M][q])&&(S=Math.abs(E[M][q]),I=[M,q]);return[I,S]}function A(E){for(var D=E.length,S=0,I=[0,1],M=0;M<D;M++)for(var q=M+1;q<D;q++)n(S)<n(E[M][q])&&(S=n(E[M][q]),I=[M,q]);return[I,S]}function b(E,D,S){var I=E.length,M=Array(I),q;if(S){q=Array(I);for(var U=0;U<I;U++)q[U]=Array(I)}for(var F=0;F<I;F++){for(var O=0,G=E[0],B=0;B<E.length;B++)n(E[B])<n(G)&&(O=B,G=E[O]);if(M[F]=E.splice(O,1)[0],S)for(var ee=0;ee<I;ee++)q[F][ee]=D[ee][O],D[ee].splice(O,1)}if(!S)return{values:M};var ae=q.map((J,H)=>({value:M[H],vector:J}));return{values:M,eigenvectors:ae}}return h}var _de="eigs",xde=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],qS=N(_de,xde,r=>{var{config:e,typed:t,matrix:i,addScalar:n,subtract:o,equal:a,abs:s,atan:c,cos:l,sin:u,multiplyScalar:d,divideScalar:m,inv:h,bignumber:f,multiply:p,add:w,larger:C,column:T,flatten:g,number:_,complex:v,sqrt:y,diag:A,size:b,reshape:E,qr:D,usolve:S,usolveAll:I,im:M,re:q,smaller:U,matrixFromColumns:F,dot:O}=r,G=Lq({config:e,addScalar:n,subtract:o,column:T,flatten:g,equal:a,abs:s,atan:c,cos:l,sin:u,multiplyScalar:d,inv:h,bignumber:f,complex:v,multiply:p,add:w}),B=Bq({config:e,addScalar:n,subtract:o,multiply:p,multiplyScalar:d,flatten:g,divideScalar:m,sqrt:y,abs:s,bignumber:f,diag:A,size:b,reshape:E,qr:D,inv:h,usolve:S,usolveAll:I,equal:a,complex:v,larger:C,smaller:U,matrixFromColumns:F,dot:O});return t("eigs",{Array:function(P){return ee(i(P))},"Array, number|BigNumber":function(P,j){return ee(i(P),{precision:j})},"Array, Object"(V,P){return ee(i(V),P)},Matrix:function(P){return ee(P,{matricize:!0})},"Matrix, number|BigNumber":function(P,j){return ee(P,{precision:j,matricize:!0})},"Matrix, Object":function(P,j){var z={matricize:!0};return Kr(z,j),ee(P,z)}});function ee(V){var P,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},z="eigenvectors"in j?j.eigenvectors:!0,Q=(P=j.precision)!==null&&P!==void 0?P:e.relTol,ie=ae(V,Q,z);return j.matricize&&(ie.values=i(ie.values),z&&(ie.eigenvectors=ie.eigenvectors.map(re=>{var{value:pe,vector:fe}=re;return{value:pe,vector:i(fe)}}))),z&&Object.defineProperty(ie,"vectors",{enumerable:!1,get:()=>{throw new Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),ie}function ae(V,P,j){var z=V.toArray(),Q=V.size();if(Q.length!==2||Q[0]!==Q[1])throw new RangeError("Matrix must be square (size: ".concat(vt(Q),")"));var ie=Q[0];if(H(z,ie,P)&&(ce(z,ie),J(z,ie,P))){var re=ye(V,z,ie);return G(z,ie,P,re,j)}var pe=ye(V,z,ie);return B(z,ie,P,pe,j)}function J(V,P,j){for(var z=0;z<P;z++)for(var Q=z;Q<P;Q++)if(C(f(s(o(V[z][Q],V[Q][z]))),j))return!1;return!0}function H(V,P,j){for(var z=0;z<P;z++)for(var Q=0;Q<P;Q++)if(C(f(s(M(V[z][Q]))),j))return!1;return!0}function ce(V,P){for(var j=0;j<P;j++)for(var z=0;z<P;z++)V[j][z]=q(V[j][z])}function ye(V,P,j){var z=V.datatype();if(z==="number"||z==="BigNumber"||z==="Complex")return z;for(var Q=!1,ie=!1,re=!1,pe=0;pe<j;pe++)for(var fe=0;fe<j;fe++){var $=P[pe][fe];if(mt($)||ds($))Q=!0;else if(tt($))ie=!0;else if(Bn($))re=!0;else throw TypeError("Unsupported type in Matrix: "+Ht($))}if(ie&&re&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),re){for(var K=0;K<j;K++)for(var se=0;se<j;se++)P[K][se]=v(P[K][se]);return"Complex"}if(ie){for(var de=0;de<j;de++)for(var Ee=0;Ee<j;Ee++)P[de][Ee]=f(P[de][Ee]);return"BigNumber"}if(Q){for(var Se=0;Se<j;Se++)for(var Be=0;Be<j;Be++)P[Se][Be]=_(P[Se][Be]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}});var Vq="expm",wde=["typed","abs","add","identity","inv","multiply"],jS=N(Vq,wde,r=>{var{typed:e,abs:t,add:i,identity:n,inv:o,multiply:a}=r;return e(Vq,{Matrix:function(d){var m=d.size();if(m.length!==2||m[0]!==m[1])throw new RangeError("Matrix must be square (size: "+vt(m)+")");for(var h=m[0],f=1e-15,p=s(d),w=c(p,f),C=w.q,T=w.j,g=a(d,Math.pow(2,-T)),_=n(h),v=n(h),y=1,A=g,b=-1,E=1;E<=C;E++)E>1&&(A=a(A,g),b=-b),y=y*(C-E+1)/((2*C-E+1)*E),_=i(_,a(y,A)),v=i(v,a(y*b,A));for(var D=a(o(v),_),S=0;S<T;S++)D=a(D,D);return na(d)?d.createSparseMatrix(D):D}});function s(u){for(var d=u.size()[0],m=0,h=0;h<d;h++){for(var f=0,p=0;p<d;p++)f+=t(u.get([h,p]));m=Math.max(f,m)}return m}function c(u,d){for(var m=30,h=0;h<m;h++)for(var f=0;f<=h;f++){var p=h-f;if(l(u,f,p)<d)return{q:f,j:p}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}function l(u,d,m){for(var h=1,f=2;f<=d;f++)h*=f;for(var p=h,w=d+1;w<=2*d;w++)p*=w;var C=p*(2*d+1);return 8*Math.pow(u/Math.pow(2,m),2*d)*h*h/(p*C)}});var zq="sqrtm",Ede=["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],$S=N(zq,Ede,r=>{var{typed:e,abs:t,add:i,multiply:n,map:o,sqrt:a,subtract:s,inv:c,size:l,max:u,identity:d}=r,m=1e3,h=1e-6;function f(p){var w,C=0,T=p,g=d(l(p));do{var _=T;if(T=n(.5,i(_,c(g))),g=n(.5,i(g,c(_))),w=u(t(s(T,_))),w>h&&++C>m)throw new Error("computing square root of matrix: iterative method could not converge")}while(w>h);return T}return e(zq,{"Array | Matrix":function(w){var C=He(w)?w.size():it(w);switch(C.length){case 1:if(C[0]===1)return o(w,a);throw new RangeError("Matrix must be square (size: "+vt(C)+")");case 2:{var T=C[0],g=C[1];if(T===g)return f(w);throw new RangeError("Matrix must be square (size: "+vt(C)+")")}default:throw new RangeError("Matrix must be at most two dimensional (size: "+vt(C)+")")}}})});var Uq="sylvester",Dde=["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],HS=N(Uq,Dde,r=>{var{typed:e,schur:t,matrixFromColumns:i,matrix:n,multiply:o,range:a,concat:s,transpose:c,index:l,subset:u,add:d,subtract:m,identity:h,lusolve:f,abs:p}=r;return e(Uq,{"Matrix, Matrix, Matrix":w,"Array, Matrix, Matrix":function(T,g,_){return w(n(T),g,_)},"Array, Array, Matrix":function(T,g,_){return w(n(T),n(g),_)},"Array, Matrix, Array":function(T,g,_){return w(n(T),g,n(_))},"Matrix, Array, Matrix":function(T,g,_){return w(T,n(g),_)},"Matrix, Array, Array":function(T,g,_){return w(T,n(g),n(_))},"Matrix, Matrix, Array":function(T,g,_){return w(T,g,n(_))},"Array, Array, Array":function(T,g,_){return w(n(T),n(g),n(_)).toArray()}});function w(C,T,g){for(var _=T.size()[0],v=C.size()[0],y=t(C),A=y.T,b=y.U,E=t(o(-1,T)),D=E.T,S=E.U,I=o(o(c(b),g),S),M=a(0,v),q=[],U=(re,pe)=>s(re,pe,1),F=(re,pe)=>s(re,pe,0),O=0;O<_;O++)if(O<_-1&&p(u(D,l(O+1,O)))>1e-5){for(var G=F(u(I,l(M,O)),u(I,l(M,O+1))),B=0;B<O;B++)G=d(G,F(o(q[B],u(D,l(B,O))),o(q[B],u(D,l(B,O+1)))));var ee=o(h(v),o(-1,u(D,l(O,O)))),ae=o(h(v),o(-1,u(D,l(O+1,O)))),J=o(h(v),o(-1,u(D,l(O,O+1)))),H=o(h(v),o(-1,u(D,l(O+1,O+1)))),ce=F(U(d(A,ee),ae),U(J,d(A,H))),ye=f(ce,G);q[O]=ye.subset(l(a(0,v),0)),q[O+1]=ye.subset(l(a(v,2*v),0)),O++}else{for(var V=u(I,l(M,O)),P=0;P<O;P++)V=d(V,o(q[P],u(D,l(P,O))));var j=u(D,l(O,O)),z=m(A,o(j,h(v)));q[O]=f(z,V)}var Q=n(i(...q)),ie=o(b,o(Q,c(S)));return ie}});var qq="schur",Ade=["typed","matrix","identity","multiply","qr","norm","subtract"],GS=N(qq,Ade,r=>{var{typed:e,matrix:t,identity:i,multiply:n,qr:o,norm:a,subtract:s}=r;return e(qq,{Array:function(u){var d=c(t(u));return{U:d.U.valueOf(),T:d.T.valueOf()}},Matrix:function(u){return c(u)}});function c(l){var u=l.size()[0],d=l,m=i(u),h=0,f;do{f=d;var p=o(d),w=p.Q,C=p.R;if(d=n(C,w),m=n(m,w),h++>100)break}while(a(s(d,f))>1e-4);return{U:m,T:d}}});var jq="lyap",Cde=["typed","matrix","sylvester","multiply","transpose"],WS=N(jq,Cde,r=>{var{typed:e,matrix:t,sylvester:i,multiply:n,transpose:o}=r;return e(jq,{"Matrix, Matrix":function(s,c){return i(s,o(s),n(-1,c))},"Array, Matrix":function(s,c){return i(t(s),o(t(s)),n(-1,c))},"Matrix, Array":function(s,c){return i(s,o(t(s)),t(n(-1,c)))},"Array, Array":function(s,c){return i(t(s),o(t(s)),t(n(-1,c))).toArray()}})});var Sde="divide",Tde=["typed","matrix","multiply","equalScalar","divideScalar","inv"],XS=N(Sde,Tde,r=>{var{typed:e,matrix:t,multiply:i,equalScalar:n,divideScalar:o,inv:a}=r,s=yr({typed:e,equalScalar:n}),c=vi({typed:e});return e("divide",i0({"Array | Matrix, Array | Matrix":function(u,d){return i(u,a(d))},"DenseMatrix, any":function(u,d){return c(u,d,o,!1)},"SparseMatrix, any":function(u,d){return s(u,d,o,!1)},"Array, any":function(u,d){return c(t(u),d,o,!1).valueOf()},"any, Array | Matrix":function(u,d){return i(u,a(d))}},o.signatures))});var $q="distance",Ide=["typed","addScalar","subtractScalar","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],KS=N($q,Ide,r=>{var{typed:e,addScalar:t,subtractScalar:i,multiplyScalar:n,divideScalar:o,deepEqual:a,sqrt:s,abs:c}=r;return e($q,{"Array, Array, Array":function(v,y,A){if(v.length===2&&y.length===2&&A.length===2){if(!u(v))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!u(y))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!u(A))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(a(y,A))throw new TypeError("LinePoint1 should not be same with LinePoint2");var b=i(A[1],y[1]),E=i(y[0],A[0]),D=i(n(A[0],y[1]),n(y[0],A[1]));return w(v[0],v[1],b,E,D)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(v,y,A){if(Object.keys(v).length===2&&Object.keys(y).length===2&&Object.keys(A).length===2){if(!u(v))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!u(y))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!u(A))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(a(f(y),f(A)))throw new TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in v&&"pointY"in v&&"lineOnePtX"in y&&"lineOnePtY"in y&&"lineTwoPtX"in A&&"lineTwoPtY"in A){var b=i(A.lineTwoPtY,y.lineOnePtY),E=i(y.lineOnePtX,A.lineTwoPtX),D=i(n(A.lineTwoPtX,y.lineOnePtY),n(y.lineOnePtX,A.lineTwoPtY));return w(v.pointX,v.pointY,b,E,D)}else throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(v,y){if(v.length===2&&y.length===3){if(!u(v))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!d(y))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return w(v[0],v[1],y[0],y[1],y[2])}else if(v.length===3&&y.length===6){if(!d(v))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!h(y))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return C(v[0],v[1],v[2],y[0],y[1],y[2],y[3],y[4],y[5])}else if(v.length===y.length&&v.length>0){if(!m(v))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!m(y))throw new TypeError("All values of an array should be numbers or BigNumbers");return T(v,y)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(v,y){if(Object.keys(v).length===2&&Object.keys(y).length===3){if(!u(v))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!d(y))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in v&&"pointY"in v&&"xCoeffLine"in y&&"yCoeffLine"in y&&"constant"in y)return w(v.pointX,v.pointY,y.xCoeffLine,y.yCoeffLine,y.constant);throw new TypeError("Key names do not match")}else if(Object.keys(v).length===3&&Object.keys(y).length===6){if(!d(v))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!h(y))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in v&&"pointY"in v&&"x0"in y&&"y0"in y&&"z0"in y&&"a"in y&&"b"in y&&"c"in y)return C(v.pointX,v.pointY,v.pointZ,y.x0,y.y0,y.z0,y.a,y.b,y.c);throw new TypeError("Key names do not match")}else if(Object.keys(v).length===2&&Object.keys(y).length===2){if(!u(v))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!u(y))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in v&&"pointOneY"in v&&"pointTwoX"in y&&"pointTwoY"in y)return T([v.pointOneX,v.pointOneY],[y.pointTwoX,y.pointTwoY]);throw new TypeError("Key names do not match")}else if(Object.keys(v).length===3&&Object.keys(y).length===3){if(!d(v))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!d(y))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in v&&"pointOneY"in v&&"pointOneZ"in v&&"pointTwoX"in y&&"pointTwoY"in y&&"pointTwoZ"in y)return T([v.pointOneX,v.pointOneY,v.pointOneZ],[y.pointTwoX,y.pointTwoY,y.pointTwoZ]);throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},Array:function(v){if(!p(v))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return g(v)}});function l(_){return typeof _=="number"||tt(_)}function u(_){return _.constructor!==Array&&(_=f(_)),l(_[0])&&l(_[1])}function d(_){return _.constructor!==Array&&(_=f(_)),l(_[0])&&l(_[1])&&l(_[2])}function m(_){return Array.isArray(_)||(_=f(_)),_.every(l)}function h(_){return _.constructor!==Array&&(_=f(_)),l(_[0])&&l(_[1])&&l(_[2])&&l(_[3])&&l(_[4])&&l(_[5])}function f(_){for(var v=Object.keys(_),y=[],A=0;A<v.length;A++)y.push(_[v[A]]);return y}function p(_){if(_[0].length===2&&l(_[0][0])&&l(_[0][1])){if(_.some(v=>v.length!==2||!l(v[0])||!l(v[1])))return!1}else if(_[0].length===3&&l(_[0][0])&&l(_[0][1])&&l(_[0][2])){if(_.some(v=>v.length!==3||!l(v[0])||!l(v[1])||!l(v[2])))return!1}else return!1;return!0}function w(_,v,y,A,b){var E=c(t(t(n(y,_),n(A,v)),b)),D=s(t(n(y,y),n(A,A)));return o(E,D)}function C(_,v,y,A,b,E,D,S,I){var M=[i(n(i(b,v),I),n(i(E,y),S)),i(n(i(E,y),D),n(i(A,_),I)),i(n(i(A,_),S),n(i(b,v),D))];M=s(t(t(n(M[0],M[0]),n(M[1],M[1])),n(M[2],M[2])));var q=s(t(t(n(D,D),n(S,S)),n(I,I)));return o(M,q)}function T(_,v){for(var y=_.length,A=0,b=0,E=0;E<y;E++)b=i(_[E],v[E]),A=t(n(b,b),A);return s(A)}function g(_){for(var v=[],y=[],A=[],b=0;b<_.length-1;b++)for(var E=b+1;E<_.length;E++)_[0].length===2?(y=[_[b][0],_[b][1]],A=[_[E][0],_[E][1]]):_[0].length===3&&(y=[_[b][0],_[b][1],_[b][2]],A=[_[E][0],_[E][1],_[E][2]]),v.push(T(y,A));return v}});var Mde="intersect",Nde=["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],QS=N(Mde,Nde,r=>{var{typed:e,config:t,abs:i,add:n,addScalar:o,matrix:a,multiply:s,multiplyScalar:c,divideScalar:l,subtract:u,smaller:d,equalScalar:m,flatten:h,isZero:f,isNumeric:p}=r;return e("intersect",{"Array, Array, Array":w,"Array, Array, Array, Array":C,"Matrix, Matrix, Matrix":function(S,I,M){var q=w(S.valueOf(),I.valueOf(),M.valueOf());return q===null?null:a(q)},"Matrix, Matrix, Matrix, Matrix":function(S,I,M,q){var U=C(S.valueOf(),I.valueOf(),M.valueOf(),q.valueOf());return U===null?null:a(U)}});function w(D,S,I){if(D=T(D),S=T(S),I=T(I),!_(D))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!_(S))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!v(I))throw new TypeError("Array with 4 numbers expected as third argument");return E(D[0],D[1],D[2],S[0],S[1],S[2],I[0],I[1],I[2],I[3])}function C(D,S,I,M){if(D=T(D),S=T(S),I=T(I),M=T(M),D.length===2){if(!g(D))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!g(S))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!g(I))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!g(M))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return y(D,S,I,M)}else if(D.length===3){if(!_(D))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!_(S))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!_(I))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!_(M))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return b(D[0],D[1],D[2],S[0],S[1],S[2],I[0],I[1],I[2],M[0],M[1],M[2])}else throw new TypeError("Arrays with two or thee dimensional points expected")}function T(D){return D.length===1?D[0]:D.length>1&&Array.isArray(D[0])&&D.every(S=>Array.isArray(S)&&S.length===1)?h(D):D}function g(D){return D.length===2&&p(D[0])&&p(D[1])}function _(D){return D.length===3&&p(D[0])&&p(D[1])&&p(D[2])}function v(D){return D.length===4&&p(D[0])&&p(D[1])&&p(D[2])&&p(D[3])}function y(D,S,I,M){var q=D,U=I,F=u(q,S),O=u(U,M),G=u(c(F[0],O[1]),c(O[0],F[1]));if(f(G)||d(i(G),t.relTol))return null;var B=c(O[0],q[1]),ee=c(O[1],q[0]),ae=c(O[0],U[1]),J=c(O[1],U[0]),H=l(o(u(u(B,ee),ae),J),G);return n(s(F,H),q)}function A(D,S,I,M,q,U,F,O,G,B,ee,ae){var J=c(u(D,S),u(I,M)),H=c(u(q,U),u(F,O)),ce=c(u(G,B),u(ee,ae));return o(o(J,H),ce)}function b(D,S,I,M,q,U,F,O,G,B,ee,ae){var J=A(D,F,B,F,S,O,ee,O,I,G,ae,G),H=A(B,F,M,D,ee,O,q,S,ae,G,U,I),ce=A(D,F,M,D,S,O,q,S,I,G,U,I),ye=A(B,F,B,F,ee,O,ee,O,ae,G,ae,G),V=A(M,D,M,D,q,S,q,S,U,I,U,I),P=u(c(J,H),c(ce,ye)),j=u(c(V,ye),c(H,H));if(f(j))return null;var z=l(P,j),Q=l(o(J,c(z,H)),ye),ie=o(D,c(z,u(M,D))),re=o(S,c(z,u(q,S))),pe=o(I,c(z,u(U,I))),fe=o(F,c(Q,u(B,F))),$=o(O,c(Q,u(ee,O))),K=o(G,c(Q,u(ae,G)));return m(ie,fe)&&m(re,$)&&m(pe,K)?[ie,re,pe]:null}function E(D,S,I,M,q,U,F,O,G,B){var ee=c(D,F),ae=c(M,F),J=c(S,O),H=c(q,O),ce=c(I,G),ye=c(U,G),V=u(u(u(B,ee),J),ce),P=u(u(u(o(o(ae,H),ye),ee),J),ce),j=l(V,P),z=o(D,c(j,u(M,D))),Q=o(S,c(j,u(q,S))),ie=o(I,c(j,u(U,I)));return[z,Q,ie]}});var Hq="sum",kde=["typed","config","add","numeric"],Wf=N(Hq,kde,r=>{var{typed:e,config:t,add:i,numeric:n}=r;return e(Hq,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":a,"...":function(c){if(zo(c))throw new TypeError("Scalar values expected in function sum");return o(c)}});function o(s){var c;return En(s,function(l){try{c=c===void 0?l:i(c,l)}catch(u){throw si(u,"sum",l)}}),c===void 0&&(c=n(0,t.number)),typeof c=="string"&&(c=n(c,_n(c,t))),c}function a(s,c){try{var l=bc(s,c,i);return l}catch(u){throw si(u,"sum")}}});var uy="cumsum",Rde=["typed","add","unaryPlus"],Xf=N(uy,Rde,r=>{var{typed:e,add:t,unaryPlus:i}=r;return e(uy,{Array:n,Matrix:function(l){return l.create(n(l.valueOf(),l.datatype()))},"Array, number | BigNumber":a,"Matrix, number | BigNumber":function(l,u){return l.create(a(l.valueOf(),u),l.datatype())},"...":function(l){if(zo(l))throw new TypeError("All values expected to be scalar in function cumsum");return n(l)}});function n(c){try{return o(c)}catch(l){throw si(l,uy)}}function o(c){if(c.length===0)return[];for(var l=[i(c[0])],u=1;u<c.length;++u)l.push(t(l[u-1],c[u]));return l}function a(c,l){var u=it(c);if(l<0||l>=u.length)throw new cn(l,u.length);try{return s(c,l)}catch(d){throw si(d,uy)}}function s(c,l){var u,d,m;if(l<=0){var h=c[0][0];if(Array.isArray(h)){for(m=x0(c),d=[],u=0;u<m.length;u++)d[u]=s(m[u],l-1);return d}else return o(c)}else{for(d=[],u=0;u<c.length;u++)d[u]=s(c[u],l-1);return d}}});var Gq="mean",Fde=["typed","add","divide"],Kf=N(Gq,Fde,r=>{var{typed:e,add:t,divide:i}=r;return e(Gq,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":n,"...":function(s){if(zo(s))throw new TypeError("Scalar values expected in function mean");return o(s)}});function n(a,s){try{var c=bc(a,s,t),l=Array.isArray(a)?it(a):a.size();return i(c,l[s])}catch(u){throw si(u,"mean")}}function o(a){var s,c=0;if(En(a,function(l){try{s=s===void 0?l:t(s,l),c++}catch(u){throw si(u,"mean",l)}}),c===0)throw new Error("Cannot calculate the mean of an empty array");return i(s,c)}});var Wq="median",Ode=["typed","add","divide","compare","partitionSelect"],YS=N(Wq,Ode,r=>{var{typed:e,add:t,divide:i,compare:n,partitionSelect:o}=r;function a(l){try{l=kt(l.valueOf());var u=l.length;if(u===0)throw new Error("Cannot calculate median of an empty array");if(u%2===0){for(var d=u/2-1,m=o(l,d+1),h=l[d],f=0;f<d;++f)n(l[f],h)>0&&(h=l[f]);return c(h,m)}else{var p=o(l,(u-1)/2);return s(p)}}catch(w){throw si(w,"median")}}var s=e({"number | BigNumber | Complex | Unit":function(u){return u}}),c=e({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(u,d){return i(t(u,d),2)}});return e(Wq,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(u,d){throw new Error("median(A, dim) is not yet supported")},"...":function(u){if(zo(u))throw new TypeError("Scalar values expected in function median");return a(u)}})});var Xq="mad",Pde=["typed","abs","map","median","subtract"],ZS=N(Xq,Pde,r=>{var{typed:e,abs:t,map:i,median:n,subtract:o}=r;return e(Xq,{"Array | Matrix":a,"...":function(c){return a(c)}});function a(s){if(s=kt(s.valueOf()),s.length===0)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var c=n(s);return n(i(s,function(l){return t(o(l,c))}))}catch(l){throw l instanceof TypeError&&l.message.includes("median")?new TypeError(l.message.replace("median","mad")):si(l,"mad")}}});var JS="unbiased",Kq="variance",Bde=["typed","add","subtract","multiply","divide","apply","isNaN"],Qf=N(Kq,Bde,r=>{var{typed:e,add:t,subtract:i,multiply:n,divide:o,apply:a,isNaN:s}=r;return e(Kq,{"Array | Matrix":function(d){return c(d,JS)},"Array | Matrix, string":c,"Array | Matrix, number | BigNumber":function(d,m){return l(d,m,JS)},"Array | Matrix, number | BigNumber, string":l,"...":function(d){return c(d,JS)}});function c(u,d){var m,h=0;if(u.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(En(u,function(w){try{m=m===void 0?w:t(m,w),h++}catch(C){throw si(C,"variance",w)}}),h===0)throw new Error("Cannot calculate variance of an empty array");var f=o(m,h);if(m=void 0,En(u,function(w){var C=i(w,f);m=m===void 0?n(C,C):t(m,n(C,C))}),s(m))return m;switch(d){case"uncorrected":return o(m,h);case"biased":return o(m,h+1);case"unbiased":{var p=tt(m)?m.mul(0):0;return h===1?p:o(m,h-1)}default:throw new Error('Unknown normalization "'+d+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function l(u,d,m){try{if(u.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return a(u,d,h=>c(h,m))}catch(h){throw si(h,"variance")}}});var Qq="quantileSeq",Lde=["typed","?bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],Yf=N(Qq,Lde,r=>{var{typed:e,bignumber:t,add:i,subtract:n,divide:o,multiply:a,partitionSelect:s,compare:c,isInteger:l,smaller:u,smallerEq:d,larger:m}=r,h=zl({typed:e,isInteger:l});return e(Qq,{"Array | Matrix, number | BigNumber":(T,g)=>p(T,g,!1),"Array | Matrix, number | BigNumber, number":(T,g,_)=>f(T,g,!1,_,p),"Array | Matrix, number | BigNumber, boolean":p,"Array | Matrix, number | BigNumber, boolean, number":(T,g,_,v)=>f(T,g,_,v,p),"Array | Matrix, Array | Matrix":(T,g)=>w(T,g,!1),"Array | Matrix, Array | Matrix, number":(T,g,_)=>f(T,g,!1,_,w),"Array | Matrix, Array | Matrix, boolean":w,"Array | Matrix, Array | Matrix, boolean, number":(T,g,_,v)=>f(T,g,_,v,w)});function f(T,g,_,v,y){return h(T,v,A=>y(A,g,_))}function p(T,g,_){var v,y=T.valueOf();if(u(g,0))throw new Error("N/prob must be non-negative");if(d(g,1))return mt(g)?C(y,g,_):t(C(y,g,_));if(m(g,1)){if(!l(g))throw new Error("N must be a positive integer");if(m(g,4294967295))throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var A=i(g,1);v=[];for(var b=0;u(b,g);b++){var E=o(b+1,A);v.push(C(y,E,_))}return mt(g)?v:t(v)}}function w(T,g,_){for(var v=T.valueOf(),y=g.valueOf(),A=[],b=0;b<y.length;++b)A.push(C(v,y[b],_));return A}function C(T,g,_){var v=kt(T),y=v.length;if(y===0)throw new Error("Cannot calculate quantile of an empty sequence");var A=mt(g)?g*(y-1):g.times(y-1),b=mt(g)?Math.floor(A):A.floor().toNumber(),E=mt(g)?A%1:A.minus(b);if(l(A))return _?v[A]:s(v,mt(g)?A:A.valueOf());var D,S;if(_)D=v[b],S=v[b+1];else{S=s(v,b+1),D=v[b];for(var I=0;I<b;++I)c(v[I],D)>0&&(D=v[I])}return i(a(D,n(1,E)),a(S,E))}});var Yq="std",Vde=["typed","map","sqrt","variance"],Zf=N(Yq,Vde,r=>{var{typed:e,map:t,sqrt:i,variance:n}=r;return e(Yq,{"Array | Matrix":o,"Array | Matrix, string":o,"Array | Matrix, number | BigNumber":o,"Array | Matrix, number | BigNumber, string":o,"...":function(s){return o(s)}});function o(a,s){if(a.length===0)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var c=n.apply(null,arguments);return di(c)?t(c,i):i(c)}catch(l){throw l instanceof TypeError&&l.message.includes(" variance")?new TypeError(l.message.replace(" variance"," std")):l}}});var Zq="corr",zde=["typed","matrix","mean","sqrt","sum","add","subtract","multiply","pow","divide"],eT=N(Zq,zde,r=>{var{typed:e,matrix:t,sqrt:i,sum:n,add:o,subtract:a,multiply:s,pow:c,divide:l}=r;return e(Zq,{"Array, Array":function(h,f){return u(h,f)},"Matrix, Matrix":function(h,f){var p=u(h.toArray(),f.toArray());return Array.isArray(p)?t(p):p}});function u(m,h){var f=[];if(Array.isArray(m[0])&&Array.isArray(h[0])){if(m.length!==h.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same length.");for(var p=0;p<m.length;p++){if(m[p].length!==h[p].length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");f.push(d(m[p],h[p]))}return f}else{if(m.length!==h.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");return d(m,h)}}function d(m,h){var f=m.length,p=n(m),w=n(h),C=m.reduce((y,A,b)=>o(y,s(A,h[b])),0),T=n(m.map(y=>c(y,2))),g=n(h.map(y=>c(y,2))),_=a(s(f,C),s(p,w)),v=i(s(a(s(f,T),c(p,2)),a(s(f,g),c(w,2))));return l(_,v)}});var Jq="combinations",Ude=["typed"],tT=N(Jq,Ude,r=>{var{typed:e}=r;return e(Jq,{"number, number":DE,"BigNumber, BigNumber":function(i,n){var o=i.constructor,a,s,c=i.minus(n),l=new o(1);if(!e9(i)||!e9(n))throw new TypeError("Positive integer value expected in function combinations");if(n.gt(i))throw new TypeError("k must be less than n in function combinations");if(a=l,n.lt(c))for(s=l;s.lte(c);s=s.plus(l))a=a.times(n.plus(s)).dividedBy(s);else for(s=l;s.lte(n);s=s.plus(l))a=a.times(c.plus(s)).dividedBy(s);return a}})});function e9(r){return r.isInteger()&&r.gte(0)}var t9="combinationsWithRep",qde=["typed"],rT=N(t9,qde,r=>{var{typed:e}=r;return e(t9,{"number, number":function(i,n){if(!je(i)||i<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!je(n)||n<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(i<1)throw new TypeError("k must be less than or equal to n + k - 1");if(n<i-1){var o=po(i,i+n-1);return o/po(1,n)}var a=po(n+1,i+n-1);return a/po(1,i-1)},"BigNumber, BigNumber":function(i,n){var o=i.constructor,a,s,c=new o(1),l=i.minus(c);if(!r9(i)||!r9(n))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(i.lt(c))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(a=c,n.lt(l))for(s=c;s.lte(l);s=s.plus(c))a=a.times(n.plus(s)).dividedBy(s);else for(s=c;s.lte(n);s=s.plus(c))a=a.times(l.plus(s)).dividedBy(s);return a}})});function r9(r){return r.isInteger()&&r.gte(0)}var i9="gamma",jde=["typed","config","multiplyScalar","pow","BigNumber","Complex"],iT=N(i9,jde,r=>{var{typed:e,config:t,multiplyScalar:i,pow:n,BigNumber:o,Complex:a}=r;function s(l){if(l.im===0)return Df(l.re);if(l.re<.5){var u=new a(1-l.re,-l.im),d=new a(Math.PI*l.re,Math.PI*l.im);return new a(Math.PI).div(d.sin()).div(s(u))}l=new a(l.re-1,l.im);for(var m=new a(Vl[0],0),h=1;h<Vl.length;++h){var f=new a(Vl[h],0);m=m.add(f.div(l.add(h)))}var p=new a(l.re+SE+.5,l.im),w=Math.sqrt(2*Math.PI),C=p.pow(l.add(.5)),T=p.neg().exp();return m.mul(w).mul(C).mul(T)}return e(i9,{number:Df,Complex:s,BigNumber:function(u){if(u.isInteger())return u.isNegative()||u.isZero()?new o(1/0):c(u.minus(1));if(!u.isFinite())return new o(u.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function c(l){if(l<8)return new o([1,1,2,6,24,120,720,5040][l]);var u=t.precision+(Math.log(l.toNumber())|0),d=o.clone({precision:u});if(l%2===1)return l.times(c(new o(l-1)));for(var m=l,h=new d(l),f=l.toNumber();m>2;)m-=2,f+=m,h=h.times(f);return new o(h.toPrecision(o.precision))}});var n9="lgamma",$de=["Complex","typed"],nT=N(n9,$de,r=>{var{Complex:e,typed:t}=r,i=7,n=7,o=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return t(n9,{number:Af,Complex:a,BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function a(l){var u=6.283185307179586,d=1.1447298858494002,m=.1;if(l.isNaN())return new e(NaN,NaN);if(l.im===0)return new e(Af(l.re),0);if(l.re>=i||Math.abs(l.im)>=n)return s(l);if(l.re<=m){var h=UL(u,l.im)*Math.floor(.5*l.re+.25),f=l.mul(Math.PI).sin().log(),p=a(new e(1-l.re,-l.im));return new e(d,h).sub(f).sub(p)}else return l.im>=0?c(l):c(l.conjugate()).conjugate()}function s(l){for(var u=l.sub(.5).mul(l.log()).sub(l).add(TE),d=new e(1,0).div(l),m=d.div(l),h=o[0],f=o[1],p=2*m.re,w=m.re*m.re+m.im*m.im,C=2;C<8;C++){var T=f;f=-w*h+o[C],h=p*h+T}var g=d.mul(m.mul(h).add(f));return u.add(g)}function c(l){var u=0,d=0,m=l;for(l=l.add(1);l.re<=i;){m=m.mul(l);var h=m.im<0?1:0;h!==0&&d===0&&u++,d=h,l=l.add(1)}return s(l).sub(m.log()).sub(new e(0,u*2*Math.PI*1))}});var o9="factorial",Hde=["typed","gamma"],oT=N(o9,Hde,r=>{var{typed:e,gamma:t}=r;return e(o9,{number:function(n){if(n<0)throw new Error("Value must be non-negative");return t(n+1)},BigNumber:function(n){if(n.isNegative())throw new Error("Value must be non-negative");return t(n.plus(1))},"Array | Matrix":e.referToSelf(i=>n=>Ge(n,i))})});var a9="kldivergence",Gde=["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],aT=N(a9,Gde,r=>{var{typed:e,matrix:t,divide:i,sum:n,multiply:o,map:a,dotDivide:s,log:c,isNumeric:l}=r;return e(a9,{"Array, Array":function(m,h){return u(t(m),t(h))},"Matrix, Array":function(m,h){return u(m,t(h))},"Array, Matrix":function(m,h){return u(t(m),h)},"Matrix, Matrix":function(m,h){return u(m,h)}});function u(d,m){var h=m.size().length,f=d.size().length;if(h>1)throw new Error("first object must be one dimensional");if(f>1)throw new Error("second object must be one dimensional");if(h!==f)throw new Error("Length of two vectors must be equal");var p=n(d);if(p===0)throw new Error("Sum of elements in first object must be non zero");var w=n(m);if(w===0)throw new Error("Sum of elements in second object must be non zero");var C=i(d,n(d)),T=i(m,n(m)),g=n(o(C,a(s(C,T),_=>c(_))));return l(g)?g:Number.NaN}});var s9="multinomial",Wde=["typed","add","divide","multiply","factorial","isInteger","isPositive"],sT=N(s9,Wde,r=>{var{typed:e,add:t,divide:i,multiply:n,factorial:o,isInteger:a,isPositive:s}=r;return e(s9,{"Array | Matrix":function(l){var u=0,d=1;return En(l,function(m){if(!a(m)||!s(m))throw new TypeError("Positive integer value expected in function multinomial");u=t(u,m),d=n(d,o(m))}),i(o(u),d)}})});var c9="permutations",Xde=["typed","factorial"],cT=N(c9,Xde,r=>{var{typed:e,factorial:t}=r;return e(c9,{"number | BigNumber":t,"number, number":function(n,o){if(!je(n)||n<0)throw new TypeError("Positive integer value expected in function permutations");if(!je(o)||o<0)throw new TypeError("Positive integer value expected in function permutations");if(o>n)throw new TypeError("second argument k must be less than or equal to first argument n");return po(n-o+1,n)},"BigNumber, BigNumber":function(n,o){var a,s;if(!l9(n)||!l9(o))throw new TypeError("Positive integer value expected in function permutations");if(o.gt(n))throw new TypeError("second argument k must be less than or equal to first argument n");var c=n.mul(0).add(1);for(a=c,s=n.minus(o).plus(1);s.lte(n);s=s.plus(1))a=a.times(s);return a}})});function l9(r){return r.isInteger()&&r.gte(0)}var pT=zu(C9(),1),tme=(0,pT.default)(Date.now());function ys(r){var e;function t(n){e=n===null?tme:(0,pT.default)(String(n))}t(r);function i(){return e()}return i}var S9="pickRandom",rme=["typed","config","?on"],gT=N(S9,rme,r=>{var{typed:e,config:t,on:i}=r,n=ys(t.randomSeed);return i&&i("config",function(a,s){a.randomSeed!==s.randomSeed&&(n=ys(a.randomSeed))}),e(S9,{"Array | Matrix":function(s){return o(s,{})},"Array | Matrix, Object":function(s,c){return o(s,c)},"Array | Matrix, number":function(s,c){return o(s,{number:c})},"Array | Matrix, Array | Matrix":function(s,c){return o(s,{weights:c})},"Array | Matrix, Array | Matrix, number":function(s,c,l){return o(s,{number:l,weights:c})},"Array | Matrix, number, Array | Matrix":function(s,c,l){return o(s,{number:c,weights:l})}});function o(a,s){var{number:c,weights:l,elementWise:u=!0}=s,d=typeof c>"u";d&&(c=1);var m=He(a)?a.create:He(l)?l.create:null;a=a.valueOf(),l&&(l=l.valueOf()),u===!0&&(a=kt(a),l=kt(l));var h=0;if(typeof l<"u"){if(l.length!==a.length)throw new Error("Weights must have the same length as possibles");for(var f=0,p=l.length;f<p;f++){if(!mt(l[f])||l[f]<0)throw new Error("Weights must be an array of positive numbers");h+=l[f]}}for(var w=a.length,C=[],T;C.length<c;){if(typeof l>"u")T=a[Math.floor(n()*w)];else for(var g=n()*h,_=0,v=a.length;_<v;_++)if(g-=l[_],g<0){T=a[_];break}C.push(T)}return d?C[0]:m?m(C):C}});function Jf(r,e){var t=[];if(r=r.slice(0),r.length>1)for(var i=0,n=r.shift();i<n;i++)t.push(Jf(r,e));else for(var o=0,a=r.shift();o<a;o++)t.push(e());return t}var T9="random",ime=["typed","config","?on"],vT=N(T9,ime,r=>{var{typed:e,config:t,on:i}=r,n=ys(t.randomSeed);return i&&i("config",function(s,c){s.randomSeed!==c.randomSeed&&(n=ys(s.randomSeed))}),e(T9,{"":()=>a(0,1),number:s=>a(0,s),"number, number":(s,c)=>a(s,c),"Array | Matrix":s=>o(s,0,1),"Array | Matrix, number":(s,c)=>o(s,0,c),"Array | Matrix, number, number":(s,c,l)=>o(s,c,l)});function o(s,c,l){var u=Jf(s.valueOf(),()=>a(c,l));return He(s)?s.create(u,"number"):u}function a(s,c){return s+n()*(c-s)}});var I9="randomInt",nme=["typed","config","?on"],yT=N(I9,nme,r=>{var{typed:e,config:t,on:i}=r,n=ys(t.randomSeed);return i&&i("config",function(s,c){s.randomSeed!==c.randomSeed&&(n=ys(s.randomSeed))}),e(I9,{"":()=>a(0,1),number:s=>a(0,s),"number, number":(s,c)=>a(s,c),"Array | Matrix":s=>o(s,0,1),"Array | Matrix, number":(s,c)=>o(s,0,c),"Array | Matrix, number, number":(s,c,l)=>o(s,c,l)});function o(s,c,l){var u=Jf(s.valueOf(),()=>a(c,l));return He(s)?s.create(u,"number"):u}function a(s,c){return Math.floor(s+n()*(c-s))}});var M9="stirlingS2",ome=["typed","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],bT=N(M9,ome,r=>{var{typed:e,addScalar:t,subtractScalar:i,multiplyScalar:n,divideScalar:o,pow:a,factorial:s,combinations:c,isNegative:l,isInteger:u,number:d,bignumber:m,larger:h}=r,f=[],p=[];return e(M9,{"number | BigNumber, number | BigNumber":function(C,T){if(!u(C)||l(C)||!u(T)||l(T))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(h(T,C))throw new TypeError("k must be less than or equal to n in function stirlingS2");var g=!(mt(C)&&mt(T)),_=g?p:f,v=g?m:d,y=d(C),A=d(T);if(_[y]&&_[y].length>A)return _[y][A];for(var b=0;b<=y;++b)if(_[b]||(_[b]=[v(b===0?1:0)]),b!==0)for(var E=_[b],D=_[b-1],S=E.length;S<=b&&S<=A;++S)S===b?E[S]=1:E[S]=t(n(v(S),D[S]),D[S-1]);return _[y][A]}})});var N9="bellNumbers",ame=["typed","addScalar","isNegative","isInteger","stirlingS2"],_T=N(N9,ame,r=>{var{typed:e,addScalar:t,isNegative:i,isInteger:n,stirlingS2:o}=r;return e(N9,{"number | BigNumber":function(s){if(!n(s)||i(s))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var c=0,l=0;l<=s;l++)c=t(c,o(s,l));return c}})});var k9="catalan",sme=["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],xT=N(k9,sme,r=>{var{typed:e,addScalar:t,divideScalar:i,multiplyScalar:n,combinations:o,isNegative:a,isInteger:s}=r;return e(k9,{"number | BigNumber":function(l){if(!s(l)||a(l))throw new TypeError("Non-negative integer value expected in function catalan");return i(o(n(l,2),l),t(l,1))}})});var R9="composition",cme=["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],wT=N(R9,cme,r=>{var{typed:e,addScalar:t,combinations:i,isPositive:n,isNegative:o,isInteger:a,larger:s}=r;return e(R9,{"number | BigNumber, number | BigNumber":function(l,u){if(!a(l)||!n(l)||!a(u)||!n(u))throw new TypeError("Positive integer value expected in function composition");if(s(u,l))throw new TypeError("k must be less than or equal to n in function composition");return i(t(l,-1),t(u,-1))}})});var F9="leafCount",lme=["parse","typed"],ET=N(F9,lme,r=>{var{parse:e,typed:t}=r;function i(n){var o=0;return n.forEach(a=>{o+=i(a)}),o||1}return t(F9,{Node:function(o){return i(o)}})});function DT(r){return Ot(r)||Lr(r)&&r.isUnary()&&Ot(r.args[0])}function ep(r){return!!(Ot(r)||(Ln(r)||Lr(r))&&r.args.every(ep)||an(r)&&ep(r.content))}function O9(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),t.push.apply(t,i)}return t}function AT(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?O9(Object(t),!0).forEach(function(i){hr(r,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):O9(Object(t)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))})}return r}var ume="simplifyUtil",dme=["FunctionNode","OperatorNode","SymbolNode"],zd=N(ume,dme,r=>{var{FunctionNode:e,OperatorNode:t,SymbolNode:i}=r,n=!0,o=!1,a="defaultF",s={add:{trivial:n,total:n,commutative:n,associative:n},unaryPlus:{trivial:n,total:n,commutative:n,associative:n},subtract:{trivial:o,total:n,commutative:o,associative:o},multiply:{trivial:n,total:n,commutative:n,associative:n},divide:{trivial:o,total:n,commutative:o,associative:o},paren:{trivial:n,total:n,commutative:n,associative:o},defaultF:{trivial:o,total:n,commutative:o,associative:o}},c={divide:{total:o},log:{total:o}},l={subtract:{total:o},abs:{trivial:n},log:{total:n}};function u(g,_){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s,y=a;if(typeof g=="string"?y=g:Lr(g)?y=g.fn.toString():Ln(g)?y=g.name:an(g)&&(y="paren"),Ke(v,y)){var A=v[y];if(Ke(A,_))return A[_];if(Ke(s,y))return s[y][_]}if(Ke(v,a)){var b=v[a];return Ke(b,_)?b[_]:s[a][_]}if(Ke(s,y)){var E=s[y];if(Ke(E,_))return E[_]}return s[a][_]}function d(g){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s;return u(g,"commutative",_)}function m(g){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s;return u(g,"associative",_)}function h(g,_){var v=AT({},g);for(var y in _)Ke(g,y)?v[y]=AT(AT({},_[y]),g[y]):v[y]=_[y];return v}function f(g,_){if(!g.args||g.args.length===0)return g;g.args=p(g,_);for(var v=0;v<g.args.length;v++)f(g.args[v],_)}function p(g,_){var v,y=[],A=function(E){for(var D=0;D<E.args.length;D++){var S=E.args[D];Lr(S)&&v===S.op?A(S):y.push(S)}};return m(g,_)?(v=g.op,A(g),y):g.args}function w(g,_){if(!(!g.args||g.args.length===0)){for(var v=T(g),y=g.args.length,A=0;A<y;A++)w(g.args[A],_);if(y>2&&m(g,_)){for(var b=g.args.pop();g.args.length>0;)b=v([g.args.pop(),b]);g.args=b.args}}}function C(g,_){if(!(!g.args||g.args.length===0)){for(var v=T(g),y=g.args.length,A=0;A<y;A++)C(g.args[A],_);if(y>2&&m(g,_)){for(var b=g.args.shift();g.args.length>0;)b=v([b,g.args.shift()]);g.args=b.args}}}function T(g){return Lr(g)?function(_){try{return new t(g.op,g.fn,_,g.implicit)}catch(v){return console.error(v),[]}}:function(_){return new e(new i(g.name),_)}}return{createMakeNodeFunction:T,hasProperty:u,isCommutative:d,isAssociative:m,mergeContext:h,flatten:f,allChildren:p,unflattenr:w,unflattenl:C,defaultContext:s,realContext:c,positiveContext:l}});var mme="simplify",hme=["typed","parse","equal","resolve","simplifyConstant","simplifyCore","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode","replacer"],CT=N(mme,hme,r=>{var{typed:e,parse:t,equal:i,resolve:n,simplifyConstant:o,simplifyCore:a,AccessorNode:s,ArrayNode:c,ConstantNode:l,FunctionNode:u,IndexNode:d,ObjectNode:m,OperatorNode:h,ParenthesisNode:f,SymbolNode:p,replacer:w}=r,{hasProperty:C,isCommutative:T,isAssociative:g,mergeContext:_,flatten:v,unflattenr:y,unflattenl:A,createMakeNodeFunction:b,defaultContext:E,realContext:D,positiveContext:S}=zd({FunctionNode:u,OperatorNode:h,SymbolNode:p});e.addConversion({from:"Object",to:"Map",convert:us});var I=e("simplify",{Node:B,"Node, Map":(j,z)=>B(j,!1,z),"Node, Map, Object":(j,z,Q)=>B(j,!1,z,Q),"Node, Array":B,"Node, Array, Map":B,"Node, Array, Map, Object":B});e.removeConversion({from:"Object",to:"Map",convert:us}),I.defaultContext=E,I.realContext=D,I.positiveContext=S;function M(j){return j.transform(function(z){return an(z)?M(z.content):z})}var q={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};I.rules=[a,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},o,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},o,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n+-(n1)",r:"n-(n1)"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];function U(j,z){var Q={};if(j.s){var ie=j.s.split("->");if(ie.length===2)Q.l=ie[0],Q.r=ie[1];else throw SyntaxError("Could not parse rule: "+j.s)}else Q.l=j.l,Q.r=j.r;Q.l=M(t(Q.l)),Q.r=M(t(Q.r));for(var re of["imposeContext","repeat","assuming"])re in j&&(Q[re]=j[re]);if(j.evaluate&&(Q.evaluate=t(j.evaluate)),g(Q.l,z)){var pe=!T(Q.l,z),fe;pe&&(fe=G());var $=b(Q.l),K=G();Q.expanded={},Q.expanded.l=$([Q.l,K]),v(Q.expanded.l,z),y(Q.expanded.l,z),Q.expanded.r=$([Q.r,K]),pe&&(Q.expandedNC1={},Q.expandedNC1.l=$([fe,Q.l]),Q.expandedNC1.r=$([fe,Q.r]),Q.expandedNC2={},Q.expandedNC2.l=$([fe,Q.expanded.l]),Q.expandedNC2.r=$([fe,Q.expanded.r]))}return Q}function F(j,z){for(var Q=[],ie=0;ie<j.length;ie++){var re=j[ie],pe=void 0,fe=typeof re;switch(fe){case"string":re={s:re};case"object":pe=U(re,z);break;case"function":pe=re;break;default:throw TypeError("Unsupported type of rule: "+fe)}Q.push(pe)}return Q}var O=0;function G(){return new p("_p"+O++)}function B(j,z){var Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:uc(),ie=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},re=ie.consoleDebug;z=F(z||I.rules,ie.context);var pe=n(j,Q);pe=M(pe);for(var fe={},$=pe.toString({parenthesis:"all"});!fe[$];){fe[$]=!0,O=0;var K=$;re&&console.log("Working on: ",$);for(var se=0;se<z.length;se++){var de="";if(typeof z[se]=="function"?(pe=z[se](pe,ie),re&&(de=z[se].name)):(v(pe,ie.context),pe=ae(pe,z[se],ie.context),re&&(de="".concat(z[se].l.toString()," -> ").concat(z[se].r.toString()))),re){var Ee=pe.toString({parenthesis:"all"});Ee!==K&&(console.log("Applying",de,"produced",Ee),K=Ee)}A(pe,ie.context)}$=pe.toString({parenthesis:"all"})}return pe}function ee(j,z,Q){var ie=j;if(j)for(var re=0;re<j.length;++re){var pe=ae(j[re],z,Q);pe!==j[re]&&(ie===j&&(ie=j.slice()),ie[re]=pe)}return ie}function ae(j,z,Q){if(z.assuming){for(var ie in z.assuming)for(var re in z.assuming[ie])if(C(ie,re,Q)!==z.assuming[ie][re])return j}var pe=_(z.imposeContext,Q),fe=j;if(fe instanceof h||fe instanceof u){var $=ee(fe.args,z,Q);$!==fe.args&&(fe=fe.clone(),fe.args=$)}else if(fe instanceof f){if(fe.content){var K=ae(fe.content,z,Q);K!==fe.content&&(fe=new f(K))}}else if(fe instanceof c){var se=ee(fe.items,z,Q);se!==fe.items&&(fe=new c(se))}else if(fe instanceof s){var de=fe.object;fe.object&&(de=ae(fe.object,z,Q));var Ee=fe.index;fe.index&&(Ee=ae(fe.index,z,Q)),(de!==fe.object||Ee!==fe.index)&&(fe=new s(de,Ee))}else if(fe instanceof d){var Se=ee(fe.dimensions,z,Q);Se!==fe.dimensions&&(fe=new d(Se))}else if(fe instanceof m){var Be=!1,We={};for(var Mt in fe.properties)We[Mt]=ae(fe.properties[Mt],z,Q),We[Mt]!==fe.properties[Mt]&&(Be=!0);Be&&(fe=new m(We))}var ft=z.r,sr=V(z.l,fe,pe)[0];if(!sr&&z.expanded&&(ft=z.expanded.r,sr=V(z.expanded.l,fe,pe)[0]),!sr&&z.expandedNC1&&(ft=z.expandedNC1.r,sr=V(z.expandedNC1.l,fe,pe)[0],sr||(ft=z.expandedNC2.r,sr=V(z.expandedNC2.l,fe,pe)[0])),sr){var rr=fe.implicit;fe=ft.clone(),rr&&"implicit"in ft&&(fe.implicit=!0),fe=fe.transform(function(Xt){return Xt.isSymbolNode&&Ke(sr.placeholders,Xt.name)?sr.placeholders[Xt.name].clone():Xt})}return z.repeat&&fe!==j&&(fe=ae(fe,z,Q)),fe}function J(j,z){var Q=[],ie,re,pe=b(j);if(T(j,z))for(var fe=0;fe<j.args.length;fe++)re=j.args.slice(0),re.splice(fe,1),ie=re.length===1?re[0]:pe(re),Q.push(pe([j.args[fe],ie]));else for(var $=1;$<j.args.length;$++){var K=j.args[0];$>1&&(K=pe(j.args.slice(0,$))),re=j.args.slice($),ie=re.length===1?re[0]:pe(re),Q.push(pe([K,ie]))}return Q}function H(j,z){var Q={placeholders:{}};if(!j.placeholders&&!z.placeholders)return Q;if(j.placeholders){if(!z.placeholders)return j}else return z;for(var ie in j.placeholders)if(Ke(j.placeholders,ie)&&(Q.placeholders[ie]=j.placeholders[ie],Ke(z.placeholders,ie)&&!P(j.placeholders[ie],z.placeholders[ie])))return null;for(var re in z.placeholders)Ke(z.placeholders,re)&&(Q.placeholders[re]=z.placeholders[re]);return Q}function ce(j,z){var Q=[];if(j.length===0||z.length===0)return Q;for(var ie,re=0;re<j.length;re++)for(var pe=0;pe<z.length;pe++)ie=H(j[re],z[pe]),ie&&Q.push(ie);return Q}function ye(j){if(j.length===0)return j;for(var z=j.reduce(ce),Q=[],ie={},re=0;re<z.length;re++){var pe=JSON.stringify(z[re],w);ie[pe]||(ie[pe]=!0,Q.push(z[re]))}return Q}function V(j,z,Q,ie){var re=[{placeholders:{}}];if(j instanceof h&&z instanceof h||j instanceof u&&z instanceof u){if(j instanceof h){if(j.op!==z.op||j.fn!==z.fn)return[]}else if(j instanceof u&&j.name!==z.name)return[];if(z.args.length===1&&j.args.length===1||!g(z,Q)&&z.args.length===j.args.length||ie){for(var pe=[],fe=0;fe<j.args.length;fe++){var $=V(j.args[fe],z.args[fe],Q);if($.length===0)break;pe.push($)}if(pe.length!==j.args.length){if(!T(z,Q)||j.args.length===1)return[];if(j.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var K=V(j.args[0],z.args[1],Q);if(K.length===0)return[];var se=V(j.args[1],z.args[0],Q);if(se.length===0)return[];pe=[K,se]}re=ye(pe)}else if(z.args.length>=2&&j.args.length===2){for(var de=J(z,Q),Ee=[],Se=0;Se<de.length;Se++){var Be=V(j,de[Se],Q,!0);Ee=Ee.concat(Be)}return Ee}else{if(j.args.length>2)throw Error("Unexpected non-binary associative function: "+j.toString());return[]}}else if(j instanceof p){if(j.name.length===0)throw new Error("Symbol in rule has 0 length...!?");if(q[j.name]){if(j.name!==z.name)return[]}else switch(j.name[1]>="a"&&j.name[1]<="z"?j.name.substring(0,2):j.name[0]){case"n":case"_p":re[0].placeholders[j.name]=z;break;case"c":case"cl":if(Ot(z))re[0].placeholders[j.name]=z;else return[];break;case"v":if(!Ot(z))re[0].placeholders[j.name]=z;else return[];break;case"vl":if(Mr(z))re[0].placeholders[j.name]=z;else return[];break;case"cd":if(DT(z))re[0].placeholders[j.name]=z;else return[];break;case"vd":if(!DT(z))re[0].placeholders[j.name]=z;else return[];break;case"ce":if(ep(z))re[0].placeholders[j.name]=z;else return[];break;case"ve":if(!ep(z))re[0].placeholders[j.name]=z;else return[];break;default:throw new Error("Invalid symbol in rule: "+j.name)}}else if(j instanceof l){if(!i(j.value,z.value))return[]}else return[];return re}function P(j,z){if(j instanceof l&&z instanceof l){if(!i(j.value,z.value))return!1}else if(j instanceof p&&z instanceof p){if(j.name!==z.name)return!1}else if(j instanceof h&&z instanceof h||j instanceof u&&z instanceof u){if(j instanceof h){if(j.op!==z.op||j.fn!==z.fn)return!1}else if(j instanceof u&&j.name!==z.name)return!1;if(j.args.length!==z.args.length)return!1;for(var Q=0;Q<j.args.length;Q++)if(!P(j.args[Q],z.args[Q]))return!1}else return!1;return!0}return I});var fme="simplifyConstant",pme=["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],ST=N(fme,pme,r=>{var{typed:e,config:t,mathWithTransform:i,matrix:n,fraction:o,bignumber:a,AccessorNode:s,ArrayNode:c,ConstantNode:l,FunctionNode:u,IndexNode:d,ObjectNode:m,OperatorNode:h,SymbolNode:f}=r,{isCommutative:p,isAssociative:w,allChildren:C,createMakeNodeFunction:T}=zd({FunctionNode:u,OperatorNode:h,SymbolNode:f}),g=e("simplifyConstant",{Node:U=>A(q(U,{})),"Node, Object":function(F,O){return A(q(F,O))}});function _(U){return ds(U)?U.valueOf():U instanceof Array?U.map(_):He(U)?n(_(U.valueOf())):U}function v(U,F,O){try{return i[U].apply(null,F)}catch{return F=F.map(_),E(i[U].apply(null,F),O)}}var y=e({Fraction:S,number:function(F){return F<0?D(new l(-F)):new l(F)},BigNumber:function(F){return F<0?D(new l(-F)):new l(F)},bigint:function(F){return F<0n?D(new l(-F)):new l(F)},Complex:function(F){throw new Error("Cannot convert Complex number to Node")},string:function(F){return new l(F)},Matrix:function(F){return new c(F.valueOf().map(O=>y(O)))}});function A(U){return Vt(U)?U:y(U)}function b(U,F){var O=F&&F.exactFractions!==!1;if(O&&isFinite(U)&&o){var G=o(U),B=F&&typeof F.fractionsLimit=="number"?F.fractionsLimit:1/0;if(G.valueOf()===U&&G.n<B&&G.d<B)return G}return U}var E=e({"string, Object":function(F,O){var G=_n(F,t);if(G==="BigNumber")return a===void 0&&Fd(),a(F);if(G==="bigint")return BigInt(F);if(G==="Fraction")return o===void 0&&N0(),o(F);var B=parseFloat(F);return b(B,O)},"Fraction, Object":function(F,O){return F},"BigNumber, Object":function(F,O){return F},"number, Object":function(F,O){return b(F,O)},"bigint, Object":function(F,O){return F},"Complex, Object":function(F,O){return F.im!==0?F:b(F.re,O)},"Matrix, Object":function(F,O){return n(b(F.valueOf()))},"Array, Object":function(F,O){return F.map(b)}});function D(U){return new h("-","unaryMinus",[U])}function S(U){var F=B=>t.number==="BigNumber"&&a?a(B):Number(B),O=U.s*U.n,G=O<0n?new h("-","unaryMinus",[new l(-F(O))]):new l(F(O));return U.d===1n?G:new h("/","divide",[G,new l(F(U.d))])}function I(U,F,O){if(!Oo(F))return new s(A(U),A(F));if(on(U)||He(U)){for(var G=Array.from(F.dimensions);G.length>0;)if(Ot(G[0])&&typeof G[0].value!="string"){var B=E(G.shift().value,O);on(U)?U=U.items[B-1]:(U=U.valueOf()[B-1],U instanceof Array&&(U=n(U)))}else if(G.length>1&&Ot(G[1])&&typeof G[1].value!="string"){var ee=E(G[1].value,O),ae=[],J=on(U)?U.items:U.valueOf();for(var H of J)if(on(H))ae.push(H.items[ee-1]);else if(He(U))ae.push(H[ee-1]);else break;if(ae.length===J.length)on(U)?U=new c(ae):U=n(ae),G.splice(1,1);else break}else break;return G.length===F.dimensions.length?new s(A(U),F):G.length>0?(F=new d(G),new s(A(U),F)):U}if(hc(U)&&F.dimensions.length===1&&Ot(F.dimensions[0])){var ce=F.dimensions[0].value;return ce in U.properties?U.properties[ce]:new l}return new s(A(U),F)}function M(U,F,O,G){var B=F.shift(),ee=F.reduce((ae,J)=>{if(!Vt(J)){var H=ae.pop();if(Vt(H))return[H,J];try{return ae.push(v(U,[H,J],G)),ae}catch{ae.push(H)}}ae.push(A(ae.pop()));var ce=ae.length===1?ae[0]:O(ae);return[O([ce,A(J)])]},[B]);return ee.length===1?ee[0]:O([ee[0],y(ee[1])])}function q(U,F){switch(U.type){case"SymbolNode":return U;case"ConstantNode":switch(typeof U.value){case"number":return E(U.value,F);case"bigint":return E(U.value,F);case"string":return U.value;default:if(!isNaN(U.value))return E(U.value,F)}return U;case"FunctionNode":if(i[U.name]&&i[U.name].rawArgs)return U;{var O=["add","multiply"];if(!O.includes(U.name)){var G=U.args.map(ie=>q(ie,F));if(!G.some(Vt))try{return v(U.name,G,F)}catch{}if(U.name==="size"&&G.length===1&&on(G[0])){for(var B=[],ee=G[0];on(ee);)B.push(ee.items.length),ee=ee.items[0];return n(B)}return new u(U.name,G.map(A))}}case"OperatorNode":{var ae=U.fn.toString(),J,H,ce=T(U);if(Lr(U)&&U.isUnary())J=[q(U.args[0],F)],Vt(J[0])?H=ce(J):H=v(ae,J,F);else if(w(U,F.context))if(J=C(U,F.context),J=J.map(ie=>q(ie,F)),p(ae,F.context)){for(var ye=[],V=[],P=0;P<J.length;P++)Vt(J[P])?V.push(J[P]):ye.push(J[P]);ye.length>1?(H=M(ae,ye,ce,F),V.unshift(H),H=M(ae,V,ce,F)):H=M(ae,J,ce,F)}else H=M(ae,J,ce,F);else J=U.args.map(ie=>q(ie,F)),H=M(ae,J,ce,F);return H}case"ParenthesisNode":return q(U.content,F);case"AccessorNode":return I(q(U.object,F),q(U.index,F),F);case"ArrayNode":{var j=U.items.map(ie=>q(ie,F));return j.some(Vt)?new c(j.map(A)):n(j)}case"IndexNode":return new d(U.dimensions.map(ie=>g(ie,F)));case"ObjectNode":{var z={};for(var Q in U.properties)z[Q]=g(U.properties[Q],F);return new m(z)}case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"RangeNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(U.type))}}return g});var P9="simplifyCore",gme=["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],TT=N(P9,gme,r=>{var{typed:e,parse:t,equal:i,isZero:n,add:o,subtract:a,multiply:s,divide:c,pow:l,AccessorNode:u,ArrayNode:d,ConstantNode:m,FunctionNode:h,IndexNode:f,ObjectNode:p,OperatorNode:w,ParenthesisNode:C,SymbolNode:T}=r,g=new m(0),_=new m(1),v=new m(!0),y=new m(!1);function A(S){return Lr(S)&&["and","not","or"].includes(S.op)}var{hasProperty:b,isCommutative:E}=zd({FunctionNode:h,OperatorNode:w,SymbolNode:T});function D(S){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},M=I?I.context:void 0;if(b(S,"trivial",M)){if(Ln(S)&&S.args.length===1)return D(S.args[0],I);var q=!1,U=0;if(S.forEach(V=>{++U,U===1&&(q=D(V,I))}),U===1)return q}var F=S;if(Ln(F)){var O=kz(F.name);if(O){if(F.args.length>2&&b(F,"associative",M))for(;F.args.length>2;){var G=F.args.pop(),B=F.args.pop();F.args.push(new w(O,F.name,[G,B]))}F=new w(O,F.name,F.args)}else return new h(D(F.fn),F.args.map(V=>D(V,I)))}if(Lr(F)&&F.isUnary()){var ee=D(F.args[0],I);if(F.op==="~"&&Lr(ee)&&ee.isUnary()&&ee.op==="~"||F.op==="not"&&Lr(ee)&&ee.isUnary()&&ee.op==="not"&&A(ee.args[0]))return ee.args[0];var ae=!0;if(F.op==="-"&&Lr(ee)&&(ee.isBinary()&&ee.fn==="subtract"&&(F=new w("-","subtract",[ee.args[1],ee.args[0]]),ae=!1),ee.isUnary()&&ee.op==="-"))return ee.args[0];if(ae)return new w(F.op,F.fn,[ee])}if(Lr(F)&&F.isBinary()){var J=D(F.args[0],I),H=D(F.args[1],I);if(F.op==="+"){if(Ot(J)&&n(J.value))return H;if(Ot(H)&&n(H.value))return J;Lr(H)&&H.isUnary()&&H.op==="-"&&(H=H.args[0],F=new w("-","subtract",[J,H]))}if(F.op==="-")return Lr(H)&&H.isUnary()&&H.op==="-"?D(new w("+","add",[J,H.args[0]]),I):Ot(J)&&n(J.value)?D(new w("-","unaryMinus",[H])):Ot(H)&&n(H.value)?J:new w(F.op,F.fn,[J,H]);if(F.op==="*"){if(Ot(J)){if(n(J.value))return g;if(i(J.value,1))return H}if(Ot(H)){if(n(H.value))return g;if(i(H.value,1))return J;if(E(F,M))return new w(F.op,F.fn,[H,J],F.implicit)}return new w(F.op,F.fn,[J,H],F.implicit)}if(F.op==="/")return Ot(J)&&n(J.value)?g:Ot(H)&&i(H.value,1)?J:new w(F.op,F.fn,[J,H]);if(F.op==="^"&&Ot(H)){if(n(H.value))return _;if(i(H.value,1))return J}if(F.op==="and"){if(Ot(J))if(J.value){if(A(H))return H;if(Ot(H))return H.value?v:y}else return y;if(Ot(H))if(H.value){if(A(J))return J}else return y}if(F.op==="or"){if(Ot(J)){if(J.value)return v;if(A(H))return H}if(Ot(H)){if(H.value)return v;if(A(J))return J}}return new w(F.op,F.fn,[J,H])}if(Lr(F))return new w(F.op,F.fn,F.args.map(V=>D(V,I)));if(on(F))return new d(F.items.map(V=>D(V,I)));if(ho(F))return new u(D(F.object,I),D(F.index,I));if(Oo(F))return new f(F.dimensions.map(V=>D(V,I)));if(hc(F)){var ce={};for(var ye in F.properties)ce[ye]=D(F.properties[ye],I);return new p(ce)}return F}return e(P9,{Node:D,"Node,Object":D})});var vme="resolve",yme=["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],IT=N(vme,yme,r=>{var{typed:e,parse:t,ConstantNode:i,FunctionNode:n,OperatorNode:o,ParenthesisNode:a}=r;function s(c,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Set;if(!l)return c;if(Mr(c)){if(u.has(c.name)){var d=Array.from(u).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(d,"}"))}var m=l.get(c.name);if(Vt(m)){var h=new Set(u);return h.add(c.name),s(m,l,h)}else return typeof m=="number"?t(String(m)):m!==void 0?new i(m):c}else if(Lr(c)){var f=c.args.map(function(w){return s(w,l,u)});return new o(c.op,c.fn,f,c.implicit)}else{if(an(c))return new a(s(c.content,l,u));if(Ln(c)){var p=c.args.map(function(w){return s(w,l,u)});return new n(c.name,p)}}return c.map(w=>s(w,l,u))}return e("resolve",{Node:s,"Node, Map | null | undefined":s,"Node, Object":(c,l)=>s(c,us(l)),"Array | Matrix":e.referToSelf(c=>l=>l.map(u=>c(u))),"Array | Matrix, null | undefined":e.referToSelf(c=>l=>l.map(u=>c(u))),"Array, Object":e.referTo("Array,Map",c=>(l,u)=>c(l,us(u))),"Matrix, Object":e.referTo("Matrix,Map",c=>(l,u)=>c(l,us(u))),"Array | Matrix, Map":e.referToSelf(c=>(l,u)=>l.map(d=>c(d,u)))})});var B9="symbolicEqual",bme=["parse","simplify","typed","OperatorNode"],MT=N(B9,bme,r=>{var{parse:e,simplify:t,typed:i,OperatorNode:n}=r;function o(a,s){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=new n("-","subtract",[a,s]),u=t(l,{},c);return Ot(u)&&!u.value}return i(B9,{"Node, Node":o,"Node, Node, Object":o})});var L9="derivative",_me=["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],NT=N(L9,_me,r=>{var{typed:e,config:t,parse:i,simplify:n,equal:o,isZero:a,numeric:s,ConstantNode:c,FunctionNode:l,OperatorNode:u,ParenthesisNode:d,SymbolNode:m}=r;function h(_,v){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{simplify:!0},A={};C(A,_,v.name);var b=T(_,A);return y.simplify?n(b):b}function f(_){var v=i(_);if(!v.isSymbolNode)throw new TypeError("Invalid variable. "+"Cannot parse ".concat(JSON.stringify(_)," into a variable in function derivative"));return v}var p=e(L9,{"Node, SymbolNode":h,"Node, SymbolNode, Object":h,"Node, string":(_,v)=>h(_,f(v)),"Node, string, Object":(_,v,y)=>h(_,f(v),y)});p._simplify=!0,p.toTex=function(_){return w.apply(null,_.args)};var w=e("_derivTex",{"Node, SymbolNode":function(v,y){return Ot(v)&&Ht(v.value)==="string"?w(i(v.value).toString(),y.toString(),1):w(v.toTex(),y.toString(),1)},"Node, ConstantNode":function(v,y){if(Ht(y.value)==="string")return w(v,i(y.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(v,y,A){return w(v.toString(),y.name,A.value)},"string, string, number":function(v,y,A){var b;return A===1?b="{d\\over d"+y+"}":b="{d^{"+A+"}\\over d"+y+"^{"+A+"}}",b+"\\left[".concat(v,"\\right]")}}),C=e("constTag",{"Object, ConstantNode, string":function(v,y){return v[y]=!0,!0},"Object, SymbolNode, string":function(v,y,A){return y.name!==A?(v[y]=!0,!0):!1},"Object, ParenthesisNode, string":function(v,y,A){return C(v,y.content,A)},"Object, FunctionAssignmentNode, string":function(v,y,A){return y.params.includes(A)?C(v,y.expr,A):(v[y]=!0,!0)},"Object, FunctionNode | OperatorNode, string":function(v,y,A){if(y.args.length>0){for(var b=C(v,y.args[0],A),E=1;E<y.args.length;++E)b=C(v,y.args[E],A)&&b;if(b)return v[y]=!0,!0}return!1}}),T=e("_derivative",{"ConstantNode, Object":function(v){return g(0)},"SymbolNode, Object":function(v,y){return y[v]!==void 0?g(0):g(1)},"ParenthesisNode, Object":function(v,y){return new d(T(v.content,y))},"FunctionAssignmentNode, Object":function(v,y){return y[v]!==void 0?g(0):T(v.expr,y)},"FunctionNode, Object":function(v,y){if(y[v]!==void 0)return g(0);var A=v.args[0],b,E=!1,D=!1,S;switch(v.name){case"cbrt":E=!0,S=new u("*","multiply",[g(3),new u("^","pow",[A,new u("/","divide",[g(2),g(3)])])]);break;case"sqrt":case"nthRoot":if(v.args.length===1)E=!0,S=new u("*","multiply",[g(2),new l("sqrt",[A])]);else if(v.args.length===2)return b=new u("/","divide",[g(1),v.args[1]]),y[b]=y[v.args[1]],T(new u("^","pow",[A,b]),y);break;case"log10":b=g(10);case"log":if(!b&&v.args.length===1)S=A.clone(),E=!0;else if(v.args.length===1&&b||v.args.length===2&&y[v.args[1]]!==void 0)S=new u("*","multiply",[A.clone(),new l("log",[b||v.args[1]])]),E=!0;else if(v.args.length===2)return T(new u("/","divide",[new l("log",[A]),new l("log",[v.args[1]])]),y);break;case"pow":if(v.args.length===2)return y[b]=y[v.args[1]],T(new u("^","pow",[A,v.args[1]]),y);break;case"exp":S=new l("exp",[A.clone()]);break;case"sin":S=new l("cos",[A.clone()]);break;case"cos":S=new u("-","unaryMinus",[new l("sin",[A.clone()])]);break;case"tan":S=new u("^","pow",[new l("sec",[A.clone()]),g(2)]);break;case"sec":S=new u("*","multiply",[v,new l("tan",[A.clone()])]);break;case"csc":D=!0,S=new u("*","multiply",[v,new l("cot",[A.clone()])]);break;case"cot":D=!0,S=new u("^","pow",[new l("csc",[A.clone()]),g(2)]);break;case"asin":E=!0,S=new l("sqrt",[new u("-","subtract",[g(1),new u("^","pow",[A.clone(),g(2)])])]);break;case"acos":E=!0,D=!0,S=new l("sqrt",[new u("-","subtract",[g(1),new u("^","pow",[A.clone(),g(2)])])]);break;case"atan":E=!0,S=new u("+","add",[new u("^","pow",[A.clone(),g(2)]),g(1)]);break;case"asec":E=!0,S=new u("*","multiply",[new l("abs",[A.clone()]),new l("sqrt",[new u("-","subtract",[new u("^","pow",[A.clone(),g(2)]),g(1)])])]);break;case"acsc":E=!0,D=!0,S=new u("*","multiply",[new l("abs",[A.clone()]),new l("sqrt",[new u("-","subtract",[new u("^","pow",[A.clone(),g(2)]),g(1)])])]);break;case"acot":E=!0,D=!0,S=new u("+","add",[new u("^","pow",[A.clone(),g(2)]),g(1)]);break;case"sinh":S=new l("cosh",[A.clone()]);break;case"cosh":S=new l("sinh",[A.clone()]);break;case"tanh":S=new u("^","pow",[new l("sech",[A.clone()]),g(2)]);break;case"sech":D=!0,S=new u("*","multiply",[v,new l("tanh",[A.clone()])]);break;case"csch":D=!0,S=new u("*","multiply",[v,new l("coth",[A.clone()])]);break;case"coth":D=!0,S=new u("^","pow",[new l("csch",[A.clone()]),g(2)]);break;case"asinh":E=!0,S=new l("sqrt",[new u("+","add",[new u("^","pow",[A.clone(),g(2)]),g(1)])]);break;case"acosh":E=!0,S=new l("sqrt",[new u("-","subtract",[new u("^","pow",[A.clone(),g(2)]),g(1)])]);break;case"atanh":E=!0,S=new u("-","subtract",[g(1),new u("^","pow",[A.clone(),g(2)])]);break;case"asech":E=!0,D=!0,S=new u("*","multiply",[A.clone(),new l("sqrt",[new u("-","subtract",[g(1),new u("^","pow",[A.clone(),g(2)])])])]);break;case"acsch":E=!0,D=!0,S=new u("*","multiply",[new l("abs",[A.clone()]),new l("sqrt",[new u("+","add",[new u("^","pow",[A.clone(),g(2)]),g(1)])])]);break;case"acoth":E=!0,D=!0,S=new u("-","subtract",[g(1),new u("^","pow",[A.clone(),g(2)])]);break;case"abs":S=new u("/","divide",[new l(new m("abs"),[A.clone()]),A.clone()]);break;case"gamma":default:throw new Error('Cannot process function "'+v.name+'" in derivative: the function is not supported, undefined, or the number of arguments passed to it are not supported')}var I,M;E?(I="/",M="divide"):(I="*",M="multiply");var q=T(A,y);return D&&(q=new u("-","unaryMinus",[q])),new u(I,M,[q,S])},"OperatorNode, Object":function(v,y){if(y[v]!==void 0)return g(0);if(v.op==="+")return new u(v.op,v.fn,v.args.map(function(F){return T(F,y)}));if(v.op==="-"){if(v.isUnary())return new u(v.op,v.fn,[T(v.args[0],y)]);if(v.isBinary())return new u(v.op,v.fn,[T(v.args[0],y),T(v.args[1],y)])}if(v.op==="*"){var A=v.args.filter(function(F){return y[F]!==void 0});if(A.length>0){var b=v.args.filter(function(F){return y[F]===void 0}),E=b.length===1?b[0]:new u("*","multiply",b),D=A.concat(T(E,y));return new u("*","multiply",D)}return new u("+","add",v.args.map(function(F){return new u("*","multiply",v.args.map(function(O){return O===F?T(O,y):O.clone()}))}))}if(v.op==="/"&&v.isBinary()){var S=v.args[0],I=v.args[1];return y[I]!==void 0?new u("/","divide",[T(S,y),I]):y[S]!==void 0?new u("*","multiply",[new u("-","unaryMinus",[S]),new u("/","divide",[T(I,y),new u("^","pow",[I.clone(),g(2)])])]):new u("/","divide",[new u("-","subtract",[new u("*","multiply",[T(S,y),I.clone()]),new u("*","multiply",[S.clone(),T(I,y)])]),new u("^","pow",[I.clone(),g(2)])])}if(v.op==="^"&&v.isBinary()){var M=v.args[0],q=v.args[1];if(y[M]!==void 0)return Ot(M)&&(a(M.value)||o(M.value,1))?g(0):new u("*","multiply",[v,new u("*","multiply",[new l("log",[M.clone()]),T(q.clone(),y)])]);if(y[q]!==void 0){if(Ot(q)){if(a(q.value))return g(0);if(o(q.value,1))return T(M,y)}var U=new u("^","pow",[M.clone(),new u("-","subtract",[q,g(1)])]);return new u("*","multiply",[q.clone(),new u("*","multiply",[T(M,y),U])])}return new u("*","multiply",[new u("^","pow",[M.clone(),q.clone()]),new u("+","add",[new u("*","multiply",[T(M,y),new u("/","divide",[q.clone(),M.clone()])]),new u("*","multiply",[T(q,y),new l("log",[M.clone()])])])])}throw new Error('Cannot process operator "'+v.op+'" in derivative: the operator is not supported, undefined, or the number of arguments passed to it are not supported')}});function g(_,v){return new c(s(_,v||_n(String(_),t)))}return p});var V9="rationalize",xme=["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],kT=N(V9,xme,r=>{var{config:e,typed:t,equal:i,isZero:n,add:o,subtract:a,multiply:s,divide:c,pow:l,parse:u,simplifyConstant:d,simplifyCore:m,simplify:h,fraction:f,bignumber:p,mathWithTransform:w,matrix:C,AccessorNode:T,ArrayNode:g,ConstantNode:_,FunctionNode:v,IndexNode:y,ObjectNode:A,OperatorNode:b,SymbolNode:E,ParenthesisNode:D}=r;function S(F){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,B=M(),ee=I(F,O,!0,B.firstRules),ae=ee.variables.length,J={exactFractions:!1},H={exactFractions:!0};if(F=ee.expression,ae>=1){F=q(F);var ce,ye,V=!0,P=!1;F=h(F,B.firstRules,{},J);for(var j;ye=V?B.distrDivRules:B.sucDivRules,F=h(F,ye,{},H),V=!V,j=F.toString(),j!==ce;)P=!0,ce=j;P&&(F=h(F,B.firstRulesAgain,{},J)),F=h(F,B.finalRules,{},J)}var z=[],Q={};return F.type==="OperatorNode"&&F.isBinary()&&F.op==="/"?(ae===1&&(F.args[0]=U(F.args[0],z),F.args[1]=U(F.args[1])),G&&(Q.numerator=F.args[0],Q.denominator=F.args[1])):(ae===1&&(F=U(F,z)),G&&(Q.numerator=F,Q.denominator=null)),G?(Q.coefficients=z,Q.variables=ee.variables,Q.expression=F,Q):F}return t(V9,{Node:S,"Node, boolean":(F,O)=>S(F,{},O),"Node, Object":S,"Node, Object, boolean":S});function I(F,O,G,B){var ee=[],ae=h(F,B,O,{exactFractions:!1});G=!!G;var J="+-*"+(G?"/":"");ce(ae);var H={};return H.expression=ae,H.variables=ee,H;function ce(ye){var V=ye.type;if(V==="FunctionNode")throw new Error("There is an unsolved function call");if(V==="OperatorNode")if(ye.op==="^"){if(ye.args[1].type!=="ConstantNode"||!je(parseFloat(ye.args[1].value)))throw new Error("There is a non-integer exponent");ce(ye.args[0])}else{if(!J.includes(ye.op))throw new Error("Operator "+ye.op+" invalid in polynomial expression");for(var P=0;P<ye.args.length;P++)ce(ye.args[P])}else if(V==="SymbolNode"){var j=ye.name,z=ee.indexOf(j);z===-1&&ee.push(j)}else if(V==="ParenthesisNode")ce(ye.content);else if(V!=="ConstantNode")throw new Error("type "+V+" is not allowed in polynomial expression")}}function M(){var F=[m,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},d,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],O=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],G=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],B=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],ee={};return ee.firstRules=F.concat(O,B),ee.distrDivRules=G,ee.sucDivRules=B,ee.firstRulesAgain=F.concat(O),ee.finalRules=[m,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},d,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],ee}function q(F,O,G){var B=F.type,ee=arguments.length>1;if(B==="OperatorNode"&&F.isBinary()){var ae=!1,J;if(F.op==="^"&&(F.args[0].type==="ParenthesisNode"||F.args[0].type==="OperatorNode")&&F.args[1].type==="ConstantNode"&&(J=parseFloat(F.args[1].value),ae=J>=2&&je(J)),ae){if(J>2){var H=F.args[0],ce=new b("^","pow",[F.args[0].cloneDeep(),new _(J-1)]);F=new b("*","multiply",[H,ce])}else F=new b("*","multiply",[F.args[0],F.args[0].cloneDeep()]);ee&&(G==="content"?O.content=F:O.args[G]=F)}}if(B==="ParenthesisNode")q(F.content,F,"content");else if(B!=="ConstantNode"&&B!=="SymbolNode")for(var ye=0;ye<F.args.length;ye++)q(F.args[ye],F,ye);if(!ee)return F}function U(F,O){O===void 0&&(O=[]),O[0]=0;var G={};G.cte=1,G.oper="+",G.fire="";var B=0,ee="";j(F,null,G),B=O.length-1;for(var ae=!0,J,H=B;H>=0;H--)if(O[H]!==0){var ce=new _(ae?O[H]:Math.abs(O[H])),ye=O[H]<0?"-":"+";if(H>0){var V=new E(ee);if(H>1){var P=new _(H);V=new b("^","pow",[V,P])}O[H]===-1&&ae?ce=new b("-","unaryMinus",[V]):Math.abs(O[H])===1?ce=V:ce=new b("*","multiply",[ce,V])}ae?J=ce:ye==="+"?J=new b("+","add",[J,ce]):J=new b("-","subtract",[J,ce]),ae=!1}if(ae)return new _(0);return J;function j(z,Q,ie){var re=z.type;if(re==="FunctionNode")throw new Error("There is an unsolved function call");if(re==="OperatorNode"){if(!"+-*^".includes(z.op))throw new Error("Operator "+z.op+" invalid");if(Q!==null){if((z.fn==="unaryMinus"||z.fn==="pow")&&Q.fn!=="add"&&Q.fn!=="subtract"&&Q.fn!=="multiply")throw new Error("Invalid "+z.op+" placing");if((z.fn==="subtract"||z.fn==="add"||z.fn==="multiply")&&Q.fn!=="add"&&Q.fn!=="subtract")throw new Error("Invalid "+z.op+" placing");if((z.fn==="subtract"||z.fn==="add"||z.fn==="unaryMinus")&&ie.noFil!==0)throw new Error("Invalid "+z.op+" placing")}(z.op==="^"||z.op==="*")&&(ie.fire=z.op);for(var pe=0;pe<z.args.length;pe++)z.fn==="unaryMinus"&&(ie.oper="-"),(z.op==="+"||z.fn==="subtract")&&(ie.fire="",ie.cte=1,ie.oper=pe===0?"+":z.op),ie.noFil=pe,j(z.args[pe],z,ie)}else if(re==="SymbolNode"){if(z.name!==ee&&ee!=="")throw new Error("There is more than one variable");if(ee=z.name,Q===null){O[1]=1;return}if(Q.op==="^"&&ie.noFil!==0)throw new Error("In power the variable should be the first parameter");if(Q.op==="*"&&ie.noFil!==1)throw new Error("In multiply the variable should be the second parameter");(ie.fire===""||ie.fire==="*")&&(B<1&&(O[1]=0),O[1]+=ie.cte*(ie.oper==="+"?1:-1),B=Math.max(1,B))}else if(re==="ConstantNode"){var fe=parseFloat(z.value);if(Q===null){O[0]=fe;return}if(Q.op==="^"){if(ie.noFil!==1)throw new Error("Constant cannot be powered");if(!je(fe)||fe<=0)throw new Error("Non-integer exponent is not allowed");for(var $=B+1;$<fe;$++)O[$]=0;fe>B&&(O[fe]=0),O[fe]+=ie.cte*(ie.oper==="+"?1:-1),B=Math.max(fe,B);return}ie.cte=fe,ie.fire===""&&(O[0]+=ie.cte*(ie.oper==="+"?1:-1))}else throw new Error("Type "+re+" is not allowed")}}});var z9="zpk2tf",wme=["typed","add","multiply","Complex","number"],RT=N(z9,wme,r=>{var{typed:e,add:t,multiply:i,Complex:n,number:o}=r;return e(z9,{"Array,Array,number":function(l,u,d){return a(l,u,d)},"Array,Array":function(l,u){return a(l,u,1)},"Matrix,Matrix,number":function(l,u,d){return a(l.valueOf(),u.valueOf(),d)},"Matrix,Matrix":function(l,u){return a(l.valueOf(),u.valueOf(),1)}});function a(c,l,u){c.some(T=>T.type==="BigNumber")&&(c=c.map(T=>o(T))),l.some(T=>T.type==="BigNumber")&&(l=l.map(T=>o(T)));for(var d=[n(1,0)],m=[n(1,0)],h=0;h<c.length;h++){var f=c[h];typeof f=="number"&&(f=n(f,0)),d=s(d,[n(1,0),n(-f.re,-f.im)])}for(var p=0;p<l.length;p++){var w=l[p];typeof w=="number"&&(w=n(w,0)),m=s(m,[n(1,0),n(-w.re,-w.im)])}for(var C=0;C<d.length;C++)d[C]=i(d[C],u);return[d,m]}function s(c,l){for(var u=[],d=0;d<c.length+l.length-1;d++){u[d]=n(0,0);for(var m=0;m<c.length;m++)d-m>=0&&d-m<l.length&&(u[d]=t(u[d],i(c[m],l[d-m])))}return u}});var U9="freqz",Eme=["typed","add","multiply","Complex","divide","matrix"],FT=N(U9,Eme,r=>{var{typed:e,add:t,multiply:i,Complex:n,divide:o,matrix:a}=r;return e(U9,{"Array, Array":function(u,d){var m=c(512);return s(u,d,m)},"Array, Array, Array":function(u,d,m){return s(u,d,m)},"Array, Array, number":function(u,d,m){if(m<0)throw new Error("w must be a positive number");var h=c(m);return s(u,d,h)},"Matrix, Matrix":function(u,d){var m=c(512),{w:h,h:f}=s(u.valueOf(),d.valueOf(),m);return{w:a(h),h:a(f)}},"Matrix, Matrix, Matrix":function(u,d,m){var{h}=s(u.valueOf(),d.valueOf(),m.valueOf());return{h:a(h),w:a(m)}},"Matrix, Matrix, number":function(u,d,m){if(m<0)throw new Error("w must be a positive number");var h=c(m),{h:f}=s(u.valueOf(),d.valueOf(),h);return{h:a(f),w:a(h)}}});function s(l,u,d){for(var m=[],h=[],f=0;f<d.length;f++){for(var p=n(0,0),w=n(0,0),C=0;C<l.length;C++)p=t(p,i(l[C],n(Math.cos(-C*d[f]),Math.sin(-C*d[f]))));for(var T=0;T<u.length;T++)w=t(w,i(u[T],n(Math.cos(-T*d[f]),Math.sin(-T*d[f]))));m.push(p),h.push(w)}for(var g=[],_=0;_<m.length;_++)g.push(o(m[_],h[_]));return{h:g,w:d}}function c(l){for(var u=[],d=0;d<l;d++)u.push(d/l*Math.PI);return u}});var Dme="reviver",Ame=["classes"],OT=N(Dme,Ame,r=>{var{classes:e}=r;return function(i,n){var o=e[n&&n.mathjs];return o&&typeof o.fromJSON=="function"?o.fromJSON(n):n}});var Cme="replacer",Sme=[],PT=N(Cme,Sme,()=>function(e,t){return typeof t=="number"&&(!isFinite(t)||isNaN(t))?{mathjs:"number",value:String(t)}:typeof t=="bigint"?{mathjs:"bigint",value:String(t)}:t});var q9="14.0.0";var BT=N("true",[],()=>!0),LT=N("false",[],()=>!1),VT=N("null",[],()=>null),zT=go("Infinity",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(1/0):1/0}),UT=go("NaN",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(NaN):NaN}),qT=go("pi",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?Hf(t):x3}),jT=go("tau",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?j4(t):w3}),$T=go("e",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?U4(t):E3}),HT=go("phi",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?q4(t):D3}),GT=go("LN2",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(2).ln():Math.LN2}),WT=go("LN10",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(10).ln():Math.LN10}),XT=go("LOG2E",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(1).div(new t(2).ln()):Math.LOG2E}),KT=go("LOG10E",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(1).div(new t(10).ln()):Math.LOG10E}),QT=go("SQRT1_2",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t("0.5").sqrt():Math.SQRT1_2}),YT=go("SQRT2",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(2).sqrt():Math.SQRT2}),ZT=go("i",["Complex"],r=>{var{Complex:e}=r;return e.I});var JT=N("version",[],()=>q9);function go(r,e,t){return N(r,e,t,{recreateOnConfigChange:!0})}var eI=Ut("speedOfLight","299792458","m s^-1"),tI=Ut("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),rI=Ut("planckConstant","6.62607015e-34","J s"),iI=Ut("reducedPlanckConstant","1.0545718176461565e-34","J s"),nI=Ut("magneticConstant","1.25663706212e-6","N A^-2"),oI=Ut("electricConstant","8.8541878128e-12","F m^-1"),aI=Ut("vacuumImpedance","376.730313667","ohm"),sI=Ut("coulomb","8.987551792261171e9","N m^2 C^-2"),cI=Ut("elementaryCharge","1.602176634e-19","C"),lI=Ut("bohrMagneton","9.2740100783e-24","J T^-1"),uI=Ut("conductanceQuantum","7.748091729863649e-5","S"),dI=Ut("inverseConductanceQuantum","12906.403729652257","ohm"),mI=Ut("magneticFluxQuantum","2.0678338484619295e-15","Wb"),hI=Ut("nuclearMagneton","5.0507837461e-27","J T^-1"),fI=Ut("klitzing","25812.807459304513","ohm");var pI=Ut("bohrRadius","5.29177210903e-11","m"),gI=Ut("classicalElectronRadius","2.8179403262e-15","m"),vI=Ut("electronMass","9.1093837015e-31","kg"),yI=Ut("fermiCoupling","1.1663787e-5","GeV^-2"),bI=my("fineStructure",.0072973525693),_I=Ut("hartreeEnergy","4.3597447222071e-18","J"),xI=Ut("protonMass","1.67262192369e-27","kg"),wI=Ut("deuteronMass","3.3435830926e-27","kg"),EI=Ut("neutronMass","1.6749271613e-27","kg"),DI=Ut("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),AI=Ut("rydberg","10973731.568160","m^-1"),CI=Ut("thomsonCrossSection","6.6524587321e-29","m^2"),SI=my("weakMixingAngle",.2229),TI=my("efimovFactor",22.7),II=Ut("atomicMass","1.66053906660e-27","kg"),MI=Ut("avogadro","6.02214076e23","mol^-1"),NI=Ut("boltzmann","1.380649e-23","J K^-1"),kI=Ut("faraday","96485.33212331001","C mol^-1"),RI=Ut("firstRadiation","3.7417718521927573e-16","W m^2"),FI=Ut("loschmidt","2.686780111798444e25","m^-3"),OI=Ut("gasConstant","8.31446261815324","J K^-1 mol^-1"),PI=Ut("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),BI=Ut("molarVolume","0.022413969545014137","m^3 mol^-1"),LI=my("sackurTetrode",-1.16487052358),VI=Ut("secondRadiation","0.014387768775039337","m K"),zI=Ut("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),UI=Ut("wienDisplacement","2.897771955e-3","m K"),qI=Ut("molarMass","0.99999999965e-3","kg mol^-1"),jI=Ut("molarMassC12","11.9999999958e-3","kg mol^-1"),$I=Ut("gravity","9.80665","m s^-2"),HI=Ut("planckLength","1.616255e-35","m"),GI=Ut("planckMass","2.176435e-8","kg"),WI=Ut("planckTime","5.391245e-44","s"),XI=Ut("planckCharge","1.87554603778e-18","C"),KI=Ut("planckTemperature","1.416785e+32","K");function Ut(r,e,t){var i=["config","Unit","BigNumber"];return N(r,i,n=>{var{config:o,Unit:a,BigNumber:s}=n,c=o.number==="BigNumber"?new s(e):parseFloat(e),l=new a(c,t);return l.fixPrefix=!0,l})}function my(r,e){var t=["config","BigNumber"];return N(r,t,i=>{var{config:n,BigNumber:o}=i;return n.number==="BigNumber"?new o(e):e})}var Tme="apply",Ime=["typed","isInteger"],QI=N(Tme,Ime,r=>{var{typed:e,isInteger:t}=r,i=zl({typed:e,isInteger:t});return e("apply",{"...any":function(o){var a=o[1];mt(a)?o[1]=a-1:tt(a)&&(o[1]=a.minus(1));try{return i.apply(null,o)}catch(s){throw Or(s)}}})},{isTransformFunction:!0});var Mme="column",Nme=["typed","Index","matrix","range"],YI=N(Mme,Nme,r=>{var{typed:e,Index:t,matrix:i,range:n}=r,o=Rf({typed:e,Index:t,matrix:i,range:n});return e("column",{"...any":function(s){var c=s.length-1,l=s[c];mt(l)&&(s[c]=l-1);try{return o.apply(null,s)}catch(u){throw Or(u)}}})},{isTransformFunction:!0});function Ud(r,e,t){var i=r.filter(function(c){return Mr(c)&&!(c.name in e)&&!t.has(c.name)})[0];if(!i)throw new Error('No undefined variable found in inline expression "'+r+'"');var n=i.name,o=new Map,a=new yd(t,o,new Set([n])),s=r.compile();return function(l){return o.set(n,l),s.evaluate(a)}}var kme="transformCallback",Rme=["typed"],qd=N(kme,Rme,r=>{var{typed:e}=r;return function(i,n){return e.isTypedFunction(i)?t(i,n):j9(i,i.length,n)};function t(i,n){var o=Object.fromEntries(Object.entries(i.signatures).map(a=>{var[s,c]=a,l=s.split(",").length;return e.isTypedFunction(c)?[s,t(c,n)]:[s,j9(c,l,n)]}));return typeof i.name=="string"?e(i.name,o):e(o)}});function j9(r,e,t){return e===t?r:e===t+1?function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];var a=n.slice(0,t),s=$9(n[t]);return r(...a,s)}:e>t+1?function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];var a=n.slice(0,t),s=$9(n[t]),c=n.slice(t+1);return r(...a,s,...c)}:r}function $9(r){return r.map(e=>e+1)}var Fme="filter",Ome=["typed"],ZI=N(Fme,Ome,r=>{var{typed:e}=r;function t(n,o,a){var s=Ff({typed:e}),c=qd({typed:e});if(n.length===0)return s();var l=n[0];if(n.length===1)return s(l);var u=n.length-1,d=n[u];return l&&(l=i(l,a)),d&&(Mr(d)||Ma(d)?d=i(d,a):d=Ud(d,o,a)),s(l,c(d,u))}t.rawArgs=!0;function i(n,o){return n.compile().evaluate(o)}return t},{isTransformFunction:!0});var Pme="forEach",Bme=["typed"],JI=N(Pme,Bme,r=>{var{typed:e}=r,t=Of({typed:e}),i=qd({typed:e});function n(a,s,c){if(a.length===0)return t();var l=a[0];if(a.length===1)return t(l);var u=a.length-1,d=a[u];return l&&(l=o(l,c)),d&&(Mr(d)||Ma(d)?d=o(d,c):d=Ud(d,s,c)),t(l,i(d,u))}n.rawArgs=!0;function o(a,s){return a.compile().evaluate(s)}return n},{isTransformFunction:!0});var Lme="index",Vme=["Index","getMatrixDataType"],eM=N(Lme,Vme,r=>{var{Index:e,getMatrixDataType:t}=r;return function(){for(var n=[],o=0,a=arguments.length;o<a;o++){var s=arguments[o];if(bd(s))s.start--,s.end-=s.step>0?0:2;else if(s&&s.isSet===!0)s=s.map(function(l){return l-1});else if(tr(s)||He(s))t(s)!=="boolean"&&(s=s.map(function(l){return l-1}));else if(mt(s))s--;else if(tt(s))s=s.toNumber()-1;else if(typeof s!="string")throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");n[o]=s}var c=new e;return e.apply(c,n),c}},{isTransformFunction:!0});var zme="map",Ume=["typed"],tM=N(zme,Ume,r=>{var{typed:e}=r,t=Pf({typed:e}),i=qd({typed:e});function n(o,a,s){if(o.length===0)return t();if(o.length===1)return t(o[0]);var c=o.length-1,l=o.slice(0,c),u=o[c];return l=l.map(m=>d(m,s)),u&&(Mr(u)||Ma(u)?u=d(u,s):u=Ud(u,a,s)),t(...l,i(u,c));function d(m,h){return m.compile().evaluate(h)}}return n.rawArgs=!0,n},{isTransformFunction:!0});function H9(r){return mt(r)?r-1:tt(r)?r.minus(1):r}function G9(r){return mt(r)||tt(r)}function An(r){if(r.length===2&&di(r[0])){r=r.slice();var e=r[1];G9(e)&&(r[1]=H9(e))}return r}var qme="max",jme=["typed","config","numeric","larger"],rM=N(qme,jme,r=>{var{typed:e,config:t,numeric:i,larger:n}=r,o=jf({typed:e,config:t,numeric:i,larger:n});return e("max",{"...any":function(s){s=An(s);try{return o.apply(null,s)}catch(c){throw Or(c)}}})},{isTransformFunction:!0});var $me="mean",Hme=["typed","add","divide"],iM=N($me,Hme,r=>{var{typed:e,add:t,divide:i}=r,n=Kf({typed:e,add:t,divide:i});return e("mean",{"...any":function(a){a=An(a);try{return n.apply(null,a)}catch(s){throw Or(s)}}})},{isTransformFunction:!0});var Gme="min",Wme=["typed","config","numeric","smaller"],nM=N(Gme,Wme,r=>{var{typed:e,config:t,numeric:i,smaller:n}=r,o=$f({typed:e,config:t,numeric:i,smaller:n});return e("min",{"...any":function(s){s=An(s);try{return o.apply(null,s)}catch(c){throw Or(c)}}})},{isTransformFunction:!0});var Xme="range",Kme=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],oM=N(Xme,Kme,r=>{var{typed:e,config:t,matrix:i,bignumber:n,smaller:o,smallerEq:a,larger:s,largerEq:c,add:l,isPositive:u}=r,d=Lf({typed:e,config:t,matrix:i,bignumber:n,smaller:o,smallerEq:a,larger:s,largerEq:c,add:l,isPositive:u});return e("range",{"...any":function(h){var f=h.length-1,p=h[f];return typeof p!="boolean"&&h.push(!0),d.apply(null,h)}})},{isTransformFunction:!0});var Qme="row",Yme=["typed","Index","matrix","range"],aM=N(Qme,Yme,r=>{var{typed:e,Index:t,matrix:i,range:n}=r,o=Vf({typed:e,Index:t,matrix:i,range:n});return e("row",{"...any":function(s){var c=s.length-1,l=s[c];mt(l)&&(s[c]=l-1);try{return o.apply(null,s)}catch(u){throw Or(u)}}})},{isTransformFunction:!0});var Zme="subset",Jme=["typed","matrix","zeros","add"],sM=N(Zme,Jme,r=>{var{typed:e,matrix:t,zeros:i,add:n}=r,o=zf({typed:e,matrix:t,zeros:i,add:n});return e("subset",{"...any":function(s){try{return o.apply(null,s)}catch(c){throw Or(c)}}})},{isTransformFunction:!0});var ehe="concat",the=["typed","matrix","isInteger"],cM=N(ehe,the,r=>{var{typed:e,matrix:t,isInteger:i}=r,n=kf({typed:e,matrix:t,isInteger:i});return e("concat",{"...any":function(a){var s=a.length-1,c=a[s];mt(c)?a[s]=c-1:tt(c)&&(a[s]=c.minus(1));try{return n.apply(null,a)}catch(l){throw Or(l)}}})},{isTransformFunction:!0});var W9="diff",rhe=["typed","matrix","subtract","number","bignumber"],lM=N(W9,rhe,r=>{var{typed:e,matrix:t,subtract:i,number:n,bignumber:o}=r,a=Bf({typed:e,matrix:t,subtract:i,number:n,bignumber:o});return e(W9,{"...any":function(c){c=An(c);try{return a.apply(null,c)}catch(l){throw Or(l)}}})},{isTransformFunction:!0});var ihe="std",nhe=["typed","map","sqrt","variance"],uM=N(ihe,nhe,r=>{var{typed:e,map:t,sqrt:i,variance:n}=r,o=Zf({typed:e,map:t,sqrt:i,variance:n});return e("std",{"...any":function(s){s=An(s);try{return o.apply(null,s)}catch(c){throw Or(c)}}})},{isTransformFunction:!0});var X9="sum",ohe=["typed","config","add","numeric"],dM=N(X9,ohe,r=>{var{typed:e,config:t,add:i,numeric:n}=r,o=Wf({typed:e,config:t,add:i,numeric:n});return e(X9,{"...any":function(s){s=An(s);try{return o.apply(null,s)}catch(c){throw Or(c)}}})},{isTransformFunction:!0});var ahe="quantileSeq",she=["typed","bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],mM=N(ahe,she,r=>{var{typed:e,bignumber:t,add:i,subtract:n,divide:o,multiply:a,partitionSelect:s,compare:c,isInteger:l,smaller:u,smallerEq:d,larger:m}=r,h=Yf({typed:e,bignumber:t,add:i,subtract:n,divide:o,multiply:a,partitionSelect:s,compare:c,isInteger:l,smaller:u,smallerEq:d,larger:m});return e("quantileSeq",{"Array | Matrix, number | BigNumber":h,"Array | Matrix, number | BigNumber, number":(p,w,C)=>h(p,w,f(C)),"Array | Matrix, number | BigNumber, boolean":h,"Array | Matrix, number | BigNumber, boolean, number":(p,w,C,T)=>h(p,w,C,f(T)),"Array | Matrix, Array | Matrix":h,"Array | Matrix, Array | Matrix, number":(p,w,C)=>h(p,w,f(C)),"Array | Matrix, Array | Matrix, boolean":h,"Array | Matrix, Array | Matrix, boolean, number":(p,w,C,T)=>h(p,w,C,f(T))});function f(p){return An([[],p])[1]}},{isTransformFunction:!0});var K9="cumsum",che=["typed","add","unaryPlus"],hM=N(K9,che,r=>{var{typed:e,add:t,unaryPlus:i}=r,n=Xf({typed:e,add:t,unaryPlus:i});return e(K9,{"...any":function(a){if(a.length===2&&di(a[0])){var s=a[1];mt(s)?a[1]=s-1:tt(s)&&(a[1]=s.minus(1))}try{return n.apply(null,a)}catch(c){throw Or(c)}}})},{isTransformFunction:!0});var Q9="variance",lhe=["typed","add","subtract","multiply","divide","apply","isNaN"],fM=N(Q9,lhe,r=>{var{typed:e,add:t,subtract:i,multiply:n,divide:o,apply:a,isNaN:s}=r,c=Qf({typed:e,add:t,subtract:i,multiply:n,divide:o,apply:a,isNaN:s});return e(Q9,{"...any":function(u){u=An(u);try{return c.apply(null,u)}catch(d){throw Or(d)}}})},{isTransformFunction:!0});var Y9="print",uhe=["typed","matrix","zeros","add"],pM=N(Y9,uhe,r=>{var{typed:e,matrix:t,zeros:i,add:n}=r,o=Uf({typed:e,matrix:t,zeros:i,add:n});return e(Y9,{"string, Object | Array":function(c,l){return o(a(c),l)},"string, Object | Array, number | Object":function(c,l,u){return o(a(c),l,u)}});function a(s){return s.replace(R0,c=>{var l=c.slice(1).split("."),u=l.map(function(d){return!isNaN(d)&&d.length>0?parseInt(d)-1:d});return"$"+u.join(".")})}},{isTransformFunction:!0});var dhe="and",mhe=["typed","matrix","zeros","add","equalScalar","not","concat"],gM=N(dhe,mhe,r=>{var{typed:e,matrix:t,equalScalar:i,zeros:n,not:o,concat:a}=r,s=qf({typed:e,matrix:t,equalScalar:i,zeros:n,not:o,concat:a});function c(l,u,d){var m=l[0].compile().evaluate(d);if(!di(m)&&!s(m,!0))return!1;var h=l[1].compile().evaluate(d);return s(m,h)}return c.rawArgs=!0,c},{isTransformFunction:!0});var hhe="or",fhe=["typed","matrix","equalScalar","DenseMatrix","concat"],vM=N(hhe,fhe,r=>{var{typed:e,matrix:t,equalScalar:i,DenseMatrix:n,concat:o}=r,a=Nf({typed:e,matrix:t,equalScalar:i,DenseMatrix:n,concat:o});function s(c,l,u){var d=c[0].compile().evaluate(u);if(!di(d)&&a(d,!1))return!0;var m=c[1].compile().evaluate(u);return a(d,m)}return s.rawArgs=!0,s},{isTransformFunction:!0});var phe="bitAnd",ghe=["typed","matrix","zeros","add","equalScalar","not","concat"],yM=N(phe,ghe,r=>{var{typed:e,matrix:t,equalScalar:i,zeros:n,not:o,concat:a}=r,s=If({typed:e,matrix:t,equalScalar:i,zeros:n,not:o,concat:a});function c(l,u,d){var m=l[0].compile().evaluate(d);if(!di(m)){if(isNaN(m))return NaN;if(m===0||m===!1)return 0}var h=l[1].compile().evaluate(d);return s(m,h)}return c.rawArgs=!0,c},{isTransformFunction:!0});var vhe="bitOr",yhe=["typed","matrix","equalScalar","DenseMatrix","concat"],bM=N(vhe,yhe,r=>{var{typed:e,matrix:t,equalScalar:i,DenseMatrix:n,concat:o}=r,a=Mf({typed:e,matrix:t,equalScalar:i,DenseMatrix:n,concat:o});function s(c,l,u){var d=c[0].compile().evaluate(u);if(!di(d)){if(isNaN(d))return NaN;if(d===-1)return-1;if(d===!0)return 1}var m=c[1].compile().evaluate(u);return a(d,m)}return s.rawArgs=!0,s},{isTransformFunction:!0});var Ue=O1({config:Ae}),Pr=L1({}),_M=$T({BigNumber:Ue,config:Ae}),Z9=LT({}),J9=bI({BigNumber:Ue,config:Ae}),wc=U1({}),xM=ZT({Complex:Pr}),ej=zT({BigNumber:Ue,config:Ae}),tj=WT({BigNumber:Ue,config:Ae}),rj=KT({BigNumber:Ue,config:Ae}),tp=j1({}),ij=UT({BigNumber:Ue,config:Ae}),nj=VT({}),oj=HT({BigNumber:Ue,config:Ae}),aj=q1({}),wM=T1({}),sj=QT({BigNumber:Ue,config:Ae}),cj=LI({BigNumber:Ue,config:Ae}),EM=jT({BigNumber:Ue,config:Ae}),lj=BT({}),uj=JT({}),qt=Y1({Matrix:tp}),dj=TI({BigNumber:Ue,config:Ae}),mj=GT({BigNumber:Ue,config:Ae}),hy=qT({BigNumber:Ue,config:Ae}),DM=PT({}),hj=YT({BigNumber:Ue,config:Ae}),Z=S1({BigNumber:Ue,Complex:Pr,DenseMatrix:qt,Fraction:wc}),fj=SI({BigNumber:Ue,config:Ae}),Cn=vD({typed:Z}),pj=pC({Complex:Pr,config:Ae,typed:Z}),gj=vC({BigNumber:Ue,typed:Z}),vj=bC({BigNumber:Ue,Complex:Pr,config:Ae,typed:Z}),Fi=yD({typed:Z}),yj=WD({typed:Z}),bj=wC({BigNumber:Ue,Complex:Pr,config:Ae,typed:Z}),_j=DC({typed:Z}),AM=AC({typed:Z}),xj=SC({Complex:Pr,config:Ae,typed:Z}),wj=nD({typed:Z}),Ej=HD({typed:Z}),Dj=aD({typed:Z}),Aj=Z1({typed:Z}),rp=tT({typed:Z}),ip=cD({Complex:Pr,typed:Z}),Ec=XD({typed:Z}),fy=TC({typed:Z}),Cj=MC({BigNumber:Ue,typed:Z}),Sj=kC({BigNumber:Ue,typed:Z}),Tj=ED({typed:Z}),Wt=tD({config:Ae,typed:Z}),Ij=xA({typed:Z}),CM=DD({typed:Z}),Mj=AD({Complex:Pr,typed:Z}),Nj=Ff({typed:Z}),jd=rA({typed:Z}),kj=Of({typed:Z}),$d=AA({typed:Z}),py=nA({typed:Z}),Rj=TA({format:$d,typed:Z}),gy=KD({typed:Z}),Vn=eE({typed:Z}),bs=XE({config:Ae,typed:Z}),Dc=YE({config:Ae,typed:Z}),da=ZE({equalScalar:Wt,typed:Z}),Fj=XT({BigNumber:Ue,config:Ae}),Oj=nT({Complex:Pr,typed:Z}),Pj=kD({Complex:Pr,config:Ae,typed:Z}),SM=RD({Complex:Pr,config:Ae,typed:Z}),Ac=Pf({typed:Z}),mi=FD({typed:Z}),np=YD({typed:Z}),Fa=iD({typed:Z}),Bj=SA({format:$d,typed:Z}),Lj=gT({config:Ae,typed:Z}),Vj=Uf({typed:Z}),zj=vT({config:Ae,typed:Z}),vy=QD({typed:Z}),Uj=FC({BigNumber:Ue,typed:Z}),TM=BD({BigNumber:Ue,Fraction:wc,complex:ip,typed:Z}),op=PC({typed:Z}),Oi=rD({Matrix:tp,equalScalar:Wt,typed:Z}),qj=fD({typed:Z}),jj=VD({typed:Z}),$j=oD({typed:Z}),vo=bD({typed:Z}),Hj=LC({typed:Z}),yy=eD({typed:Z}),Gj=gC({Complex:Pr,config:Ae,typed:Z}),Wj=_C({BigNumber:Ue,typed:Z}),by=zl({isInteger:Vn,typed:Z}),Xj=xC({BigNumber:Ue,Complex:Pr,config:Ae,typed:Z}),yo=sD({BigNumber:Ue,typed:Z}),Kj=rT({typed:Z}),Qj=IC({typed:Z}),Yj=RC({BigNumber:Ue,typed:Z}),Hd=JE({typed:Z}),Zj=MA({typed:Z}),Jj=yT({config:Ae,typed:Z}),e7=OC({BigNumber:Ue,typed:Z}),t7=BC({typed:Z}),r7=hC({SparseMatrix:Oi,typed:Z}),$o=LD({Complex:Pr,config:Ae,typed:Z}),i7=fA({typed:Z}),n7=VC({typed:Z}),ma=pD({typed:Z}),o7=yC({BigNumber:Ue,Complex:Pr,config:Ae,typed:Z}),a7=CA({format:$d,typed:Z}),s7=NC({BigNumber:Ue,typed:Z}),Gd=lD({Fraction:wc,typed:Z}),Cc=KE({typed:Z}),ze=uD({DenseMatrix:qt,Matrix:tp,SparseMatrix:Oi,typed:Z}),c7=dD({isZero:da,matrix:ze,typed:Z}),l7=EA({isNaN:Hd,isNumeric:Cc,typed:Z}),bo=NA({bignumber:yo,fraction:Gd,number:Fa}),IM=DA({config:Ae,multiplyScalar:mi,numeric:bo,typed:Z}),MM=lA({isInteger:Vn,matrix:ze,typed:Z}),Qi=hA({matrix:ze,config:Ae,typed:Z}),Wd=pA({matrix:ze,typed:Z}),NM=UD({BigNumber:Ue,config:Ae,matrix:ze,typed:Z}),Yi=vA({BigNumber:Ue,config:Ae,matrix:ze,typed:Z}),u7=EC({Complex:Pr,config:Ae,typed:Z}),kM=_D({BigNumber:Ue,Complex:Pr,Fraction:wc,config:Ae,isNegative:bs,matrix:ze,typed:Z,unaryMinus:ma}),dr=kf({isInteger:Vn,matrix:ze,typed:Z}),d7=JD({prod:IM,size:Qi,typed:Z}),_y=gA({conj:Ec,transpose:Wd,typed:Z}),RM=tA({DenseMatrix:qt,SparseMatrix:Oi,matrix:ze,typed:Z}),ei=kA({numeric:bo,typed:Z}),Xd=VA({DenseMatrix:qt,SparseMatrix:Oi,concat:dr,divideScalar:ei,equalScalar:Wt,matrix:ze,typed:Z}),_o=QA({DenseMatrix:qt,SparseMatrix:Oi,concat:dr,equalScalar:Wt,matrix:ze,typed:Z}),m7=QE({isNumeric:Cc,typed:Z}),_s=oA({BigNumber:Ue,DenseMatrix:qt,SparseMatrix:Oi,config:Ae,matrix:ze,typed:Z}),h7=aA({matrix:ze,multiplyScalar:mi,typed:Z}),ap=tC({DenseMatrix:qt,SparseMatrix:Oi,concat:dr,config:Ae,matrix:ze,typed:Z}),f7=$A({DenseMatrix:qt,concat:dr,equalScalar:Wt,matrix:ze,typed:Z,zeros:Yi}),FM=zA({DenseMatrix:qt,divideScalar:ei,equalScalar:Wt,matrix:ze,multiplyScalar:mi,subtractScalar:vo,typed:Z}),xy=hD({flatten:jd,matrix:ze,size:Qi,typed:Z}),p7=PD({BigNumber:Ue,concat:dr,equalScalar:Wt,matrix:ze,typed:Z}),g7=cA({BigNumber:Ue,config:Ae,matrix:ze,typed:Z}),wy=SS({addScalar:Fi,complex:ip,conj:Ec,divideScalar:ei,equal:_o,identity:_s,isZero:da,matrix:ze,multiplyScalar:mi,sign:TM,sqrt:$o,subtractScalar:vo,typed:Z,unaryMinus:ma,zeros:Yi}),v7=uA({config:Ae,matrix:ze}),y7=HA({DenseMatrix:qt,concat:dr,equalScalar:Wt,matrix:ze,typed:Z,zeros:Yi}),Gl=FA({BigNumber:Ue,DenseMatrix:qt,config:Ae,equalScalar:Wt,matrix:ze,typed:Z,zeros:Yi}),Sn=ZA({DenseMatrix:qt,SparseMatrix:Oi,concat:dr,config:Ae,matrix:ze,typed:Z}),bi=zD({DenseMatrix:qt,concat:dr,equalScalar:Wt,matrix:ze,subtractScalar:vo,typed:Z,unaryMinus:ma}),b7=IA({concat:dr,matrix:ze,typed:Z}),Ey=gD({config:Ae,numeric:bo,typed:Z}),Dy=UA({DenseMatrix:qt,divideScalar:ei,equalScalar:Wt,matrix:ze,multiplyScalar:mi,subtractScalar:vo,typed:Z}),_7=ZD({DenseMatrix:qt,SparseMatrix:Oi,concat:dr,matrix:ze,typed:Z}),or=QC({DenseMatrix:qt,SparseMatrix:Oi,addScalar:Fi,concat:dr,equalScalar:Wt,matrix:ze,typed:Z}),x7=CC({BigNumber:Ue,DenseMatrix:qt,concat:dr,equalScalar:Wt,matrix:ze,typed:Z}),w7=If({concat:dr,equalScalar:Wt,matrix:ze,typed:Z}),E7=Mf({DenseMatrix:qt,concat:dr,equalScalar:Wt,matrix:ze,typed:Z}),D7=GD({DenseMatrix:qt,SparseMatrix:Oi,concat:dr,matrix:ze,typed:Z}),A7=xT({addScalar:Fi,combinations:rp,divideScalar:ei,isInteger:Vn,isNegative:bs,multiplyScalar:mi,typed:Z}),Sc=WA({BigNumber:Ue,DenseMatrix:qt,Fraction:wc,concat:dr,config:Ae,equalScalar:Wt,matrix:ze,typed:Z}),OM=KA({concat:dr,matrix:ze,typed:Z}),C7=Xf({add:or,typed:Z,unaryPlus:Ey}),Ay=rC({equal:_o,typed:Z}),S7=Bf({matrix:ze,number:Fa,subtract:bi,typed:Z}),T7=KS({abs:Cn,addScalar:Fi,deepEqual:Ay,divideScalar:ei,multiplyScalar:mi,sqrt:$o,subtractScalar:vo,typed:Z}),sp=JC({addScalar:Fi,conj:Ec,multiplyScalar:mi,size:Qi,typed:Z}),I7=YA({compareText:OM,isZero:da,typed:Z}),PM=Sf({DenseMatrix:qt,config:Ae,equalScalar:Wt,matrix:ze,round:Gl,typed:Z,zeros:Yi}),M7=MD({BigNumber:Ue,DenseMatrix:qt,concat:dr,config:Ae,equalScalar:Wt,matrix:ze,round:Gl,typed:Z,zeros:Yi}),N7=YC({abs:Cn,addScalar:Fi,divideScalar:ei,isPositive:Dc,multiplyScalar:mi,smaller:Sn,sqrt:$o,typed:Z}),BM=aC({DenseMatrix:qt,smaller:Sn}),ln=sC({ImmutableDenseMatrix:BM,getMatrixDataType:py}),Tn=eC({DenseMatrix:qt,SparseMatrix:Oi,concat:dr,config:Ae,matrix:ze,typed:Z}),Cy=OA({Complex:Pr,config:Ae,divideScalar:ei,typeOf:yy,typed:Z}),k7=qA({DenseMatrix:qt,divideScalar:ei,equalScalar:Wt,matrix:ze,multiplyScalar:mi,subtractScalar:vo,typed:Z}),R7=mD({flatten:jd,matrix:ze,size:Qi,typed:Z}),F7=$f({config:Ae,numeric:bo,smaller:Sn,typed:Z}),LM=Tf({DenseMatrix:qt,concat:dr,config:Ae,equalScalar:Wt,matrix:ze,round:Gl,typed:Z,zeros:Yi}),Ir=OD({addScalar:Fi,dot:sp,equalScalar:Wt,matrix:ze,multiplyScalar:mi,typed:Z}),O7=BA({Complex:Pr,config:Ae,divideScalar:ei,typed:Z}),P7=Nf({DenseMatrix:qt,concat:dr,equalScalar:Wt,matrix:ze,typed:Z}),cp=nC({compare:Sc,isNaN:Hd,isNumeric:Cc,typed:Z}),B7=GA({DenseMatrix:qt,concat:dr,equalScalar:Wt,matrix:ze,typed:Z,zeros:Yi}),VM=IS({SparseMatrix:Oi,abs:Cn,add:or,divideScalar:ei,larger:Tn,largerEq:ap,multiply:Ir,subtract:bi,transpose:Wd,typed:Z}),Jn=zf({add:or,matrix:ze,typed:Z,zeros:Yi}),Sy=Wf({add:or,config:Ae,numeric:bo,typed:Z}),L7=eS({add:or,matrix:ze,typed:Z}),zM=jA({DenseMatrix:qt,divideScalar:ei,equalScalar:Wt,matrix:ze,multiplyScalar:mi,subtractScalar:vo,typed:Z}),V7=RT({Complex:Pr,add:or,multiply:Ir,number:Fa,typed:Z}),Ty=wD({DenseMatrix:qt,config:Ae,equalScalar:Wt,matrix:ze,round:Gl,typed:Z,zeros:Yi}),ha=XA({compare:Sc,typed:Z}),z7=wT({addScalar:Fi,combinations:rp,isInteger:Vn,isNegative:bs,isPositive:Dc,larger:Tn,typed:Z}),U7=eA({matrix:ze,multiply:Ir,subtract:bi,typed:Z}),UM=VS({divideScalar:ei,isZero:da,matrix:ze,multiply:Ir,subtractScalar:vo,typed:Z,unaryMinus:ma}),q7=jD({concat:dr,equalScalar:Wt,matrix:ze,multiplyScalar:mi,typed:Z}),qM=cC({larger:Tn,smaller:Sn}),jM=SD({Complex:Pr,DenseMatrix:qt,ceil:Ty,equalScalar:Wt,floor:PM,matrix:ze,typed:Z,zeros:Yi}),$M=tS({Index:ln,typed:Z}),j7=QS({abs:Cn,add:or,addScalar:Fi,config:Ae,divideScalar:ei,equalScalar:Wt,flatten:jd,isNumeric:Cc,isZero:da,matrix:ze,multiply:Ir,multiplyScalar:mi,smaller:Sn,subtract:bi,typed:Z}),$7=qD({BigNumber:Ue,add:or,config:Ae,equal:_o,isInteger:Vn,mod:LM,smaller:Sn,typed:Z,xgcd:NM}),H7=ND({concat:dr,equalScalar:Wt,matrix:ze,typed:Z}),G7=PA({Complex:Pr,config:Ae,divideScalar:ei,log:Cy,typed:Z}),Iy=jf({config:Ae,larger:Tn,numeric:bo,typed:Z}),W7=zC({DenseMatrix:qt,Index:ln,compareNatural:ha,size:Qi,subset:Jn,typed:Z}),X7=qC({DenseMatrix:qt,Index:ln,compareNatural:ha,size:Qi,subset:Jn,typed:Z}),K7=$C({Index:ln,compareNatural:ha,size:Qi,subset:Jn,typed:Z}),Q7=GC({Index:ln,compareNatural:ha,size:Qi,subset:Jn,typed:Z}),Wl=JA({DenseMatrix:qt,SparseMatrix:Oi,concat:dr,config:Ae,matrix:ze,typed:Z}),Y7=oC({compare:Sc,compareNatural:ha,matrix:ze,typed:Z}),Z7=iC({DenseMatrix:qt,SparseMatrix:Oi,concat:dr,config:Ae,equalScalar:Wt,matrix:ze,typed:Z}),J7=qf({concat:dr,equalScalar:Wt,matrix:ze,not:np,typed:Z,zeros:Yi}),Xl=Lf({bignumber:yo,matrix:ze,add:or,config:Ae,isPositive:Dc,larger:Tn,largerEq:ap,smaller:Sn,smallerEq:Wl,typed:Z}),e$=Vf({Index:ln,matrix:ze,range:Xl,typed:Z}),HM=UC({DenseMatrix:qt,Index:ln,compareNatural:ha,size:Qi,subset:Jn,typed:Z}),t$=HC({Index:ln,compareNatural:ha,size:Qi,subset:Jn,typed:Z}),GM=XC({Index:ln,concat:dr,setDifference:HM,size:Qi,subset:Jn,typed:Z}),WM=lC({FibonacciHeap:qM,addScalar:Fi,equalScalar:Wt}),XM=Rf({Index:ln,matrix:ze,range:Xl,typed:Z}),Tc=zS({abs:Cn,addScalar:Fi,det:UM,divideScalar:ei,identity:_s,matrix:ze,multiply:Ir,typed:Z,unaryMinus:ma}),KM=CS({DenseMatrix:qt,Spa:WM,SparseMatrix:Oi,abs:Cn,addScalar:Fi,divideScalar:ei,equalScalar:Wt,larger:Tn,matrix:ze,multiplyScalar:mi,subtractScalar:vo,typed:Z,unaryMinus:ma}),r$=US({Complex:Pr,add:or,ctranspose:_y,deepEqual:Ay,divideScalar:ei,dot:sp,dotDivide:Xd,equal:_o,inv:Tc,matrix:ze,multiply:Ir,typed:Z}),Ho=RA({Complex:Pr,config:Ae,fraction:Gd,identity:_s,inv:Tc,matrix:ze,multiply:Ir,number:Fa,typed:Z}),QM=jC({DenseMatrix:qt,Index:ln,compareNatural:ha,size:Qi,subset:Jn,typed:Z}),i$=KC({Index:ln,concat:dr,setIntersect:QM,setSymDifference:GM,size:Qi,subset:Jn,typed:Z}),n$=$S({abs:Cn,add:or,identity:_s,inv:Tc,map:Ac,max:Iy,multiply:Ir,size:Qi,sqrt:$o,subtract:bi,typed:Z}),Ft=dC({BigNumber:Ue,Complex:Pr,Fraction:wc,abs:Cn,addScalar:Fi,config:Ae,divideScalar:ei,equal:_o,fix:jM,format:$d,isNumeric:Cc,multiplyScalar:mi,number:Fa,pow:Ho,round:Gl,subtractScalar:vo}),o$=aI({BigNumber:Ue,Unit:Ft,config:Ae}),a$=UI({BigNumber:Ue,Unit:Ft,config:Ae}),s$=II({BigNumber:Ue,Unit:Ft,config:Ae}),c$=lI({BigNumber:Ue,Unit:Ft,config:Ae}),l$=NI({BigNumber:Ue,Unit:Ft,config:Ae}),u$=uI({BigNumber:Ue,Unit:Ft,config:Ae}),d$=sI({BigNumber:Ue,Unit:Ft,config:Ae}),m$=wI({BigNumber:Ue,Unit:Ft,config:Ae}),h$=LA({DenseMatrix:qt,SparseMatrix:Oi,concat:dr,equalScalar:Wt,matrix:ze,pow:Ho,typed:Z}),f$=oI({BigNumber:Ue,Unit:Ft,config:Ae}),p$=cI({BigNumber:Ue,Unit:Ft,config:Ae}),g$=jS({abs:Cn,add:or,identity:_s,inv:Tc,multiply:Ir,typed:Z}),v$=kI({BigNumber:Ue,Unit:Ft,config:Ae}),YM=yA({addScalar:Fi,ceil:Ty,conj:Ec,divideScalar:ei,dotDivide:Xd,exp:CM,i:xM,log2:SM,matrix:ze,multiplyScalar:mi,pow:Ho,tau:EM,typed:Z}),My=iT({BigNumber:Ue,Complex:Pr,config:Ae,multiplyScalar:mi,pow:Ho,typed:Z}),y$=tI({BigNumber:Ue,Unit:Ft,config:Ae}),b$=_I({BigNumber:Ue,Unit:Ft,config:Ae}),_$=bA({conj:Ec,dotDivide:Xd,fft:YM,typed:Z}),x$=fI({BigNumber:Ue,Unit:Ft,config:Ae}),w$=FI({BigNumber:Ue,Unit:Ft,config:Ae}),E$=nI({BigNumber:Ue,Unit:Ft,config:Ae}),D$=qI({BigNumber:Ue,Unit:Ft,config:Ae}),A$=PI({BigNumber:Ue,Unit:Ft,config:Ae}),C$=EI({BigNumber:Ue,Unit:Ft,config:Ae}),S$=hI({BigNumber:Ue,Unit:Ft,config:Ae}),T$=XI({BigNumber:Ue,Unit:Ft,config:Ae}),I$=HI({BigNumber:Ue,Unit:Ft,config:Ae}),M$=KI({BigNumber:Ue,Unit:Ft,config:Ae}),N$=xI({BigNumber:Ue,Unit:Ft,config:Ae}),k$=DI({BigNumber:Ue,Unit:Ft,config:Ae}),R$=iI({BigNumber:Ue,Unit:Ft,config:Ae}),F$=AI({BigNumber:Ue,Unit:Ft,config:Ae}),O$=VI({BigNumber:Ue,Unit:Ft,config:Ae}),P$=eI({BigNumber:Ue,Unit:Ft,config:Ae}),B$=zI({BigNumber:Ue,Unit:Ft,config:Ae}),L$=CI({BigNumber:Ue,Unit:Ft,config:Ae}),V$=MI({BigNumber:Ue,Unit:Ft,config:Ae}),z$=pI({BigNumber:Ue,Unit:Ft,config:Ae}),U$=fC({Unit:Ft,typed:Z}),Zi=XS({divideScalar:ei,equalScalar:Wt,inv:Tc,matrix:ze,multiply:Ir,typed:Z}),q$=vI({BigNumber:Ue,Unit:Ft,config:Ae}),Kd=oT({gamma:My,typed:Z}),j$=RI({BigNumber:Ue,Unit:Ft,config:Ae}),$$=$I({BigNumber:Ue,Unit:Ft,config:Ae}),H$=dI({BigNumber:Ue,Unit:Ft,config:Ae}),ZM=NS({DenseMatrix:qt,lsolve:FM,lup:KM,matrix:ze,slu:VM,typed:Z,usolve:Dy}),G$=mI({BigNumber:Ue,Unit:Ft,config:Ae}),W$=jI({BigNumber:Ue,Unit:Ft,config:Ae}),X$=sT({add:or,divide:Zi,factorial:Kd,isInteger:Vn,isPositive:Dc,multiply:Ir,typed:Z}),K$=cT({factorial:Kd,typed:Z}),Q$=GI({BigNumber:Ue,Unit:Ft,config:Ae}),Y$=kS({add:or,cbrt:kM,divide:Zi,equalScalar:Wt,im:gy,isZero:da,multiply:Ir,re:vy,sqrt:$o,subtract:bi,typeOf:yy,typed:Z,unaryMinus:ma}),Z$=WC({compareNatural:ha,typed:Z}),J$=_A({abs:Cn,add:or,bignumber:yo,divide:Zi,isNegative:bs,isPositive:Dc,larger:Tn,map:Ac,matrix:ze,max:Iy,multiply:Ir,smaller:Sn,subtract:bi,typed:Z,unaryMinus:ma}),JM=bT({bignumber:yo,addScalar:Fi,combinations:rp,divideScalar:ei,factorial:Kd,isInteger:Vn,isNegative:bs,larger:Tn,multiplyScalar:mi,number:Fa,pow:Ho,subtractScalar:vo,typed:Z}),eH=mC({Unit:Ft,typed:Z}),tH=_T({addScalar:Fi,isInteger:Vn,isNegative:bs,stirlingS2:JM,typed:Z}),eN=qS({abs:Cn,add:or,addScalar:Fi,atan:AM,bignumber:yo,column:XM,complex:ip,config:Ae,cos:fy,diag:RM,divideScalar:ei,dot:sp,equal:_o,flatten:jd,im:gy,inv:Tc,larger:Tn,matrix:ze,matrixFromColumns:xy,multiply:Ir,multiplyScalar:mi,number:Fa,qr:wy,re:vy,reshape:MM,sin:op,size:Qi,smaller:Sn,sqrt:$o,subtract:bi,typed:Z,usolve:Dy,usolveAll:zM}),rH=yI({BigNumber:Ue,Unit:Ft,config:Ae}),iH=OI({BigNumber:Ue,Unit:Ft,config:Ae}),nH=aT({divide:Zi,dotDivide:Xd,isNumeric:Cc,log:Cy,map:Ac,matrix:ze,multiply:Ir,sum:Sy,typed:Z}),tN=Kf({add:or,divide:Zi,typed:Z}),oH=BI({BigNumber:Ue,Unit:Ft,config:Ae}),aH=rI({BigNumber:Ue,Unit:Ft,config:Ae}),sH=Yf({bignumber:yo,add:or,compare:Sc,divide:Zi,isInteger:Vn,larger:Tn,multiply:Ir,partitionSelect:cp,smaller:Sn,smallerEq:Wl,subtract:bi,typed:Z}),Ny=Qf({add:or,apply:by,divide:Zi,isNaN:Hd,multiply:Ir,subtract:bi,typed:Z}),cH=gI({BigNumber:Ue,Unit:Ft,config:Ae}),rN=YS({add:or,compare:Sc,divide:Zi,partitionSelect:cp,typed:Z}),lH=eT({add:or,divide:Zi,matrix:ze,mean:tN,multiply:Ir,pow:Ho,sqrt:$o,subtract:bi,sum:Sy,typed:Z}),uH=FT({Complex:Pr,add:or,divide:Zi,matrix:ze,multiply:Ir,typed:Z}),dH=ZS({abs:Cn,map:Ac,median:rN,subtract:bi,typed:Z}),mH=Zf({map:Ac,sqrt:$o,typed:Z,variance:Ny}),hH=wA({BigNumber:Ue,Complex:Pr,add:or,config:Ae,divide:Zi,equal:_o,factorial:Kd,gamma:My,isNegative:bs,multiply:Ir,pi:hy,pow:Ho,sin:op,smallerEq:Wl,subtract:bi,typed:Z}),ky=ZC({abs:Cn,add:or,conj:Ec,ctranspose:_y,eigs:eN,equalScalar:Wt,larger:Tn,matrix:ze,multiply:Ir,pow:Ho,smaller:Sn,sqrt:$o,typed:Z}),iN=mA({BigNumber:Ue,DenseMatrix:qt,SparseMatrix:Oi,addScalar:Fi,config:Ae,cos:fy,matrix:ze,multiplyScalar:mi,norm:ky,sin:op,typed:Z,unaryMinus:ma}),fH=WI({BigNumber:Ue,Unit:Ft,config:Ae}),nN=GS({identity:_s,matrix:ze,multiply:Ir,norm:ky,qr:wy,subtract:bi,typed:Z}),pH=dA({multiply:Ir,rotationMatrix:iN,typed:Z}),oN=HS({abs:Cn,add:or,concat:dr,identity:_s,index:$M,lusolve:ZM,matrix:ze,matrixFromColumns:xy,multiply:Ir,range:Xl,schur:nN,subset:Jn,subtract:bi,transpose:Wd,typed:Z}),gH=WS({matrix:ze,multiply:Ir,sylvester:oN,transpose:Wd,typed:Z});var Qd={},lp={},vH={},In=rS({mathWithTransform:lp}),Yd=fS({Node:In}),xs=pS({Node:In}),Kl=gS({Node:In}),yH=yS({Node:In}),Zd=nS({Node:In}),bH=aS({Node:In,ResultSet:wM}),_H=sS({Node:In}),Ic=dS({Node:In}),xH=vS({Node:In}),bhe=OT({classes:vH}),aN=FS({math:Qd,typed:Z}),wH=mS({Node:In,typed:Z}),_he=LS({Chain:aN,typed:Z}),Jd=hS({Node:In,size:Qi}),em=iS({Node:In,subset:Jn}),EH=oS({matrix:ze,Node:In,subset:Jn}),Mc=bS({Unit:Ft,Node:In,math:Qd}),Nc=_S({Node:In,SymbolNode:Mc,math:Qd}),fa=xS({AccessorNode:em,ArrayNode:Zd,AssignmentNode:EH,BlockNode:bH,ConditionalNode:_H,ConstantNode:Ic,FunctionAssignmentNode:wH,FunctionNode:Nc,IndexNode:Jd,ObjectNode:Yd,OperatorNode:xs,ParenthesisNode:Kl,RangeNode:xH,RelationalNode:yH,SymbolNode:Mc,config:Ae,numeric:bo,typed:Z}),DH=IT({ConstantNode:Ic,FunctionNode:Nc,OperatorNode:xs,ParenthesisNode:Kl,parse:fa,typed:Z}),sN=ST({bignumber:yo,fraction:Gd,AccessorNode:em,ArrayNode:Zd,ConstantNode:Ic,FunctionNode:Nc,IndexNode:Jd,ObjectNode:Yd,OperatorNode:xs,SymbolNode:Mc,config:Ae,mathWithTransform:lp,matrix:ze,typed:Z}),xhe=wS({parse:fa,typed:Z}),cN=TT({AccessorNode:em,ArrayNode:Zd,ConstantNode:Ic,FunctionNode:Nc,IndexNode:Jd,ObjectNode:Yd,OperatorNode:xs,ParenthesisNode:Kl,SymbolNode:Mc,add:or,divide:Zi,equal:_o,isZero:da,multiply:Ir,parse:fa,pow:Ho,subtract:bi,typed:Z}),up=ES({parse:fa,typed:Z}),AH=RS({evaluate:up}),CH=DS({evaluate:up,parse:fa}),Ry=CT({AccessorNode:em,ArrayNode:Zd,ConstantNode:Ic,FunctionNode:Nc,IndexNode:Jd,ObjectNode:Yd,OperatorNode:xs,ParenthesisNode:Kl,SymbolNode:Mc,equal:_o,parse:fa,replacer:DM,resolve:DH,simplifyConstant:sN,simplifyCore:cN,typed:Z}),whe=MT({OperatorNode:xs,parse:fa,simplify:Ry,typed:Z}),Ehe=ET({parse:fa,typed:Z}),Dhe=AS({Parser:CH,typed:Z}),Ahe=kT({bignumber:yo,fraction:Gd,AccessorNode:em,ArrayNode:Zd,ConstantNode:Ic,FunctionNode:Nc,IndexNode:Jd,ObjectNode:Yd,OperatorNode:xs,ParenthesisNode:Kl,SymbolNode:Mc,add:or,config:Ae,divide:Zi,equal:_o,isZero:da,mathWithTransform:lp,matrix:ze,multiply:Ir,parse:fa,pow:Ho,simplify:Ry,simplifyConstant:sN,simplifyCore:cN,subtract:bi,typed:Z}),Che=NT({ConstantNode:Ic,FunctionNode:Nc,OperatorNode:xs,ParenthesisNode:Kl,SymbolNode:Mc,config:Ae,equal:_o,isZero:da,numeric:bo,parse:fa,simplify:Ry,typed:Z}),She=BS({Help:AH,mathWithTransform:lp,typed:Z});Kr(Qd,{e:_M,false:Z9,fineStructure:J9,i:xM,Infinity:ej,LN10:tj,LOG10E:rj,NaN:ij,null:nj,phi:oj,SQRT1_2:sj,sackurTetrode:cj,tau:EM,true:lj,E:_M,version:uj,efimovFactor:dj,LN2:mj,pi:hy,replacer:DM,reviver:bhe,SQRT2:hj,typed:Z,PI:hy,weakMixingAngle:fj,abs:Cn,acos:pj,acot:gj,acsc:vj,addScalar:Fi,arg:yj,asech:bj,asinh:_j,atan:AM,atanh:xj,bigint:wj,bitNot:Ej,boolean:Dj,clone:Aj,combinations:rp,complex:ip,conj:Ec,cos:fy,cot:Cj,csc:Sj,cube:Tj,equalScalar:Wt,erf:Ij,exp:CM,expm1:Mj,filter:Nj,flatten:jd,forEach:kj,format:$d,getMatrixDataType:py,hex:Rj,im:gy,isInteger:Vn,isNegative:bs,isPositive:Dc,isZero:da,LOG2E:Fj,lgamma:Oj,log10:Pj,log2:SM,map:Ac,multiplyScalar:mi,not:np,number:Fa,oct:Bj,pickRandom:Lj,print:Vj,random:zj,re:vy,sec:Uj,sign:TM,sin:op,splitUnit:qj,square:jj,string:$j,subtractScalar:vo,tan:Hj,typeOf:yy,acosh:Gj,acsch:Wj,apply:by,asec:Xj,bignumber:yo,chain:_he,combinationsWithRep:Kj,cosh:Qj,csch:Yj,isNaN:Hd,isPrime:Zj,randomInt:Jj,sech:e7,sinh:t7,sparse:r7,sqrt:$o,squeeze:i7,tanh:n7,unaryMinus:ma,acoth:o7,bin:a7,coth:s7,fraction:Gd,isNumeric:Cc,matrix:ze,matrixFromFunction:c7,mode:l7,numeric:bo,prod:IM,reshape:MM,size:Qi,transpose:Wd,xgcd:NM,zeros:Yi,asin:u7,cbrt:kM,concat:dr,count:d7,ctranspose:_y,diag:RM,divideScalar:ei,dotDivide:Xd,equal:_o,hasNumericValue:m7,identity:_s,kron:h7,largerEq:ap,leftShift:f7,lsolve:FM,matrixFromColumns:xy,nthRoot:p7,ones:g7,qr:wy,resize:v7,rightArithShift:y7,round:Gl,smaller:Sn,subtract:bi,to:b7,unaryPlus:Ey,usolve:Dy,xor:_7,add:or,atan2:x7,bitAnd:w7,bitOr:E7,bitXor:D7,catalan:A7,compare:Sc,compareText:OM,cumsum:C7,deepEqual:Ay,diff:S7,distance:T7,dot:sp,equalText:I7,floor:PM,gcd:M7,hypot:N7,larger:Tn,log:Cy,lsolveAll:k7,matrixFromRows:R7,min:F7,mod:LM,multiply:Ir,nthRoots:O7,or:P7,partitionSelect:cp,rightLogShift:B7,slu:VM,subset:Jn,sum:Sy,trace:L7,usolveAll:zM,zpk2tf:V7,ceil:Ty,compareNatural:ha,composition:z7,cross:U7,det:UM,dotMultiply:q7,fix:jM,index:$M,intersect:j7,invmod:$7,lcm:H7,log1p:G7,max:Iy,setCartesian:W7,setDistinct:X7,setIsSubset:K7,setPowerset:Q7,smallerEq:Wl,sort:Y7,unequal:Z7,and:J7,range:Xl,row:e$,setDifference:HM,setMultiplicity:t$,setSymDifference:GM,column:XM,inv:Tc,lup:KM,pinv:r$,pow:Ho,setIntersect:QM,setUnion:i$,sqrtm:n$,vacuumImpedance:o$,wienDisplacement:a$,atomicMass:s$,bohrMagneton:c$,boltzmann:l$,conductanceQuantum:u$,coulomb:d$,deuteronMass:m$,dotPow:h$,electricConstant:f$,elementaryCharge:p$,expm:g$,faraday:v$,fft:YM,gamma:My,gravitationConstant:y$,hartreeEnergy:b$,ifft:_$,klitzing:x$,loschmidt:w$,magneticConstant:E$,molarMass:D$,molarPlanckConstant:A$,neutronMass:C$,nuclearMagneton:S$,planckCharge:T$,planckLength:I$,planckTemperature:M$,protonMass:N$,quantumOfCirculation:k$,reducedPlanckConstant:R$,rydberg:F$,secondRadiation:O$,speedOfLight:P$,stefanBoltzmann:B$,thomsonCrossSection:L$,avogadro:V$,bohrRadius:z$,createUnit:U$,divide:Zi,electronMass:q$,factorial:Kd,firstRadiation:j$,gravity:$$,inverseConductanceQuantum:H$,lusolve:ZM,magneticFluxQuantum:G$,molarMassC12:W$,multinomial:X$,parse:fa,permutations:K$,planckMass:Q$,polynomialRoot:Y$,resolve:DH,setSize:Z$,simplifyConstant:sN,solveODE:J$,stirlingS2:JM,unit:eH,bellNumbers:tH,compile:xhe,eigs:eN,fermiCoupling:rH,gasConstant:iH,kldivergence:nH,mean:tN,molarVolume:oH,planckConstant:aH,quantileSeq:sH,simplifyCore:cN,variance:Ny,classicalElectronRadius:cH,evaluate:up,median:rN,simplify:Ry,symbolicEqual:whe,corr:lH,freqz:uH,leafCount:Ehe,mad:dH,parser:Dhe,rationalize:Ahe,std:mH,zeta:hH,derivative:Che,norm:ky,rotationMatrix:iN,help:She,planckTime:fH,schur:nN,rotate:pH,sylvester:oN,lyap:gH,config:Ae});Kr(lp,Qd,{filter:ZI({typed:Z}),forEach:JI({typed:Z}),map:tM({typed:Z}),apply:QI({isInteger:Vn,typed:Z}),or:vM({DenseMatrix:qt,concat:dr,equalScalar:Wt,matrix:ze,typed:Z}),and:gM({add:or,concat:dr,equalScalar:Wt,matrix:ze,not:np,typed:Z,zeros:Yi}),concat:cM({isInteger:Vn,matrix:ze,typed:Z}),max:rM({config:Ae,larger:Tn,numeric:bo,typed:Z}),print:pM({add:or,matrix:ze,typed:Z,zeros:Yi}),bitAnd:yM({add:or,concat:dr,equalScalar:Wt,matrix:ze,not:np,typed:Z,zeros:Yi}),diff:lM({bignumber:yo,matrix:ze,number:Fa,subtract:bi,typed:Z}),min:nM({config:Ae,numeric:bo,smaller:Sn,typed:Z}),subset:sM({add:or,matrix:ze,typed:Z,zeros:Yi}),bitOr:bM({DenseMatrix:qt,concat:dr,equalScalar:Wt,matrix:ze,typed:Z}),cumsum:hM({add:or,typed:Z,unaryPlus:Ey}),index:eM({Index:ln,getMatrixDataType:py}),sum:dM({add:or,config:Ae,numeric:bo,typed:Z}),range:oM({bignumber:yo,matrix:ze,add:or,config:Ae,isPositive:Dc,larger:Tn,largerEq:ap,smaller:Sn,smallerEq:Wl,typed:Z}),row:aM({Index:ln,matrix:ze,range:Xl,typed:Z}),column:YI({Index:ln,matrix:ze,range:Xl,typed:Z}),mean:iM({add:or,divide:Zi,typed:Z}),quantileSeq:mM({add:or,bignumber:yo,compare:Sc,divide:Zi,isInteger:Vn,larger:Tn,multiply:Ir,partitionSelect:cp,smaller:Sn,smallerEq:Wl,subtract:bi,typed:Z}),variance:fM({add:or,apply:by,divide:Zi,isNaN:Hd,multiply:Ir,subtract:bi,typed:Z}),std:uM({map:Ac,sqrt:$o,typed:Z,variance:Ny})});Kr(vH,{BigNumber:Ue,Complex:Pr,Fraction:wc,Matrix:tp,Node:In,ObjectNode:Yd,OperatorNode:xs,ParenthesisNode:Kl,Range:aj,RelationalNode:yH,ResultSet:wM,ArrayNode:Zd,BlockNode:bH,ConditionalNode:_H,ConstantNode:Ic,DenseMatrix:qt,RangeNode:xH,Chain:aN,FunctionAssignmentNode:wH,SparseMatrix:Oi,IndexNode:Jd,ImmutableDenseMatrix:BM,Index:ln,AccessorNode:em,AssignmentNode:EH,FibonacciHeap:qM,Spa:WM,Unit:Ft,SymbolNode:Mc,FunctionNode:Nc,Help:AH,Parser:CH});aN.createProxy(Qd);var The=["*"];var Ihe=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],Mhe=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],Nhe=new Ve("MAT_CARD_CONFIG"),Fy=(()=>{class r{constructor(t){this.appearance=t?.appearance||"raised"}static{this.\u0275fac=function(i){return new(i||r)(ue(Nhe,8))}}static{this.\u0275cmp=dt({type:r,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,n){i&2&&$t("mat-mdc-card-outlined",n.appearance==="outlined")("mdc-card--outlined",n.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[Yt],ngContentSelectors:The,decls:1,vars:0,template:function(i,n){i&1&&(vr(),Tt(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface-container-low));border-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface-container-low));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-app-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-app-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-app-corner-medium));border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color, var(--mat-app-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-app-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-app-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-app-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-app-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-app-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-app-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-app-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-app-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-app-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-app-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-app-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-app-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}}return r})(),SH=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275dir=yt({type:r,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0})}}return r})();var Oy=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275dir=yt({type:r,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0})}}return r})();var TH=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275cmp=dt({type:r,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[Yt],ngContentSelectors:Mhe,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(i,n){i&1&&(vr(Ihe),Tt(0),oe(1,"div",0),Tt(2,1),ne(),Tt(3,2))},encapsulation:2,changeDetection:0})}}return r})();var IH=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=ot({type:r})}static{this.\u0275inj=nt({imports:[nr,Ys,nr]})}}return r})();var NH=["*"];var khe=".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-header{font-size:var(--mat-grid-list-tile-header-primary-text-size, var(--mat-app-body-large))}.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-header-secondary-text-size, var(--mat-app-body-medium))}.mat-grid-tile-footer{font-size:var(--mat-grid-list-tile-footer-primary-text-size, var(--mat-app-body-large))}.mat-grid-tile-footer .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-footer-secondary-text-size, var(--mat-app-body-medium))}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}",lN=class{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){let e=Math.max(...this.tracker);return e>1?this.rowCount+e-1:this.rowCount}update(e,t){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(e),this.tracker.fill(0,0,this.tracker.length),this.positions=t.map(i=>this._trackTile(i))}_trackTile(e){let t=this._findMatchingGap(e.colspan);return this._markTilePosition(t,e),this.columnIndex=t+e.colspan,new uN(this.rowIndex,t)}_findMatchingGap(e){e>this.tracker.length;let t=-1,i=-1;do{if(this.columnIndex+e>this.tracker.length){this._nextRow(),t=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(t);continue}if(t=this.tracker.indexOf(0,this.columnIndex),t==-1){this._nextRow(),t=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(t);continue}i=this._findGapEndIndex(t),this.columnIndex=t+1}while(i-t<e||i==0);return Math.max(t,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let e=0;e<this.tracker.length;e++)this.tracker[e]=Math.max(0,this.tracker[e]-1)}_findGapEndIndex(e){for(let t=e+1;t<this.tracker.length;t++)if(this.tracker[t]!=0)return t;return this.tracker.length}_markTilePosition(e,t){for(let i=0;i<t.colspan;i++)this.tracker[e+i]=t.rowspan}},uN=class{constructor(e,t){this.row=e,this.col=t}},kH=new Ve("MAT_GRID_LIST"),fN=(()=>{class r{constructor(t,i){this._element=t,this._gridList=i,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(t){this._rowspan=Math.round(ta(t))}get colspan(){return this._colspan}set colspan(t){this._colspan=Math.round(ta(t))}_setStyle(t,i){this._element.nativeElement.style[t]=i}static{this.\u0275fac=function(i){return new(i||r)(ue(At),ue(kH,8))}}static{this.\u0275cmp=dt({type:r,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(i,n){i&2&&lr("rowspan",n.rowspan)("colspan",n.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],standalone:!0,features:[Yt],ngContentSelectors:NH,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(i,n){i&1&&(vr(),oe(0,"div",0),Tt(1),ne())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-header{font-size:var(--mat-grid-list-tile-header-primary-text-size, var(--mat-app-body-large))}.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-header-secondary-text-size, var(--mat-app-body-medium))}.mat-grid-tile-footer{font-size:var(--mat-grid-list-tile-footer-primary-text-size, var(--mat-app-body-large))}.mat-grid-tile-footer .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-footer-secondary-text-size, var(--mat-app-body-medium))}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0})}}return r})();var Rhe=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/,dp=class{constructor(){this._rows=0,this._rowspan=0}init(e,t,i,n){this._gutterSize=RH(e),this._rows=t.rowCount,this._rowspan=t.rowspan,this._cols=i,this._direction=n}getBaseTileSize(e,t){return`(${e}% - (${this._gutterSize} * ${t}))`}getTilePosition(e,t){return t===0?"0":Ql(`(${e} + ${this._gutterSize}) * ${t}`)}getTileSize(e,t){return`(${e} * ${t}) + (${t-1} * ${this._gutterSize})`}setStyle(e,t,i){let n=100/this._cols,o=(this._cols-1)/this._cols;this.setColStyles(e,i,n,o),this.setRowStyles(e,t,n,o)}setColStyles(e,t,i,n){let o=this.getBaseTileSize(i,n),a=this._direction==="rtl"?"right":"left";e._setStyle(a,this.getTilePosition(o,t)),e._setStyle("width",Ql(this.getTileSize(o,e.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(e){return`${this._rowspan} * ${this.getTileSize(e,1)}`}getComputedHeight(){return null}},dN=class extends dp{constructor(e){super(),this.fixedRowHeight=e}init(e,t,i,n){super.init(e,t,i,n),this.fixedRowHeight=RH(this.fixedRowHeight),Rhe.test(this.fixedRowHeight)}setRowStyles(e,t){e._setStyle("top",this.getTilePosition(this.fixedRowHeight,t)),e._setStyle("height",Ql(this.getTileSize(this.fixedRowHeight,e.rowspan)))}getComputedHeight(){return["height",Ql(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(e){e._setListStyle(["height",null]),e._tiles&&e._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}},mN=class extends dp{constructor(e){super(),this._parseRatio(e)}setRowStyles(e,t,i,n){let o=i/this.rowHeightRatio;this.baseTileHeight=this.getBaseTileSize(o,n),e._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,t)),e._setStyle("paddingTop",Ql(this.getTileSize(this.baseTileHeight,e.rowspan)))}getComputedHeight(){return["paddingBottom",Ql(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(e){e._setListStyle(["paddingBottom",null]),e._tiles.forEach(t=>{t._setStyle("marginTop",null),t._setStyle("paddingTop",null)})}_parseRatio(e){let t=e.split(":");t.length,this.rowHeightRatio=parseFloat(t[0])/parseFloat(t[1])}},hN=class extends dp{setRowStyles(e,t){let i=100/this._rowspan,n=(this._rows-1)/this._rows,o=this.getBaseTileSize(i,n);e._setStyle("top",this.getTilePosition(o,t)),e._setStyle("height",Ql(this.getTileSize(o,e.rowspan)))}reset(e){e._tiles&&e._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}};function Ql(r){return`calc(${r})`}function RH(r){return r.match(/([A-Za-z%]+)$/)?r:`${r}px`}var Fhe="fit",FH=(()=>{class r{constructor(t,i){this._element=t,this._dir=i,this._gutter="1px"}get cols(){return this._cols}set cols(t){this._cols=Math.max(1,Math.round(ta(t)))}get gutterSize(){return this._gutter}set gutterSize(t){this._gutter=`${t??""}`}get rowHeight(){return this._rowHeight}set rowHeight(t){let i=`${t??""}`;i!==this._rowHeight&&(this._rowHeight=i,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){this.cols}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(t){this._tileStyler&&this._tileStyler.reset(this),t===Fhe?this._tileStyler=new hN:t&&t.indexOf(":")>-1?this._tileStyler=new mN(t):this._tileStyler=new dN(t)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new lN);let t=this._tileCoordinator,i=this._tiles.filter(o=>!o._gridList||o._gridList===this),n=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,i),this._tileStyler.init(this.gutterSize,t,this.cols,n),i.forEach((o,a)=>{let s=t.positions[a];this._tileStyler.setStyle(o,s.row,s.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(t){t&&(this._element.nativeElement.style[t[0]]=t[1])}static{this.\u0275fac=function(i){return new(i||r)(ue(At),ue(ko,8))}}static{this.\u0275cmp=dt({type:r,selectors:[["mat-grid-list"]],contentQueries:function(i,n,o){if(i&1&&Ei(o,fN,5),i&2){let a;Bt(a=Lt())&&(n._tiles=a)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(i,n){i&2&&lr("cols",n.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],standalone:!0,features:[mr([{provide:kH,useExisting:r}]),Yt],ngContentSelectors:NH,decls:2,vars:0,template:function(i,n){i&1&&(vr(),oe(0,"div"),Tt(1),ne())},styles:[khe],encapsulation:2,changeDetection:0})}}return r})(),OH=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=ot({type:r})}static{this.\u0275inj=nt({imports:[Rw,nr,Rw,nr]})}}return r})();function Phe(r,e){if(r&1){let t=ii();oe(0,"mat-grid-tile")(1,"button",3),Nt("click",function(){let n=Kt(t).$implicit,o=Pt();return Qt(o.onButtonClick(n))}),Ie(2),ne()()}if(r&2){let t=e.$implicit;ke(2),Co(" ",t," ")}}var Py=class r{display="";buttons=["7","8","9","/","4","5","6","*","1","2","3","-","C","0","=","+"];onButtonClick(e){if(e==="C")this.display="";else if(e==="=")try{this.display=up(this.display)}catch{this.display="Error"}else{let t=this.display[this.display.length-1];if(this.isOperator(e)&&this.isOperator(t))return;this.display+=e}}isOperator(e){return["+","-","*","/"].includes(e)}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=dt({type:r,selectors:[["app-calculator"]],decls:9,vars:2,consts:[[1,"calculator-container"],["cols","4","rowHeight","100px"],[4,"ngFor","ngForOf"],["mat-raised-button","","color","accent",3,"click"]],template:function(t,i){t&1&&(oe(0,"div",0)(1,"h2"),Ie(2,"Simple Calculator"),ne(),oe(3,"mat-card")(4,"mat-card-content")(5,"h3"),Ie(6),ne()(),oe(7,"mat-grid-list",1),lt(8,Phe,3,1,"mat-grid-tile",2),ne()()()),t&2&&(ke(6),co(i.display),ke(2),rt("ngForOf",i.buttons))},dependencies:[Zu,Wn,Fy,Oy,FH,fN],styles:[".calculator-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:20px}mat-card[_ngcontent-%COMP%]{width:300px}h3[_ngcontent-%COMP%]{text-align:right;font-size:2rem;margin:0}"]})};var tm=class{constructor(e){this.questionText=e;this.feedback=5}feedback;setFeedback(e){this.feedback=e}};var By=class r{questions=[new tm("MP Metallicah"),new tm('Onko Jone "Cuck" Nikula \xC4IJ\xC4?'),new tm("How Meganen is Dave")];getQuestions(){return[...this.questions]}static \u0275fac=function(t){return new(t||r)};static \u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})};var jH=(()=>{class r{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=n=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(i){return new(i||r)(ue(Mh),ue(At))}}static{this.\u0275dir=yt({type:r})}}return r})(),$H=(()=>{class r extends jH{static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=rn(r)))(n||r)}})()}static{this.\u0275dir=yt({type:r,features:[wr]})}}return r})(),Fc=new Ve(""),Lhe={provide:Fc,useExisting:Ui(()=>yN),multi:!0},yN=(()=>{class r extends $H{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=rn(r)))(n||r)}})()}static{this.\u0275dir=yt({type:r,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,n){i&1&&Nt("change",function(a){return n.onChange(a.target.checked)})("blur",function(){return n.onTouched()})},features:[mr([Lhe]),wr]})}}return r})(),Vhe={provide:Fc,useExisting:Ui(()=>Oa),multi:!0};function zhe(){let r=xl()?xl().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}var Uhe=new Ve(""),Oa=(()=>{class r extends jH{constructor(t,i,n){super(t,i),this._compositionMode=n,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!zhe())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(i){return new(i||r)(ue(Mh),ue(At),ue(Uhe,8))}}static{this.\u0275dir=yt({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,n){i&1&&Nt("input",function(a){return n._handleInput(a.target.value)})("blur",function(){return n.onTouched()})("compositionstart",function(){return n._compositionStart()})("compositionend",function(a){return n._compositionEnd(a.target.value)})},features:[mr([Vhe]),wr]})}}return r})();function kc(r){return r==null||(typeof r=="string"||Array.isArray(r))&&r.length===0}function HH(r){return r!=null&&typeof r.length=="number"}var Pa=new Ve(""),Xy=new Ve(""),qhe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ai=class{static min(e){return jhe(e)}static max(e){return $he(e)}static required(e){return GH(e)}static requiredTrue(e){return Hhe(e)}static email(e){return WH(e)}static minLength(e){return XH(e)}static maxLength(e){return Ghe(e)}static pattern(e){return KH(e)}static nullValidator(e){return Vy(e)}static compose(e){return tG(e)}static composeAsync(e){return rG(e)}};function jhe(r){return e=>{if(kc(e.value)||kc(r))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<r?{min:{min:r,actual:e.value}}:null}}function $he(r){return e=>{if(kc(e.value)||kc(r))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>r?{max:{max:r,actual:e.value}}:null}}function GH(r){return kc(r.value)?{required:!0}:null}function Hhe(r){return r.value===!0?null:{required:!0}}function WH(r){return kc(r.value)||qhe.test(r.value)?null:{email:!0}}function XH(r){return e=>kc(e.value)||!HH(e.value)?null:e.value.length<r?{minlength:{requiredLength:r,actualLength:e.value.length}}:null}function Ghe(r){return e=>HH(e.value)&&e.value.length>r?{maxlength:{requiredLength:r,actualLength:e.value.length}}:null}function KH(r){if(!r)return Vy;let e,t;return typeof r=="string"?(t="",r.charAt(0)!=="^"&&(t+="^"),t+=r,r.charAt(r.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=r.toString(),e=r),i=>{if(kc(i.value))return null;let n=i.value;return e.test(n)?null:{pattern:{requiredPattern:t,actualValue:n}}}}function Vy(r){return null}function QH(r){return r!=null}function YH(r){return ov(r)?Zr(r):r}function ZH(r){let e={};return r.forEach(t=>{e=t!=null?Le(Le({},e),t):e}),Object.keys(e).length===0?null:e}function JH(r,e){return e.map(t=>t(r))}function Whe(r){return!r.validate}function eG(r){return r.map(e=>Whe(e)?e:t=>e.validate(t))}function tG(r){if(!r)return null;let e=r.filter(QH);return e.length==0?null:function(t){return ZH(JH(t,e))}}function bN(r){return r!=null?tG(eG(r)):null}function rG(r){if(!r)return null;let e=r.filter(QH);return e.length==0?null:function(t){let i=JH(t,e).map(YH);return Wg(i).pipe(ct(ZH))}}function _N(r){return r!=null?rG(eG(r)):null}function PH(r,e){return r===null?[e]:Array.isArray(r)?[...r,e]:[r,e]}function iG(r){return r._rawValidators}function nG(r){return r._rawAsyncValidators}function pN(r){return r?Array.isArray(r)?r:[r]:[]}function zy(r,e){return Array.isArray(r)?r.includes(e):r===e}function BH(r,e){let t=pN(e);return pN(r).forEach(n=>{zy(t,n)||t.push(n)}),t}function LH(r,e){return pN(e).filter(t=>!zy(r,t))}var Uy=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=bN(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=_N(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},ws=class extends Uy{get formDirective(){return null}get path(){return null}},Es=class extends Uy{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},qy=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Xhe={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},git=Cr(Le({},Xhe),{"[class.ng-submitted]":"isSubmitted"}),Oc=(()=>{class r extends qy{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||r)(ue(Es,2))}}static{this.\u0275dir=yt({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,n){i&2&&$t("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)},features:[wr]})}}return r})(),nm=(()=>{class r extends qy{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||r)(ue(ws,10))}}static{this.\u0275dir=yt({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,n){i&2&&$t("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)("ng-submitted",n.isSubmitted)},features:[wr]})}}return r})();var mp="VALID",Ly="INVALID",rm="PENDING",hp="DISABLED",Rc=class{},jy=class extends Rc{constructor(e,t){super(),this.value=e,this.source=t}},pp=class extends Rc{constructor(e,t){super(),this.pristine=e,this.source=t}},gp=class extends Rc{constructor(e,t){super(),this.touched=e,this.source=t}},im=class extends Rc{constructor(e,t){super(),this.status=e,this.source=t}},gN=class extends Rc{constructor(e){super(),this.source=e}},vN=class extends Rc{constructor(e){super(),this.source=e}};function oG(r){return(Ky(r)?r.validators:r)||null}function Khe(r){return Array.isArray(r)?bN(r):r||null}function aG(r,e){return(Ky(e)?e.asyncValidators:r)||null}function Qhe(r){return Array.isArray(r)?_N(r):r||null}function Ky(r){return r!=null&&!Array.isArray(r)&&typeof r=="object"}function Yhe(r,e,t){let i=r.controls;if(!(e?Object.keys(i):i).length)throw new Nr(1e3,"");if(!i[t])throw new Nr(1001,"")}function Zhe(r,e,t){r._forEachChild((i,n)=>{if(t[n]===void 0)throw new Nr(1002,"")})}var $y=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=os(()=>this.statusReactive()),this.statusReactive=ns(void 0),this._pristine=os(()=>this.pristineReactive()),this.pristineReactive=ns(!0),this._touched=os(()=>this.touchedReactive()),this.touchedReactive=ns(!1),this._events=new Dt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Zo(this.statusReactive)}set status(e){Zo(()=>this.statusReactive.set(e))}get valid(){return this.status===mp}get invalid(){return this.status===Ly}get pending(){return this.status==rm}get disabled(){return this.status===hp}get enabled(){return this.status!==hp}get pristine(){return Zo(this.pristineReactive)}set pristine(e){Zo(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Zo(this.touchedReactive)}set touched(e){Zo(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(BH(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(BH(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(LH(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(LH(e,this._rawAsyncValidators))}hasValidator(e){return zy(this._rawValidators,e)}hasAsyncValidator(e){return zy(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Cr(Le({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new gp(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new gp(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Cr(Le({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new pp(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(n=>{n.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new pp(!0,i))}markAsPending(e={}){this.status=rm;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new im(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Cr(Le({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=hp,this.errors=null,this._forEachChild(n=>{n.disable(Cr(Le({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new jy(this.value,i)),this._events.next(new im(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Cr(Le({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(n=>n(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=mp,this._forEachChild(i=>{i.enable(Cr(Le({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Cr(Le({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===mp||this.status===rm)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new jy(this.value,t)),this._events.next(new im(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Cr(Le({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?hp:mp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=rm,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=YH(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(n=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(n,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,n)=>i&&i._find(n),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new im(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new Sr,this.statusChanges=new Sr}_calculateStatus(){return this._allControlsDisabled()?hp:this.errors?Ly:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(rm)?rm:this._anyControlsHaveStatus(Ly)?Ly:mp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),n=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),n&&this._events.next(new pp(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new gp(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ky(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Khe(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Qhe(this._rawAsyncValidators)}},Yl=class extends $y{constructor(e,t,i){super(oG(t),aG(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Zhe(this,!0,e),Object.keys(e).forEach(i=>{Yhe(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let n=this.controls[i];n&&n.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,n)=>{i.reset(e?e[n]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,n)=>((i.enabled||this.disabled)&&(t[n]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((n,o)=>{i=t(i,n,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var vp=new Ve("CallSetDisabledState",{providedIn:"root",factory:()=>Qy}),Qy="always";function sG(r,e){return[...e.path,r]}function Hy(r,e,t=Qy){xN(r,e),e.valueAccessor.writeValue(r.value),(r.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(r.disabled),efe(r,e),rfe(r,e),tfe(r,e),Jhe(r,e)}function VH(r,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Wy(r,e),r&&(e._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function Gy(r,e){r.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Jhe(r,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};r.registerOnDisabledChange(t),e._registerOnDestroy(()=>{r._unregisterOnDisabledChange(t)})}}function xN(r,e){let t=iG(r);e.validator!==null?r.setValidators(PH(t,e.validator)):typeof t=="function"&&r.setValidators([t]);let i=nG(r);e.asyncValidator!==null?r.setAsyncValidators(PH(i,e.asyncValidator)):typeof i=="function"&&r.setAsyncValidators([i]);let n=()=>r.updateValueAndValidity();Gy(e._rawValidators,n),Gy(e._rawAsyncValidators,n)}function Wy(r,e){let t=!1;if(r!==null){if(e.validator!==null){let n=iG(r);if(Array.isArray(n)&&n.length>0){let o=n.filter(a=>a!==e.validator);o.length!==n.length&&(t=!0,r.setValidators(o))}}if(e.asyncValidator!==null){let n=nG(r);if(Array.isArray(n)&&n.length>0){let o=n.filter(a=>a!==e.asyncValidator);o.length!==n.length&&(t=!0,r.setAsyncValidators(o))}}}let i=()=>{};return Gy(e._rawValidators,i),Gy(e._rawAsyncValidators,i),t}function efe(r,e){e.valueAccessor.registerOnChange(t=>{r._pendingValue=t,r._pendingChange=!0,r._pendingDirty=!0,r.updateOn==="change"&&cG(r,e)})}function tfe(r,e){e.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,r.updateOn==="blur"&&r._pendingChange&&cG(r,e),r.updateOn!=="submit"&&r.markAsTouched()})}function cG(r,e){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function rfe(r,e){let t=(i,n)=>{e.valueAccessor.writeValue(i),n&&e.viewToModelUpdate(i)};r.registerOnChange(t),e._registerOnDestroy(()=>{r._unregisterOnChange(t)})}function lG(r,e){r==null,xN(r,e)}function ife(r,e){return Wy(r,e)}function uG(r,e){if(!r.hasOwnProperty("model"))return!1;let t=r.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function nfe(r){return Object.getPrototypeOf(r.constructor)===$H}function dG(r,e){r._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function mG(r,e){if(!e)return null;Array.isArray(e);let t,i,n;return e.forEach(o=>{o.constructor===Oa?t=o:nfe(o)?i=o:n=o}),n||i||t||null}function ofe(r,e){let t=r.indexOf(e);t>-1&&r.splice(t,1)}var afe={provide:ws,useExisting:Ui(()=>Zl)},fp=Promise.resolve(),Zl=(()=>{class r extends ws{get submitted(){return Zo(this.submittedReactive)}constructor(t,i,n){super(),this.callSetDisabledState=n,this._submitted=os(()=>this.submittedReactive()),this.submittedReactive=ns(!1),this._directives=new Set,this.ngSubmit=new Sr,this.form=new Yl({},bN(t),_N(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){fp.then(()=>{let i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Hy(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){fp.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){fp.then(()=>{let i=this._findContainer(t.path),n=new Yl({});lG(n,t),i.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){fp.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){fp.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),dG(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(i){return new(i||r)(ue(Pa,10),ue(Xy,10),ue(vp,8))}}static{this.\u0275dir=yt({type:r,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,n){i&1&&Nt("submit",function(a){return n.onSubmit(a)})("reset",function(){return n.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[mr([afe]),wr]})}}return r})();function zH(r,e){let t=r.indexOf(e);t>-1&&r.splice(t,1)}function UH(r){return typeof r=="object"&&r!==null&&Object.keys(r).length===2&&"value"in r&&"disabled"in r}var pa=class extends $y{constructor(e=null,t,i){super(oG(t),aG(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ky(t)&&(t.nonNullable||t.initialValueIsDefault)&&(UH(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){zH(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){zH(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){UH(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var sfe=r=>r instanceof pa;var cfe={provide:Es,useExisting:Ui(()=>Jl)},qH=Promise.resolve(),Jl=(()=>{class r extends Es{constructor(t,i,n,o,a,s){super(),this._changeDetectorRef=a,this.callSetDisabledState=s,this.control=new pa,this._registered=!1,this.name="",this.update=new Sr,this._parent=t,this._setValidators(i),this._setAsyncValidators(n),this.valueAccessor=mG(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),uG(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Hy(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){qH.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,n=i!==0&&Tr(i);qH.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?sG(t,this._parent):[t]}static{this.\u0275fac=function(i){return new(i||r)(ue(ws,9),ue(Pa,10),ue(Xy,10),ue(Fc,10),ue(Hr,8),ue(vp,8))}}static{this.\u0275dir=yt({type:r,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[mr([cfe]),wr,yn]})}}return r})(),om=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275dir=yt({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return r})();var hG=new Ve("");var lfe={provide:ws,useExisting:Ui(()=>yp)},yp=(()=>{class r extends ws{get submitted(){return Zo(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,i,n){super(),this.callSetDisabledState=n,this._submitted=os(()=>this._submittedReactive()),this._submittedReactive=ns(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Sr,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Wy(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let i=this.form.get(t.path);return Hy(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){VH(t.control||null,t,!1),ofe(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this._submittedReactive.set(!0),dG(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new gN(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new vN(this.form))}_updateDomValue(){this.directives.forEach(t=>{let i=t.control,n=this.form.get(t.path);i!==n&&(VH(i||null,t),sfe(n)&&(Hy(n,t,this.callSetDisabledState),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let i=this.form.get(t.path);lG(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let i=this.form.get(t.path);i&&ife(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){xN(this.form,this),this._oldForm&&Wy(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(i){return new(i||r)(ue(Pa,10),ue(Xy,10),ue(vp,8))}}static{this.\u0275dir=yt({type:r,selectors:[["","formGroup",""]],hostBindings:function(i,n){i&1&&Nt("submit",function(a){return n.onSubmit(a)})("reset",function(){return n.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[mr([lfe]),wr,yn]})}}return r})();var ufe={provide:Es,useExisting:Ui(()=>wN)},wN=(()=>{class r extends Es{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,i,n,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Sr,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(n),this.valueAccessor=mG(this,o)}ngOnChanges(t){this._added||this._setUpControl(),uG(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return sG(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||r)(ue(ws,13),ue(Pa,10),ue(Xy,10),ue(Fc,10),ue(hG,8))}}static{this.\u0275dir=yt({type:r,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[mr([ufe]),wr,yn]})}}return r})();function dfe(r){return typeof r=="number"?r:parseInt(r,10)}var Yy=(()=>{class r{constructor(){this._validator=Vy}ngOnChanges(t){if(this.inputName in t){let i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Vy,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275dir=yt({type:r,features:[yn]})}}return r})();var mfe={provide:Pa,useExisting:Ui(()=>bp),multi:!0};var bp=(()=>{class r extends Yy{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Tr,this.createValidator=t=>GH}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=rn(r)))(n||r)}})()}static{this.\u0275dir=yt({type:r,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,n){i&2&&lr("required",n._enabled?"":null)},inputs:{required:"required"},features:[mr([mfe]),wr]})}}return r})();var hfe={provide:Pa,useExisting:Ui(()=>EN),multi:!0},EN=(()=>{class r extends Yy{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=Tr,this.createValidator=t=>WH}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=rn(r)))(n||r)}})()}static{this.\u0275dir=yt({type:r,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[mr([hfe]),wr]})}}return r})(),ffe={provide:Pa,useExisting:Ui(()=>DN),multi:!0},DN=(()=>{class r extends Yy{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>dfe(t),this.createValidator=t=>XH(t)}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=rn(r)))(n||r)}})()}static{this.\u0275dir=yt({type:r,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(i,n){i&2&&lr("minlength",n._enabled?n.minlength:null)},inputs:{minlength:"minlength"},features:[mr([ffe]),wr]})}}return r})();var pfe={provide:Pa,useExisting:Ui(()=>AN),multi:!0},AN=(()=>{class r extends Yy{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>KH(t)}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=rn(r)))(n||r)}})()}static{this.\u0275dir=yt({type:r,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(i,n){i&2&&lr("pattern",n._enabled?n.pattern:null)},inputs:{pattern:"pattern"},features:[mr([pfe]),wr]})}}return r})();var fG=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=ot({type:r})}static{this.\u0275inj=nt({})}}return r})();var pG=(()=>{class r{static withConfig(t){return{ngModule:r,providers:[{provide:vp,useValue:t.callSetDisabledState??Qy}]}}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=ot({type:r})}static{this.\u0275inj=nt({imports:[fG]})}}return r})(),gG=(()=>{class r{static withConfig(t){return{ngModule:r,providers:[{provide:hG,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:vp,useValue:t.callSetDisabledState??Qy}]}}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=ot({type:r})}static{this.\u0275inj=nt({imports:[fG]})}}return r})();var gfe=["knob"],vfe=["valueIndicatorContainer"];function yfe(r,e){if(r&1&&(oe(0,"div",2,1)(2,"div",5)(3,"span",6),Ie(4),ne()()()),r&2){let t=Pt();ke(4),co(t.valueIndicatorText)}}var bfe=["trackActive"],_fe=["*"];function xfe(r,e){if(r&1&&Ct(0,"div"),r&2){let t=e.$implicit,i=e.$index,n=Pt(3);jn(t===0?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),bl("transform",n._calcTickMarkTransform(i))}}function wfe(r,e){if(r&1&&VO(0,xfe,1,4,"div",8,LO),r&2){let t=Pt(2);zO(t._tickMarks)}}function Efe(r,e){if(r&1&&(oe(0,"div",6,1),lt(2,wfe,2,0),ne()),r&2){let t=Pt();ke(2),Br(t._cachedWidth?2:-1)}}function Dfe(r,e){if(r&1&&Ct(0,"mat-slider-visual-thumb",7),r&2){let t=Pt();rt("discrete",t.discrete)("thumbPosition",1)("valueIndicatorText",t.startValueIndicatorText)}}var jt=function(r){return r[r.START=1]="START",r[r.END=2]="END",r}(jt||{}),am=function(r){return r[r.ACTIVE=0]="ACTIVE",r[r.INACTIVE=1]="INACTIVE",r}(am||{}),CN=new Ve("_MatSlider"),vG=new Ve("_MatSliderThumb"),Afe=new Ve("_MatSliderRangeThumb"),yG=new Ve("_MatSliderVisualThumb");var Cfe=(()=>{class r{constructor(t,i,n,o){this._cdr=t,this._ngZone=i,this._slider=o,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._platform=Pe(ir),this._onPointerMove=a=>{if(this._sliderInput._isFocused)return;let s=this._hostElement.getBoundingClientRect(),c=this._slider._isCursorOnSliderThumb(a,s);this._isHovered=c,c?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)},this._onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)},this._onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=a=>{a.button===0&&(this._isActive=!0,this._showActiveRipple())},this._onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef),this._platform.SAFARI&&this._showHoverRipple()},this._hostElement=n.nativeElement}ngAfterViewInit(){let t=this._slider._getInput(this.thumbPosition);t&&(this._ripple.radius=24,this._sliderInput=t,this._sliderInputEl=this._sliderInput._hostElement,this._ngZone.runOutsideAngular(()=>{let i=this._sliderInputEl;i.addEventListener("pointermove",this._onPointerMove),i.addEventListener("pointerdown",this._onDragStart),i.addEventListener("pointerup",this._onDragEnd),i.addEventListener("pointerleave",this._onMouseLeave),i.addEventListener("focus",this._onFocus),i.addEventListener("blur",this._onBlur)}))}ngOnDestroy(){let t=this._sliderInputEl;t&&(t.removeEventListener("pointermove",this._onPointerMove),t.removeEventListener("pointerdown",this._onDragStart),t.removeEventListener("pointerup",this._onDragEnd),t.removeEventListener("pointerleave",this._onMouseLeave),t.removeEventListener("focus",this._onFocus),t.removeEventListener("blur",this._onBlur))}_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(t){return t?.state===Pn.FADING_IN||t?.state===Pn.VISIBLE}_showRipple(t,i){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(this.thumbPosition===jt.START?jt.END:jt.START)._showValueIndicator(),!(this._slider._globalRippleOptions?.disabled&&!i)))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:t,centered:!0,persistent:!0})}_hideRipple(t){if(t?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();let i=this._getSibling();i._isShowingAnyRipple()||(this._hideValueIndicator(),i._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(this.thumbPosition===jt.START?jt.END:jt.START)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}static{this.\u0275fac=function(i){return new(i||r)(ue(Hr),ue(Je),ue(At),ue(CN))}}static{this.\u0275cmp=dt({type:r,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(i,n){if(i&1&&(kr(ac,5),kr(gfe,5),kr(vfe,5)),i&2){let o;Bt(o=Lt())&&(n._ripple=o.first),Bt(o=Lt())&&(n._knob=o.first),Bt(o=Lt())&&(n._valueIndicatorContainer=o.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},standalone:!0,features:[mr([{provide:yG,useExisting:r}]),Yt],decls:4,vars:2,consts:[["knob",""],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator-container"],[1,"mdc-slider__thumb-knob"],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(i,n){i&1&&(lt(0,yfe,5,1,"div",2),Ct(1,"div",3,0)(3,"div",4)),i&2&&(Br(n.discrete?0:-1),ke(3),rt("matRippleDisabled",!0))},dependencies:[ac],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0})}}return r})(),bG=(()=>{class r{get disabled(){return this._disabled}set disabled(t){this._disabled=t;let i=this._getInput(jt.END),n=this._getInput(jt.START);i&&(i.disabled=this._disabled),n&&(n.disabled=this._disabled)}get discrete(){return this._discrete}set discrete(t){this._discrete=t,this._updateValueIndicatorUIs()}get min(){return this._min}set min(t){let i=isNaN(t)?this._min:t;this._min!==i&&this._updateMin(i)}_updateMin(t){let i=this._min;this._min=t,this._isRange?this._updateMinRange({old:i,new:t}):this._updateMinNonRange(t),this._onMinMaxOrStepChange()}_updateMinRange(t){let i=this._getInput(jt.END),n=this._getInput(jt.START),o=i.value,a=n.value;n.min=t.new,i.min=Math.max(t.new,n.value),n.max=Math.min(i.max,i.value),n._updateWidthInactive(),i._updateWidthInactive(),t.new<t.old?this._onTranslateXChangeBySideEffect(i,n):this._onTranslateXChangeBySideEffect(n,i),o!==i.value&&this._onValueChange(i),a!==n.value&&this._onValueChange(n)}_updateMinNonRange(t){let i=this._getInput(jt.END);if(i){let n=i.value;i.min=t,i._updateThumbUIByValue(),this._updateTrackUI(i),n!==i.value&&this._onValueChange(i)}}get max(){return this._max}set max(t){let i=isNaN(t)?this._max:t;this._max!==i&&this._updateMax(i)}_updateMax(t){let i=this._max;this._max=t,this._isRange?this._updateMaxRange({old:i,new:t}):this._updateMaxNonRange(t),this._onMinMaxOrStepChange()}_updateMaxRange(t){let i=this._getInput(jt.END),n=this._getInput(jt.START),o=i.value,a=n.value;i.max=t.new,n.max=Math.min(t.new,i.value),i.min=n.value,i._updateWidthInactive(),n._updateWidthInactive(),t.new>t.old?this._onTranslateXChangeBySideEffect(n,i):this._onTranslateXChangeBySideEffect(i,n),o!==i.value&&this._onValueChange(i),a!==n.value&&this._onValueChange(n)}_updateMaxNonRange(t){let i=this._getInput(jt.END);if(i){let n=i.value;i.max=t,i._updateThumbUIByValue(),this._updateTrackUI(i),n!==i.value&&this._onValueChange(i)}}get step(){return this._step}set step(t){let i=isNaN(t)?this._step:t;this._step!==i&&this._updateStep(i)}_updateStep(t){this._step=t,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){let t=this._getInput(jt.END),i=this._getInput(jt.START),n=t.value,o=i.value,a=i.value;t.min=this._min,i.max=this._max,t.step=this._step,i.step=this._step,this._platform.SAFARI&&(t.value=t.value,i.value=i.value),t.min=Math.max(this._min,i.value),i.max=Math.min(this._max,t.value),i._updateWidthInactive(),t._updateWidthInactive(),t.value<a?this._onTranslateXChangeBySideEffect(i,t):this._onTranslateXChangeBySideEffect(t,i),n!==t.value&&this._onValueChange(t),o!==i.value&&this._onValueChange(i)}_updateStepNonRange(){let t=this._getInput(jt.END);if(t){let i=t.value;t.step=this._step,this._platform.SAFARI&&(t.value=t.value),t._updateThumbUIByValue(),i!==t.value&&this._onValueChange(t)}}constructor(t,i,n,o,a,s){this._ngZone=t,this._cdr=i,this._elementRef=n,this._dir=o,this._globalRippleOptions=a,this._disabled=!1,this._discrete=!1,this.showTickMarks=!1,this._min=0,this.disableRipple=!1,this._max=100,this._step=1,this.displayWith=c=>`${c}`,this._rippleRadius=24,this.startValueIndicatorText="",this.endValueIndicatorText="",this._isRange=!1,this._isRtl=!1,this._hasViewInitialized=!1,this._tickMarkTrackWidth=0,this._hasAnimation=!1,this._resizeTimer=null,this._platform=Pe(ir),this._knobRadius=8,this._thumbsOverlap=!1,this._noopAnimations=s==="NoopAnimations",this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl=this._dir.value==="rtl"}ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();let t=this._getInput(jt.END),i=this._getInput(jt.START);this._isRange=!!t&&!!i,this._cdr.detectChanges();let n=this._getThumb(jt.END);this._rippleRadius=n._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._isRange?this._initUIRange(t,i):this._initUINonRange(t),this._updateTrackUI(t),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(t){t.initProps(),t.initUI(),this._updateValueIndicatorUI(t),this._hasViewInitialized=!0,t._updateThumbUIByValue()}_initUIRange(t,i){t.initProps(),t.initUI(),i.initProps(),i.initUI(),t._updateMinMax(),i._updateMinMax(),t._updateStaticStyles(),i._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,t._updateThumbUIByValue(),i._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl=this._dir.value==="rtl",this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){let t=this._getInput(jt.END),i=this._getInput(jt.START);t._setIsLeftThumb(),i._setIsLeftThumb(),t.translateX=t._calcTranslateXByValue(),i.translateX=i._calcTranslateXByValue(),t._updateStaticStyles(),i._updateStaticStyles(),t._updateWidthInactive(),i._updateWidthInactive(),t._updateThumbUIByValue(),i._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(jt.END)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(jt.START)._isActive||this._getThumb(jt.END)._isActive}_getValue(t=jt.END){let i=this._getInput(t);return i?i.value:this.min}_skipUpdate(){return!!(this._getInput(jt.START)?._skipUIUpdate||this._getInput(jt.END)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(t){let i=this._trackActive.nativeElement.style;i.left=t.left,i.right=t.right,i.transformOrigin=t.transformOrigin,i.transform=t.transform}_calcTickMarkTransform(t){return`translateX(${t*(this._tickMarkTrackWidth/(this._tickMarks.length-1))}px`}_onTranslateXChange(t){this._hasViewInitialized&&(this._updateThumbUI(t),this._updateTrackUI(t),this._updateOverlappingThumbUI(t))}_onTranslateXChangeBySideEffect(t,i){this._hasViewInitialized&&(t._updateThumbUIByValue(),i._updateThumbUIByValue())}_onValueChange(t){this._hasViewInitialized&&(this._updateValueIndicatorUI(t),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){let t=this._getInput(jt.END),i=this._getInput(jt.START);t._updateThumbUIByValue(),i._updateThumbUIByValue(),t._updateStaticStyles(),i._updateStaticStyles(),t._updateMinMax(),i._updateMinMax(),t._updateWidthInactive(),i._updateWidthInactive()}else{let t=this._getInput(jt.END);t&&t._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_areThumbsOverlapping(){let t=this._getInput(jt.START),i=this._getInput(jt.END);return!t||!i?!1:i.translateX-t.translateX<20}_updateOverlappingThumbClassNames(t){let i=t.getSibling(),n=this._getThumb(t.thumbPosition);this._getThumb(i.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),n._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(t){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(t))}_updateThumbUI(t){if(this._skipUpdate())return;let i=this._getThumb(t.thumbPosition===jt.END?jt.END:jt.START);i._hostElement.style.transform=`translateX(${t.translateX}px)`}_updateValueIndicatorUI(t){if(this._skipUpdate())return;let i=this.displayWith(t.value);if(this._hasViewInitialized?t._valuetext.set(i):t._hostElement.setAttribute("aria-valuetext",i),this.discrete){t.thumbPosition===jt.START?this.startValueIndicatorText=i:this.endValueIndicatorText=i;let n=this._getThumb(t.thumbPosition);i.length<3?n._hostElement.classList.add("mdc-slider__thumb--short-value"):n._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){let t=this._getInput(jt.END),i=this._getInput(jt.START);t&&this._updateValueIndicatorUI(t),i&&this._updateValueIndicatorUI(i)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;let t=this._step&&this._step>0?this._step:1,n=(Math.floor(this.max/t)*t-this.min)/(this.max-this.min);this._tickMarkTrackWidth=this._cachedWidth*n-6}_updateTrackUI(t){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(t):this._updateTrackUINonRange(t))}_updateTrackUIRange(t){let i=t.getSibling();if(!i||!this._cachedWidth)return;let n=Math.abs(i.translateX-t.translateX)/this._cachedWidth;t._isLeftThumb&&this._cachedWidth?this._setTrackActiveStyles({left:"auto",right:`${this._cachedWidth-i.translateX}px`,transformOrigin:"right",transform:`scaleX(${n})`}):this._setTrackActiveStyles({left:`${i.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${n})`})}_updateTrackUINonRange(t){this._isRtl?this._setTrackActiveStyles({left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-t.fillPercentage})`}):this._setTrackActiveStyles({left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${t.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||this.step===void 0||this.min===void 0||this.max===void 0)return;let t=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(t):this._updateTickMarkUINonRange(t),this._isRtl&&this._tickMarks.reverse()}_updateTickMarkUINonRange(t){let i=this._getValue(),n=Math.max(Math.round((i-this.min)/t),0),o=Math.max(Math.round((this.max-i)/t),0);this._isRtl?n++:o++,this._tickMarks=Array(n).fill(am.ACTIVE).concat(Array(o).fill(am.INACTIVE))}_updateTickMarkUIRange(t){let i=this._getValue(),n=this._getValue(jt.START),o=Math.max(Math.round((n-this.min)/t),0),a=Math.max(Math.round((i-n)/t)+1,0),s=Math.max(Math.round((this.max-i)/t),0);this._tickMarks=Array(o).fill(am.INACTIVE).concat(Array(a).fill(am.ACTIVE),Array(s).fill(am.INACTIVE))}_getInput(t){if(t===jt.END&&this._input)return this._input;if(this._inputs?.length)return t===jt.START?this._inputs.first:this._inputs.last}_getThumb(t){return t===jt.END?this._thumbs?.last:this._thumbs?.first}_setTransition(t){this._hasAnimation=!this._platform.IOS&&t&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}_isCursorOnSliderThumb(t,i){let n=i.width/2,o=i.x+n,a=i.y+n,s=t.clientX-o,c=t.clientY-a;return Math.pow(s,2)+Math.pow(c,2)<Math.pow(n,2)}static{this.\u0275fac=function(i){return new(i||r)(ue(Je),ue(Hr),ue(At),ue(ko,8),ue(Tv,8),ue(li,8))}}static{this.\u0275cmp=dt({type:r,selectors:[["mat-slider"]],contentQueries:function(i,n,o){if(i&1&&(Ei(o,vG,5),Ei(o,Afe,4)),i&2){let a;Bt(a=Lt())&&(n._input=a.first),Bt(a=Lt())&&(n._inputs=a)}},viewQuery:function(i,n){if(i&1&&(kr(bfe,5),kr(yG,5)),i&2){let o;Bt(o=Lt())&&(n._trackActive=o.first),Bt(o=Lt())&&(n._thumbs=o)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:12,hostBindings:function(i,n){i&2&&(jn("mat-"+(n.color||"primary")),$t("mdc-slider--range",n._isRange)("mdc-slider--disabled",n.disabled)("mdc-slider--discrete",n.discrete)("mdc-slider--tick-marks",n.showTickMarks)("_mat-animation-noopable",n._noopAnimations))},inputs:{disabled:[2,"disabled","disabled",Tr],discrete:[2,"discrete","discrete",Tr],showTickMarks:[2,"showTickMarks","showTickMarks",Tr],min:[2,"min","min",lo],color:"color",disableRipple:[2,"disableRipple","disableRipple",Tr],max:[2,"max","max",lo],step:[2,"step","step",lo],displayWith:"displayWith"},exportAs:["matSlider"],standalone:!0,features:[mr([{provide:CN,useExisting:r}]),qi,Yt],ngContentSelectors:_fe,decls:9,vars:5,consts:[["trackActive",""],["tickMarkContainer",""],[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],[1,"mdc-slider__tick-marks"],[3,"discrete","thumbPosition","valueIndicatorText"],[3,"class","transform"]],template:function(i,n){i&1&&(vr(),Tt(0),oe(1,"div",2),Ct(2,"div",3),oe(3,"div",4),Ct(4,"div",5,0),ne(),lt(6,Efe,3,1,"div",6),ne(),lt(7,Dfe,1,3,"mat-slider-visual-thumb",7),Ct(8,"mat-slider-visual-thumb",7)),i&2&&(ke(6),Br(n.showTickMarks?6:-1),ke(),Br(n._isRange?7:-1),ke(),rt("discrete",n.discrete)("thumbPosition",2)("valueIndicatorText",n.endValueIndicatorText))},dependencies:[Cfe],styles:['.mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%;pointer-events:none;height:var(--mdc-slider-inactive-track-height)}.mdc-slider__track--active,.mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider__track--active{overflow:hidden;border-radius:var(--mdc-slider-active-track-shape, var(--mat-app-corner-full));height:var(--mdc-slider-active-track-height);top:calc((var(--mdc-slider-inactive-track-height) - var(--mdc-slider-active-track-height))/2)}.mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;transform-origin:left;transition:transform 80ms ease;border-color:var(--mdc-slider-active-track-color, var(--mat-app-primary));border-top-width:var(--mdc-slider-active-track-height)}.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color, var(--mat-app-on-surface))}[dir=rtl] .mdc-slider__track--active_fill{-webkit-transform-origin:right;transform-origin:right}.mdc-slider__track--inactive{left:0;top:0;opacity:.24;background-color:var(--mdc-slider-inactive-track-color, var(--mat-app-surface-variant));height:var(--mdc-slider-inactive-track-height);border-radius:var(--mdc-slider-inactive-track-shape, var(--mat-app-corner-full))}.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color, var(--mat-app-on-surface));opacity:.24}.mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-slider__track--inactive::before{border-color:CanvasText}.mdc-slider__value-indicator-container{bottom:44px;left:50%;pointer-events:none;position:absolute;transform:translateX(-50%);transform:var(--mat-slider-value-indicator-container-transform)}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider__value-indicator{display:flex;align-items:center;border-radius:4px;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom;opacity:1;transition:transform 100ms cubic-bezier(0.4, 0, 1, 1);word-break:normal;background-color:var(--mdc-slider-label-container-color, var(--mat-app-primary));color:var(--mdc-slider-label-label-text-color, var(--mat-app-on-primary));width:var(--mat-slider-value-indicator-width);height:var(--mat-slider-value-indicator-height);padding:var(--mat-slider-value-indicator-padding);opacity:var(--mat-slider-value-indicator-opacity);border-radius:var(--mat-slider-value-indicator-border-radius)}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}.mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:50%;position:absolute;transform:translateX(-50%);width:0;display:var(--mat-slider-value-indicator-caret-display);border-top-color:var(--mdc-slider-label-container-color, var(--mat-app-primary))}.mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-slider__value-indicator::after{border-color:CanvasText}.mdc-slider__value-indicator-text{text-align:center;width:var(--mat-slider-value-indicator-width);transform:var(--mat-slider-value-indicator-text-transform);font-family:var(--mdc-slider-label-label-text-font, var(--mat-app-label-medium-font));font-size:var(--mdc-slider-label-label-text-size, var(--mat-app-label-medium-size));font-weight:var(--mdc-slider-label-label-text-weight, var(--mat-app-label-medium-weight));line-height:var(--mdc-slider-label-label-text-line-height, var(--mat-app-label-medium-line-height));letter-spacing:var(--mdc-slider-label-label-text-tracking, var(--mat-app-label-medium-tracking))}.mdc-slider__thumb{-webkit-user-select:none;user-select:none;display:flex;left:-24px;outline:none;position:absolute;height:48px;width:48px;pointer-events:none}.mdc-slider--discrete .mdc-slider__thumb{transition:transform 80ms ease}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__thumb--top{z-index:1}.mdc-slider__thumb-knob{position:absolute;box-sizing:border-box;left:50%;top:50%;transform:translate(-50%, -50%);border-style:solid;width:var(--mdc-slider-handle-width);height:var(--mdc-slider-handle-height);border-width:calc(var(--mdc-slider-handle-height)/2) calc(var(--mdc-slider-handle-width)/2);box-shadow:var(--mdc-slider-handle-elevation, var(--mat-app-level1));background-color:var(--mdc-slider-handle-color, var(--mat-app-primary));border-color:var(--mdc-slider-handle-color, var(--mat-app-primary));border-radius:var(--mdc-slider-handle-shape, var(--mat-app-corner-full))}.mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color, var(--mat-app-primary));border-color:var(--mdc-slider-hover-handle-color, var(--mat-app-primary))}.mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color, var(--mat-app-primary));border-color:var(--mdc-slider-focus-handle-color, var(--mat-app-primary))}.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color, var(--mat-app-on-surface));border-color:var(--mdc-slider-disabled-handle-color, var(--mat-app-on-surface))}.mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border:solid 1px #fff;box-sizing:content-box;border-color:var(--mdc-slider-with-overlap-handle-outline-color, var(--mat-app-on-primary));border-width:var(--mdc-slider-with-overlap-handle-outline-width)}.mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider__tick-mark--active,.mdc-slider__tick-mark--inactive{width:var(--mdc-slider-with-tick-marks-container-size);height:var(--mdc-slider-with-tick-marks-container-size);border-radius:var(--mdc-slider-with-tick-marks-container-shape, var(--mat-app-corner-full))}.mdc-slider__tick-mark--inactive{opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity);background-color:var(--mdc-slider-with-tick-marks-inactive-container-color, var(--mat-app-on-surface-variant))}.mdc-slider--disabled .mdc-slider__tick-mark--inactive{opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity);background-color:var(--mdc-slider-with-tick-marks-disabled-container-color, var(--mat-app-on-surface))}.mdc-slider__tick-mark--active{opacity:var(--mdc-slider-with-tick-marks-active-container-opacity);background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mat-app-on-primary))}.mdc-slider__input{cursor:pointer;left:2px;margin:0;height:44px;opacity:0;position:absolute;top:2px;width:44px;box-sizing:content-box}.mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;cursor:pointer;height:48px;margin:0 8px;position:relative;touch-action:pan-y;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider.mdc-slider--disabled{cursor:auto;opacity:.38}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-slider-ripple-color, var(--mat-app-primary))}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-slider-hover-state-layer-color)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-slider-focus-state-layer-color)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return r})();var Sfe={provide:Fc,useExisting:Ui(()=>SN),multi:!0};var SN=(()=>{class r{get value(){return lo(this._hostElement.value,0)}set value(t){t=isNaN(t)?0:t;let i=t+"";if(!this._hasSetInitialValue){this._initialValue=i;return}this._isActive||this._setValue(i)}_setValue(t){this._hostElement.value=t,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges(),this._slider._cdr.markForCheck()}get translateX(){return this._slider.min>=this._slider.max?(this._translateX=this._tickMarkOffset,this._translateX):(this._translateX===void 0&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(t){this._translateX=t}get min(){return lo(this._hostElement.min,0)}set min(t){this._hostElement.min=t+"",this._cdr.detectChanges()}get max(){return lo(this._hostElement.max,0)}set max(t){this._hostElement.max=t+"",this._cdr.detectChanges()}get step(){return lo(this._hostElement.step,0)}set step(t){this._hostElement.step=t+"",this._cdr.detectChanges()}get disabled(){return Tr(this._hostElement.disabled)}set disabled(t){this._hostElement.disabled=t,this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?this._translateX===0?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_setIsFocused(t){this._isFocused=t}constructor(t,i,n,o){this._ngZone=t,this._elementRef=i,this._cdr=n,this._slider=o,this.valueChange=new Sr,this.dragStart=new Sr,this.dragEnd=new Sr,this.thumbPosition=jt.END,this._valuetext=ns(""),this._knobRadius=8,this._tickMarkOffset=3,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new Dt,this._skipUIUpdate=!1,this._onTouchedFn=()=>{},this._isControlInitialized=!1,this._platform=Pe(ir),this._hostElement=i.nativeElement,this._ngZone.runOutsideAngular(()=>{this._hostElement.addEventListener("pointerdown",this._onPointerDown.bind(this)),this._hostElement.addEventListener("pointermove",this._onPointerMove.bind(this)),this._hostElement.addEventListener("pointerup",this._onPointerUp.bind(this))})}ngOnDestroy(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,this._initialValue===void 0?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._slider._setTransition(!1),this._slider._updateTrackUI(this),this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn?.(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(t){if(!(this.disabled||t.button!==0)){if(this._platform.IOS){let i=this._slider._isCursorOnSliderThumb(t,this._slider._getThumb(this.thumbPosition)._hostElement.getBoundingClientRect());this._isActive=i,this._updateWidthActive(),this._slider._updateDimensions();return}this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(t,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(t),this.dragStart.emit({source:this,parent:this._slider,value:this.value}))}}_handleValueCorrection(t){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(t)},0)}_fixValue(t){let i=t.clientX-this._slider._cachedLeft,n=this._slider._cachedWidth,o=this._slider.step===0?1:this._slider.step,a=Math.floor((this._slider.max-this._slider.min)/o),s=this._slider._isRtl?1-i/n:i/n,l=Math.round(s*a)/a*(this._slider.max-this._slider.min)+this._slider.min,u=Math.round(l/o)*o,d=this.value;if(u===d){this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(t,{withAnimation:this._slider._hasAnimation});return}this.value=u,this.valueChange.emit(this.value),this._onChangeFn?.(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(t,{withAnimation:this._slider._hasAnimation})}_onPointerMove(t){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(t)}_onPointerUp(){this._isActive&&(this._isActive=!1,this._platform.SAFARI&&this._setIsFocused(!1),this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive(),this._platform.IOS?10:0))}_clamp(t){let i=this._tickMarkOffset,n=this._slider._cachedWidth-this._tickMarkOffset;return Math.max(Math.min(t,n),i)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*(this._slider._cachedWidth-this._tickMarkOffset*2)+this._tickMarkOffset:this.percentage*(this._slider._cachedWidth-this._tickMarkOffset*2)+this._tickMarkOffset}_calcTranslateXByPointerEvent(t){return t.clientX-this._slider._cachedLeft}_updateWidthActive(){}_updateWidthInactive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding-this._tickMarkOffset*2}px)`,this._hostElement.style.left=`-${this._slider._rippleRadius-this._tickMarkOffset}px`}_updateThumbUIByValue(t){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(t)}_updateThumbUIByPointerEvent(t,i){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(t)),this._updateThumbUI(i)}_updateThumbUI(t){this._slider._setTransition(!!t?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(t){(this._isControlInitialized||t!==null)&&(this.value=t)}registerOnChange(t){this._onChangeFn=t,this._isControlInitialized=!0}registerOnTouched(t){this._onTouchedFn=t}setDisabledState(t){this.disabled=t}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}static{this.\u0275fac=function(i){return new(i||r)(ue(Je),ue(At),ue(Hr),ue(CN))}}static{this.\u0275dir=yt({type:r,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(i,n){i&1&&Nt("change",function(){return n._onChange()})("input",function(){return n._onInput()})("blur",function(){return n._onBlur()})("focus",function(){return n._onFocus()}),i&2&&lr("aria-valuetext",n._valuetext())},inputs:{value:[2,"value","value",lo]},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],standalone:!0,features:[mr([Sfe,{provide:vG,useExisting:r}]),qi]})}}return r})();var _G=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=ot({type:r})}static{this.\u0275inj=nt({imports:[nr,od]})}}return r})();var Zy=(()=>{class r{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=ki(t)}get inset(){return this._inset}set inset(t){this._inset=ki(t)}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275cmp=dt({type:r,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(i,n){i&2&&(lr("aria-orientation",n.vertical?"vertical":"horizontal"),$t("mat-divider-vertical",n.vertical)("mat-divider-horizontal",!n.vertical)("mat-divider-inset",n.inset))},inputs:{vertical:"vertical",inset:"inset"},standalone:!0,features:[Yt],decls:0,vars:0,template:function(i,n){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-app-outline));border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-app-outline));border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}}return r})(),xG=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=ot({type:r})}static{this.\u0275inj=nt({imports:[nr,nr]})}}return r})();function Ife(r,e){if(r&1){let t=ii();oe(0,"div",4)(1,"p"),Ie(2),ne(),oe(3,"mat-slider",5),Nt("input",function(n){let o=Kt(t).$implicit,a=Pt();return Qt(a.onSliderChange(o,n))}),Ct(4,"input",6),ne(),oe(5,"p",7),Ie(6),ne(),Ct(7,"mat-divider"),ne()}if(r&2){let t=e.$implicit;ke(2),co(t.questionText),ke(),rt("value",t.feedback),ke(3),Co("Feedback: ",t.feedback,"")}}var Jy=class r{constructor(e){this.questionsService=e}questions=[];ngOnInit(){this.questions=this.questionsService.getQuestions()}onSliderChange(e,t){let i=t.target,n=i?.value?parseInt(i.value,10):0;e.setFeedback(n)}onSubmit(){let e=this.questions.map(t=>t.feedback??0);console.log("Feedback submitted:",e),console.log("Jeejee",this.questions),this.questions.length>1&&this.questions[1]?.feedback!==void 0&&this.questions[1].feedback>8&&alert("Rock Moi!")}static \u0275fac=function(t){return new(t||r)(ue(By))};static \u0275cmp=dt({type:r,selectors:[["app-feedback"]],decls:10,vars:1,consts:[[1,"feedback-container"],[1,"feedback-title"],["class","question-section",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"click"],[1,"question-section"],["min","1","max","10","step","1","thumbLabel","",3,"input","value"],["matSliderThumb",""],[1,"feedback-text"]],template:function(t,i){t&1&&(oe(0,"div",0)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title",1),Ie(4,"Your Feedback "),ne()(),oe(5,"mat-card-content"),lt(6,Ife,8,3,"div",2),oe(7,"div")(8,"button",3),Nt("click",function(){return i.onSubmit()}),Ie(9,"Save Feedback"),ne()()()()()),t&2&&(ke(6),rt("ngForOf",i.questions))},dependencies:[Zu,Wn,Fy,Oy,TH,SH,bG,SN,Zy],styles:[".feedback-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:1rem}mat-card[_ngcontent-%COMP%]{width:100%;max-width:600px;margin:0 auto;padding:1rem}.question-section[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#000}.feedback-text[_ngcontent-%COMP%]{font-size:.9rem;color:#000;margin-top:.5rem}.feedback-title[_ngcontent-%COMP%]{font-size:24px;color:#000;font-weight:700}.feedback-container[_ngcontent-%COMP%]{margin:20px}"]})};var xp=class{firstName="";lastName="";email="";username="";password="";confirmPassword="";socialSecurityNumber="";acceptedTerms=!1};var wp=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},sm=class extends wp{constructor(e,t,i,n,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=n,this.projectableNodes=o}},cm=class extends wp{constructor(e,t,i,n){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=n}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},TN=class extends wp{constructor(e){super(),this.element=e instanceof At?e.nativeElement:e}},lm=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof sm)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof cm)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof TN)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var eb=class extends lm{constructor(e,t,i,n,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=n,this.attachDomPortal=a=>{this._document;let s=a.element;s.parentNode;let c=this._document.createComment("dom-portal");s.parentNode.insertBefore(c,s),this.outletElement.appendChild(s),this._attachedPortal=a,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(s,c)})},this._document=o}attachComponentPortal(e){let i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),n;return e.viewContainerRef?(n=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>n.destroy())):(n=i.create(e.injector||this._defaultInjector||gi.NULL),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=e,n}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(n=>this.outletElement.appendChild(n)),i.detectChanges(),this.setDisposeFn(()=>{let n=t.indexOf(i);n!==-1&&t.remove(n)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var IN=(()=>{class r extends lm{constructor(t,i,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Sr,this.attachDomPortal=o=>{this._document;let a=o.element;a.parentNode;let s=this._document.createComment("dom-portal");o.setAttachedHost(this),a.parentNode.insertBefore(s,a),this._getRootNode().appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{s.parentNode&&s.parentNode.replaceChild(a,s)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);let i=t.viewContainerRef!=null?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),a=i.createComponent(o,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=t,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(t){t.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){let t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static{this.\u0275fac=function(i){return new(i||r)(ue(Ih),ue(yl),ue(St))}}static{this.\u0275dir=yt({type:r,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[wr]})}}return r})();var tb=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=ot({type:r})}static{this.\u0275inj=nt({})}}return r})();var Mfe=20,um=(()=>{class r{constructor(t,i,n){this._ngZone=t,this._platform=i,this._scrolled=new Dt,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=Mfe){return this._platform.isBrowser?new gn(i=>{this._globalSubscription||this._addGlobalListener();let n=t>0?this._scrolled.pipe(Ux(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ut()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){let n=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Ur(o=>!o||n.indexOf(o)>-1))}getAncestorScrollContainers(t){let i=[];return this.scrollContainers.forEach((n,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let n=No(i),o=t.getElementRef().nativeElement;do if(n==o)return!0;while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let t=this._getWindow();return ju(t.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(i){return new(i||r)(me(Je),me(ir),me(St,8))}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),dm=(()=>{class r{constructor(t,i,n,o){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=n,this.dir=o,this._destroyed=new Dt,this._elementScrolled=new gn(a=>this.ngZone.runOutsideAngular(()=>ju(this.elementRef.nativeElement,"scroll").pipe(qr(this._destroyed)).subscribe(a)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){let i=this.elementRef.nativeElement,n=this.dir&&this.dir.value=="rtl";t.left==null&&(t.left=n?t.end:t.start),t.right==null&&(t.right=n?t.start:t.end),t.bottom!=null&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),n&&td()!=ea.NORMAL?(t.left!=null&&(t.right=i.scrollWidth-i.clientWidth-t.left),td()==ea.INVERTED?t.left=t.right:td()==ea.NEGATED&&(t.left=t.right?-t.right:t.right)):t.right!=null&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){let i=this.elementRef.nativeElement;xv()?i.scrollTo(t):(t.top!=null&&(i.scrollTop=t.top),t.left!=null&&(i.scrollLeft=t.left))}measureScrollOffset(t){let i="left",n="right",o=this.elementRef.nativeElement;if(t=="top")return o.scrollTop;if(t=="bottom")return o.scrollHeight-o.clientHeight-o.scrollTop;let a=this.dir&&this.dir.value=="rtl";return t=="start"?t=a?n:i:t=="end"&&(t=a?i:n),a&&td()==ea.INVERTED?t==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:a&&td()==ea.NEGATED?t==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static{this.\u0275fac=function(i){return new(i||r)(ue(At),ue(um),ue(Je),ue(ko,8))}}static{this.\u0275dir=yt({type:r,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}}return r})(),Nfe=20,Dp=(()=>{class r{constructor(t,i,n){this._platform=t,this._change=new Dt,this._changeListener=o=>{this._change.next(o)},this._document=n,i.runOutsideAngular(()=>{if(t.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:i,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+i,height:n,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,i=this._getWindow(),n=t.documentElement,o=n.getBoundingClientRect(),a=-o.top||t.body.scrollTop||i.scrollY||n.scrollTop||0,s=-o.left||t.body.scrollLeft||i.scrollX||n.scrollLeft||0;return{top:a,left:s}}change(t=Nfe){return t>0?this._change.pipe(Ux(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(i){return new(i||r)(me(ir),me(Je),me(St,8))}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var Ep=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=ot({type:r})}static{this.\u0275inj=nt({})}}return r})(),MN=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=ot({type:r})}static{this.\u0275inj=nt({imports:[oc,Ep,oc,Ep]})}}return r})();var DG=xv(),NN=class{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Di(-this._previousScrollPosition.left),e.style.top=Di(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,t=this._document.body,i=e.style,n=t.style,o=i.scrollBehavior||"",a=n.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),DG&&(i.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),DG&&(i.scrollBehavior=o,n.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}};var kN=class{constructor(e,t,i,n){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=n,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(Ur(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},rb=class{enable(){}disable(){}attach(){}};function RN(r,e){return e.some(t=>{let i=r.bottom<t.top,n=r.top>t.bottom,o=r.right<t.left,a=r.left>t.right;return i||n||o||a})}function AG(r,e){return e.some(t=>{let i=r.top<t.top,n=r.bottom>t.bottom,o=r.left<t.left,a=r.right>t.right;return i||n||o||a})}var FN=class{constructor(e,t,i,n){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=n,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:n}=this._viewportRuler.getViewportSize();RN(t,[{width:i,height:n,bottom:n,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},kfe=(()=>{class r{constructor(t,i,n,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=n,this.noop=()=>new rb,this.close=a=>new kN(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new NN(this._viewportRuler,this._document),this.reposition=a=>new FN(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=o}static{this.\u0275fac=function(i){return new(i||r)(me(um),me(Dp),me(Je),me(St))}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),mm=class{constructor(e){if(this.scrollStrategy=new rb,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){let t=Object.keys(e);for(let i of t)e[i]!==void 0&&(this[i]=e[i])}}};var ON=class{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}};var NG=(()=>{class r{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){let i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static{this.\u0275fac=function(i){return new(i||r)(me(St))}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Rfe=(()=>{class r extends NG{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=n=>{let o=this._attachedOverlays;for(let a=o.length-1;a>-1;a--)if(o[a]._keydownEvents.observers.length>0){let s=o[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>s.next(n)):s.next(n);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(i){return new(i||r)(me(St),me(Je,8))}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Ffe=(()=>{class r extends NG{constructor(t,i,n){super(t),this._platform=i,this._ngZone=n,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Io(o)},this._clickListener=o=>{let a=Io(o),s=o.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;let c=this._attachedOverlays.slice();for(let l=c.length-1;l>-1;l--){let u=c[l];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(CG(u.overlayElement,a)||CG(u.overlayElement,s))break;let d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(o)):d.next(o)}}}add(t){if(super.add(t),!this._isAttached){let i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(i){return new(i||r)(me(St),me(ir),me(Je,8))}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function CG(r,e){let t=typeof ShadowRoot<"u"&&ShadowRoot,i=e;for(;i;){if(i===r)return!0;i=t&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var kG=(()=>{class r{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||Hh()){let n=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<n.length;o++)n[o].remove()}let i=this._document.createElement("div");i.classList.add(t),Hh()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static{this.\u0275fac=function(i){return new(i||r)(me(St),me(ir))}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),PN=class{constructor(e,t,i,n,o,a,s,c,l,u=!1,d){this._portalOutlet=e,this._host=t,this._pane=i,this._config=n,this._ngZone=o,this._keyboardDispatcher=a,this._document=s,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=u,this._injector=d,this._backdropElement=null,this._backdropClick=new Dt,this._attachments=new Dt,this._detachments=new Dt,this._locationChanges=Yo.EMPTY,this._backdropClickHandler=m=>this._backdropClick.next(m),this._backdropTransitionendHandler=m=>{this._disposeBackdrop(m.target)},this._keydownEvents=new Dt,this._outsidePointerEvents=new Dt,this._renders=new Dt,n.scrollStrategy&&(this._scrollStrategy=n.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=n.positionStrategy,this._afterRenderRef=Zo(()=>Zg(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=Aa(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof t?.onDestroy=="function"&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Le(Le({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Cr(Le({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=Di(this._config.width),e.height=Di(this._config.height),e.minWidth=Di(this._config.minWidth),e.minHeight=Di(this._config.minHeight),e.maxWidth=Di(this._config.maxWidth),e.maxHeight=Di(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){let n=rd(t||[]).filter(o=>!!o);n.length&&(i?e.classList.add(...n):e.classList.remove(...n))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let e=this._renders.pipe(qr(js(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},SG="cdk-overlay-connected-position-bounding-box",Ofe=/([A-Za-z%]+)$/,BN=class{get positions(){return this._preferredPositions}constructor(e,t,i,n,o){this._viewportRuler=t,this._document=i,this._platform=n,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Dt,this._resizeSubscription=Yo.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(SG),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,t=this._overlayRect,i=this._viewportRect,n=this._containerRect,o=[],a;for(let s of this._preferredPositions){let c=this._getOriginPoint(e,n,s),l=this._getOverlayPoint(c,t,s),u=this._getOverlayFit(l,t,i,s);if(u.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(s,c);return}if(this._canFitWithFlexibleDimensions(u,l,i)){o.push({position:s,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,s)});continue}(!a||a.overlayFit.visibleArea<u.visibleArea)&&(a={overlayFit:u,overlayPoint:l,originPoint:c,position:s,overlayRect:t})}if(o.length){let s=null,c=-1;for(let l of o){let u=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);u>c&&(c=u,s=l)}this._isPushed=!1,this._applyPosition(s.position,s.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(a.position,a.originPoint);return}this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&eu(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(SG),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let n;if(i.originX=="center")n=e.left+e.width/2;else{let a=this._isRtl()?e.right:e.left,s=this._isRtl()?e.left:e.right;n=i.originX=="start"?a:s}t.left<0&&(n-=t.left);let o;return i.originY=="center"?o=e.top+e.height/2:o=i.originY=="top"?e.top:e.bottom,t.top<0&&(o-=t.top),{x:n,y:o}}_getOverlayPoint(e,t,i){let n;i.overlayX=="center"?n=-t.width/2:i.overlayX==="start"?n=this._isRtl()?-t.width:0:n=this._isRtl()?0:-t.width;let o;return i.overlayY=="center"?o=-t.height/2:o=i.overlayY=="top"?0:-t.height,{x:e.x+n,y:e.y+o}}_getOverlayFit(e,t,i,n){let o=IG(t),{x:a,y:s}=e,c=this._getOffset(n,"x"),l=this._getOffset(n,"y");c&&(a+=c),l&&(s+=l);let u=0-a,d=a+o.width-i.width,m=0-s,h=s+o.height-i.height,f=this._subtractOverflows(o.width,u,d),p=this._subtractOverflows(o.height,m,h),w=f*p;return{visibleArea:w,isCompletelyWithinViewport:o.width*o.height===w,fitsInViewportVertically:p===o.height,fitsInViewportHorizontally:f==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){let n=i.bottom-t.y,o=i.right-t.x,a=TG(this._overlayRef.getConfig().minHeight),s=TG(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportVertically||a!=null&&a<=n,l=e.fitsInViewportHorizontally||s!=null&&s<=o;return c&&l}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let n=IG(t),o=this._viewportRect,a=Math.max(e.x+n.width-o.width,0),s=Math.max(e.y+n.height-o.height,0),c=Math.max(o.top-i.top-e.y,0),l=Math.max(o.left-i.left-e.x,0),u=0,d=0;return n.width<=o.width?u=l||-a:u=e.x<this._viewportMargin?o.left-i.left-e.x:0,n.height<=o.height?d=c||-s:d=e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!Pfe(this._lastScrollVisibility,i)){let n=new ON(e,i);this._positionChanges.next(n)}this._lastScrollVisibility=i}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let t=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,n=e.overlayY;e.overlayX==="center"?i="center":this._isRtl()?i=e.overlayX==="start"?"right":"left":i=e.overlayX==="start"?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${n}`}_calculateBoundingBoxRect(e,t){let i=this._viewportRect,n=this._isRtl(),o,a,s;if(t.overlayY==="top")a=e.y,o=i.height-a+this._viewportMargin;else if(t.overlayY==="bottom")s=i.height-e.y+this._viewportMargin*2,o=i.height-s+this._viewportMargin;else{let h=Math.min(i.bottom-e.y+i.top,e.y),f=this._lastBoundingBoxSize.height;o=h*2,a=e.y-h,o>f&&!this._isInitialRender&&!this._growAfterOpen&&(a=e.y-f/2)}let c=t.overlayX==="start"&&!n||t.overlayX==="end"&&n,l=t.overlayX==="end"&&!n||t.overlayX==="start"&&n,u,d,m;if(l)m=i.width-e.x+this._viewportMargin*2,u=e.x-this._viewportMargin;else if(c)d=e.x,u=i.right-e.x;else{let h=Math.min(i.right-e.x+i.left,e.x),f=this._lastBoundingBoxSize.width;u=h*2,d=e.x-h,u>f&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-f/2)}return{top:a,left:d,bottom:s,right:m,width:u,height:o}}_setBoundingBoxStyles(e,t){let i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let n={};if(this._hasExactPosition())n.top=n.left="0",n.bottom=n.right=n.maxHeight=n.maxWidth="",n.width=n.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;n.height=Di(i.height),n.top=Di(i.top),n.bottom=Di(i.bottom),n.width=Di(i.width),n.left=Di(i.left),n.right=Di(i.right),t.overlayX==="center"?n.alignItems="center":n.alignItems=t.overlayX==="end"?"flex-end":"flex-start",t.overlayY==="center"?n.justifyContent="center":n.justifyContent=t.overlayY==="bottom"?"flex-end":"flex-start",o&&(n.maxHeight=Di(o)),a&&(n.maxWidth=Di(a))}this._lastBoundingBoxSize=i,eu(this._boundingBox.style,n)}_resetBoundingBoxStyles(){eu(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){eu(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){let i={},n=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(n){let u=this._viewportRuler.getViewportScrollPosition();eu(i,this._getExactOverlayY(t,e,u)),eu(i,this._getExactOverlayX(t,e,u))}else i.position="static";let s="",c=this._getOffset(t,"x"),l=this._getOffset(t,"y");c&&(s+=`translateX(${c}px) `),l&&(s+=`translateY(${l}px)`),i.transform=s.trim(),a.maxHeight&&(n?i.maxHeight=Di(a.maxHeight):o&&(i.maxHeight="")),a.maxWidth&&(n?i.maxWidth=Di(a.maxWidth):o&&(i.maxWidth="")),eu(this._pane.style,i)}_getExactOverlayY(e,t,i){let n={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),e.overlayY==="bottom"){let a=this._document.documentElement.clientHeight;n.bottom=`${a-(o.y+this._overlayRect.height)}px`}else n.top=Di(o.y);return n}_getExactOverlayX(e,t,i){let n={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));let a;if(this._isRtl()?a=e.overlayX==="end"?"left":"right":a=e.overlayX==="end"?"right":"left",a==="right"){let s=this._document.documentElement.clientWidth;n.right=`${s-(o.x+this._overlayRect.width)}px`}else n.left=Di(o.x);return n}_getScrollVisibility(){let e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(n=>n.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:AG(e,i),isOriginOutsideView:RN(e,i),isOverlayClipped:AG(t,i),isOverlayOutsideView:RN(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,n)=>i-Math.max(n,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return t==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&rd(e).forEach(t=>{t!==""&&this._appliedPanelClasses.indexOf(t)===-1&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof At)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}};function eu(r,e){for(let t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);return r}function TG(r){if(typeof r!="number"&&r!=null){let[e,t]=r.split(Ofe);return!t||t==="px"?parseFloat(e):null}return r||null}function IG(r){return{top:Math.floor(r.top),right:Math.floor(r.right),bottom:Math.floor(r.bottom),left:Math.floor(r.left),width:Math.floor(r.width),height:Math.floor(r.height)}}function Pfe(r,e){return r===e?!0:r.isOriginClipped===e.isOriginClipped&&r.isOriginOutsideView===e.isOriginOutsideView&&r.isOverlayClipped===e.isOverlayClipped&&r.isOverlayOutsideView===e.isOverlayOutsideView}var MG="cdk-global-overlay-wrapper",LN=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){let t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(MG),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:n,height:o,maxWidth:a,maxHeight:s}=i,c=(n==="100%"||n==="100vw")&&(!a||a==="100%"||a==="100vw"),l=(o==="100%"||o==="100vh")&&(!s||s==="100%"||s==="100vh"),u=this._xPosition,d=this._xOffset,m=this._overlayRef.getConfig().direction==="rtl",h="",f="",p="";c?p="flex-start":u==="center"?(p="center",m?f=d:h=d):m?u==="left"||u==="end"?(p="flex-end",h=d):(u==="right"||u==="start")&&(p="flex-start",f=d):u==="left"||u==="start"?(p="flex-start",h=d):(u==="right"||u==="end")&&(p="flex-end",f=d),e.position=this._cssPosition,e.marginLeft=c?"0":h,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":f,t.justifyContent=p,t.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(MG),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},Bfe=(()=>{class r{constructor(t,i,n,o){this._viewportRuler=t,this._document=i,this._platform=n,this._overlayContainer=o}global(){return new LN}flexibleConnectedTo(t){return new BN(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(i){return new(i||r)(me(Dp),me(St),me(ir),me(kG))}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Lfe=0,Pc=(()=>{class r{constructor(t,i,n,o,a,s,c,l,u,d,m,h){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=n,this._positionBuilder=o,this._keyboardDispatcher=a,this._injector=s,this._ngZone=c,this._document=l,this._directionality=u,this._location=d,this._outsideClickDispatcher=m,this._animationsModuleType=h}create(t){let i=this._createHostElement(),n=this._createPaneElement(i),o=this._createPortalOutlet(n),a=new mm(t);return a.direction=a.direction||this._directionality.value,new PN(o,i,n,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(is))}position(){return this._positionBuilder}_createPaneElement(t){let i=this._document.createElement("div");return i.id=`cdk-overlay-${Lfe++}`,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){let t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(_l)),new eb(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(i){return new(i||r)(me(kfe),me(kG),me(Ih),me(Bfe),me(Rfe),me(gi),me(Je),me(St),me(ko),me(wl),me(Ffe),me(li,8))}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var Vfe=new Ve("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let r=Pe(Pc);return()=>r.scrollStrategies.reposition()}});function zfe(r){return()=>r.scrollStrategies.reposition()}var Ufe={provide:Vfe,deps:[Pc],useFactory:zfe},ib=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=ot({type:r})}static{this.\u0275inj=nt({providers:[Pc,Ufe],imports:[oc,tb,MN,MN]})}}return r})();function jfe(r,e){if(r&1){let t=ii();oe(0,"div",1)(1,"button",2),Nt("click",function(){Kt(t);let n=Pt();return Qt(n.action())}),Ie(2),ne()()}if(r&2){let t=Pt();ke(2),Co(" ",t.data.action," ")}}var $fe=["label"];function Hfe(r,e){}var Gfe=Math.pow(2,31)-1,Ap=class{constructor(e,t){this._overlayRef=t,this._afterDismissed=new Dt,this._afterOpened=new Dt,this._onAction=new Dt,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,Gfe))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},RG=new Ve("MatSnackBarData"),hm=class{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}},Wfe=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275dir=yt({type:r,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0})}}return r})(),Xfe=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275dir=yt({type:r,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0})}}return r})(),Kfe=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275dir=yt({type:r,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0})}}return r})(),FG=(()=>{class r{constructor(t,i){this.snackBarRef=t,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static{this.\u0275fac=function(i){return new(i||r)(ue(Ap),ue(RG))}}static{this.\u0275cmp=dt({type:r,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[Yt],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(i,n){i&1&&(oe(0,"div",0),Ie(1),ne(),lt(2,jfe,3,1,"div",1)),i&2&&(ke(),Co(" ",n.data.message,`
`),ke(),Br(n.hasAction?2:-1))},dependencies:[Wn,Wfe,Xfe,Kfe],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}}return r})(),Qfe={snackBarState:as("state",[Jo("void, hidden",bn({transform:"scale(0.8)",opacity:0})),Jo("visible",bn({transform:"scale(1)",opacity:1})),To("* => visible",So("150ms cubic-bezier(0, 0, 0.2, 1)")),To("* => void, * => hidden",So("75ms cubic-bezier(0.4, 0.0, 1, 1)",bn({opacity:0})))])},Yfe=0,Zfe=(()=>{class r extends lm{constructor(t,i,n,o,a){super(),this._ngZone=t,this._elementRef=i,this._changeDetectorRef=n,this._platform=o,this.snackBarConfig=a,this._document=Pe(St),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Dt,this._onExit=new Dt,this._onEnter=new Dt,this._animationState="void",this._liveElementId=`mat-snack-bar-container-live-${Yfe++}`,this.attachDomPortal=s=>{this._assertNotAttached();let c=this._portalOutlet.attachDomPortal(s);return this._afterPortalAttached(),c},a.politeness==="assertive"&&!a.announcementMessage?this._live="assertive":a.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();let i=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),i}attachTemplatePortal(t){this._assertNotAttached();let i=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),i}onAnimationEnd(t){let{fromState:i,toState:n}=t;if((n==="void"&&i!=="void"||n==="hidden")&&this._completeExit(),n==="visible"){let o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let t=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(a=>t.classList.add(a)):t.classList.add(i)),this._exposeToModals();let n=this._label.nativeElement,o="mdc-snackbar__label";n.classList.toggle(o,!n.querySelector(`.${o}`))}_exposeToModals(){let t=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let n=0;n<i.length;n++){let o=i[n],a=o.getAttribute("aria-owns");this._trackedModals.add(o),a?a.indexOf(t)===-1&&o.setAttribute("aria-owns",a+" "+t):o.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{let i=t.getAttribute("aria-owns");if(i){let n=i.replace(this._liveElementId,"").trim();n.length>0?t.setAttribute("aria-owns",n):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{let t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&i){let n=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(n=document.activeElement),t.removeAttribute("aria-hidden"),i.appendChild(t),n?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static{this.\u0275fac=function(i){return new(i||r)(ue(Je),ue(At),ue(Hr),ue(ir),ue(hm))}}static{this.\u0275cmp=dt({type:r,selectors:[["mat-snack-bar-container"]],viewQuery:function(i,n){if(i&1&&(kr(IN,7),kr($fe,7)),i&2){let o;Bt(o=Lt())&&(n._portalOutlet=o.first),Bt(o=Lt())&&(n._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:1,hostBindings:function(i,n){i&1&&ev("@state.done",function(a){return n.onAnimationEnd(a)}),i&2&&Jg("@state",n._animationState)},standalone:!0,features:[wr,Yt],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,n){i&1&&(oe(0,"div",1)(1,"div",2,0)(3,"div",3),lt(4,Hfe,0,0,"ng-template",4),ne(),Ct(5,"div"),ne()()),i&2&&(ke(5),lr("aria-live",n._live)("role",n._role)("id",n._liveElementId))},dependencies:[IN],styles:[".mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}.cdk-high-contrast-active .mat-mdc-snackbar-surface{outline:solid 1px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-app-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-app-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-app-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-app-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-app-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-app-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2,data:{animation:[Qfe.snackBarState]}})}}return r})();function Jfe(){return new hm}var epe=new Ve("mat-snack-bar-default-options",{providedIn:"root",factory:Jfe}),VN=(()=>{class r{get _openedSnackBarRef(){let t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(t,i,n,o,a,s){this._overlay=t,this._live=i,this._injector=n,this._breakpointObserver=o,this._parentSnackBar=a,this._defaultConfig=s,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=FG,this.snackBarContainerComponent=Zfe,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(t,i){return this._attach(t,i)}openFromTemplate(t,i){return this._attach(t,i)}open(t,i="",n){let o=Le(Le({},this._defaultConfig),n);return o.data={message:t,action:i},o.announcementMessage===t&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,i){let n=i&&i.viewContainerRef&&i.viewContainerRef.injector,o=gi.create({parent:n||this._injector,providers:[{provide:hm,useValue:i}]}),a=new sm(this.snackBarContainerComponent,i.viewContainerRef,o),s=t.attach(a);return s.instance.snackBarConfig=i,s.instance}_attach(t,i){let n=Le(Le(Le({},new hm),this._defaultConfig),i),o=this._createOverlay(n),a=this._attachSnackBarContainer(o,n),s=new Ap(a,o);if(t instanceof vl){let c=new cm(t,null,{$implicit:n.data,snackBarRef:s});s.instance=a.attachTemplatePortal(c)}else{let c=this._createInjector(n,s),l=new sm(t,void 0,c),u=a.attachComponentPortal(l);s.instance=u.instance}return this._breakpointObserver.observe(WP.HandsetPortrait).pipe(qr(o.detachments())).subscribe(c=>{o.overlayElement.classList.toggle(this.handsetCssClass,c.matches)}),n.announcementMessage&&a._onAnnounce.subscribe(()=>{this._live.announce(n.announcementMessage,n.politeness)}),this._animateSnackBar(s,n),this._openedSnackBarRef=s,this._openedSnackBarRef}_animateSnackBar(t,i){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),i.duration&&i.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(i.duration))}_createOverlay(t){let i=new mm;i.direction=t.direction;let n=this._overlay.position().global(),o=t.direction==="rtl",a=t.horizontalPosition==="left"||t.horizontalPosition==="start"&&!o||t.horizontalPosition==="end"&&o,s=!a&&t.horizontalPosition!=="center";return a?n.left("0"):s?n.right("0"):n.centerHorizontally(),t.verticalPosition==="top"?n.top("0"):n.bottom("0"),i.positionStrategy=n,this._overlay.create(i)}_createInjector(t,i){let n=t&&t.viewContainerRef&&t.viewContainerRef.injector;return gi.create({parent:n||this._injector,providers:[{provide:Ap,useValue:i},{provide:RG,useValue:t.data}]})}static{this.\u0275fac=function(i){return new(i||r)(me(Pc),me(eB),me(gi),me(wv),me(r,12),me(epe))}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var OG=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=ot({type:r})}static{this.\u0275inj=nt({providers:[VN],imports:[ib,tb,Iv,nr,FG,nr]})}}return r})();var zN=class{constructor(e){this._box=e,this._destroyed=new Dt,this._resizeSubject=new Dt,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new gn(t=>{let i=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe(Ur(t=>t.some(i=>i.target===e)),Hu({bufferSize:1,refCount:!0}),qr(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},PG=(()=>{class r{constructor(){this._observers=new Map,this._ngZone=Pe(Je),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,t]of this._observers)t.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(t,i){let n=i?.box||"content-box";return this._observers.has(n)||this._observers.set(n,new zN(n)),this._observers.get(n).observe(t)}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var rpe=["notch"],ipe=["matFormFieldNotchedOutline",""],npe=["*"],ope=["textField"],ape=["iconPrefixContainer"],spe=["textPrefixContainer"],cpe=["iconSuffixContainer"],lpe=["textSuffixContainer"],upe=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],dpe=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function mpe(r,e){r&1&&Ct(0,"span",21)}function hpe(r,e){if(r&1&&(oe(0,"label",20),Tt(1,1),lt(2,mpe,1,0,"span",21),ne()),r&2){let t=Pt(2);rt("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),lr("for",t._control.disableAutomaticLabeling?null:t._control.id),ke(2),Br(!t.hideRequiredMarker&&t._control.required?2:-1)}}function fpe(r,e){if(r&1&&lt(0,hpe,3,5,"label",20),r&2){let t=Pt();Br(t._hasFloatingLabel()?0:-1)}}function ppe(r,e){r&1&&Ct(0,"div",7)}function gpe(r,e){}function vpe(r,e){if(r&1&&lt(0,gpe,0,0,"ng-template",13),r&2){Pt(2);let t=Ni(1);rt("ngTemplateOutlet",t)}}function ype(r,e){if(r&1&&(oe(0,"div",9),lt(1,vpe,1,1,null,13),ne()),r&2){let t=Pt();rt("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),ke(),Br(t._forceDisplayInfixLabel()?-1:1)}}function bpe(r,e){r&1&&(oe(0,"div",10,2),Tt(2,2),ne())}function _pe(r,e){r&1&&(oe(0,"div",11,3),Tt(2,3),ne())}function xpe(r,e){}function wpe(r,e){if(r&1&&lt(0,xpe,0,0,"ng-template",13),r&2){Pt();let t=Ni(1);rt("ngTemplateOutlet",t)}}function Epe(r,e){r&1&&(oe(0,"div",14,4),Tt(2,4),ne())}function Dpe(r,e){r&1&&(oe(0,"div",15,5),Tt(2,5),ne())}function Ape(r,e){r&1&&Ct(0,"div",16)}function Cpe(r,e){if(r&1&&(oe(0,"div",18),Tt(1,6),ne()),r&2){let t=Pt();rt("@transitionMessages",t._subscriptAnimationState)}}function Spe(r,e){if(r&1&&(oe(0,"mat-hint",22),Ie(1),ne()),r&2){let t=Pt(2);rt("id",t._hintLabelId),ke(),co(t.hintLabel)}}function Tpe(r,e){if(r&1&&(oe(0,"div",19),lt(1,Spe,2,2,"mat-hint",22),Tt(2,7),Ct(3,"div",23),Tt(4,8),ne()),r&2){let t=Pt();rt("@transitionMessages",t._subscriptAnimationState),ke(),Br(t.hintLabel?1:-1)}}var ob=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275dir=yt({type:r,selectors:[["mat-label"]],standalone:!0})}}return r})(),Ipe=0,HG=new Ve("MatError"),GG=(()=>{class r{constructor(t,i){this.id=`mat-mdc-error-${Ipe++}`,t||i.nativeElement.setAttribute("aria-live","polite")}static{this.\u0275fac=function(i){return new(i||r)(Ws("aria-live"),ue(At))}}static{this.\u0275dir=yt({type:r,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(i,n){i&2&&Xs("id",n.id)},inputs:{id:"id"},standalone:!0,features:[mr([{provide:HG,useExisting:r}])]})}}return r})(),Mpe=0,BG=(()=>{class r{constructor(){this.align="start",this.id=`mat-mdc-hint-${Mpe++}`}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275dir=yt({type:r,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,n){i&2&&(Xs("id",n.id),lr("align",null),$t("mat-mdc-form-field-hint-end",n.align==="end"))},inputs:{align:"align",id:"id"},standalone:!0})}}return r})(),Npe=new Ve("MatPrefix");var kpe=new Ve("MatSuffix");var WG=new Ve("FloatingLabelParent"),LG=(()=>{class r{get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(t){this._elementRef=t,this._floating=!1,this._monitorResize=!1,this._resizeObserver=Pe(PG),this._ngZone=Pe(Je),this._parent=Pe(WG),this._resizeSubscription=new Yo}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return Rpe(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static{this.\u0275fac=function(i){return new(i||r)(ue(At))}}static{this.\u0275dir=yt({type:r,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,n){i&2&&$t("mdc-floating-label--float-above",n.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}}return r})();function Rpe(r){let e=r;if(e.offsetParent!==null)return e.scrollWidth;let t=e.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);let i=t.scrollWidth;return t.remove(),i}var VG="mdc-line-ripple--active",nb="mdc-line-ripple--deactivating",zG=(()=>{class r{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=n=>{let o=this._elementRef.nativeElement.classList,a=o.contains(nb);n.propertyName==="opacity"&&a&&o.remove(VG,nb)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let t=this._elementRef.nativeElement.classList;t.remove(nb),t.add(VG)}deactivate(){this._elementRef.nativeElement.classList.add(nb)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static{this.\u0275fac=function(i){return new(i||r)(ue(At),ue(Je))}}static{this.\u0275dir=yt({type:r,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}}return r})(),UG=(()=>{class r{constructor(t,i){this._elementRef=t,this._ngZone=i,this.open=!1}ngAfterViewInit(){let t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){!this.open||!t?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}static{this.\u0275fac=function(i){return new(i||r)(ue(At),ue(Je))}}static{this.\u0275cmp=dt({type:r,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,n){if(i&1&&kr(rpe,5),i&2){let o;Bt(o=Lt())&&(n._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,n){i&2&&$t("mdc-notched-outline--notched",n.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[Yt],attrs:ipe,ngContentSelectors:npe,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(i,n){i&1&&(vr(),Ct(0,"div",1),oe(1,"div",2,0),Tt(3),ne(),Ct(4,"div",3))},encapsulation:2,changeDetection:0})}}return r})(),Fpe={transitionMessages:as("transitionMessages",[Jo("enter",bn({opacity:1,transform:"translateY(0%)"})),To("void => enter",[bn({opacity:0,transform:"translateY(-5px)"}),So("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},UN=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275dir=yt({type:r})}}return r})();var qN=new Ve("MatFormField"),Ope=new Ve("MAT_FORM_FIELD_DEFAULT_OPTIONS"),qG=0,jG="fill",Ppe="auto",$G="fixed",Bpe="translateY(-50%)",ab=(()=>{class r{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=ki(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||Ppe}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){let i=this._appearance,n=t||this._defaults?.appearance||jG;this._appearance=n,this._appearance==="outline"&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||$G}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||$G}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,i,n,o,a,s,c,l){this._elementRef=t,this._changeDetectorRef=i,this._dir=o,this._platform=a,this._defaults=s,this._animationMode=c,this._labelChild=OO(ob),this._hideRequiredMarker=!1,this.color="primary",this._appearance=jG,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId=`mat-mdc-form-field-label-${qG++}`,this._hintLabelId=`mat-mdc-hint-${qG++}`,this._subscriptAnimationState="",this._destroyed=new Dt,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._previousControl=null,this._injector=Pe(gi),this.getLabelId=os(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=os(()=>!!this._labelChild()),s&&(s.appearance&&(this.appearance=s.appearance),this._hideRequiredMarker=!!s?.hideRequiredMarker,s.color&&(this.color=s.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(t){let i=this._control,n="mat-mdc-form-field-type-";t&&this._elementRef.nativeElement.classList.remove(n+t.controlType),i.controlType&&this._elementRef.nativeElement.classList.add(n+i.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=i.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._valueChanges?.unsubscribe(),i.ngControl&&i.ngControl.valueChanges&&(this._valueChanges=i.ngControl.valueChanges.pipe(qr(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),js(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),Zg(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(qr(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(t){let i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&t.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let i=this._hintChildren?this._hintChildren.find(o=>o.align==="start"):null,n=this._hintChildren?this._hintChildren.find(o=>o.align==="end"):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let t=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){t.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let i=this._iconPrefixContainer?.nativeElement,n=this._textPrefixContainer?.nativeElement,o=this._iconSuffixContainer?.nativeElement,a=this._textSuffixContainer?.nativeElement,s=i?.getBoundingClientRect().width??0,c=n?.getBoundingClientRect().width??0,l=o?.getBoundingClientRect().width??0,u=a?.getBoundingClientRect().width??0,d=this._dir.value==="rtl"?"-1":"1",m=`${s+c}px`,f=`calc(${d} * (${m} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;t.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${Bpe} translateX(${f})
    )`;let p=s+c+l+u;this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${p}px)`)}_isAttachedToDom(){let t=this._elementRef.nativeElement;if(t.getRootNode){let i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}static{this.\u0275fac=function(i){return new(i||r)(ue(At),ue(Hr),ue(Je),ue(ko),ue(ir),ue(Ope,8),ue(li,8),ue(St))}}static{this.\u0275cmp=dt({type:r,selectors:[["mat-form-field"]],contentQueries:function(i,n,o){if(i&1&&(UO(o,n._labelChild,ob,5),Ei(o,UN,5),Ei(o,Npe,5),Ei(o,kpe,5),Ei(o,HG,5),Ei(o,BG,5)),i&2){qO();let a;Bt(a=Lt())&&(n._formFieldControl=a.first),Bt(a=Lt())&&(n._prefixChildren=a),Bt(a=Lt())&&(n._suffixChildren=a),Bt(a=Lt())&&(n._errorChildren=a),Bt(a=Lt())&&(n._hintChildren=a)}},viewQuery:function(i,n){if(i&1&&(kr(ope,5),kr(ape,5),kr(spe,5),kr(cpe,5),kr(lpe,5),kr(LG,5),kr(UG,5),kr(zG,5)),i&2){let o;Bt(o=Lt())&&(n._textField=o.first),Bt(o=Lt())&&(n._iconPrefixContainer=o.first),Bt(o=Lt())&&(n._textPrefixContainer=o.first),Bt(o=Lt())&&(n._iconSuffixContainer=o.first),Bt(o=Lt())&&(n._textSuffixContainer=o.first),Bt(o=Lt())&&(n._floatingLabel=o.first),Bt(o=Lt())&&(n._notchedOutline=o.first),Bt(o=Lt())&&(n._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,n){i&2&&$t("mat-mdc-form-field-label-always-float",n._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",n._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",n._hasIconSuffix)("mat-form-field-invalid",n._control.errorState)("mat-form-field-disabled",n._control.disabled)("mat-form-field-autofilled",n._control.autofilled)("mat-form-field-no-animations",n._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",n.appearance=="fill")("mat-form-field-appearance-outline",n.appearance=="outline")("mat-form-field-hide-placeholder",n._hasFloatingLabel()&&!n._shouldLabelFloat())("mat-focused",n._control.focused)("mat-primary",n.color!=="accent"&&n.color!=="warn")("mat-accent",n.color==="accent")("mat-warn",n.color==="warn")("ng-untouched",n._shouldForward("untouched"))("ng-touched",n._shouldForward("touched"))("ng-pristine",n._shouldForward("pristine"))("ng-dirty",n._shouldForward("dirty"))("ng-valid",n._shouldForward("valid"))("ng-invalid",n._shouldForward("invalid"))("ng-pending",n._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[mr([{provide:qN,useExisting:r},{provide:WG,useExisting:r}]),Yt],ngContentSelectors:dpe,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(i,n){if(i&1){let o=ii();vr(upe),lt(0,fpe,1,1,"ng-template",null,0,Nh),oe(2,"div",6,1),Nt("click",function(s){return Kt(o),Qt(n._control.onContainerClick(s))}),lt(4,ppe,1,0,"div",7),oe(5,"div",8),lt(6,ype,2,2,"div",9)(7,bpe,3,0,"div",10)(8,_pe,3,0,"div",11),oe(9,"div",12),lt(10,wpe,1,1,null,13),Tt(11),ne(),lt(12,Epe,3,0,"div",14)(13,Dpe,3,0,"div",15),ne(),lt(14,Ape,1,0,"div",16),ne(),oe(15,"div",17),lt(16,Cpe,2,1,"div",18)(17,Tpe,5,2,"div",19),ne()}if(i&2){let o;ke(2),$t("mdc-text-field--filled",!n._hasOutline())("mdc-text-field--outlined",n._hasOutline())("mdc-text-field--no-label",!n._hasFloatingLabel())("mdc-text-field--disabled",n._control.disabled)("mdc-text-field--invalid",n._control.errorState),ke(2),Br(!n._hasOutline()&&!n._control.disabled?4:-1),ke(2),Br(n._hasOutline()?6:-1),ke(),Br(n._hasIconPrefix?7:-1),ke(),Br(n._hasTextPrefix?8:-1),ke(2),Br(!n._hasOutline()||n._forceDisplayInfixLabel()?10:-1),ke(2),Br(n._hasTextSuffix?12:-1),ke(),Br(n._hasIconSuffix?13:-1),ke(),Br(n._hasOutline()?-1:14),ke(),$t("mat-mdc-form-field-subscript-dynamic-size",n.subscriptSizing==="dynamic"),ke(),Br((o=n._getDisplayedMessages())==="error"?16:o==="hint"?17:-1)}},dependencies:[LG,UG,tP,zG,BG],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-app-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-app-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-app-outline));border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-app-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-app-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-app-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-app-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-app-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-app-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-app-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-app-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-app-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-app-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-app-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-app-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-app-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-app-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-app-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-app-body-large-weight))}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-app-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-app-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-app-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Fpe.transitionMessages]},changeDetection:0})}}return r})(),Cp=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=ot({type:r})}static{this.\u0275inj=nt({imports:[nr,Ys,$P,nr]})}}return r})();var XG=nc({passive:!0}),KG=(()=>{class r{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Ea;let i=No(t),n=this._monitoredElements.get(i);if(n)return n.subject;let o=new Dt,a="cdk-text-field-autofilled",s=c=>{c.animationName==="cdk-text-field-autofill-start"&&!i.classList.contains(a)?(i.classList.add(a),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!0}))):c.animationName==="cdk-text-field-autofill-end"&&i.classList.contains(a)&&(i.classList.remove(a),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",s,XG),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",s,XG)}}),o}stopMonitoring(t){let i=No(t),n=this._monitoredElements.get(i);n&&(n.unlisten(),n.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}static{this.\u0275fac=function(i){return new(i||r)(me(ir),me(Je))}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var QG=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=ot({type:r})}static{this.\u0275inj=nt({})}}return r})();var zpe=new Ve("MAT_INPUT_VALUE_ACCESSOR"),Upe=["button","checkbox","file","hidden","image","radio","range","reset","submit"],qpe=0,YG=(()=>{class r{get disabled(){return this._disabled}set disabled(t){this._disabled=ki(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Ai.required)??!1}set required(t){this._required=ki(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&xw().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=ki(t)}get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}constructor(t,i,n,o,a,s,c,l,u,d){this._elementRef=t,this._platform=i,this.ngControl=n,this._autofillMonitor=l,this._ngZone=u,this._formField=d,this._uid=`mat-input-${qpe++}`,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new Dt,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(f=>xw().has(f)),this._iOSKeyupListener=f=>{let p=f.target;!p.value&&p.selectionStart===0&&p.selectionEnd===0&&(p.setSelectionRange(1,1),p.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};let m=this._elementRef.nativeElement,h=m.nodeName.toLowerCase();this._inputValueAccessor=c||m,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&u.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Sv(s,n,a,o,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=h==="select",this._isTextarea=h==="textarea",this._isInFormField=!!d,this._isNativeSelect&&(this.controlType=m.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){let t=this._getPlaceholder();if(t!==this._previousPlaceholder){let i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){Upe.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}else return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&this._type!=="number"&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}static{this.\u0275fac=function(i){return new(i||r)(ue(At),ue(ir),ue(Es,10),ue(Zl,8),ue(yp,8),ue(uB),ue(zpe,10),ue(KG),ue(Je),ue(qN,8))}}static{this.\u0275dir=yt({type:r,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,n){i&1&&Nt("focus",function(){return n._focusChanged(!0)})("blur",function(){return n._focusChanged(!1)})("input",function(){return n._onInput()}),i&2&&(Xs("id",n.id)("disabled",n.disabled)("required",n.required),lr("name",n.name||null)("readonly",n.readonly&&!n._isNativeSelect||null)("aria-invalid",n.empty&&n.required?null:n.errorState)("aria-required",n.required)("id",n.id),$t("mat-input-server",n._isServer)("mat-mdc-form-field-textarea-control",n._isInFormField&&n._isTextarea)("mat-mdc-form-field-input-control",n._isInFormField)("mdc-text-field__input",n._isInFormField)("mat-mdc-native-select-inline",n._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[mr([{provide:UN,useExisting:r}]),yn]})}}return r})(),ZG=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=ot({type:r})}static{this.\u0275inj=nt({imports:[nr,Cp,Cp,QG,nr]})}}return r})();var $pe=["input"],Hpe=["label"],Gpe=["*"],Wpe=new Ve("mat-checkbox-default-options",{providedIn:"root",factory:eW});function eW(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var Mn=function(r){return r[r.Init=0]="Init",r[r.Checked=1]="Checked",r[r.Unchecked=2]="Unchecked",r[r.Indeterminate=3]="Indeterminate",r}(Mn||{}),Xpe={provide:Fc,useExisting:Ui(()=>sb),multi:!0},jN=class{},Kpe=0,JG=eW(),sb=(()=>{class r{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(t){let i=new jN;return i.source=this,i.checked=t,i}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,i,n,o,a,s){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=n,this._animationMode=a,this._options=s,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new Sr,this.indeterminateChange=new Sr,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=Mn.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||JG,this.color=this._options.color||JG.color,this.tabIndex=parseInt(o)||0,this.id=this._uniqueId=`mat-mdc-checkbox-${++Kpe}`,this.disabledInteractive=s?.disabledInteractive??!1}ngOnChanges(t){t.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(t){t!=this.checked&&(this._checked=t,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){t!==this.disabled&&(this._disabled=t,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){let i=t!=this._indeterminate;this._indeterminate=t,i&&(this._indeterminate?this._transitionCheckState(Mn.Indeterminate):this._transitionCheckState(this.checked?Mn.Checked:Mn.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}validate(t){return this.required&&t.value!==!0?{required:!0}:null}registerOnValidatorChange(t){this._validatorChangeFn=t}_transitionCheckState(t){let i=this._currentCheckState,n=this._getAnimationTargetElement();if(!(i===t||!n)&&(this._currentAnimationClass&&n.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){n.classList.add(this._currentAnimationClass);let o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{n.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let t=this._options?.clickAction;!this.disabled&&t!=="noop"?(this.indeterminate&&t!=="check"&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?Mn.Checked:Mn.Unchecked),this._emitChangeEvent()):(this.disabled&&this.disabledInteractive||!this.disabled&&t==="noop")&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(t){t.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(t,i){if(this._animationMode==="NoopAnimations")return"";switch(t){case Mn.Init:if(i===Mn.Checked)return this._animationClasses.uncheckedToChecked;if(i==Mn.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case Mn.Unchecked:return i===Mn.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case Mn.Checked:return i===Mn.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case Mn.Indeterminate:return i===Mn.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(t){let i=this._inputElement;i&&(i.nativeElement.indeterminate=t)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(t){t.target&&this._labelElement.nativeElement.contains(t.target)&&t.stopPropagation()}static{this.\u0275fac=function(i){return new(i||r)(ue(At),ue(Hr),ue(Je),Ws("tabindex"),ue(li,8),ue(Wpe,8))}}static{this.\u0275cmp=dt({type:r,selectors:[["mat-checkbox"]],viewQuery:function(i,n){if(i&1&&(kr($pe,5),kr(Hpe,5),kr(ac,5)),i&2){let o;Bt(o=Lt())&&(n._inputElement=o.first),Bt(o=Lt())&&(n._labelElement=o.first),Bt(o=Lt())&&(n.ripple=o.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(i,n){i&2&&(Xs("id",n.id),lr("tabindex",null)("aria-label",null)("aria-labelledby",null),jn(n.color?"mat-"+n.color:"mat-accent"),$t("_mat-animation-noopable",n._animationMode==="NoopAnimations")("mdc-checkbox--disabled",n.disabled)("mat-mdc-checkbox-disabled",n.disabled)("mat-mdc-checkbox-checked",n.checked)("mat-mdc-checkbox-disabled-interactive",n.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],id:"id",required:[2,"required","required",Tr],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",Tr],tabIndex:[2,"tabIndex","tabIndex",t=>t==null?void 0:lo(t)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Tr],checked:[2,"checked","checked",Tr],disabled:[2,"disabled","disabled",Tr],indeterminate:[2,"indeterminate","indeterminate",Tr]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[mr([Xpe,{provide:Pa,useExisting:r,multi:!0}]),qi,yn,Yt],ngContentSelectors:Gpe,decls:15,vars:20,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(i,n){if(i&1){let o=ii();vr(),oe(0,"div",3),Nt("click",function(s){return Kt(o),Qt(n._preventBubblingFromLabel(s))}),oe(1,"div",4,0)(3,"div",5),Nt("click",function(){return Kt(o),Qt(n._onTouchTargetClick())}),ne(),oe(4,"input",6,1),Nt("blur",function(){return Kt(o),Qt(n._onBlur())})("click",function(){return Kt(o),Qt(n._onInputClick())})("change",function(s){return Kt(o),Qt(n._onInteractionEvent(s))}),ne(),Ct(6,"div",7),oe(7,"div",8),Kg(),oe(8,"svg",9),Ct(9,"path",10),ne(),Wx(),Ct(10,"div",11),ne(),Ct(11,"div",12),ne(),oe(12,"label",13,2),Tt(14),ne()()}if(i&2){let o=Ni(2);rt("labelPosition",n.labelPosition),ke(4),$t("mdc-checkbox--selected",n.checked),rt("checked",n.checked)("indeterminate",n.indeterminate)("disabled",n.disabled&&!n.disabledInteractive)("id",n.inputId)("required",n.required)("tabIndex",n.disabled&&!n.disabledInteractive?-1:n.tabIndex),lr("aria-label",n.ariaLabel||null)("aria-labelledby",n.ariaLabelledby)("aria-describedby",n.ariaDescribedby)("aria-checked",n.indeterminate?"mixed":null)("aria-disabled",n.disabled&&n.disabledInteractive?!0:null)("name",n.name)("value",n.value),ke(7),rt("matRippleTrigger",o)("matRippleDisabled",n.disableRipple||n.disabled)("matRippleCentered",!0),ke(),rt("for",n.inputId)}},dependencies:[ac,mB],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mdc-checkbox__ripple{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.cdk-high-contrast-active .mdc-checkbox--disabled{opacity:.5}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mdc-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mat-app-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mat-app-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover .mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.cdk-high-contrast-active .mdc-checkbox--disabled .mdc-checkbox__checkmark,.cdk-high-contrast-active .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__mixedmark{margin:0 1px}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *,.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return r})();var tW=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=ot({type:r})}static{this.\u0275inj=nt({imports:[sb,nr,nr]})}}return r})();function Ype(r,e){r&1&&(oe(0,"mat-error"),Ie(1," First Name must be at least 2 characters and contain only letters. "),ne())}function Zpe(r,e){r&1&&(oe(0,"mat-error"),Ie(1," Last Name must be at least 2 characters and contain only letters. "),ne())}function Jpe(r,e){r&1&&(oe(0,"mat-error"),Ie(1," Please enter a valid email address. "),ne())}function ege(r,e){r&1&&(oe(0,"mat-error"),Ie(1," Username must be at least 6 characters long. "),ne())}function tge(r,e){r&1&&(oe(0,"mat-error"),Ie(1," Password must be at least 10 characters long, containing numbers and uppercase letters. "),ne())}function rge(r,e){r&1&&(oe(0,"mat-error"),Ie(1," Passwords must match. "),ne())}function ige(r,e){r&1&&(oe(0,"mat-error"),Ie(1," Invalid social security number format (XXXXXX-XXXX). "),ne())}function nge(r,e){r&1&&(oe(0,"mat-error"),Ie(1," You must accept the terms and conditions. "),ne())}var cb=class r{constructor(e){this.snackBar=e}person=new xp;ngOnInit(){localStorage.getItem("formSubmitted")==="true"&&(this.snackBar.open("Form submitted successfully!","Close",{duration:3e3,horizontalPosition:"center",verticalPosition:"top"}),localStorage.removeItem("formSubmitted"))}submitForm(e){e.valid&&(localStorage.setItem("formSubmitted","true"),this.snackBar.open("Form submitted successfully!","Close",{duration:3e3,horizontalPosition:"center",verticalPosition:"top"}),e.resetForm(),this.person=new xp)}static \u0275fac=function(t){return new(t||r)(ue(VN))};static \u0275cmp=dt({type:r,selectors:[["app-person-form"]],decls:42,vars:16,consts:[["personForm","ngForm"],["novalidate","",3,"ngSubmit"],["matInput","","name","firstName","required","","minlength","2","pattern","[A-Za-z]*",3,"ngModelChange","ngModel"],[4,"ngIf"],["matInput","","name","lastName","required","","minlength","2","pattern","[A-Za-z]*",3,"ngModelChange","ngModel"],["matInput","","type","email","name","email","required","","email","",3,"ngModelChange","ngModel"],["matInput","","type","username","name","username","required","","minlength","6",3,"ngModelChange","ngModel"],["matInput","","type","password","name","password","required","","minlength","10","pattern","(?=.*[0-9])(?=.*[A-Z]).*",3,"ngModelChange","ngModel"],["matInput","","type","password","name","confirmPassword","required","",3,"ngModelChange","ngModel"],["matInput","","name","socialSecurityNumber","required","","pattern","^[0-9]{6}-[0-9]{4}$",3,"ngModelChange","ngModel"],["name","acceptedTerms","required","",3,"ngModelChange","ngModel"],["mat-raised-button","","color","primary","type","submit"]],template:function(t,i){if(t&1){let n=ii();oe(0,"form",1,0),Nt("ngSubmit",function(){Kt(n);let a=Ni(1);return Qt(i.submitForm(a))}),oe(2,"mat-form-field")(3,"mat-label"),Ie(4,"First Name"),ne(),oe(5,"input",2),Gn("ngModelChange",function(a){return Kt(n),Hn(i.person.firstName,a)||(i.person.firstName=a),Qt(a)}),ne(),lt(6,Ype,2,0,"mat-error",3),ne(),oe(7,"mat-form-field")(8,"mat-label"),Ie(9,"Last Name"),ne(),oe(10,"input",4),Gn("ngModelChange",function(a){return Kt(n),Hn(i.person.lastName,a)||(i.person.lastName=a),Qt(a)}),ne(),lt(11,Zpe,2,0,"mat-error",3),ne(),oe(12,"mat-form-field")(13,"mat-label"),Ie(14,"Email"),ne(),oe(15,"input",5),Gn("ngModelChange",function(a){return Kt(n),Hn(i.person.email,a)||(i.person.email=a),Qt(a)}),ne(),lt(16,Jpe,2,0,"mat-error",3),ne(),oe(17,"mat-form-field")(18,"mat-label"),Ie(19,"Username"),ne(),oe(20,"input",6),Gn("ngModelChange",function(a){return Kt(n),Hn(i.person.username,a)||(i.person.username=a),Qt(a)}),ne(),lt(21,ege,2,0,"mat-error",3),ne(),oe(22,"mat-form-field")(23,"mat-label"),Ie(24,"Password"),ne(),oe(25,"input",7),Gn("ngModelChange",function(a){return Kt(n),Hn(i.person.password,a)||(i.person.password=a),Qt(a)}),ne(),lt(26,tge,2,0,"mat-error",3),ne(),oe(27,"mat-form-field")(28,"mat-label"),Ie(29,"Confirm Password"),ne(),oe(30,"input",8),Gn("ngModelChange",function(a){return Kt(n),Hn(i.person.confirmPassword,a)||(i.person.confirmPassword=a),Qt(a)}),ne(),lt(31,rge,2,0,"mat-error",3),ne(),oe(32,"mat-form-field")(33,"mat-label"),Ie(34,"Social Security Number"),ne(),oe(35,"input",9),Gn("ngModelChange",function(a){return Kt(n),Hn(i.person.socialSecurityNumber,a)||(i.person.socialSecurityNumber=a),Qt(a)}),ne(),lt(36,ige,2,0,"mat-error",3),ne(),oe(37,"mat-checkbox",10),Gn("ngModelChange",function(a){return Kt(n),Hn(i.person.acceptedTerms,a)||(i.person.acceptedTerms=a),Qt(a)}),Ie(38," I accept the terms and conditions "),ne(),lt(39,nge,2,0,"mat-error",3),oe(40,"button",11),Ie(41,"Submit"),ne()()}if(t&2){let n=Ni(1);ke(5),$n("ngModel",i.person.firstName),ke(),rt("ngIf",(n.controls.firstName==null?null:n.controls.firstName.invalid)&&((n.controls.firstName==null?null:n.controls.firstName.touched)||n.submitted)),ke(4),$n("ngModel",i.person.lastName),ke(),rt("ngIf",(n.controls.lastName==null?null:n.controls.lastName.invalid)&&((n.controls.lastName==null?null:n.controls.lastName.touched)||n.submitted)),ke(4),$n("ngModel",i.person.email),ke(),rt("ngIf",(n.controls.email==null?null:n.controls.email.invalid)&&((n.controls.email==null?null:n.controls.email.touched)||n.submitted)),ke(4),$n("ngModel",i.person.username),ke(),rt("ngIf",(n.controls.username==null?null:n.controls.username.invalid)&&((n.controls.username==null?null:n.controls.username.touched)||n.submitted)),ke(4),$n("ngModel",i.person.password),ke(),rt("ngIf",(n.controls.password==null?null:n.controls.password.invalid)&&((n.controls.password==null?null:n.controls.password.touched)||n.submitted)),ke(4),$n("ngModel",i.person.confirmPassword),ke(),rt("ngIf",(n.controls.confirmPassword==null?null:n.controls.confirmPassword.invalid)&&((n.controls.confirmPassword==null?null:n.controls.confirmPassword.touched)||n.submitted)),ke(4),$n("ngModel",i.person.socialSecurityNumber),ke(),rt("ngIf",(n.controls.socialSecurityNumber==null?null:n.controls.socialSecurityNumber.invalid)&&((n.controls.socialSecurityNumber==null?null:n.controls.socialSecurityNumber.touched)||n.submitted)),ke(),$n("ngModel",i.person.acceptedTerms),ke(2),rt("ngIf",!i.person.acceptedTerms&&n.submitted)}},dependencies:[Qs,Wn,ab,ob,GG,om,Oa,Oc,nm,bp,DN,AN,EN,Jl,Zl,YG,sb],styles:[".form-container[_ngcontent-%COMP%]{max-width:600px;margin:auto;padding:2rem;background:#424242;color:#fff;border-radius:8px;box-shadow:0 4px 12px #00000080}mat-form-field[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{margin-top:1rem;width:100%}"]})};function oge(r,e){r&1&&(oe(0,"small"),Ie(1,"First name is required."),ne())}function age(r,e){r&1&&(oe(0,"small"),Ie(1,"First name must be at least 2 characters long."),ne())}function sge(r,e){r&1&&(oe(0,"small"),Ie(1,"First name can only contain letters."),ne())}function cge(r,e){if(r&1&&(oe(0,"div",20),lt(1,oge,2,0,"small",21)(2,age,2,0,"small",21)(3,sge,2,0,"small",21),ne()),r&2){let t,i,n,o=Pt();ke(),rt("ngIf",(t=o.reactiveForm.get("firstName"))==null?null:t.hasError("required")),ke(),rt("ngIf",(i=o.reactiveForm.get("firstName"))==null?null:i.hasError("minlength")),ke(),rt("ngIf",(n=o.reactiveForm.get("firstName"))==null?null:n.hasError("pattern"))}}function lge(r,e){r&1&&(oe(0,"small"),Ie(1,"Last name is required."),ne())}function uge(r,e){r&1&&(oe(0,"small"),Ie(1,"Last name must be at least 2 characters long."),ne())}function dge(r,e){r&1&&(oe(0,"small"),Ie(1,"Last name can only contain letters."),ne())}function mge(r,e){if(r&1&&(oe(0,"div",20),lt(1,lge,2,0,"small",21)(2,uge,2,0,"small",21)(3,dge,2,0,"small",21),ne()),r&2){let t,i,n,o=Pt();ke(),rt("ngIf",(t=o.reactiveForm.get("lastName"))==null?null:t.hasError("required")),ke(),rt("ngIf",(i=o.reactiveForm.get("lastName"))==null?null:i.hasError("minlength")),ke(),rt("ngIf",(n=o.reactiveForm.get("lastName"))==null?null:n.hasError("pattern"))}}function hge(r,e){r&1&&(oe(0,"small"),Ie(1,"Username is required."),ne())}function fge(r,e){r&1&&(oe(0,"small"),Ie(1,"Username must be at least 6 characters long."),ne())}function pge(r,e){if(r&1&&(oe(0,"div",20),lt(1,hge,2,0,"small",21)(2,fge,2,0,"small",21),ne()),r&2){let t,i,n=Pt();ke(),rt("ngIf",(t=n.reactiveForm.get("username"))==null?null:t.hasError("required")),ke(),rt("ngIf",(i=n.reactiveForm.get("username"))==null?null:i.hasError("minlength"))}}function gge(r,e){r&1&&(oe(0,"small"),Ie(1,"Email is required."),ne())}function vge(r,e){r&1&&(oe(0,"small"),Ie(1,"Please enter a valid email address."),ne())}function yge(r,e){if(r&1&&(oe(0,"div",20),lt(1,gge,2,0,"small",21)(2,vge,2,0,"small",21),ne()),r&2){let t,i,n=Pt();ke(),rt("ngIf",(t=n.reactiveForm.get("email"))==null?null:t.hasError("required")),ke(),rt("ngIf",(i=n.reactiveForm.get("email"))==null?null:i.hasError("email"))}}function bge(r,e){r&1&&(oe(0,"small"),Ie(1,"Password is required."),ne())}function _ge(r,e){r&1&&(oe(0,"small"),Ie(1,"Password must be at least 10 characters long."),ne())}function xge(r,e){r&1&&(oe(0,"small"),Ie(1,"Password must contain at least one uppercase letter and one number."),ne())}function wge(r,e){if(r&1&&(oe(0,"div",20),lt(1,bge,2,0,"small",21)(2,_ge,2,0,"small",21)(3,xge,2,0,"small",21),ne()),r&2){let t,i,n,o=Pt();ke(),rt("ngIf",(t=o.reactiveForm.get("password"))==null?null:t.hasError("required")),ke(),rt("ngIf",(i=o.reactiveForm.get("password"))==null?null:i.hasError("minlength")),ke(),rt("ngIf",(n=o.reactiveForm.get("password"))==null?null:n.hasError("pattern"))}}function Ege(r,e){r&1&&(oe(0,"small"),Ie(1,"Confirm password is required."),ne())}function Dge(r,e){r&1&&(oe(0,"small"),Ie(1," Passwords do not match. "),ne())}function Age(r,e){if(r&1&&(oe(0,"div",20),lt(1,Ege,2,0,"small",21)(2,Dge,2,0,"small",21),ne()),r&2){let t,i,n=Pt();ke(),rt("ngIf",(t=n.reactiveForm.get("confirmPassword"))==null?null:t.hasError("required")),ke(),rt("ngIf",n.reactiveForm.hasError("passwordsNotMatching")&&((i=n.reactiveForm.get("confirmPassword"))==null?null:i.touched))}}function Cge(r,e){r&1&&(oe(0,"small"),Ie(1,"SSN is required."),ne())}function Sge(r,e){r&1&&(oe(0,"small"),Ie(1,"Please enter a valid SSN (e.g., 123456-7890)."),ne())}function Tge(r,e){if(r&1&&(oe(0,"div",20),lt(1,Cge,2,0,"small",21)(2,Sge,2,0,"small",21),ne()),r&2){let t,i,n=Pt();ke(),rt("ngIf",(t=n.reactiveForm.get("socialSecurityNumber"))==null?null:t.hasError("required")),ke(),rt("ngIf",(i=n.reactiveForm.get("socialSecurityNumber"))==null?null:i.hasError("pattern"))}}function Ige(r,e){r&1&&(oe(0,"div",20)(1,"small"),Ie(2,"You must accept the terms and conditions."),ne()())}var lb=class r{reactiveForm=new Yl({});ngOnInit(){this.createForm()}createForm(){this.reactiveForm=new Yl({firstName:new pa("",[Ai.required,Ai.minLength(2),Ai.pattern("[A-Za-z]*")]),lastName:new pa("",[Ai.required,Ai.minLength(2),Ai.pattern("[A-Za-z]*")]),username:new pa("",[Ai.required,Ai.minLength(6)]),email:new pa("",[Ai.required,Ai.email,rW(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]),password:new pa("",[Ai.required,Ai.minLength(10),Ai.pattern("(?=.*[0-9])(?=.*[A-Z]).*")]),confirmPassword:new pa("",Ai.required),socialSecurityNumber:new pa("",[Ai.required,rW(/^[0-9]{6}-[0-9]{4}$/)]),acceptedTerms:new pa(!1,Ai.requiredTrue)},{validators:this.matchPasswords})}matchPasswords(e){let t=e,i=t.get("password")?.value,n=t.get("confirmPassword")?.value;return i===n?null:{passwordsNotMatching:!0}}submitForm(){this.reactiveForm.valid?(console.log("Jeejee toimii",this.reactiveForm.value),this.reactiveForm.reset()):console.log("Form is invalid")}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=dt({type:r,selectors:[["app-reactive-form"]],decls:47,vars:10,consts:[[1,"form-container"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","firstName"],["id","firstName","type","text","formControlName","firstName","placeholder","Enter your first name",1,"form-control"],["class","error",4,"ngIf"],["for","lastName"],["id","lastName","type","text","formControlName","lastName","placeholder","Enter your last name",1,"form-control"],["for","username"],["id","username","type","text","formControlName","username","placeholder","Enter your username",1,"form-control"],["for","email"],["id","email","type","email","formControlName","email","placeholder","Enter your email",1,"form-control"],["for","password"],["id","password","type","password","formControlName","password","placeholder","Enter your password",1,"form-control"],["for","confirmPassword"],["id","confirmPassword","type","password","formControlName","confirmPassword","placeholder","Confirm your password",1,"form-control"],["for","socialSecurityNumber"],["id","socialSecurityNumber","type","text","formControlName","socialSecurityNumber","placeholder","Enter your SSN",1,"form-control"],["type","checkbox","formControlName","acceptedTerms"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"error"],[4,"ngIf"]],template:function(t,i){if(t&1&&(oe(0,"div",0)(1,"h2"),Ie(2,"Profile Editor"),ne(),oe(3,"form",1),Nt("ngSubmit",function(){return i.submitForm()}),oe(4,"div",2)(5,"label",3),Ie(6,"First Name"),ne(),Ct(7,"input",4),lt(8,cge,4,3,"div",5),ne(),oe(9,"div",2)(10,"label",6),Ie(11,"Last Name"),ne(),Ct(12,"input",7),lt(13,mge,4,3,"div",5),ne(),oe(14,"div",2)(15,"label",8),Ie(16,"Username"),ne(),Ct(17,"input",9),lt(18,pge,3,2,"div",5),ne(),oe(19,"div",2)(20,"label",10),Ie(21,"Email"),ne(),Ct(22,"input",11),lt(23,yge,3,2,"div",5),ne(),oe(24,"div",2)(25,"label",12),Ie(26,"Password"),ne(),Ct(27,"input",13),lt(28,wge,4,3,"div",5),ne(),oe(29,"div",2)(30,"label",14),Ie(31,"Confirm Password"),ne(),Ct(32,"input",15),lt(33,Age,3,2,"div",5),ne(),oe(34,"div",2)(35,"label",16),Ie(36,"Social Security Number"),ne(),Ct(37,"input",17),lt(38,Tge,3,2,"div",5),ne(),oe(39,"div",2)(40,"label"),Ct(41,"input",18),Ie(42," I accept the terms and conditions "),ne(),lt(43,Ige,3,0,"div",5),ne(),oe(44,"div",2)(45,"button",19),Ie(46,"Submit"),ne()()()()),t&2){let n,o,a,s,c,l,u,d;ke(3),rt("formGroup",i.reactiveForm),ke(5),rt("ngIf",((n=i.reactiveForm.get("firstName"))==null?null:n.invalid)&&((n=i.reactiveForm.get("firstName"))==null?null:n.touched)),ke(5),rt("ngIf",((o=i.reactiveForm.get("lastName"))==null?null:o.invalid)&&((o=i.reactiveForm.get("lastName"))==null?null:o.touched)),ke(5),rt("ngIf",((a=i.reactiveForm.get("username"))==null?null:a.invalid)&&((a=i.reactiveForm.get("username"))==null?null:a.touched)),ke(5),rt("ngIf",((s=i.reactiveForm.get("email"))==null?null:s.invalid)&&((s=i.reactiveForm.get("email"))==null?null:s.touched)),ke(5),rt("ngIf",((c=i.reactiveForm.get("password"))==null?null:c.invalid)&&((c=i.reactiveForm.get("password"))==null?null:c.touched)),ke(5),rt("ngIf",((l=i.reactiveForm.get("confirmPassword"))==null?null:l.invalid)&&((l=i.reactiveForm.get("confirmPassword"))==null?null:l.touched)),ke(5),rt("ngIf",((u=i.reactiveForm.get("socialSecurityNumber"))==null?null:u.invalid)&&((u=i.reactiveForm.get("socialSecurityNumber"))==null?null:u.touched)),ke(5),rt("ngIf",((d=i.reactiveForm.get("acceptedTerms"))==null?null:d.invalid)&&((d=i.reactiveForm.get("acceptedTerms"))==null?null:d.touched)),ke(2),rt("disabled",i.reactiveForm.invalid)}},dependencies:[Qs,om,Oa,yN,Oc,nm,yp,wN],styles:[".form-container[_ngcontent-%COMP%]{width:100%;max-width:500px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{font-size:16px;font-weight:700;margin-bottom:5px;display:block}input.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:4px;border:1px solid #ddd;font-size:14px}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#4caf50;color:#fff;border:none;font-size:16px;border-radius:4px}button[type=submit][_ngcontent-%COMP%]:disabled{background-color:#ccc}button[type=submit][_ngcontent-%COMP%]:hover:not(:disabled){background-color:#45a049}.error[_ngcontent-%COMP%]{color:red;font-size:12px}small[_ngcontent-%COMP%]{display:block}"]})};function rW(r){return e=>e.value&&!r.test(e.value)?{patternInvalid:!0}:null}var mK=zu(dK());var kb=class r{constructor(e){this.http=e}apiBaseUrl="https://www.finnkino.fi/xml/";fetchData(e){let t=`${this.apiBaseUrl}${e}`;return this.http.get(t,{responseType:"text"}).pipe(ct(i=>this.convertXmlToJson(i)))}convertXmlToJson(e){let t;return mK.parseString(e,{explicitArray:!1},(i,n)=>{if(i)throw new Error("Error parsing XML: "+i);t=n}),t}static \u0275fac=function(t){return new(t||r)(me(zh))};static \u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})};var Rb=class r{transform(e,t){return!e||!t?e:(t=t.toLowerCase(),e.filter(i=>i.Title.toLowerCase().includes(t)))}static \u0275fac=function(t){return new(t||r)};static \u0275pipe=wO({name:"newsFilter",type:r,pure:!0})};function Mve(r,e){if(r&1&&(oe(0,"p"),Ie(1),Ks(2,"slice"),ne()),r&2){let t=Pt().$implicit;ke(),Co("",jO(2,1,t.Body,0,100),"...")}}function Nve(r,e){if(r&1&&(oe(0,"p"),Ie(1),ne()),r&2){let t=Pt().$implicit;ke(),co(t.Body)}}function kve(r,e){if(r&1){let t=ii();oe(0,"div",6)(1,"div",7)(2,"span",8),Ie(3),Ks(4,"date"),ne(),oe(5,"span",9),Ie(6),ne()(),oe(7,"div",10),lt(8,Mve,3,5,"p",11)(9,Nve,2,1,"p",11),oe(10,"button",12),Nt("click",function(){let n=Kt(t).$implicit,o=Pt();return Qt(o.toggleMoreInfo(n))}),Ie(11),ne()()()}if(r&2){let t=e.$implicit;ke(3),Co(" ",t.Date?Kx(4,5,t.Date,"dd.MM.yyyy"):"No date available"," "),ke(3),co(t.Title),ke(2),rt("ngIf",!t.showMoreInfo),ke(),rt("ngIf",t.showMoreInfo),ke(2),Co(" ",t.showMoreInfo?"Hide Info":"More Info"," ")}}var Fb=class r{constructor(e){this.finnkinoService=e}combinedData=[];searchText="";ngOnInit(){this.finnkinoService.fetchData("News/").subscribe(e=>{this.combinedData=e.News.NewsArticle.map(t=>({Title:t.Title||"No title available",Date:t.PublishDate?new Date(t.PublishDate):null,Body:t.HTMLLead||"No description available",showMoreInfo:!1}))})}toggleMoreInfo(e){e.showMoreInfo=!e.showMoreInfo}static \u0275fac=function(t){return new(t||r)(ue(kb))};static \u0275cmp=dt({type:r,selectors:[["app-movies"]],decls:7,vars:5,consts:[[1,"content-container"],[1,"search-bar"],["type","text","placeholder","Search news and movies...",3,"ngModelChange","ngModel"],[1,"content-section"],[1,"content-list"],["class","content-item",4,"ngFor","ngForOf"],[1,"content-item"],[1,"content-header"],[1,"content-date"],[1,"content-title"],[1,"content-body"],[4,"ngIf"],[1,"btn-toggle",3,"click"]],template:function(t,i){t&1&&(oe(0,"div",0)(1,"div",1)(2,"input",2),Gn("ngModelChange",function(o){return Hn(i.searchText,o)||(i.searchText=o),o}),ne()(),oe(3,"section",3)(4,"div",4),lt(5,kve,12,8,"div",5),Ks(6,"newsFilter"),ne()()()),t&2&&(ke(2),$n("ngModel",i.searchText),ke(3),rt("ngForOf",Kx(6,2,i.combinedData,i.searchText)))},dependencies:[Zu,Qs,Oa,Oc,Jl,nP,iP,Rb],styles:[".content-container[_ngcontent-%COMP%]{margin:20px auto;padding:20px;max-width:800px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 2px 5px #0000001a}.search-bar[_ngcontent-%COMP%]{margin-bottom:20px;text-align:center}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;max-width:600px;padding:10px;border:1px solid #ccc;border-radius:6px;font-size:16px}.content-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.content-item[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd;border-radius:6px;padding:15px;transition:box-shadow .3s ease}.content-item[_ngcontent-%COMP%]:hover{box-shadow:0 3px 8px #0003}.content-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px}.content-title[_ngcontent-%COMP%]{font-weight:700;font-size:18px;color:#333}.content-date[_ngcontent-%COMP%]{font-size:14px;color:#888}.content-body[_ngcontent-%COMP%]{margin-bottom:10px}.btn-toggle[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:8px 12px;border-radius:4px;cursor:pointer;transition:background-color .3s ease}.btn-toggle[_ngcontent-%COMP%]:hover{background-color:#0056b3}.content-more-info[_ngcontent-%COMP%]{background-color:#f1f1f1;padding:10px;border-radius:4px;margin-top:10px}.btn-action[_ngcontent-%COMP%]{margin-top:10px;padding:8px 12px;background-color:#28a745;color:#fff;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s ease}.btn-action[_ngcontent-%COMP%]:hover{background-color:#218838}"]})};var Rve="firebase",Fve="10.14.1";Js(Rve,Fve,"app");var su=new Yu("ANGULARFIRE2_VERSION");var Ove=(r,e)=>{let t=e?[e]:hP(),i=[];return t.forEach(n=>{n.container.getProvider(r).instances.forEach(a=>{i.includes(a)||i.push(a)})}),i},au=class{constructor(){return Ove(Pve)}},Pve="app-check";function pk(){}var Ob=class{zone;delegate;constructor(e,t=vO){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){let n=this.zone,o=function(a){n.runGuarded(()=>{e.apply(this,[a])})};return this.delegate.schedule(o,t,i)}},gk=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",pk,{},pk,pk)),t.pipe(ri({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Pb=(()=>{class r{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Ob(Zone.current)),this.insideAngular=t.run(()=>new Ob(Zone.current,$g)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||r)(me(Je))};static \u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Bve(){let r=globalThis.\u0275AngularFireScheduler;if(!r)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return r}function to(r){return Lve(Bve())(r)}function Lve(r){return function(t){return t=t.lift(new gk(r.ngZone)),t.pipe(Uu(r.outsideAngular),hl(r.insideAngular))}}var Uve=new Map,qve={activated:!1,tokenObservers:[]},jve={initialized:!1,enabled:!1};function ga(r){return Uve.get(r)||Object.assign({},qve)}function yK(){return jve}var $ve="https://content-firebaseappcheck.googleapis.com/v1";var Hve="exchangeDebugToken",fK={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Nat=24*60*60*1e3;var yk=class{constructor(e,t,i,n,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=n,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=n,n>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return xe(this,null,function*(){this.stop();try{this.pending=new ew,this.pending.promise.catch(t=>{}),yield Gve(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new ew,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function Gve(r){return new Promise(e=>{setTimeout(e,r)})}var Wve={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Vc=new dP("appCheck","AppCheck",Wve);function bK(r){if(!ga(r).activated)throw Vc.create("use-before-activation",{appName:r.name})}function _K(i,n){return xe(this,arguments,function*({url:r,body:e},t){let o={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});if(a){let h=yield a.getHeartbeatsHeader();h&&(o["X-Firebase-Client"]=h)}let s={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(r,s)}catch(h){throw Vc.create("fetch-network-error",{originalErrorMessage:h?.message})}if(c.status!==200)throw Vc.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(h){throw Vc.create("fetch-parse-error",{originalErrorMessage:h?.message})}let u=l.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Vc.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let d=Number(u[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+d,issuedAtTimeMillis:m}})}function xK(r,e){let{projectId:t,appId:i,apiKey:n}=r.options;return{url:`${$ve}/projects/${t}/apps/${i}:${Hve}?key=${n}`,body:{debug_token:e}}}var Xve="firebase-app-check-database",Kve=1,bk="firebase-app-check-store";var Bb=null;function Qve(){return Bb||(Bb=new Promise((r,e)=>{try{let t=indexedDB.open(Xve,Kve);t.onsuccess=i=>{r(i.target.result)},t.onerror=i=>{var n;e(Vc.create("storage-open",{originalErrorMessage:(n=i.target.error)===null||n===void 0?void 0:n.message}))},t.onupgradeneeded=i=>{let n=i.target.result;switch(i.oldVersion){case 0:n.createObjectStore(bk,{keyPath:"compositeKey"})}}}catch(t){e(Vc.create("storage-open",{originalErrorMessage:t?.message}))}}),Bb)}function Yve(r,e){return Zve(Jve(r),e)}function Zve(r,e){return xe(this,null,function*(){let i=(yield Qve()).transaction(bk,"readwrite"),o=i.objectStore(bk).put({compositeKey:r,value:e});return new Promise((a,s)=>{o.onsuccess=c=>{a()},i.onerror=c=>{var l;s(Vc.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function Jve(r){return`${r.options.appId}-${r.name}`}var _k=new uv("@firebase/app-check");function vk(r,e){return lv()?Yve(r,e).catch(t=>{_k.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function wK(){return yK().enabled}function EK(){return xe(this,null,function*(){let r=yK();if(r.enabled&&r.token)return r.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var e0e={error:"UNKNOWN_ERROR"};function t0e(r){return cP.encodeString(JSON.stringify(r),!1)}function xk(r,e=!1){return xe(this,null,function*(){let t=r.app;bK(t);let i=ga(t),n=i.token,o;if(n&&!Np(n)&&(i.token=void 0,n=void 0),!n){let c=yield i.cachedTokenPromise;c&&(Np(c)?n=c:yield vk(t,void 0))}if(!e&&n&&Np(n))return{token:n.token};let a=!1;if(wK()){i.exchangeTokenPromise||(i.exchangeTokenPromise=_K(xK(t,yield EK()),r.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let c=yield i.exchangeTokenPromise;return yield vk(t,c),i.token=c,{token:c.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),n=yield ga(t).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"?_k.warn(c.message):_k.error(c),o=c}let s;return n?o?Np(n)?s={token:n.token,internalError:o}:s=gK(o):(s={token:n.token},i.token=n,yield vk(t,n)):s=gK(o),a&&o0e(t,s),s})}function r0e(r){return xe(this,null,function*(){let e=r.app;bK(e);let{provider:t}=ga(e);if(wK()){let i=yield EK(),{token:n}=yield _K(xK(e,i),r.heartbeatServiceProvider);return{token:n}}else{let{token:i}=yield t.getToken();return{token:i}}})}function i0e(r,e,t,i){let{app:n}=r,o=ga(n),a={next:t,error:i,type:e};if(o.tokenObservers=[...o.tokenObservers,a],o.token&&Np(o.token)){let s=o.token;Promise.resolve().then(()=>{t({token:s.token}),pK(r)}).catch(()=>{})}o.cachedTokenPromise.then(()=>pK(r))}function DK(r,e){let t=ga(r),i=t.tokenObservers.filter(n=>n.next!==e);i.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function pK(r){let{app:e}=r,t=ga(e),i=t.tokenRefresher;i||(i=n0e(r),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function n0e(r){let{app:e}=r;return new yk(()=>xe(this,null,function*(){let t=ga(e),i;if(t.token?i=yield xk(r,!0):i=yield xk(r),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let t=ga(e);if(t.token){let i=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,n=t.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,n),Math.max(0,i-Date.now())}else return 0},fK.RETRIAL_MIN_WAIT,fK.RETRIAL_MAX_WAIT)}function o0e(r,e){let t=ga(r).tokenObservers;for(let i of t)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function Np(r){return r.expireTimeMillis-Date.now()>0}function gK(r){return{token:t0e(e0e),error:r}}var wk=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=ga(this.app);for(let t of e)DK(this.app,t.next);return Promise.resolve()}};function a0e(r,e){return new wk(r,e)}function s0e(r){return{getToken:e=>xk(r,e),getLimitedUseToken:()=>r0e(r),addTokenListener:e=>i0e(r,"INTERNAL",e),removeTokenListener:e=>DK(r.app,e)}}var c0e="@firebase/app-check",l0e="0.8.8";var u0e="app-check",vK="app-check-internal";function d0e(){Fh(new El(u0e,r=>{let e=r.getProvider("app").getImmediate(),t=r.getProvider("heartbeat");return a0e(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((r,e,t)=>{r.getProvider(vK).initialize()})),Fh(new El(vK,r=>{let e=r.getProvider("app-check").getImmediate();return s0e(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Js(c0e,l0e)}d0e();var m0e=["localhost","0.0.0.0","127.0.0.1"],jat=typeof window<"u"&&m0e.includes(window.location.hostname);var h0e="firebase",f0e="10.14.1";On.registerVersion(h0e,f0e,"app-compat");var p0e=["ngOnDestroy"],SK=(r,e,t,i={})=>new Proxy(r,{get:(n,o)=>t.runOutsideAngular(()=>{if(r[o])return i?.spy?.get&&i.spy.get(o,r[o]),r[o];if(p0e.indexOf(o)>-1)return()=>{};let a=e.toPromise().then(s=>{let c=s?.[o];return typeof c=="function"?c.bind(s):c?.then?c.then(l=>t.run(()=>l)):t.run(()=>c)});return new Proxy(()=>{},{get:(s,c)=>a[c],apply:(s,c,l)=>a.then(u=>{let d=u?.(...l);return i?.spy?.apply&&i.spy.apply(o,l,d),d})})})});var Lb=class{constructor(e){return e}},vm=new Ve("angularfire2.app.options"),ym=new Ve("angularfire2.app.name");function kp(r,e,t){let i=typeof t=="string"&&t||"[DEFAULT]",n=typeof t=="object"&&t||{};n.name=n.name||i;let a=On.apps.filter(s=>s&&s.name===n.name)[0]||e.runOutsideAngular(()=>On.initializeApp(r,n));try{if(JSON.stringify(r)!==JSON.stringify(a.options)){let s=!!module.hot;g0e("error",`${a.name} Firebase App already initialized with different options${s?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Lb(a)}var g0e=(r,...e)=>{Jx()&&typeof console<"u"&&console[r](...e)},v0e={provide:Lb,useFactory:kp,deps:[vm,Je,[new Gu,ym]]},TK=(()=>{class r{static initializeApp(t,i){return{ngModule:r,providers:[{provide:vm,useValue:t},{provide:ym,useValue:i}]}}constructor(t){On.registerVersion("angularfire",su.full,"core"),On.registerVersion("angularfire",su.full,"app-compat"),On.registerVersion("angular",$O.full,t.toString())}static \u0275fac=function(i){return new(i||r)(me(Fn))};static \u0275mod=ot({type:r});static \u0275inj=nt({providers:[v0e]})}return r})();function Vb(r,e,t,i,n){let[,o,a]=globalThis.\u0275AngularfireInstanceCache.find(s=>s[0]===r)||[];if(o)return y0e(n,a)||(CK("error",`${e} was already initialized on the ${t} Firebase App with different settings.${b0e?" You may need to reload as Firebase is not HMR aware.":""}`),CK("warn",{is:n,was:a})),o;{let s=i();return globalThis.\u0275AngularfireInstanceCache.push([r,s,n]),s}}function y0e(r,e){try{return r.toString()===e.toString()}catch{return r===e}}var b0e=typeof module<"u"&&!!module.hot,CK=(r,...e)=>{Jx()&&typeof console<"u"&&console[r](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var Ek=new Ve("angularfire2.auth.use-emulator"),Dk=new Ve("angularfire2.auth.settings"),Ak=new Ve("angularfire2.auth.tenant-id"),Ck=new Ve("angularfire2.auth.langugage-code"),Sk=new Ve("angularfire2.auth.use-device-language"),Tk=new Ve("angularfire.auth.persistence"),Ik=(r,e,t,i,n,o,a,s)=>Vb(`${r.name}.auth`,"AngularFireAuth",r.name,()=>{let c=e.runOutsideAngular(()=>r.auth());if(t&&c.useEmulator(...t),i&&(c.tenantId=i),c.languageCode=n,o&&c.useDeviceLanguage(),a)for(let[l,u]of Object.entries(a))c.settings[l]=u;return s&&c.setPersistence(s),c},[t,i,n,o,a,s]),Rp=(()=>{class r{authState;idToken;user;idTokenResult;credential;constructor(t,i,n,o,a,s,c,l,u,d,m,h){let f=new Dt,p=ut(void 0).pipe(hl(a.outsideAngular),wi(()=>o.runOutsideAngular(()=>import("./chunk-G2Y63ZRJ.js"))),ct(()=>kp(t,o,i)),ct(w=>Ik(w,o,s,l,u,d,c,m)),Hu({bufferSize:1,refCount:!1}));if(Zs(n))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ut(null);else{p.pipe(Da()).subscribe();let w=p.pipe(wi(g=>g.getRedirectResult().then(_=>_,()=>null)),to,Hu({bufferSize:1,refCount:!1})),C=p.pipe(wi(g=>new gn(_=>({unsubscribe:o.runOutsideAngular(()=>g.onAuthStateChanged(v=>_.next(v),v=>_.error(v),()=>_.complete()))})))),T=p.pipe(wi(g=>new gn(_=>({unsubscribe:o.runOutsideAngular(()=>g.onIdTokenChanged(v=>_.next(v),v=>_.error(v),()=>_.complete()))}))));this.authState=w.pipe($x(C),Uu(a.outsideAngular),hl(a.insideAngular)),this.user=w.pipe($x(T),Uu(a.outsideAngular),hl(a.insideAngular)),this.idToken=this.user.pipe(wi(g=>g?Zr(g.getIdToken()):ut(null))),this.idTokenResult=this.user.pipe(wi(g=>g?Zr(g.getIdTokenResult()):ut(null))),this.credential=js(w,f,this.authState.pipe(Ur(g=>!g))).pipe(ct(g=>g?.user?g:null),Uu(a.outsideAngular),hl(a.insideAngular))}return SK(this,p,o,{spy:{apply:(w,C,T)=>{(w.startsWith("signIn")||w.startsWith("createUser"))&&T.then(g=>f.next(g))}}})}static \u0275fac=function(i){return new(i||r)(me(vm),me(ym,8),me(Fn),me(Je),me(Pb),me(Ek,8),me(Dk,8),me(Ak,8),me(Ck,8),me(Sk,8),me(Tk,8),me(au,8))};static \u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"any"})}return r})(),IK=(()=>{class r{constructor(){On.registerVersion("angularfire",su.full,"auth-compat")}static \u0275fac=function(i){return new(i||r)};static \u0275mod=ot({type:r});static \u0275inj=nt({providers:[Rp]})}return r})();var Ua=class r{constructor(e,t){this.afAuth=e;this.router=t}userEmail=new vn("");get userEmail$(){return this.userEmail.asObservable()}login(e,t){return this.afAuth.signInWithEmailAndPassword(e,t).then(i=>{this.userEmail.next(i.user?.email||""),this.router.navigate(["/admin/main"])},i=>{console.error("Login error",i),alert("Authentication failed: "+i.message)})}logout(){return this.afAuth.signOut().then(()=>{this.userEmail.next(""),this.router.navigate(["/"])})}isAuthenticated(){return this.afAuth.authState.pipe(ct(e=>!!e))}checkLoggedIn(){return this.userEmail.asObservable()}static \u0275fac=function(t){return new(t||r)(me(Rp),me(Fo))};static \u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})};var Ub=class r{constructor(e){this.authService=e}email="";password="";Login(){this.authService.login(this.email,this.password)}static \u0275fac=function(t){return new(t||r)(ue(Ua))};static \u0275cmp=dt({type:r,selectors:[["app-login"]],decls:11,vars:2,consts:[[3,"ngSubmit"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModelChange","ngModel"],["type","submit"]],template:function(t,i){t&1&&(oe(0,"h2"),Ie(1,"Authentication to Admin View"),ne(),oe(2,"form",0),Nt("ngSubmit",function(){return i.Login()}),oe(3,"label",1),Ie(4,"Email"),ne(),oe(5,"input",2),Gn("ngModelChange",function(o){return Hn(i.email,o)||(i.email=o),o}),ne(),oe(6,"label",3),Ie(7,"Password"),ne(),oe(8,"input",4),Gn("ngModelChange",function(o){return Hn(i.password,o)||(i.password=o),o}),ne(),oe(9,"button",5),Ie(10,"Log In"),ne()()),t&2&&(ke(5),$n("ngModel",i.email),ke(3),$n("ngModel",i.password))},dependencies:[om,Oa,Oc,nm,bp,Jl,Zl]})};var qb=class r{constructor(e){this.authService=e}logout(){this.authService.logout()}static \u0275fac=function(t){return new(t||r)(ue(Ua))};static \u0275cmp=dt({type:r,selectors:[["app-main"]],decls:13,vars:0,consts:[[1,"admin-container"],[1,"admin-content"],[1,"button-group"],[3,"click"]],template:function(t,i){t&1&&(oe(0,"div",0)(1,"div",1)(2,"h1"),Ie(3,"Welcome to the Admin Panel"),ne(),oe(4,"p"),Ie(5,"Manage your application here."),ne(),oe(6,"div",2)(7,"button"),Ie(8,"View Users"),ne(),oe(9,"button"),Ie(10,"Manage Settings"),ne(),oe(11,"button",3),Nt("click",function(){return i.logout()}),Ie(12,"Logout"),ne()()()())},styles:['body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;height:100%;overflow:hidden}.admin-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:radial-gradient(circle,#000428,#004e92);color:#fff;text-align:center;position:relative;overflow:hidden}.admin-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;width:200%;height:200%;background:radial-gradient(circle,rgba(255,255,255,.1),transparent 70%);transform:translate(-50%,-50%);animation:_ngcontent-%COMP%_pulse 6s infinite ease-in-out}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:translate(-50%,-50%) scale(1)}50%{transform:translate(-50%,-50%) scale(1.2)}}.admin-content[_ngcontent-%COMP%]{position:relative;z-index:10;padding:40px;background:#ffffff1a;border:1px solid rgba(255,255,255,.3);border-radius:15px;box-shadow:0 8px 32px #0003;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:20px;font-family:Orbitron,sans-serif;letter-spacing:2px}p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:30px;font-family:Roboto,sans-serif}.button-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}button[_ngcontent-%COMP%]{padding:12px 20px;border:none;border-radius:8px;background:linear-gradient(to right,#00f260,#0575e6);color:#fff;font-size:16px;font-weight:700;font-family:Orbitron,sans-serif;cursor:pointer;transition:transform .3s,box-shadow .3s}button[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 10px 20px #00ff8080}']})};var jb=class r{constructor(e,t){this.authService=e;this.router=t}canActivate(){return this.authService.isAuthenticated().pipe(ct(e=>(e||this.router.navigate(["/admin/login"]),e)))}static \u0275fac=function(t){return new(t||r)(me(Ua),me(Fo))};static \u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})};var _0e=[{path:"",component:Zv},{path:"hello",component:Yv},{path:"calculator",component:Py},{path:"feedback",component:Jy},{path:"form",component:cb},{path:"reactive",component:lb},{path:"movies",component:Fb},{path:"admin/login",component:Ub},{path:"admin/main",component:qb,canActivate:[jb]},{path:"",redirectTo:"/admin/login",pathMatch:"full"},{path:"**",component:Qv}],$b=class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=ot({type:r});static \u0275inj=nt({imports:[y1.forRoot(_0e),y1]})};var x0e=["*"],Hb;function w0e(){if(Hb===void 0&&(Hb=null,typeof window<"u")){let r=window;r.trustedTypes!==void 0&&(Hb=r.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Hb}function Fp(r){return w0e()?.createHTML(r)||r}function NK(r){return Error(`Unable to find icon with the name "${r}"`)}function E0e(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function kK(r){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${r}".`)}function RK(r){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${r}".`)}var Ts=class{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}},D0e=(()=>{class r{constructor(t,i,n,o){this._httpClient=t,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=n}addSvgIcon(t,i,n){return this.addSvgIconInNamespace("",t,i,n)}addSvgIconLiteral(t,i,n){return this.addSvgIconLiteralInNamespace("",t,i,n)}addSvgIconInNamespace(t,i,n,o){return this._addSvgIconConfig(t,i,new Ts(n,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,n,o){let a=this._sanitizer.sanitize(so.HTML,n);if(!a)throw RK(n);let s=Fp(a);return this._addSvgIconConfig(t,i,new Ts("",s,o))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,n){return this._addSvgIconSetConfig(t,new Ts(i,null,n))}addSvgIconSetLiteralInNamespace(t,i,n){let o=this._sanitizer.sanitize(so.HTML,i);if(!o)throw RK(i);let a=Fp(o);return this._addSvgIconSetConfig(t,new Ts("",a,n))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){let i=this._sanitizer.sanitize(so.RESOURCE_URL,t);if(!i)throw kK(t);let n=this._cachedIconsByUrl.get(i);return n?ut(Gb(n)):this._loadSvgIconFromConfig(new Ts(t,null)).pipe(ri(o=>this._cachedIconsByUrl.set(i,o)),ct(o=>Gb(o)))}getNamedSvgIcon(t,i=""){let n=FK(i,t),o=this._svgIconConfigs.get(n);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,t),o)return this._svgIconConfigs.set(n,o),this._getSvgFromConfig(o);let a=this._iconSetConfigs.get(i);return a?this._getSvgFromIconSetConfigs(t,a):fl(NK(n))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?ut(Gb(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(ct(i=>Gb(i)))}_getSvgFromIconSetConfigs(t,i){let n=this._extractIconWithNameFromAnySet(t,i);if(n)return ut(n);let o=i.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe($s(s=>{let l=`Loading icon set URL: ${this._sanitizer.sanitize(so.RESOURCE_URL,a.url)} failed: ${s.message}`;return this._errorHandler.handleError(new Error(l)),ut(null)})));return Wg(o).pipe(ct(()=>{let a=this._extractIconWithNameFromAnySet(t,i);if(!a)throw NK(t);return a}))}_extractIconWithNameFromAnySet(t,i){for(let n=i.length-1;n>=0;n--){let o=i[n];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){let a=this._svgElementFromConfig(o),s=this._extractSvgIconFromSet(a,t,o.options);if(s)return s}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(ri(i=>t.svgText=i),ct(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?ut(null):this._fetchIcon(t).pipe(ri(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,n){let o=t.querySelector(`[id="${i}"]`);if(!o)return null;let a=o.cloneNode(!0);if(a.removeAttribute("id"),a.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(a,n);if(a.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(a),n);let s=this._svgElementFromString(Fp("<svg></svg>"));return s.appendChild(a),this._setSvgAttributes(s,n)}_svgElementFromString(t){let i=this._document.createElement("DIV");i.innerHTML=t;let n=i.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){let i=this._svgElementFromString(Fp("<svg></svg>")),n=t.attributes;for(let o=0;o<n.length;o++){let{name:a,value:s}=n[o];a!=="id"&&i.setAttribute(a,s)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){let{url:i,options:n}=t,o=n?.withCredentials??!1;if(!this._httpClient)throw E0e();if(i==null)throw Error(`Cannot fetch icon from URL "${i}".`);let a=this._sanitizer.sanitize(so.RESOURCE_URL,i);if(!a)throw kK(i);let s=this._inProgressUrlFetches.get(a);if(s)return s;let c=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(ct(l=>Fp(l)),rs(()=>this._inProgressUrlFetches.delete(a)),_O());return this._inProgressUrlFetches.set(a,c),c}_addSvgIconConfig(t,i,n){return this._svgIconConfigs.set(FK(t,i),n),this}_addSvgIconSetConfig(t,i){let n=this._iconSetConfigs.get(t);return n?n.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){let i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let n=0;n<this._resolvers.length;n++){let o=this._resolvers[n](i,t);if(o)return A0e(o)?new Ts(o.url,null,o.options):new Ts(o,null)}}static{this.\u0275fac=function(i){return new(i||r)(me(zh,8),me(vw),me(St,8),me(pl))}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function Gb(r){return r.cloneNode(!0)}function FK(r,e){return r+":"+e}function A0e(r){return!!(r.url&&r.options)}var C0e=new Ve("MAT_ICON_DEFAULT_OPTIONS"),S0e=new Ve("mat-icon-location",{providedIn:"root",factory:T0e});function T0e(){let r=Pe(St),e=r?r.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}var OK=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],I0e=OK.map(r=>`[${r}]`).join(", "),M0e=/^url\(['"]?#(.*?)['"]?\)$/,Wb=(()=>{class r{get color(){return this._color||this._defaultColor}set color(t){this._color=t}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){let i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){let i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,n,o,a,s){this._elementRef=t,this._iconRegistry=i,this._location=o,this._errorHandler=a,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Yo.EMPTY,s&&(s.color&&(this.color=this._defaultColor=s.color),s.fontSet&&(this.fontSet=s.fontSet)),n||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];let i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let t=this._elementsWithExternalReferences;if(t&&t.size){let i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();let i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){let t=this._elementRef.nativeElement,i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){let n=t.childNodes[i];(n.nodeType!==1||n.nodeName.toLowerCase()==="svg")&&n.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(n=>n.length>0);this._previousFontSetClass.forEach(n=>t.classList.remove(n)),i.forEach(n=>t.classList.add(n)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return typeof t=="string"?t.trim().split(" ")[0]:t}_prependPathToReferences(t){let i=this._elementsWithExternalReferences;i&&i.forEach((n,o)=>{n.forEach(a=>{o.setAttribute(a.name,`url('${t}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(t){let i=t.querySelectorAll(I0e),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)OK.forEach(a=>{let s=i[o],c=s.getAttribute(a),l=c?c.match(M0e):null;if(l){let u=n.get(s);u||(u=[],n.set(s,u)),u.push({name:a,value:l[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){let[i,n]=this._splitIconName(t);i&&(this._svgNamespace=i),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,i).pipe(ao(1)).subscribe(o=>this._setSvgElement(o),o=>{let a=`Error retrieving icon ${i}:${n}! ${o.message}`;this._errorHandler.handleError(new Error(a))})}}static{this.\u0275fac=function(i){return new(i||r)(ue(At),ue(D0e),Ws("aria-hidden"),ue(S0e),ue(pl),ue(C0e,8))}}static{this.\u0275cmp=dt({type:r,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(i,n){i&2&&(lr("data-mat-icon-type",n._usingFontIcon()?"font":"svg")("data-mat-icon-name",n._svgName||n.fontIcon)("data-mat-icon-namespace",n._svgNamespace||n.fontSet)("fontIcon",n._usingFontIcon()?n.fontIcon:null),jn(n.color?"mat-"+n.color:""),$t("mat-icon-inline",n.inline)("mat-icon-no-color",n.color!=="primary"&&n.color!=="accent"&&n.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",Tr],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[qi,Yt],ngContentSelectors:x0e,decls:1,vars:0,template:function(i,n){i&1&&(vr(),Tt(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}}return r})(),PK=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=ot({type:r})}static{this.\u0275inj=nt({imports:[nr,nr]})}}return r})();var Kb=["*"],k0e=["content"],R0e=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],F0e=["mat-drawer","mat-drawer-content","*"];function O0e(r,e){if(r&1){let t=ii();oe(0,"div",1),Nt("click",function(){Kt(t);let n=Pt();return Qt(n._onBackdropClicked())}),ne()}if(r&2){let t=Pt();$t("mat-drawer-shown",t._isShowingBackdrop())}}function P0e(r,e){r&1&&(oe(0,"mat-drawer-content"),Tt(1,2),ne())}var B0e=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],L0e=["mat-sidenav","mat-sidenav-content","*"];function V0e(r,e){if(r&1){let t=ii();oe(0,"div",1),Nt("click",function(){Kt(t);let n=Pt();return Qt(n._onBackdropClicked())}),ne()}if(r&2){let t=Pt();$t("mat-drawer-shown",t._isShowingBackdrop())}}function z0e(r,e){r&1&&(oe(0,"mat-sidenav-content"),Tt(1,2),ne())}var U0e='.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-app-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-app-background));box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-app-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color, var(--mat-app-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}',LK={transformDrawer:as("transform",[Jo("open, open-instant",bn({transform:"none",visibility:"visible"})),Jo("void",bn({"box-shadow":"none",visibility:"hidden"})),To("void => open-instant",So("0ms")),To("void <=> open, open-instant => void",So("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])};var q0e=new Ve("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:j0e}),Mk=new Ve("MAT_DRAWER_CONTAINER");function j0e(){return!1}var Xb=(()=>{class r extends dm{constructor(t,i,n,o,a){super(n,o,a),this._changeDetectorRef=t,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static{this.\u0275fac=function(i){return new(i||r)(ue(Hr),ue(Ui(()=>zK)),ue(At),ue(um),ue(Je))}}static{this.\u0275cmp=dt({type:r,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(i,n){i&2&&bl("margin-left",n._container._contentMargins.left,"px")("margin-right",n._container._contentMargins.right,"px")},standalone:!0,features:[mr([{provide:dm,useExisting:r}]),wr,Yt],ngContentSelectors:Kb,decls:1,vars:0,template:function(i,n){i&1&&(vr(),Tt(0))},encapsulation:2,changeDetection:0})}}return r})(),VK=(()=>{class r{get position(){return this._position}set position(t){t=t==="end"?"end":"start",t!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=ki(t)}get autoFocus(){let t=this._autoFocus;return t??(this.mode==="side"?"dialog":"first-tabbable")}set autoFocus(t){(t==="true"||t==="false"||t==null)&&(t=ki(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(ki(t))}constructor(t,i,n,o,a,s,c,l){this._elementRef=t,this._focusTrapFactory=i,this._focusMonitor=n,this._platform=o,this._ngZone=a,this._interactivityChecker=s,this._doc=c,this._container=l,this._focusTrap=null,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Dt,this._animationEnd=new Dt,this._animationState="void",this.openedChange=new Sr(!0),this._openedStream=this.openedChange.pipe(Ur(u=>u),ct(()=>{})),this.openedStart=this._animationStarted.pipe(Ur(u=>u.fromState!==u.toState&&u.toState.indexOf("open")===0),xh(void 0)),this._closedStream=this.openedChange.pipe(Ur(u=>!u),ct(()=>{})),this.closedStart=this._animationStarted.pipe(Ur(u=>u.fromState!==u.toState&&u.toState==="void"),xh(void 0)),this._destroyed=new Dt,this.onPositionChanged=new Sr,this._modeChanged=new Dt,this._injector=Pe(gi),this._changeDetectorRef=Pe(Hr),this.openedChange.pipe(qr(this._destroyed)).subscribe(u=>{u?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{ju(this._elementRef.nativeElement,"keydown").pipe(Ur(u=>u.keyCode===27&&!this.disableClose&&!jP(u)),qr(this._destroyed)).subscribe(u=>this._ngZone.run(()=>{this.close(),u.stopPropagation(),u.preventDefault()}))}),this._animationEnd.subscribe(u=>{let{fromState:d,toState:m}=u;(m.indexOf("open")===0&&d==="void"||m==="void"&&d.indexOf("open")===0)&&this.openedChange.emit(this._opened)})}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let n=()=>{t.removeEventListener("blur",n),t.removeEventListener("mousedown",n),t.removeAttribute("tabindex")};t.addEventListener("blur",n),t.addEventListener("mousedown",n)})),t.focus(i)}_focusByCssSelector(t,i){let n=this._elementRef.nativeElement.querySelector(t);n&&this._forceFocus(n,i)}_takeFocus(){if(!this._focusTrap)return;let t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":Aa(()=>{!this._focusTrap.focusInitialElement()&&typeof t.focus=="function"&&t.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus);break}}_restoreFocus(t){this.autoFocus!=="dialog"&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){let t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._position==="end"&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);let n=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),n}_setOpen(t,i,n){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(n)),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(ao(1)).subscribe(a=>o(a?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop&&this.opened)}_updatePositionInParent(t){if(!this._platform.isBrowser)return;let i=this._elementRef.nativeElement,n=i.parentNode;t==="end"?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),n.insertBefore(this._anchor,i)),n.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}static{this.\u0275fac=function(i){return new(i||r)(ue(At),ue(ZP),ue(Av),ue(ir),ue(Je),ue(Dw),ue(St,8),ue(Mk,8))}}static{this.\u0275cmp=dt({type:r,selectors:[["mat-drawer"]],viewQuery:function(i,n){if(i&1&&kr(k0e,5),i&2){let o;Bt(o=Lt())&&(n._content=o.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(i,n){i&1&&ev("@transform.start",function(a){return n._animationStarted.next(a)})("@transform.done",function(a){return n._animationEnd.next(a)}),i&2&&(Jg("@transform",n._animationState),lr("align",null),$t("mat-drawer-end",n.position==="end")("mat-drawer-over",n.mode==="over")("mat-drawer-push",n.mode==="push")("mat-drawer-side",n.mode==="side")("mat-drawer-opened",n.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],standalone:!0,features:[Yt],ngContentSelectors:Kb,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(i,n){i&1&&(vr(),oe(0,"div",1,0),Tt(2),ne())},dependencies:[dm],encapsulation:2,data:{animation:[LK.transformDrawer]},changeDetection:0})}}return r})(),zK=(()=>{class r{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=ki(t)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(t){this._backdropOverride=t==null?null:ki(t)}get scrollable(){return this._userContent||this._content}constructor(t,i,n,o,a,s=!1,c){this._dir=t,this._element=i,this._ngZone=n,this._changeDetectorRef=o,this._animationMode=c,this._drawers=new Qg,this.backdropClick=new Sr,this._destroyed=new Dt,this._doCheckSubject=new Dt,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Dt,this._injector=Pe(gi),t&&t.change.pipe(qr(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),a.change().pipe(qr(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=s}ngAfterContentInit(){this._allDrawers.changes.pipe(Do(this._allDrawers),qr(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Do(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(_h(10),qr(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened){if(this._left.mode=="side")t+=this._left._getWidth();else if(this._left.mode=="push"){let n=this._left._getWidth();t+=n,i-=n}}if(this._right&&this._right.opened){if(this._right.mode=="side")i+=this._right._getWidth();else if(this._right.mode=="push"){let n=this._right._getWidth();i+=n,t-=n}}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(Ur(i=>i.fromState!==i.toState),qr(this._drawers.changes)).subscribe(i=>{i.toState!=="open-instant"&&this._animationMode!=="NoopAnimations"&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),t.mode!=="side"&&t.openedChange.pipe(qr(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(qr(this._drawers.changes)).subscribe(()=>{Aa(()=>{this._validateDrawers()},{injector:this._injector,phase:BO.Read})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(qr(js(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){let i=this._element.nativeElement.classList,n="mat-drawer-container-has-open";t?i.add(n):i.remove(n)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{t.position=="end"?(this._end!=null,this._end=t):(this._start!=null,this._start=t)}),this._right=this._left=null,this._dir&&this._dir.value==="rtl"?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&this._start.mode!="over"||this._isDrawerOpen(this._end)&&this._end.mode!="over"}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._drawerHasBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(t){return t!=null&&t.opened}_drawerHasBackdrop(t){return this._backdropOverride==null?!!t&&t.mode!=="side":this._backdropOverride}static{this.\u0275fac=function(i){return new(i||r)(ue(ko,8),ue(At),ue(Je),ue(Hr),ue(Dp),ue(q0e),ue(li,8))}}static{this.\u0275cmp=dt({type:r,selectors:[["mat-drawer-container"]],contentQueries:function(i,n,o){if(i&1&&(Ei(o,Xb,5),Ei(o,VK,5)),i&2){let a;Bt(a=Lt())&&(n._content=a.first),Bt(a=Lt())&&(n._allDrawers=a)}},viewQuery:function(i,n){if(i&1&&kr(Xb,5),i&2){let o;Bt(o=Lt())&&(n._userContent=o.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(i,n){i&2&&$t("mat-drawer-container-explicit-backdrop",n._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],standalone:!0,features:[mr([{provide:Mk,useExisting:r}]),Yt],ngContentSelectors:F0e,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,n){i&1&&(vr(R0e),lt(0,O0e,1,2,"div",0),Tt(1),Tt(2,1),lt(3,P0e,2,0,"mat-drawer-content")),i&2&&(Br(n.hasBackdrop?0:-1),ke(3),Br(n._content?-1:3))},dependencies:[Xb],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-app-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-app-background));box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-app-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color, var(--mat-app-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}}return r})(),bm=(()=>{class r extends Xb{constructor(t,i,n,o,a){super(t,i,n,o,a)}static{this.\u0275fac=function(i){return new(i||r)(ue(Hr),ue(Ui(()=>Pp)),ue(At),ue(um),ue(Je))}}static{this.\u0275cmp=dt({type:r,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(i,n){i&2&&bl("margin-left",n._container._contentMargins.left,"px")("margin-right",n._container._contentMargins.right,"px")},standalone:!0,features:[mr([{provide:dm,useExisting:r}]),wr,Yt],ngContentSelectors:Kb,decls:1,vars:0,template:function(i,n){i&1&&(vr(),Tt(0))},encapsulation:2,changeDetection:0})}}return r})(),Op=(()=>{class r extends VK{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=ki(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=ta(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=ta(t)}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=rn(r)))(n||r)}})()}static{this.\u0275cmp=dt({type:r,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(i,n){i&2&&(lr("align",null),bl("top",n.fixedInViewport?n.fixedTopGap:null,"px")("bottom",n.fixedInViewport?n.fixedBottomGap:null,"px"),$t("mat-drawer-end",n.position==="end")("mat-drawer-over",n.mode==="over")("mat-drawer-push",n.mode==="push")("mat-drawer-side",n.mode==="side")("mat-drawer-opened",n.opened)("mat-sidenav-fixed",n.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],standalone:!0,features:[wr,Yt],ngContentSelectors:Kb,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(i,n){i&1&&(vr(),oe(0,"div",1,0),Tt(2),ne())},dependencies:[dm],encapsulation:2,data:{animation:[LK.transformDrawer]},changeDetection:0})}}return r})(),Pp=(()=>{class r extends zK{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=rn(r)))(n||r)}})()}static{this.\u0275cmp=dt({type:r,selectors:[["mat-sidenav-container"]],contentQueries:function(i,n,o){if(i&1&&(Ei(o,bm,5),Ei(o,Op,5)),i&2){let a;Bt(a=Lt())&&(n._content=a.first),Bt(a=Lt())&&(n._allDrawers=a)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(i,n){i&2&&$t("mat-drawer-container-explicit-backdrop",n._backdropOverride)},exportAs:["matSidenavContainer"],standalone:!0,features:[mr([{provide:Mk,useExisting:r}]),wr,Yt],ngContentSelectors:L0e,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,n){i&1&&(vr(B0e),lt(0,V0e,1,2,"div",0),Tt(1),Tt(2,1),lt(3,z0e,2,0,"mat-sidenav-content")),i&2&&(Br(n.hasBackdrop?0:-1),ke(3),Br(n._content?-1:3))},dependencies:[bm],styles:[U0e],encapsulation:2,changeDetection:0})}}return r})();var H0e=["*",[["mat-toolbar-row"]]],G0e=["*","mat-toolbar-row"],W0e=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275dir=yt({type:r,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}}return r})(),UK=(()=>{class r{constructor(t,i,n){this._elementRef=t,this._platform=i,this._document=n}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static{this.\u0275fac=function(i){return new(i||r)(ue(At),ue(ir),ue(St))}}static{this.\u0275cmp=dt({type:r,selectors:[["mat-toolbar"]],contentQueries:function(i,n,o){if(i&1&&Ei(o,W0e,5),i&2){let a;Bt(a=Lt())&&(n._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(i,n){i&2&&(jn(n.color?"mat-"+n.color:""),$t("mat-toolbar-multiple-rows",n._toolbarRows.length>0)("mat-toolbar-single-row",n._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[Yt],ngContentSelectors:G0e,decls:2,vars:0,template:function(i,n){i&1&&(vr(H0e),Tt(0),Tt(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-app-surface));color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-app-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-app-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-app-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-app-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-app-title-large-tracking));margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface));--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}}return r})();var qK=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=ot({type:r})}static{this.\u0275inj=nt({imports:[nr,nr]})}}return r})();var K0e=["*"],Q0e='.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mdc-list-list-item-container-color);border-radius:var(--mdc-list-list-item-container-shape, var(--mat-app-corner-none))}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-list-item.mdc-list-item--selected::before,.cdk-high-contrast-active .mdc-list-item.mdc-list-item--selected:focus::before,.cdk-high-contrast-active .mdc-list-item:not(.mdc-list-item--selected):focus::before{border-color:CanvasText}.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item.mdc-list-item--selected::before{border-width:3px;border-style:double}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color, var(--mat-app-on-surface-variant));width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font, var(--mat-app-label-small-font));line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height, var(--mat-app-label-small-line-height));font-size:var(--mdc-list-list-item-trailing-supporting-text-size, var(--mat-app-label-small-size));font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight, var(--mat-app-label-small-weight));letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking, var(--mat-app-label-small-tracking))}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color, var(--mat-app-on-surface-variant));width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color, var(--mat-app-on-surface-variant))}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color, var(--mat-app-primary))}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mdc-list-list-item-label-text-color, var(--mat-app-on-surface));font-family:var(--mdc-list-list-item-label-text-font, var(--mat-app-body-large-font));line-height:var(--mdc-list-list-item-label-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mdc-list-list-item-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-list-list-item-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-list-list-item-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color, var(--mat-app-on-surface))}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color, var(--mat-app-on-surface))}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mdc-list-list-item-supporting-text-color, var(--mat-app-on-surface-variant));font-family:var(--mdc-list-list-item-supporting-text-font, var(--mat-app-body-medium-font));line-height:var(--mdc-list-list-item-supporting-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mdc-list-list-item-supporting-text-size, var(--mat-app-body-medium-size));font-weight:var(--mdc-list-list-item-supporting-text-weight, var(--mat-app-body-medium-weight));letter-spacing:var(--mdc-list-list-item-supporting-text-tracking, var(--mat-app-body-medium-tracking))}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color, var(--mat-app-on-surface))}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-disabled-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape, var(--mat-app-corner-full));background-color:var(--mdc-list-list-item-leading-avatar-color, var(--mat-app-primary-container))}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size)}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape, var(--mat-app-corner-full));--mat-mdc-focus-indicator-border-radius:var(--mat-list-active-indicator-shape, var(--mat-app-corner-full))}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color, var(--mat-app-secondary-container))}';var Y0e=new Ve("MAT_LIST_CONFIG"),jK=(()=>{class r{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=Pe(Y0e,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=ki(t)}get disabled(){return this._disabled}set disabled(t){this._disabled=ki(t)}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275dir=yt({type:r,hostVars:1,hostBindings:function(i,n){i&2&&lr("aria-disabled",n.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}}return r})();var Qb=(()=>{class r extends jK{constructor(){super(...arguments),this._isNonInteractive=!1}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=rn(r)))(n||r)}})()}static{this.\u0275cmp=dt({type:r,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],standalone:!0,features:[mr([{provide:jK,useExisting:r}]),wr,Yt],ngContentSelectors:K0e,decls:1,vars:0,template:function(i,n){i&1&&(vr(),Tt(0))},styles:[Q0e],encapsulation:2,changeDetection:0})}}return r})();function J0e(r,e){if(r&1){let t=ii();oe(0,"div",16)(1,"span",17),Ie(2),ne(),oe(3,"button",18),Nt("click",function(){Kt(t);let n=Pt();return Qt(n.logout())}),oe(4,"mat-icon"),Ie(5,"logout"),ne(),Ie(6," LOG OUT "),ne()()}if(r&2){let t=e.ngIf;ke(2),co(t)}}function eye(r,e){r&1&&(oe(0,"button",19)(1,"mat-icon"),Ie(2,"login"),ne(),Ie(3," SIGN IN "),ne())}function tye(r,e){if(r&1){let t=ii();oe(0,"a",20),Nt("click",function(){Kt(t),Pt();let n=Ni(13);return Qt(n.close())}),oe(1,"mat-icon"),Ie(2,"login"),ne(),oe(3,"span"),Ie(4,"SIGN IN"),ne()()}}function rye(r,e){if(r&1){let t=ii();oe(0,"a",21),Nt("click",function(){Kt(t),Pt();let n=Ni(13);return Qt(n.close())}),oe(1,"mat-icon"),Ie(2,"admin_panel_settings"),ne(),oe(3,"span"),Ie(4,"Admin Panel"),ne()()}}var Yb=class r{constructor(e){this.authService=e;this.userEmail$=this.authService.userEmail$}userEmail$;logout(){this.authService.logout()}static \u0275fac=function(t){return new(t||r)(ue(Ua))};static \u0275cmp=dt({type:r,selectors:[["app-toolbar"]],decls:53,vars:11,consts:[["loginTemplate",""],["sidenav",""],["color","primary"],["mat-icon-button","",3,"click"],[1,"spacer"],["class","toolbar-actions",4,"ngIf","ngIfElse"],[1,"sidenav-container"],["mode","side",3,"opened"],["mat-list-item","","routerLink","/",3,"click"],["mat-list-item","","routerLink","/admin/login",3,"click",4,"ngIf"],["mat-list-item","","routerLink","/admin/main",3,"click",4,"ngIf"],["mat-list-item","","routerLink","/feedback",3,"click"],["mat-list-item","","routerLink","/calculator",3,"click"],["mat-list-item","","routerLink","/form",3,"click"],["mat-list-item","","routerLink","/reactive",3,"click"],["mat-list-item","","routerLink","/movies",3,"click"],[1,"toolbar-actions"],[1,"user-email"],["mat-button","",3,"click"],["mat-button","","routerLink","/admin/login"],["mat-list-item","","routerLink","/admin/login",3,"click"],["mat-list-item","","routerLink","/admin/main",3,"click"]],template:function(t,i){if(t&1){let n=ii();oe(0,"mat-toolbar",2)(1,"button",3),Nt("click",function(){Kt(n);let a=Ni(13);return Qt(a.toggle())}),oe(2,"mat-icon"),Ie(3,"menu"),ne()(),oe(4,"span"),Ie(5,"App Navigation"),ne(),Ct(6,"span",4),lt(7,J0e,7,1,"div",5),Ks(8,"async"),lt(9,eye,4,0,"ng-template",null,0,Nh),ne(),oe(11,"mat-sidenav-container",6)(12,"mat-sidenav",7,1)(14,"mat-nav-list")(15,"a",8),Nt("click",function(){Kt(n);let a=Ni(13);return Qt(a.close())}),oe(16,"mat-icon"),Ie(17,"home"),ne(),oe(18,"span"),Ie(19,"Home"),ne()(),Ct(20,"mat-divider"),lt(21,tye,5,0,"a",9),Ks(22,"async"),lt(23,rye,5,0,"a",10),Ks(24,"async"),Ct(25,"mat-divider"),oe(26,"a",11),Nt("click",function(){Kt(n);let a=Ni(13);return Qt(a.close())}),oe(27,"mat-icon"),Ie(28,"feedback"),ne(),oe(29,"span"),Ie(30,"Feedback"),ne()(),oe(31,"a",12),Nt("click",function(){Kt(n);let a=Ni(13);return Qt(a.close())}),oe(32,"mat-icon"),Ie(33,"calculate"),ne(),oe(34,"span"),Ie(35,"Calculator"),ne()(),oe(36,"a",13),Nt("click",function(){Kt(n);let a=Ni(13);return Qt(a.close())}),oe(37,"mat-icon"),Ie(38,"assignment"),ne(),oe(39,"span"),Ie(40,"Template Form"),ne()(),oe(41,"a",14),Nt("click",function(){Kt(n);let a=Ni(13);return Qt(a.close())}),oe(42,"mat-icon"),Ie(43,"dynamic_form"),ne(),oe(44,"span"),Ie(45,"Reactive Form"),ne()(),oe(46,"a",15),Nt("click",function(){Kt(n);let a=Ni(13);return Qt(a.close())}),oe(47,"mat-icon"),Ie(48,"movie"),ne(),oe(49,"span"),Ie(50,"Movies"),ne()()()(),oe(51,"mat-sidenav-content"),Ct(52,"router-outlet"),ne()()}if(t&2){let n=Ni(10);ke(7),rt("ngIf",tv(8,5,i.userEmail$))("ngIfElse",n),ke(5),rt("opened",!1),ke(9),rt("ngIf",!tv(22,7,i.userEmail$)),ke(2),rt("ngIf",tv(24,9,i.userEmail$))}},dependencies:[Qs,m1,vd,Wn,yB,Wb,Zy,Pp,bm,UK,Op,Qb,rP],styles:["mat-toolbar[_ngcontent-%COMP%]{background-color:#b1addc;color:#fff}.sidenav-container[_ngcontent-%COMP%]{height:100vh;background-color:#d1b5f1}mat-sidenav[_ngcontent-%COMP%]{width:250px;background-color:#f2e0fb;color:#bdc9e7}mat-nav-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:12px 16px;font-size:16px;font-weight:500;display:flex;align-items:center;transition:background-color .3s}mat-nav-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#5eaace1a}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]})};var Zb=class r{title="Frontti24_no-stanalone";static \u0275fac=function(t){return new(t||r)};static \u0275cmp=dt({type:r,selectors:[["app-root"]],decls:6,vars:0,consts:[[1,"spacer"],["mat-button","","routerLink","/"]],template:function(t,i){t&1&&(Ct(0,"app-toolbar")(1,"span",0),oe(2,"a",1)(3,"mat-icon"),Ie(4,"home"),ne(),Ie(5," Home "),ne())},dependencies:[vd,vB,Wb,Yb],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}mat-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center}a[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{color:#000;text-decoration:none;font-weight:500}a[_ngcontent-%COMP%]:hover, button[_ngcontent-%COMP%]:hover{color:#81c784}"]})};var nye="@",oye=(()=>{class r{constructor(t,i,n,o,a){this.doc=t,this.delegate=i,this.zone=n,this.animationType=o,this.moduleImpl=a,this._rendererFactoryPromise=null,this.scheduler=Pe(FO,{optional:!0}),this.loadingSchedulerFn=Pe(aye,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-WER4U5WG.js").then(n=>n),i;return this.loadingSchedulerFn?i=this.loadingSchedulerFn(t):i=t(),i.catch(n=>{throw new Nr(5300,!1)}).then(({\u0275createEngine:n,\u0275AnimationRendererFactory:o})=>{this._engine=n(this.animationType,this.doc);let a=new o(this.delegate,this._engine,this.zone);return this.delegate=a,a})}createRenderer(t,i){let n=this.delegate.createRenderer(t,i);if(n.\u0275type===0)return n;typeof n.throwOnSyntheticProps=="boolean"&&(n.throwOnSyntheticProps=!1);let o=new Nk(n);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let s=a.createRenderer(t,i);o.use(s),this.scheduler?.notify(10)}).catch(a=>{o.use(n)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(i){gl()}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac})}}return r})(),Nk=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,i,n){this.delegate.insertBefore(e,t,i,n)}removeChild(e,t,i){this.delegate.removeChild(e,t,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,n){this.delegate.setAttribute(e,t,i,n)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,n){this.delegate.setStyle(e,t,i,n)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){this.shouldReplay(t)&&this.replay.push(n=>n.setProperty(e,t,i)),this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.shouldReplay(t)&&this.replay.push(n=>n.listen(e,t,i)),this.delegate.listen(e,t,i)}shouldReplay(e){return this.replay!==null&&e.startsWith(nye)}},aye=new Ve("");function $K(r="animations"){return Yg("NgAsyncAnimations"),Wu([{provide:Qu,useFactory:(e,t,i)=>new oye(e,t,i,r),deps:[St,Ju,Je]},{provide:li,useValue:r==="noop"?"NoopAnimations":"BrowserAnimations"}])}var HK={transformMenu:as("transformMenu",[Jo("void",bn({opacity:0,transform:"scale(0.8)"})),To("void => enter",So("120ms cubic-bezier(0, 0, 0.2, 1)",bn({opacity:1,transform:"scale(1)"}))),To("* => void",So("100ms 25ms linear",bn({opacity:0})))]),fadeInItems:as("fadeInItems",[Jo("showing",bn({opacity:1})),To("void => *",[bn({opacity:0}),So("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Jct=HK.fadeInItems,elt=HK.transformMenu;var sye=new Ve("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let r=Pe(Pc);return()=>r.scrollStrategies.reposition()}});function cye(r){return()=>r.scrollStrategies.reposition()}var lye={provide:sye,deps:[Pc],useFactory:cye};var GK=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=ot({type:r})}static{this.\u0275inj=nt({providers:[lye],imports:[Ys,od,nr,ib,Ep,nr]})}}return r})();var uye=(()=>{class r extends mv{constructor(t,i,n){super(t,i,n)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||r)(me(St),me(Oh),me(dv))}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac})}}return r})();function dye(){return new pP}function mye(r,e,t){return new vP(r,e,t)}var XK=[{provide:dv,useFactory:dye},{provide:mv,useClass:uye},{provide:Qu,useFactory:mye,deps:[Ju,mv,Je]}],WK=[{provide:Oh,useFactory:()=>new gP},{provide:li,useValue:"BrowserAnimations"},...XK],hye=[{provide:Oh,useClass:fP},{provide:li,useValue:"NoopAnimations"},...XK],KK=(()=>{class r{static withConfig(t){return{ngModule:r,providers:t.disableAnimations?hye:WK}}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=ot({type:r})}static{this.\u0275inj=nt({providers:WK,imports:[bv]})}}return r})();var QK=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},YK={};var zc,kk;(function(){var r;function e(A,b){function E(){}E.prototype=b.prototype,A.D=b.prototype,A.prototype=new E,A.prototype.constructor=A,A.C=function(D,S,I){for(var M=Array(arguments.length-2),q=2;q<arguments.length;q++)M[q-2]=arguments[q];return b.prototype[S].apply(D,M)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function n(A,b,E){E||(E=0);var D=Array(16);if(typeof b=="string")for(var S=0;16>S;++S)D[S]=b.charCodeAt(E++)|b.charCodeAt(E++)<<8|b.charCodeAt(E++)<<16|b.charCodeAt(E++)<<24;else for(S=0;16>S;++S)D[S]=b[E++]|b[E++]<<8|b[E++]<<16|b[E++]<<24;b=A.g[0],E=A.g[1],S=A.g[2];var I=A.g[3],M=b+(I^E&(S^I))+D[0]+3614090360&4294967295;b=E+(M<<7&4294967295|M>>>25),M=I+(S^b&(E^S))+D[1]+3905402710&4294967295,I=b+(M<<12&4294967295|M>>>20),M=S+(E^I&(b^E))+D[2]+606105819&4294967295,S=I+(M<<17&4294967295|M>>>15),M=E+(b^S&(I^b))+D[3]+3250441966&4294967295,E=S+(M<<22&4294967295|M>>>10),M=b+(I^E&(S^I))+D[4]+4118548399&4294967295,b=E+(M<<7&4294967295|M>>>25),M=I+(S^b&(E^S))+D[5]+1200080426&4294967295,I=b+(M<<12&4294967295|M>>>20),M=S+(E^I&(b^E))+D[6]+2821735955&4294967295,S=I+(M<<17&4294967295|M>>>15),M=E+(b^S&(I^b))+D[7]+4249261313&4294967295,E=S+(M<<22&4294967295|M>>>10),M=b+(I^E&(S^I))+D[8]+1770035416&4294967295,b=E+(M<<7&4294967295|M>>>25),M=I+(S^b&(E^S))+D[9]+2336552879&4294967295,I=b+(M<<12&4294967295|M>>>20),M=S+(E^I&(b^E))+D[10]+4294925233&4294967295,S=I+(M<<17&4294967295|M>>>15),M=E+(b^S&(I^b))+D[11]+2304563134&4294967295,E=S+(M<<22&4294967295|M>>>10),M=b+(I^E&(S^I))+D[12]+1804603682&4294967295,b=E+(M<<7&4294967295|M>>>25),M=I+(S^b&(E^S))+D[13]+4254626195&4294967295,I=b+(M<<12&4294967295|M>>>20),M=S+(E^I&(b^E))+D[14]+2792965006&4294967295,S=I+(M<<17&4294967295|M>>>15),M=E+(b^S&(I^b))+D[15]+1236535329&4294967295,E=S+(M<<22&4294967295|M>>>10),M=b+(S^I&(E^S))+D[1]+4129170786&4294967295,b=E+(M<<5&4294967295|M>>>27),M=I+(E^S&(b^E))+D[6]+3225465664&4294967295,I=b+(M<<9&4294967295|M>>>23),M=S+(b^E&(I^b))+D[11]+643717713&4294967295,S=I+(M<<14&4294967295|M>>>18),M=E+(I^b&(S^I))+D[0]+3921069994&4294967295,E=S+(M<<20&4294967295|M>>>12),M=b+(S^I&(E^S))+D[5]+3593408605&4294967295,b=E+(M<<5&4294967295|M>>>27),M=I+(E^S&(b^E))+D[10]+38016083&4294967295,I=b+(M<<9&4294967295|M>>>23),M=S+(b^E&(I^b))+D[15]+3634488961&4294967295,S=I+(M<<14&4294967295|M>>>18),M=E+(I^b&(S^I))+D[4]+3889429448&4294967295,E=S+(M<<20&4294967295|M>>>12),M=b+(S^I&(E^S))+D[9]+568446438&4294967295,b=E+(M<<5&4294967295|M>>>27),M=I+(E^S&(b^E))+D[14]+3275163606&4294967295,I=b+(M<<9&4294967295|M>>>23),M=S+(b^E&(I^b))+D[3]+4107603335&4294967295,S=I+(M<<14&4294967295|M>>>18),M=E+(I^b&(S^I))+D[8]+1163531501&4294967295,E=S+(M<<20&4294967295|M>>>12),M=b+(S^I&(E^S))+D[13]+2850285829&4294967295,b=E+(M<<5&4294967295|M>>>27),M=I+(E^S&(b^E))+D[2]+4243563512&4294967295,I=b+(M<<9&4294967295|M>>>23),M=S+(b^E&(I^b))+D[7]+1735328473&4294967295,S=I+(M<<14&4294967295|M>>>18),M=E+(I^b&(S^I))+D[12]+2368359562&4294967295,E=S+(M<<20&4294967295|M>>>12),M=b+(E^S^I)+D[5]+4294588738&4294967295,b=E+(M<<4&4294967295|M>>>28),M=I+(b^E^S)+D[8]+2272392833&4294967295,I=b+(M<<11&4294967295|M>>>21),M=S+(I^b^E)+D[11]+1839030562&4294967295,S=I+(M<<16&4294967295|M>>>16),M=E+(S^I^b)+D[14]+4259657740&4294967295,E=S+(M<<23&4294967295|M>>>9),M=b+(E^S^I)+D[1]+2763975236&4294967295,b=E+(M<<4&4294967295|M>>>28),M=I+(b^E^S)+D[4]+1272893353&4294967295,I=b+(M<<11&4294967295|M>>>21),M=S+(I^b^E)+D[7]+4139469664&4294967295,S=I+(M<<16&4294967295|M>>>16),M=E+(S^I^b)+D[10]+3200236656&4294967295,E=S+(M<<23&4294967295|M>>>9),M=b+(E^S^I)+D[13]+681279174&4294967295,b=E+(M<<4&4294967295|M>>>28),M=I+(b^E^S)+D[0]+3936430074&4294967295,I=b+(M<<11&4294967295|M>>>21),M=S+(I^b^E)+D[3]+3572445317&4294967295,S=I+(M<<16&4294967295|M>>>16),M=E+(S^I^b)+D[6]+76029189&4294967295,E=S+(M<<23&4294967295|M>>>9),M=b+(E^S^I)+D[9]+3654602809&4294967295,b=E+(M<<4&4294967295|M>>>28),M=I+(b^E^S)+D[12]+3873151461&4294967295,I=b+(M<<11&4294967295|M>>>21),M=S+(I^b^E)+D[15]+530742520&4294967295,S=I+(M<<16&4294967295|M>>>16),M=E+(S^I^b)+D[2]+3299628645&4294967295,E=S+(M<<23&4294967295|M>>>9),M=b+(S^(E|~I))+D[0]+4096336452&4294967295,b=E+(M<<6&4294967295|M>>>26),M=I+(E^(b|~S))+D[7]+1126891415&4294967295,I=b+(M<<10&4294967295|M>>>22),M=S+(b^(I|~E))+D[14]+2878612391&4294967295,S=I+(M<<15&4294967295|M>>>17),M=E+(I^(S|~b))+D[5]+4237533241&4294967295,E=S+(M<<21&4294967295|M>>>11),M=b+(S^(E|~I))+D[12]+1700485571&4294967295,b=E+(M<<6&4294967295|M>>>26),M=I+(E^(b|~S))+D[3]+2399980690&4294967295,I=b+(M<<10&4294967295|M>>>22),M=S+(b^(I|~E))+D[10]+4293915773&4294967295,S=I+(M<<15&4294967295|M>>>17),M=E+(I^(S|~b))+D[1]+2240044497&4294967295,E=S+(M<<21&4294967295|M>>>11),M=b+(S^(E|~I))+D[8]+1873313359&4294967295,b=E+(M<<6&4294967295|M>>>26),M=I+(E^(b|~S))+D[15]+4264355552&4294967295,I=b+(M<<10&4294967295|M>>>22),M=S+(b^(I|~E))+D[6]+2734768916&4294967295,S=I+(M<<15&4294967295|M>>>17),M=E+(I^(S|~b))+D[13]+1309151649&4294967295,E=S+(M<<21&4294967295|M>>>11),M=b+(S^(E|~I))+D[4]+4149444226&4294967295,b=E+(M<<6&4294967295|M>>>26),M=I+(E^(b|~S))+D[11]+3174756917&4294967295,I=b+(M<<10&4294967295|M>>>22),M=S+(b^(I|~E))+D[2]+718787259&4294967295,S=I+(M<<15&4294967295|M>>>17),M=E+(I^(S|~b))+D[9]+3951481745&4294967295,A.g[0]=A.g[0]+b&4294967295,A.g[1]=A.g[1]+(S+(M<<21&4294967295|M>>>11))&4294967295,A.g[2]=A.g[2]+S&4294967295,A.g[3]=A.g[3]+I&4294967295}i.prototype.u=function(A,b){b===void 0&&(b=A.length);for(var E=b-this.blockSize,D=this.B,S=this.h,I=0;I<b;){if(S==0)for(;I<=E;)n(this,A,I),I+=this.blockSize;if(typeof A=="string"){for(;I<b;)if(D[S++]=A.charCodeAt(I++),S==this.blockSize){n(this,D),S=0;break}}else for(;I<b;)if(D[S++]=A[I++],S==this.blockSize){n(this,D),S=0;break}}this.h=S,this.o+=b},i.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var b=1;b<A.length-8;++b)A[b]=0;var E=8*this.o;for(b=A.length-8;b<A.length;++b)A[b]=E&255,E/=256;for(this.u(A),A=Array(16),b=E=0;4>b;++b)for(var D=0;32>D;D+=8)A[E++]=this.g[b]>>>D&255;return A};function o(A,b){var E=s;return Object.prototype.hasOwnProperty.call(E,A)?E[A]:E[A]=b(A)}function a(A,b){this.h=b;for(var E=[],D=!0,S=A.length-1;0<=S;S--){var I=A[S]|0;D&&I==b||(E[S]=I,D=!1)}this.g=E}var s={};function c(A){return-128<=A&&128>A?o(A,function(b){return new a([b|0],0>b?-1:0)}):new a([A|0],0>A?-1:0)}function l(A){if(isNaN(A)||!isFinite(A))return d;if(0>A)return w(l(-A));for(var b=[],E=1,D=0;A>=E;D++)b[D]=A/E|0,E*=4294967296;return new a(b,0)}function u(A,b){if(A.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(A.charAt(0)=="-")return w(u(A.substring(1),b));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(b,8)),D=d,S=0;S<A.length;S+=8){var I=Math.min(8,A.length-S),M=parseInt(A.substring(S,S+I),b);8>I?(I=l(Math.pow(b,I)),D=D.j(I).add(l(M))):(D=D.j(E),D=D.add(l(M)))}return D}var d=c(0),m=c(1),h=c(16777216);r=a.prototype,r.m=function(){if(p(this))return-w(this).m();for(var A=0,b=1,E=0;E<this.g.length;E++){var D=this.i(E);A+=(0<=D?D:4294967296+D)*b,b*=4294967296}return A},r.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(f(this))return"0";if(p(this))return"-"+w(this).toString(A);for(var b=l(Math.pow(A,6)),E=this,D="";;){var S=_(E,b).g;E=C(E,S.j(b));var I=((0<E.g.length?E.g[0]:E.h)>>>0).toString(A);if(E=S,f(E))return I+D;for(;6>I.length;)I="0"+I;D=I+D}},r.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function f(A){if(A.h!=0)return!1;for(var b=0;b<A.g.length;b++)if(A.g[b]!=0)return!1;return!0}function p(A){return A.h==-1}r.l=function(A){return A=C(this,A),p(A)?-1:f(A)?0:1};function w(A){for(var b=A.g.length,E=[],D=0;D<b;D++)E[D]=~A.g[D];return new a(E,~A.h).add(m)}r.abs=function(){return p(this)?w(this):this},r.add=function(A){for(var b=Math.max(this.g.length,A.g.length),E=[],D=0,S=0;S<=b;S++){var I=D+(this.i(S)&65535)+(A.i(S)&65535),M=(I>>>16)+(this.i(S)>>>16)+(A.i(S)>>>16);D=M>>>16,I&=65535,M&=65535,E[S]=M<<16|I}return new a(E,E[E.length-1]&-2147483648?-1:0)};function C(A,b){return A.add(w(b))}r.j=function(A){if(f(this)||f(A))return d;if(p(this))return p(A)?w(this).j(w(A)):w(w(this).j(A));if(p(A))return w(this.j(w(A)));if(0>this.l(h)&&0>A.l(h))return l(this.m()*A.m());for(var b=this.g.length+A.g.length,E=[],D=0;D<2*b;D++)E[D]=0;for(D=0;D<this.g.length;D++)for(var S=0;S<A.g.length;S++){var I=this.i(D)>>>16,M=this.i(D)&65535,q=A.i(S)>>>16,U=A.i(S)&65535;E[2*D+2*S]+=M*U,T(E,2*D+2*S),E[2*D+2*S+1]+=I*U,T(E,2*D+2*S+1),E[2*D+2*S+1]+=M*q,T(E,2*D+2*S+1),E[2*D+2*S+2]+=I*q,T(E,2*D+2*S+2)}for(D=0;D<b;D++)E[D]=E[2*D+1]<<16|E[2*D];for(D=b;D<2*b;D++)E[D]=0;return new a(E,0)};function T(A,b){for(;(A[b]&65535)!=A[b];)A[b+1]+=A[b]>>>16,A[b]&=65535,b++}function g(A,b){this.g=A,this.h=b}function _(A,b){if(f(b))throw Error("division by zero");if(f(A))return new g(d,d);if(p(A))return b=_(w(A),b),new g(w(b.g),w(b.h));if(p(b))return b=_(A,w(b)),new g(w(b.g),b.h);if(30<A.g.length){if(p(A)||p(b))throw Error("slowDivide_ only works with positive integers.");for(var E=m,D=b;0>=D.l(A);)E=v(E),D=v(D);var S=y(E,1),I=y(D,1);for(D=y(D,2),E=y(E,2);!f(D);){var M=I.add(D);0>=M.l(A)&&(S=S.add(E),I=M),D=y(D,1),E=y(E,1)}return b=C(A,S.j(b)),new g(S,b)}for(S=d;0<=A.l(b);){for(E=Math.max(1,Math.floor(A.m()/b.m())),D=Math.ceil(Math.log(E)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),I=l(E),M=I.j(b);p(M)||0<M.l(A);)E-=D,I=l(E),M=I.j(b);f(I)&&(I=m),S=S.add(I),A=C(A,M)}return new g(S,A)}r.A=function(A){return _(this,A).h},r.and=function(A){for(var b=Math.max(this.g.length,A.g.length),E=[],D=0;D<b;D++)E[D]=this.i(D)&A.i(D);return new a(E,this.h&A.h)},r.or=function(A){for(var b=Math.max(this.g.length,A.g.length),E=[],D=0;D<b;D++)E[D]=this.i(D)|A.i(D);return new a(E,this.h|A.h)},r.xor=function(A){for(var b=Math.max(this.g.length,A.g.length),E=[],D=0;D<b;D++)E[D]=this.i(D)^A.i(D);return new a(E,this.h^A.h)};function v(A){for(var b=A.g.length+1,E=[],D=0;D<b;D++)E[D]=A.i(D)<<1|A.i(D-1)>>>31;return new a(E,A.h)}function y(A,b){var E=b>>5;b%=32;for(var D=A.g.length-E,S=[],I=0;I<D;I++)S[I]=0<b?A.i(I+E)>>>b|A.i(I+E+1)<<32-b:A.i(I+E);return new a(S,A.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,kk=YK.Md5=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=l,a.fromString=u,zc=YK.Integer=a}).apply(typeof QK<"u"?QK:typeof self<"u"?self:typeof window<"u"?window:{});var Jb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Is={};var Rk,fye,_m,Fk,Bp,e_,Ok,Pk,Bk;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(x,k,L){return x==Array.prototype||x==Object.prototype||(x[k]=L.value),x};function t(x){x=[typeof globalThis=="object"&&globalThis,x,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jb=="object"&&Jb];for(var k=0;k<x.length;++k){var L=x[k];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var i=t(this);function n(x,k){if(k)e:{var L=i;x=x.split(".");for(var W=0;W<x.length-1;W++){var he=x[W];if(!(he in L))break e;L=L[he]}x=x[x.length-1],W=L[x],k=k(W),k!=W&&k!=null&&e(L,x,{configurable:!0,writable:!0,value:k})}}function o(x,k){x instanceof String&&(x+="");var L=0,W=!1,he={next:function(){if(!W&&L<x.length){var be=L++;return{value:k(be,x[be]),done:!1}}return W=!0,{done:!0,value:void 0}}};return he[Symbol.iterator]=function(){return he},he}n("Array.prototype.values",function(x){return x||function(){return o(this,function(k,L){return L})}});var a=a||{},s=this||self;function c(x){var k=typeof x;return k=k!="object"?k:x?Array.isArray(x)?"array":k:"null",k=="array"||k=="object"&&typeof x.length=="number"}function l(x){var k=typeof x;return k=="object"&&x!=null||k=="function"}function u(x,k,L){return x.call.apply(x.bind,arguments)}function d(x,k,L){if(!x)throw Error();if(2<arguments.length){var W=Array.prototype.slice.call(arguments,2);return function(){var he=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(he,W),x.apply(k,he)}}return function(){return x.apply(k,arguments)}}function m(x,k,L){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:d,m.apply(null,arguments)}function h(x,k){var L=Array.prototype.slice.call(arguments,1);return function(){var W=L.slice();return W.push.apply(W,arguments),x.apply(this,W)}}function f(x,k){function L(){}L.prototype=k.prototype,x.aa=k.prototype,x.prototype=new L,x.prototype.constructor=x,x.Qb=function(W,he,be){for(var Xe=Array(arguments.length-2),$r=2;$r<arguments.length;$r++)Xe[$r-2]=arguments[$r];return k.prototype[he].apply(W,Xe)}}function p(x){let k=x.length;if(0<k){let L=Array(k);for(let W=0;W<k;W++)L[W]=x[W];return L}return[]}function w(x,k){for(let L=1;L<arguments.length;L++){let W=arguments[L];if(c(W)){let he=x.length||0,be=W.length||0;x.length=he+be;for(let Xe=0;Xe<be;Xe++)x[he+Xe]=W[Xe]}else x.push(W)}}class C{constructor(k,L){this.i=k,this.j=L,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function T(x){return/^[\s\xa0]*$/.test(x)}function g(){var x=s.navigator;return x&&(x=x.userAgent)?x:""}function _(x){return _[" "](x),x}_[" "]=function(){};var v=g().indexOf("Gecko")!=-1&&!(g().toLowerCase().indexOf("webkit")!=-1&&g().indexOf("Edge")==-1)&&!(g().indexOf("Trident")!=-1||g().indexOf("MSIE")!=-1)&&g().indexOf("Edge")==-1;function y(x,k,L){for(let W in x)k.call(L,x[W],W,x)}function A(x,k){for(let L in x)k.call(void 0,x[L],L,x)}function b(x){let k={};for(let L in x)k[L]=x[L];return k}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(x,k){let L,W;for(let he=1;he<arguments.length;he++){W=arguments[he];for(L in W)x[L]=W[L];for(let be=0;be<E.length;be++)L=E[be],Object.prototype.hasOwnProperty.call(W,L)&&(x[L]=W[L])}}function S(x){var k=1;x=x.split(":");let L=[];for(;0<k&&x.length;)L.push(x.shift()),k--;return x.length&&L.push(x.join(":")),L}function I(x){s.setTimeout(()=>{throw x},0)}function M(){var x=B;let k=null;return x.g&&(k=x.g,x.g=x.g.next,x.g||(x.h=null),k.next=null),k}class q{constructor(){this.h=this.g=null}add(k,L){let W=U.get();W.set(k,L),this.h?this.h.next=W:this.g=W,this.h=W}}var U=new C(()=>new F,x=>x.reset());class F{constructor(){this.next=this.g=this.h=null}set(k,L){this.h=k,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let O,G=!1,B=new q,ee=()=>{let x=s.Promise.resolve(void 0);O=()=>{x.then(ae)}};var ae=()=>{for(var x;x=M();){try{x.h.call(x.g)}catch(L){I(L)}var k=U;k.j(x),100>k.h&&(k.h++,x.next=k.g,k.g=x)}G=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(x,k){this.type=x,this.g=this.target=k,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var x=!1,k=Object.defineProperty({},"passive",{get:function(){x=!0}});try{let L=()=>{};s.addEventListener("test",L,k),s.removeEventListener("test",L,k)}catch{}return x}();function ye(x,k){if(H.call(this,x?x.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,x){var L=this.type=x.type,W=x.changedTouches&&x.changedTouches.length?x.changedTouches[0]:null;if(this.target=x.target||x.srcElement,this.g=k,k=x.relatedTarget){if(v){e:{try{_(k.nodeName);var he=!0;break e}catch{}he=!1}he||(k=null)}}else L=="mouseover"?k=x.fromElement:L=="mouseout"&&(k=x.toElement);this.relatedTarget=k,W?(this.clientX=W.clientX!==void 0?W.clientX:W.pageX,this.clientY=W.clientY!==void 0?W.clientY:W.pageY,this.screenX=W.screenX||0,this.screenY=W.screenY||0):(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0),this.button=x.button,this.key=x.key||"",this.ctrlKey=x.ctrlKey,this.altKey=x.altKey,this.shiftKey=x.shiftKey,this.metaKey=x.metaKey,this.pointerId=x.pointerId||0,this.pointerType=typeof x.pointerType=="string"?x.pointerType:V[x.pointerType]||"",this.state=x.state,this.i=x,x.defaultPrevented&&ye.aa.h.call(this)}}f(ye,H);var V={2:"touch",3:"pen",4:"mouse"};ye.prototype.h=function(){ye.aa.h.call(this);var x=this.i;x.preventDefault?x.preventDefault():x.returnValue=!1};var P="closure_listenable_"+(1e6*Math.random()|0),j=0;function z(x,k,L,W,he){this.listener=x,this.proxy=null,this.src=k,this.type=L,this.capture=!!W,this.ha=he,this.key=++j,this.da=this.fa=!1}function Q(x){x.da=!0,x.listener=null,x.proxy=null,x.src=null,x.ha=null}function ie(x){this.src=x,this.g={},this.h=0}ie.prototype.add=function(x,k,L,W,he){var be=x.toString();x=this.g[be],x||(x=this.g[be]=[],this.h++);var Xe=pe(x,k,W,he);return-1<Xe?(k=x[Xe],L||(k.fa=!1)):(k=new z(k,this.src,be,!!W,he),k.fa=L,x.push(k)),k};function re(x,k){var L=k.type;if(L in x.g){var W=x.g[L],he=Array.prototype.indexOf.call(W,k,void 0),be;(be=0<=he)&&Array.prototype.splice.call(W,he,1),be&&(Q(k),x.g[L].length==0&&(delete x.g[L],x.h--))}}function pe(x,k,L,W){for(var he=0;he<x.length;++he){var be=x[he];if(!be.da&&be.listener==k&&be.capture==!!L&&be.ha==W)return he}return-1}var fe="closure_lm_"+(1e6*Math.random()|0),$={};function K(x,k,L,W,he){if(W&&W.once)return Ee(x,k,L,W,he);if(Array.isArray(k)){for(var be=0;be<k.length;be++)K(x,k[be],L,W,he);return null}return L=rr(L),x&&x[P]?x.K(k,L,l(W)?!!W.capture:!!W,he):se(x,k,L,!1,W,he)}function se(x,k,L,W,he,be){if(!k)throw Error("Invalid event type");var Xe=l(he)?!!he.capture:!!he,$r=ft(x);if($r||(x[fe]=$r=new ie(x)),L=$r.add(k,L,W,Xe,be),L.proxy)return L;if(W=de(),L.proxy=W,W.src=x,W.listener=L,x.addEventListener)ce||(he=Xe),he===void 0&&(he=!1),x.addEventListener(k.toString(),W,he);else if(x.attachEvent)x.attachEvent(We(k.toString()),W);else if(x.addListener&&x.removeListener)x.addListener(W);else throw Error("addEventListener and attachEvent are unavailable.");return L}function de(){function x(L){return k.call(x.src,x.listener,L)}let k=Mt;return x}function Ee(x,k,L,W,he){if(Array.isArray(k)){for(var be=0;be<k.length;be++)Ee(x,k[be],L,W,he);return null}return L=rr(L),x&&x[P]?x.L(k,L,l(W)?!!W.capture:!!W,he):se(x,k,L,!0,W,he)}function Se(x,k,L,W,he){if(Array.isArray(k))for(var be=0;be<k.length;be++)Se(x,k[be],L,W,he);else W=l(W)?!!W.capture:!!W,L=rr(L),x&&x[P]?(x=x.i,k=String(k).toString(),k in x.g&&(be=x.g[k],L=pe(be,L,W,he),-1<L&&(Q(be[L]),Array.prototype.splice.call(be,L,1),be.length==0&&(delete x.g[k],x.h--)))):x&&(x=ft(x))&&(k=x.g[k.toString()],x=-1,k&&(x=pe(k,L,W,he)),(L=-1<x?k[x]:null)&&Be(L))}function Be(x){if(typeof x!="number"&&x&&!x.da){var k=x.src;if(k&&k[P])re(k.i,x);else{var L=x.type,W=x.proxy;k.removeEventListener?k.removeEventListener(L,W,x.capture):k.detachEvent?k.detachEvent(We(L),W):k.addListener&&k.removeListener&&k.removeListener(W),(L=ft(k))?(re(L,x),L.h==0&&(L.src=null,k[fe]=null)):Q(x)}}}function We(x){return x in $?$[x]:$[x]="on"+x}function Mt(x,k){if(x.da)x=!0;else{k=new ye(k,this);var L=x.listener,W=x.ha||x.src;x.fa&&Be(x),x=L.call(W,k)}return x}function ft(x){return x=x[fe],x instanceof ie?x:null}var sr="__closure_events_fn_"+(1e9*Math.random()>>>0);function rr(x){return typeof x=="function"?x:(x[sr]||(x[sr]=function(k){return x.handleEvent(k)}),x[sr])}function Xt(){J.call(this),this.i=new ie(this),this.M=this,this.F=null}f(Xt,J),Xt.prototype[P]=!0,Xt.prototype.removeEventListener=function(x,k,L,W){Se(this,x,k,L,W)};function cr(x,k){var L,W=x.F;if(W)for(L=[];W;W=W.F)L.push(W);if(x=x.M,W=k.type||k,typeof k=="string")k=new H(k,x);else if(k instanceof H)k.target=k.target||x;else{var he=k;k=new H(W,x),D(k,he)}if(he=!0,L)for(var be=L.length-1;0<=be;be--){var Xe=k.g=L[be];he=Y(Xe,W,!0,k)&&he}if(Xe=k.g=x,he=Y(Xe,W,!0,k)&&he,he=Y(Xe,W,!1,k)&&he,L)for(be=0;be<L.length;be++)Xe=k.g=L[be],he=Y(Xe,W,!1,k)&&he}Xt.prototype.N=function(){if(Xt.aa.N.call(this),this.i){var x=this.i,k;for(k in x.g){for(var L=x.g[k],W=0;W<L.length;W++)Q(L[W]);delete x.g[k],x.h--}}this.F=null},Xt.prototype.K=function(x,k,L,W){return this.i.add(String(x),k,!1,L,W)},Xt.prototype.L=function(x,k,L,W){return this.i.add(String(x),k,!0,L,W)};function Y(x,k,L,W){if(k=x.i.g[String(k)],!k)return!0;k=k.concat();for(var he=!0,be=0;be<k.length;++be){var Xe=k[be];if(Xe&&!Xe.da&&Xe.capture==L){var $r=Xe.listener,tn=Xe.ha||Xe.src;Xe.fa&&re(x.i,Xe),he=$r.call(tn,W)!==!1&&he}}return he&&!W.defaultPrevented}function le(x,k,L){if(typeof x=="function")L&&(x=m(x,L));else if(x&&typeof x.handleEvent=="function")x=m(x.handleEvent,x);else throw Error("Invalid listener argument");return 2147483647<Number(k)?-1:s.setTimeout(x,k||0)}function ge(x){x.g=le(()=>{x.g=null,x.i&&(x.i=!1,ge(x))},x.l);let k=x.h;x.h=null,x.m.apply(null,k)}class Te extends J{constructor(k,L){super(),this.m=k,this.l=L,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:ge(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ne(x){J.call(this),this.h=x,this.g={}}f(Ne,J);var we=[];function $e(x){y(x.g,function(k,L){this.g.hasOwnProperty(L)&&Be(k)},x),x.g={}}Ne.prototype.N=function(){Ne.aa.N.call(this),$e(this)},Ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var R=s.JSON.stringify,X=s.JSON.parse,te=class{stringify(x){return s.JSON.stringify(x,void 0)}parse(x){return s.JSON.parse(x,void 0)}};function De(){}De.prototype.h=null;function et(x){return x.h||(x.h=x.i())}function ht(){}var gr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xi(){H.call(this,"d")}f(xi,H);function Rn(){H.call(this,"c")}f(Rn,H);var zi={},Za=null;function Ja(){return Za=Za||new Xt}zi.La="serverreachability";function Dg(x){H.call(this,zi.La,x)}f(Dg,H);function al(x){let k=Ja();cr(k,new Dg(k))}zi.STAT_EVENT="statevent";function Ag(x,k){H.call(this,zi.STAT_EVENT,x),this.stat=k}f(Ag,H);function en(x){let k=Ja();cr(k,new Ag(k,x))}zi.Ma="timingevent";function Cg(x,k){H.call(this,zi.Ma,x),this.size=k}f(Cg,H);function sl(x,k){if(typeof x!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){x()},k)}function cl(){this.g=!0}cl.prototype.xa=function(){this.g=!1};function Dx(x,k,L,W,he,be){x.info(function(){if(x.g)if(be)for(var Xe="",$r=be.split("&"),tn=0;tn<$r.length;tn++){var Ar=$r[tn].split("=");if(1<Ar.length){var fn=Ar[0];Ar=Ar[1];var pn=fn.split("_");Xe=2<=pn.length&&pn[1]=="type"?Xe+(fn+"="+Ar+"&"):Xe+(fn+"=redacted&")}}else Xe=null;else Xe=be;return"XMLHTTP REQ ("+W+") [attempt "+he+"]: "+k+`
`+L+`
`+Xe})}function Ax(x,k,L,W,he,be,Xe){x.info(function(){return"XMLHTTP RESP ("+W+") [ attempt "+he+"]: "+k+`
`+L+`
`+be+" "+Xe})}function Vs(x,k,L,W){x.info(function(){return"XMLHTTP TEXT ("+k+"): "+Sx(x,L)+(W?" "+W:"")})}function Cx(x,k){x.info(function(){return"TIMEOUT: "+k})}cl.prototype.info=function(){};function Sx(x,k){if(!x.g)return k;if(!k)return null;try{var L=JSON.parse(k);if(L){for(x=0;x<L.length;x++)if(Array.isArray(L[x])){var W=L[x];if(!(2>W.length)){var he=W[1];if(Array.isArray(he)&&!(1>he.length)){var be=he[0];if(be!="noop"&&be!="stop"&&be!="close")for(var Xe=1;Xe<he.length;Xe++)he[Xe]=""}}}}return R(L)}catch{return k}}var Fu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Sg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},sh;function Ou(){}f(Ou,De),Ou.prototype.g=function(){return new XMLHttpRequest},Ou.prototype.i=function(){return{}},sh=new Ou;function wa(x,k,L,W){this.j=x,this.i=k,this.l=L,this.R=W||1,this.U=new Ne(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Tg}function Tg(){this.i=null,this.g="",this.h=!1}var Ig={},ch={};function lh(x,k,L){x.L=1,x.v=Pg(es(k)),x.m=L,x.P=!0,Mg(x,null)}function Mg(x,k){x.F=Date.now(),Pu(x),x.A=es(x.v);var L=x.A,W=x.R;Array.isArray(W)||(W=[String(W)]),XF(L.i,"t",W),x.C=0,L=x.j.J,x.h=new Tg,x.g=mO(x.j,L?k:null,!x.m),0<x.O&&(x.M=new Te(m(x.Y,x,x.g),x.O)),k=x.U,L=x.g,W=x.ca;var he="readystatechange";Array.isArray(he)||(he&&(we[0]=he.toString()),he=we);for(var be=0;be<he.length;be++){var Xe=K(L,he[be],W||k.handleEvent,!1,k.h||k);if(!Xe)break;k.g[Xe.key]=Xe}k=x.H?b(x.H):{},x.m?(x.u||(x.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",x.g.ea(x.A,x.u,x.m,k)):(x.u="GET",x.g.ea(x.A,x.u,null,k)),al(),Dx(x.i,x.u,x.A,x.l,x.R,x.m)}wa.prototype.ca=function(x){x=x.target;let k=this.M;k&&ts(x)==3?k.j():this.Y(x)},wa.prototype.Y=function(x){try{if(x==this.g)e:{let pn=ts(this.g);var k=this.g.Ba();let Vu=this.g.Z();if(!(3>pn)&&(pn!=3||this.g&&(this.h.h||this.g.oa()||tO(this.g)))){this.J||pn!=4||k==7||(k==8||0>=Vu?al(3):al(2)),uh(this);var L=this.g.Z();this.X=L;t:if(Ng(this)){var W=tO(this.g);x="";var he=W.length,be=ts(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){io(this),ll(this);var Xe="";break t}this.h.i=new s.TextDecoder}for(k=0;k<he;k++)this.h.h=!0,x+=this.h.i.decode(W[k],{stream:!(be&&k==he-1)});W.length=0,this.h.g+=x,this.C=0,Xe=this.h.g}else Xe=this.g.oa();if(this.o=L==200,Ax(this.i,this.u,this.A,this.l,this.R,pn,L),this.o){if(this.T&&!this.K){t:{if(this.g){var $r,tn=this.g;if(($r=tn.g?tn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T($r)){var Ar=$r;break t}}Ar=null}if(L=Ar)Vs(this.i,this.l,L,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xr(this,L);else{this.o=!1,this.s=3,en(12),io(this),ll(this);break e}}if(this.P){L=!0;let Qo;for(;!this.J&&this.C<Xe.length;)if(Qo=Tx(this,Xe),Qo==ch){pn==4&&(this.s=4,en(14),L=!1),Vs(this.i,this.l,null,"[Incomplete Response]");break}else if(Qo==Ig){this.s=4,en(15),Vs(this.i,this.l,Xe,"[Invalid Chunk]"),L=!1;break}else Vs(this.i,this.l,Qo,null),xr(this,Qo);if(Ng(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pn!=4||Xe.length!=0||this.h.h||(this.s=1,en(16),L=!1),this.o=this.o&&L,!L)Vs(this.i,this.l,Xe,"[Invalid Chunked Response]"),io(this),ll(this);else if(0<Xe.length&&!this.W){this.W=!0;var fn=this.j;fn.g==this&&fn.ba&&!fn.M&&(fn.j.info("Great, no buffering proxy detected. Bytes received: "+Xe.length),Rx(fn),fn.M=!0,en(11))}}else Vs(this.i,this.l,Xe,null),xr(this,Xe);pn==4&&io(this),this.o&&!this.J&&(pn==4?cO(this.j,this):(this.o=!1,Pu(this)))}else WJ(this.g),L==400&&0<Xe.indexOf("Unknown SID")?(this.s=3,en(12)):(this.s=0,en(13)),io(this),ll(this)}}}catch{}finally{}};function Ng(x){return x.g?x.u=="GET"&&x.L!=2&&x.j.Ca:!1}function Tx(x,k){var L=x.C,W=k.indexOf(`
`,L);return W==-1?ch:(L=Number(k.substring(L,W)),isNaN(L)?Ig:(W+=1,W+L>k.length?ch:(k=k.slice(W,W+L),x.C=W+L,k)))}wa.prototype.cancel=function(){this.J=!0,io(this)};function Pu(x){x.S=Date.now()+x.I,kg(x,x.I)}function kg(x,k){if(x.B!=null)throw Error("WatchDog timer not null");x.B=sl(m(x.ba,x),k)}function uh(x){x.B&&(s.clearTimeout(x.B),x.B=null)}wa.prototype.ba=function(){this.B=null;let x=Date.now();0<=x-this.S?(Cx(this.i,this.A),this.L!=2&&(al(),en(17)),io(this),this.s=2,ll(this)):kg(this,this.S-x)};function ll(x){x.j.G==0||x.J||cO(x.j,x)}function io(x){uh(x);var k=x.M;k&&typeof k.ma=="function"&&k.ma(),x.M=null,$e(x.U),x.g&&(k=x.g,x.g=null,k.abort(),k.ma())}function xr(x,k){try{var L=x.j;if(L.G!=0&&(L.g==x||dh(L.h,x))){if(!x.K&&dh(L.h,x)&&L.G==3){try{var W=L.Da.g.parse(k)}catch{W=null}if(Array.isArray(W)&&W.length==3){var he=W;if(he[0]==0){e:if(!L.u){if(L.g)if(L.g.F+3e3<x.F)Ug(L),Vg(L);else break e;kx(L),en(18)}}else L.za=he[1],0<L.za-L.T&&37500>he[2]&&L.F&&L.v==0&&!L.C&&(L.C=sl(m(L.Za,L),6e3));if(1>=zs(L.h)&&L.ca){try{L.ca()}catch{}L.ca=void 0}}else ml(L,11)}else if((x.K||L.g==x)&&Ug(L),!T(k))for(he=L.Da.g.parse(k),k=0;k<he.length;k++){let Ar=he[k];if(L.T=Ar[0],Ar=Ar[1],L.G==2)if(Ar[0]=="c"){L.K=Ar[1],L.ia=Ar[2];let fn=Ar[3];fn!=null&&(L.la=fn,L.j.info("VER="+L.la));let pn=Ar[4];pn!=null&&(L.Aa=pn,L.j.info("SVER="+L.Aa));let Vu=Ar[5];Vu!=null&&typeof Vu=="number"&&0<Vu&&(W=1.5*Vu,L.L=W,L.j.info("backChannelRequestTimeoutMs_="+W)),W=L;let Qo=x.g;if(Qo){let jg=Qo.g?Qo.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jg){var be=W.h;be.g||jg.indexOf("spdy")==-1&&jg.indexOf("quic")==-1&&jg.indexOf("h2")==-1||(be.j=be.l,be.g=new Set,be.h&&(Ix(be,be.h),be.h=null))}if(W.D){let Fx=Qo.g?Qo.g.getResponseHeader("X-HTTP-Session-Id"):null;Fx&&(W.ya=Fx,Yr(W.I,W.D,Fx))}}L.G=3,L.l&&L.l.ua(),L.ba&&(L.R=Date.now()-x.F,L.j.info("Handshake RTT: "+L.R+"ms")),W=L;var Xe=x;if(W.qa=dO(W,W.J?W.ia:null,W.W),Xe.K){zF(W.h,Xe);var $r=Xe,tn=W.L;tn&&($r.I=tn),$r.B&&(uh($r),Pu($r)),W.g=Xe}else aO(W);0<L.i.length&&zg(L)}else Ar[0]!="stop"&&Ar[0]!="close"||ml(L,7);else L.G==3&&(Ar[0]=="stop"||Ar[0]=="close"?Ar[0]=="stop"?ml(L,7):Nx(L):Ar[0]!="noop"&&L.l&&L.l.ta(Ar),L.v=0)}}al(4)}catch{}}var hn=class{constructor(x,k){this.g=x,this.map=k}};function Rg(x){this.l=x||10,s.PerformanceNavigationTiming?(x=s.performance.getEntriesByType("navigation"),x=0<x.length&&(x[0].nextHopProtocol=="hq"||x[0].nextHopProtocol=="h2")):x=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=x?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ul(x){return x.h?!0:x.g?x.g.size>=x.j:!1}function zs(x){return x.h?1:x.g?x.g.size:0}function dh(x,k){return x.h?x.h==k:x.g?x.g.has(k):!1}function Ix(x,k){x.g?x.g.add(k):x.h=k}function zF(x,k){x.h&&x.h==k?x.h=null:x.g&&x.g.has(k)&&x.g.delete(k)}Rg.prototype.cancel=function(){if(this.i=UF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let x of this.g.values())x.cancel();this.g.clear()}};function UF(x){if(x.h!=null)return x.i.concat(x.h.D);if(x.g!=null&&x.g.size!==0){let k=x.i;for(let L of x.g.values())k=k.concat(L.D);return k}return p(x.i)}function kJ(x){if(x.V&&typeof x.V=="function")return x.V();if(typeof Map<"u"&&x instanceof Map||typeof Set<"u"&&x instanceof Set)return Array.from(x.values());if(typeof x=="string")return x.split("");if(c(x)){for(var k=[],L=x.length,W=0;W<L;W++)k.push(x[W]);return k}k=[],L=0;for(W in x)k[L++]=x[W];return k}function RJ(x){if(x.na&&typeof x.na=="function")return x.na();if(!x.V||typeof x.V!="function"){if(typeof Map<"u"&&x instanceof Map)return Array.from(x.keys());if(!(typeof Set<"u"&&x instanceof Set)){if(c(x)||typeof x=="string"){var k=[];x=x.length;for(var L=0;L<x;L++)k.push(L);return k}k=[],L=0;for(let W in x)k[L++]=W;return k}}}function qF(x,k){if(x.forEach&&typeof x.forEach=="function")x.forEach(k,void 0);else if(c(x)||typeof x=="string")Array.prototype.forEach.call(x,k,void 0);else for(var L=RJ(x),W=kJ(x),he=W.length,be=0;be<he;be++)k.call(void 0,W[be],L&&L[be],x)}var jF=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function FJ(x,k){if(x){x=x.split("&");for(var L=0;L<x.length;L++){var W=x[L].indexOf("="),he=null;if(0<=W){var be=x[L].substring(0,W);he=x[L].substring(W+1)}else be=x[L];k(be,he?decodeURIComponent(he.replace(/\+/g," ")):"")}}}function dl(x){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,x instanceof dl){this.h=x.h,Fg(this,x.j),this.o=x.o,this.g=x.g,Og(this,x.s),this.l=x.l;var k=x.i,L=new fh;L.i=k.i,k.g&&(L.g=new Map(k.g),L.h=k.h),$F(this,L),this.m=x.m}else x&&(k=String(x).match(jF))?(this.h=!1,Fg(this,k[1]||"",!0),this.o=mh(k[2]||""),this.g=mh(k[3]||"",!0),Og(this,k[4]),this.l=mh(k[5]||"",!0),$F(this,k[6]||"",!0),this.m=mh(k[7]||"")):(this.h=!1,this.i=new fh(null,this.h))}dl.prototype.toString=function(){var x=[],k=this.j;k&&x.push(hh(k,HF,!0),":");var L=this.g;return(L||k=="file")&&(x.push("//"),(k=this.o)&&x.push(hh(k,HF,!0),"@"),x.push(encodeURIComponent(String(L)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.s,L!=null&&x.push(":",String(L))),(L=this.l)&&(this.g&&L.charAt(0)!="/"&&x.push("/"),x.push(hh(L,L.charAt(0)=="/"?BJ:PJ,!0))),(L=this.i.toString())&&x.push("?",L),(L=this.m)&&x.push("#",hh(L,VJ)),x.join("")};function es(x){return new dl(x)}function Fg(x,k,L){x.j=L?mh(k,!0):k,x.j&&(x.j=x.j.replace(/:$/,""))}function Og(x,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);x.s=k}else x.s=null}function $F(x,k,L){k instanceof fh?(x.i=k,zJ(x.i,x.h)):(L||(k=hh(k,LJ)),x.i=new fh(k,x.h))}function Yr(x,k,L){x.i.set(k,L)}function Pg(x){return Yr(x,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),x}function mh(x,k){return x?k?decodeURI(x.replace(/%25/g,"%2525")):decodeURIComponent(x):""}function hh(x,k,L){return typeof x=="string"?(x=encodeURI(x).replace(k,OJ),L&&(x=x.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x):null}function OJ(x){return x=x.charCodeAt(0),"%"+(x>>4&15).toString(16)+(x&15).toString(16)}var HF=/[#\/\?@]/g,PJ=/[#\?:]/g,BJ=/[#\?]/g,LJ=/[#\?@]/g,VJ=/#/g;function fh(x,k){this.h=this.g=null,this.i=x||null,this.j=!!k}function Us(x){x.g||(x.g=new Map,x.h=0,x.i&&FJ(x.i,function(k,L){x.add(decodeURIComponent(k.replace(/\+/g," ")),L)}))}r=fh.prototype,r.add=function(x,k){Us(this),this.i=null,x=Bu(this,x);var L=this.g.get(x);return L||this.g.set(x,L=[]),L.push(k),this.h+=1,this};function GF(x,k){Us(x),k=Bu(x,k),x.g.has(k)&&(x.i=null,x.h-=x.g.get(k).length,x.g.delete(k))}function WF(x,k){return Us(x),k=Bu(x,k),x.g.has(k)}r.forEach=function(x,k){Us(this),this.g.forEach(function(L,W){L.forEach(function(he){x.call(k,he,W,this)},this)},this)},r.na=function(){Us(this);let x=Array.from(this.g.values()),k=Array.from(this.g.keys()),L=[];for(let W=0;W<k.length;W++){let he=x[W];for(let be=0;be<he.length;be++)L.push(k[W])}return L},r.V=function(x){Us(this);let k=[];if(typeof x=="string")WF(this,x)&&(k=k.concat(this.g.get(Bu(this,x))));else{x=Array.from(this.g.values());for(let L=0;L<x.length;L++)k=k.concat(x[L])}return k},r.set=function(x,k){return Us(this),this.i=null,x=Bu(this,x),WF(this,x)&&(this.h-=this.g.get(x).length),this.g.set(x,[k]),this.h+=1,this},r.get=function(x,k){return x?(x=this.V(x),0<x.length?String(x[0]):k):k};function XF(x,k,L){GF(x,k),0<L.length&&(x.i=null,x.g.set(Bu(x,k),p(L)),x.h+=L.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";let x=[],k=Array.from(this.g.keys());for(var L=0;L<k.length;L++){var W=k[L];let be=encodeURIComponent(String(W)),Xe=this.V(W);for(W=0;W<Xe.length;W++){var he=be;Xe[W]!==""&&(he+="="+encodeURIComponent(String(Xe[W]))),x.push(he)}}return this.i=x.join("&")};function Bu(x,k){return k=String(k),x.j&&(k=k.toLowerCase()),k}function zJ(x,k){k&&!x.j&&(Us(x),x.i=null,x.g.forEach(function(L,W){var he=W.toLowerCase();W!=he&&(GF(this,W),XF(this,he,L))},x)),x.j=k}function UJ(x,k){let L=new cl;if(s.Image){let W=new Image;W.onload=h(qs,L,"TestLoadImage: loaded",!0,k,W),W.onerror=h(qs,L,"TestLoadImage: error",!1,k,W),W.onabort=h(qs,L,"TestLoadImage: abort",!1,k,W),W.ontimeout=h(qs,L,"TestLoadImage: timeout",!1,k,W),s.setTimeout(function(){W.ontimeout&&W.ontimeout()},1e4),W.src=x}else k(!1)}function qJ(x,k){let L=new cl,W=new AbortController,he=setTimeout(()=>{W.abort(),qs(L,"TestPingServer: timeout",!1,k)},1e4);fetch(x,{signal:W.signal}).then(be=>{clearTimeout(he),be.ok?qs(L,"TestPingServer: ok",!0,k):qs(L,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(he),qs(L,"TestPingServer: error",!1,k)})}function qs(x,k,L,W,he){try{he&&(he.onload=null,he.onerror=null,he.onabort=null,he.ontimeout=null),W(L)}catch{}}function jJ(){this.g=new te}function $J(x,k,L){let W=L||"";try{qF(x,function(he,be){let Xe=he;l(he)&&(Xe=R(he)),k.push(W+be+"="+encodeURIComponent(Xe))})}catch(he){throw k.push(W+"type="+encodeURIComponent("_badmap")),he}}function ph(x){this.l=x.Ub||null,this.j=x.eb||!1}f(ph,De),ph.prototype.g=function(){return new Bg(this.l,this.j)},ph.prototype.i=function(x){return function(){return x}}({});function Bg(x,k){Xt.call(this),this.D=x,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}f(Bg,Xt),r=Bg.prototype,r.open=function(x,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=x,this.A=k,this.readyState=1,vh(this)},r.send=function(x){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};x&&(k.body=x),(this.D||s).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gh(this)),this.readyState=0},r.Sa=function(x){if(this.g&&(this.l=x,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=x.headers,this.readyState=2,vh(this)),this.g&&(this.readyState=3,vh(this),this.g)))if(this.responseType==="arraybuffer")x.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in x){if(this.j=x.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;KF(this)}else x.text().then(this.Ra.bind(this),this.ga.bind(this))};function KF(x){x.j.read().then(x.Pa.bind(x)).catch(x.ga.bind(x))}r.Pa=function(x){if(this.g){if(this.o&&x.value)this.response.push(x.value);else if(!this.o){var k=x.value?x.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!x.done}))&&(this.response=this.responseText+=k)}x.done?gh(this):vh(this),this.readyState==3&&KF(this)}},r.Ra=function(x){this.g&&(this.response=this.responseText=x,gh(this))},r.Qa=function(x){this.g&&(this.response=x,gh(this))},r.ga=function(){this.g&&gh(this)};function gh(x){x.readyState=4,x.l=null,x.j=null,x.v=null,vh(x)}r.setRequestHeader=function(x,k){this.u.append(x,k)},r.getResponseHeader=function(x){return this.h&&this.h.get(x.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";let x=[],k=this.h.entries();for(var L=k.next();!L.done;)L=L.value,x.push(L[0]+": "+L[1]),L=k.next();return x.join(`\r
`)};function vh(x){x.onreadystatechange&&x.onreadystatechange.call(x)}Object.defineProperty(Bg.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(x){this.m=x?"include":"same-origin"}});function QF(x){let k="";return y(x,function(L,W){k+=W,k+=":",k+=L,k+=`\r
`}),k}function Mx(x,k,L){e:{for(W in L){var W=!1;break e}W=!0}W||(L=QF(L),typeof x=="string"?L!=null&&encodeURIComponent(String(L)):Yr(x,k,L))}function pi(x){Xt.call(this),this.headers=new Map,this.o=x||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}f(pi,Xt);var HJ=/^https?$/i,GJ=["POST","PUT"];r=pi.prototype,r.Ha=function(x){this.J=x},r.ea=function(x,k,L,W){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+x);k=k?k.toUpperCase():"GET",this.D=x,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():sh.g(),this.v=this.o?et(this.o):et(sh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(k,String(x),!0),this.B=!1}catch(be){YF(this,be);return}if(x=L||"",L=new Map(this.headers),W)if(Object.getPrototypeOf(W)===Object.prototype)for(var he in W)L.set(he,W[he]);else if(typeof W.keys=="function"&&typeof W.get=="function")for(let be of W.keys())L.set(be,W.get(be));else throw Error("Unknown input type for opt_headers: "+String(W));W=Array.from(L.keys()).find(be=>be.toLowerCase()=="content-type"),he=s.FormData&&x instanceof s.FormData,!(0<=Array.prototype.indexOf.call(GJ,k,void 0))||W||he||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[be,Xe]of L)this.g.setRequestHeader(be,Xe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{eO(this),this.u=!0,this.g.send(x),this.u=!1}catch(be){YF(this,be)}};function YF(x,k){x.h=!1,x.g&&(x.j=!0,x.g.abort(),x.j=!1),x.l=k,x.m=5,ZF(x),Lg(x)}function ZF(x){x.A||(x.A=!0,cr(x,"complete"),cr(x,"error"))}r.abort=function(x){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=x||7,cr(this,"complete"),cr(this,"abort"),Lg(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lg(this,!0)),pi.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?JF(this):this.bb())},r.bb=function(){JF(this)};function JF(x){if(x.h&&typeof a<"u"&&(!x.v[1]||ts(x)!=4||x.Z()!=2)){if(x.u&&ts(x)==4)le(x.Ea,0,x);else if(cr(x,"readystatechange"),ts(x)==4){x.h=!1;try{let Xe=x.Z();e:switch(Xe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var L;if(!(L=k)){var W;if(W=Xe===0){var he=String(x.D).match(jF)[1]||null;!he&&s.self&&s.self.location&&(he=s.self.location.protocol.slice(0,-1)),W=!HJ.test(he?he.toLowerCase():"")}L=W}if(L)cr(x,"complete"),cr(x,"success");else{x.m=6;try{var be=2<ts(x)?x.g.statusText:""}catch{be=""}x.l=be+" ["+x.Z()+"]",ZF(x)}}finally{Lg(x)}}}}function Lg(x,k){if(x.g){eO(x);let L=x.g,W=x.v[0]?()=>{}:null;x.g=null,x.v=null,k||cr(x,"ready");try{L.onreadystatechange=W}catch{}}}function eO(x){x.I&&(s.clearTimeout(x.I),x.I=null)}r.isActive=function(){return!!this.g};function ts(x){return x.g?x.g.readyState:0}r.Z=function(){try{return 2<ts(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(x){if(this.g){var k=this.g.responseText;return x&&k.indexOf(x)==0&&(k=k.substring(x.length)),X(k)}};function tO(x){try{if(!x.g)return null;if("response"in x.g)return x.g.response;switch(x.H){case"":case"text":return x.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in x.g)return x.g.mozResponseArrayBuffer}return null}catch{return null}}function WJ(x){let k={};x=(x.g&&2<=ts(x)&&x.g.getAllResponseHeaders()||"").split(`\r
`);for(let W=0;W<x.length;W++){if(T(x[W]))continue;var L=S(x[W]);let he=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();let be=k[he]||[];k[he]=be,be.push(L)}A(k,function(W){return W.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function yh(x,k,L){return L&&L.internalChannelParams&&L.internalChannelParams[x]||k}function rO(x){this.Aa=0,this.i=[],this.j=new cl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=yh("failFast",!1,x),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=yh("baseRetryDelayMs",5e3,x),this.cb=yh("retryDelaySeedMs",1e4,x),this.Wa=yh("forwardChannelMaxRetries",2,x),this.wa=yh("forwardChannelRequestTimeoutMs",2e4,x),this.pa=x&&x.xmlHttpFactory||void 0,this.Xa=x&&x.Tb||void 0,this.Ca=x&&x.useFetchStreams||!1,this.L=void 0,this.J=x&&x.supportsCrossDomainXhr||!1,this.K="",this.h=new Rg(x&&x.concurrentRequestLimit),this.Da=new jJ,this.P=x&&x.fastHandshake||!1,this.O=x&&x.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=x&&x.Rb||!1,x&&x.xa&&this.j.xa(),x&&x.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&x&&x.detectBufferingProxy||!1,this.ja=void 0,x&&x.longPollingTimeout&&0<x.longPollingTimeout&&(this.ja=x.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=rO.prototype,r.la=8,r.G=1,r.connect=function(x,k,L,W){en(0),this.W=x,this.H=k||{},L&&W!==void 0&&(this.H.OSID=L,this.H.OAID=W),this.F=this.X,this.I=dO(this,null,this.W),zg(this)};function Nx(x){if(iO(x),x.G==3){var k=x.U++,L=es(x.I);if(Yr(L,"SID",x.K),Yr(L,"RID",k),Yr(L,"TYPE","terminate"),bh(x,L),k=new wa(x,x.j,k),k.L=2,k.v=Pg(es(L)),L=!1,s.navigator&&s.navigator.sendBeacon)try{L=s.navigator.sendBeacon(k.v.toString(),"")}catch{}!L&&s.Image&&(new Image().src=k.v,L=!0),L||(k.g=mO(k.j,null),k.g.ea(k.v)),k.F=Date.now(),Pu(k)}uO(x)}function Vg(x){x.g&&(Rx(x),x.g.cancel(),x.g=null)}function iO(x){Vg(x),x.u&&(s.clearTimeout(x.u),x.u=null),Ug(x),x.h.cancel(),x.s&&(typeof x.s=="number"&&s.clearTimeout(x.s),x.s=null)}function zg(x){if(!ul(x.h)&&!x.s){x.s=!0;var k=x.Ga;O||ee(),G||(O(),G=!0),B.add(k,x),x.B=0}}function XJ(x,k){return zs(x.h)>=x.h.j-(x.s?1:0)?!1:x.s?(x.i=k.D.concat(x.i),!0):x.G==1||x.G==2||x.B>=(x.Va?0:x.Wa)?!1:(x.s=sl(m(x.Ga,x,k),lO(x,x.B)),x.B++,!0)}r.Ga=function(x){if(this.s)if(this.s=null,this.G==1){if(!x){this.U=Math.floor(1e5*Math.random()),x=this.U++;let he=new wa(this,this.j,x),be=this.o;if(this.S&&(be?(be=b(be),D(be,this.S)):be=this.S),this.m!==null||this.O||(he.H=be,be=null),this.P)e:{for(var k=0,L=0;L<this.i.length;L++){t:{var W=this.i[L];if("__data__"in W.map&&(W=W.map.__data__,typeof W=="string")){W=W.length;break t}W=void 0}if(W===void 0)break;if(k+=W,4096<k){k=L;break e}if(k===4096||L===this.i.length-1){k=L+1;break e}}k=1e3}else k=1e3;k=oO(this,he,k),L=es(this.I),Yr(L,"RID",x),Yr(L,"CVER",22),this.D&&Yr(L,"X-HTTP-Session-Id",this.D),bh(this,L),be&&(this.O?k="headers="+encodeURIComponent(String(QF(be)))+"&"+k:this.m&&Mx(L,this.m,be)),Ix(this.h,he),this.Ua&&Yr(L,"TYPE","init"),this.P?(Yr(L,"$req",k),Yr(L,"SID","null"),he.T=!0,lh(he,L,null)):lh(he,L,k),this.G=2}}else this.G==3&&(x?nO(this,x):this.i.length==0||ul(this.h)||nO(this))};function nO(x,k){var L;k?L=k.l:L=x.U++;let W=es(x.I);Yr(W,"SID",x.K),Yr(W,"RID",L),Yr(W,"AID",x.T),bh(x,W),x.m&&x.o&&Mx(W,x.m,x.o),L=new wa(x,x.j,L,x.B+1),x.m===null&&(L.H=x.o),k&&(x.i=k.D.concat(x.i)),k=oO(x,L,1e3),L.I=Math.round(.5*x.wa)+Math.round(.5*x.wa*Math.random()),Ix(x.h,L),lh(L,W,k)}function bh(x,k){x.H&&y(x.H,function(L,W){Yr(k,W,L)}),x.l&&qF({},function(L,W){Yr(k,W,L)})}function oO(x,k,L){L=Math.min(x.i.length,L);var W=x.l?m(x.l.Na,x.l,x):null;e:{var he=x.i;let be=-1;for(;;){let Xe=["count="+L];be==-1?0<L?(be=he[0].g,Xe.push("ofs="+be)):be=0:Xe.push("ofs="+be);let $r=!0;for(let tn=0;tn<L;tn++){let Ar=he[tn].g,fn=he[tn].map;if(Ar-=be,0>Ar)be=Math.max(0,he[tn].g-100),$r=!1;else try{$J(fn,Xe,"req"+Ar+"_")}catch{W&&W(fn)}}if($r){W=Xe.join("&");break e}}}return x=x.i.splice(0,L),k.D=x,W}function aO(x){if(!x.g&&!x.u){x.Y=1;var k=x.Fa;O||ee(),G||(O(),G=!0),B.add(k,x),x.v=0}}function kx(x){return x.g||x.u||3<=x.v?!1:(x.Y++,x.u=sl(m(x.Fa,x),lO(x,x.v)),x.v++,!0)}r.Fa=function(){if(this.u=null,sO(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var x=2*this.R;this.j.info("BP detection timer enabled: "+x),this.A=sl(m(this.ab,this),x)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,en(10),Vg(this),sO(this))};function Rx(x){x.A!=null&&(s.clearTimeout(x.A),x.A=null)}function sO(x){x.g=new wa(x,x.j,"rpc",x.Y),x.m===null&&(x.g.H=x.o),x.g.O=0;var k=es(x.qa);Yr(k,"RID","rpc"),Yr(k,"SID",x.K),Yr(k,"AID",x.T),Yr(k,"CI",x.F?"0":"1"),!x.F&&x.ja&&Yr(k,"TO",x.ja),Yr(k,"TYPE","xmlhttp"),bh(x,k),x.m&&x.o&&Mx(k,x.m,x.o),x.L&&(x.g.I=x.L);var L=x.g;x=x.ia,L.L=1,L.v=Pg(es(k)),L.m=null,L.P=!0,Mg(L,x)}r.Za=function(){this.C!=null&&(this.C=null,Vg(this),kx(this),en(19))};function Ug(x){x.C!=null&&(s.clearTimeout(x.C),x.C=null)}function cO(x,k){var L=null;if(x.g==k){Ug(x),Rx(x),x.g=null;var W=2}else if(dh(x.h,k))L=k.D,zF(x.h,k),W=1;else return;if(x.G!=0){if(k.o)if(W==1){L=k.m?k.m.length:0,k=Date.now()-k.F;var he=x.B;W=Ja(),cr(W,new Cg(W,L)),zg(x)}else aO(x);else if(he=k.s,he==3||he==0&&0<k.X||!(W==1&&XJ(x,k)||W==2&&kx(x)))switch(L&&0<L.length&&(k=x.h,k.i=k.i.concat(L)),he){case 1:ml(x,5);break;case 4:ml(x,10);break;case 3:ml(x,6);break;default:ml(x,2)}}}function lO(x,k){let L=x.Ta+Math.floor(Math.random()*x.cb);return x.isActive()||(L*=2),L*k}function ml(x,k){if(x.j.info("Error code "+k),k==2){var L=m(x.fb,x),W=x.Xa;let he=!W;W=new dl(W||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Fg(W,"https"),Pg(W),he?UJ(W.toString(),L):qJ(W.toString(),L)}else en(2);x.G=0,x.l&&x.l.sa(k),uO(x),iO(x)}r.fb=function(x){x?(this.j.info("Successfully pinged google.com"),en(2)):(this.j.info("Failed to ping google.com"),en(1))};function uO(x){if(x.G=0,x.ka=[],x.l){let k=UF(x.h);(k.length!=0||x.i.length!=0)&&(w(x.ka,k),w(x.ka,x.i),x.h.i.length=0,p(x.i),x.i.length=0),x.l.ra()}}function dO(x,k,L){var W=L instanceof dl?es(L):new dl(L);if(W.g!="")k&&(W.g=k+"."+W.g),Og(W,W.s);else{var he=s.location;W=he.protocol,k=k?k+"."+he.hostname:he.hostname,he=+he.port;var be=new dl(null);W&&Fg(be,W),k&&(be.g=k),he&&Og(be,he),L&&(be.l=L),W=be}return L=x.D,k=x.ya,L&&k&&Yr(W,L,k),Yr(W,"VER",x.la),bh(x,W),W}function mO(x,k,L){if(k&&!x.J)throw Error("Can't create secondary domain capable XhrIo object.");return k=x.Ca&&!x.pa?new pi(new ph({eb:L})):new pi(x.pa),k.Ha(x.J),k}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function hO(){}r=hO.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function qg(){}qg.prototype.g=function(x,k){return new no(x,k)};function no(x,k){Xt.call(this),this.g=new rO(k),this.l=x,this.h=k&&k.messageUrlParams||null,x=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(x?x["X-Client-Protocol"]="webchannel":x={"X-Client-Protocol":"webchannel"}),this.g.o=x,x=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(x?x["X-WebChannel-Content-Type"]=k.messageContentType:x={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(x?x["X-WebChannel-Client-Profile"]=k.va:x={"X-WebChannel-Client-Profile":k.va}),this.g.S=x,(x=k&&k.Sb)&&!T(x)&&(this.g.m=x),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!T(k)&&(this.g.D=k,x=this.h,x!==null&&k in x&&(x=this.h,k in x&&delete x[k])),this.j=new Lu(this)}f(no,Xt),no.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},no.prototype.close=function(){Nx(this.g)},no.prototype.o=function(x){var k=this.g;if(typeof x=="string"){var L={};L.__data__=x,x=L}else this.u&&(L={},L.__data__=R(x),x=L);k.i.push(new hn(k.Ya++,x)),k.G==3&&zg(k)},no.prototype.N=function(){this.g.l=null,delete this.j,Nx(this.g),delete this.g,no.aa.N.call(this)};function fO(x){xi.call(this),x.__headers__&&(this.headers=x.__headers__,this.statusCode=x.__status__,delete x.__headers__,delete x.__status__);var k=x.__sm__;if(k){e:{for(let L in k){x=L;break e}x=void 0}(this.i=x)&&(x=this.i,k=k!==null&&x in k?k[x]:void 0),this.data=k}else this.data=x}f(fO,xi);function pO(){Rn.call(this),this.status=1}f(pO,Rn);function Lu(x){this.g=x}f(Lu,hO),Lu.prototype.ua=function(){cr(this.g,"a")},Lu.prototype.ta=function(x){cr(this.g,new fO(x))},Lu.prototype.sa=function(x){cr(this.g,new pO)},Lu.prototype.ra=function(){cr(this.g,"b")},qg.prototype.createWebChannel=qg.prototype.g,no.prototype.send=no.prototype.o,no.prototype.open=no.prototype.m,no.prototype.close=no.prototype.close,Bk=Is.createWebChannelTransport=function(){return new qg},Pk=Is.getStatEventTarget=function(){return Ja()},Ok=Is.Event=zi,e_=Is.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fu.NO_ERROR=0,Fu.TIMEOUT=8,Fu.HTTP_ERROR=6,Bp=Is.ErrorCode=Fu,Sg.COMPLETE="complete",Fk=Is.EventType=Sg,ht.EventType=gr,gr.OPEN="a",gr.CLOSE="b",gr.ERROR="c",gr.MESSAGE="d",Xt.prototype.listen=Xt.prototype.K,_m=Is.WebChannel=ht,fye=Is.FetchXmlHttpFactory=ph,pi.prototype.listenOnce=pi.prototype.L,pi.prototype.getLastError=pi.prototype.Ka,pi.prototype.getLastErrorCode=pi.prototype.Ba,pi.prototype.getStatus=pi.prototype.Z,pi.prototype.getResponseJson=pi.prototype.Oa,pi.prototype.getResponseText=pi.prototype.oa,pi.prototype.send=pi.prototype.ea,pi.prototype.setWithCredentials=pi.prototype.Ha,Rk=Is.XhrIo=pi}).apply(typeof Jb<"u"?Jb:typeof self<"u"?self:typeof window<"u"?window:{});var ZK="@firebase/firestore";var Li=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Li.UNAUTHENTICATED=new Li(null),Li.GOOGLE_CREDENTIALS=new Li("google-credentials-uid"),Li.FIRST_PARTY=new Li("first-party-uid"),Li.MOCK_USER=new Li("mock-user");var Ym="10.14.0";var Wc=new uv("@firebase/firestore");function Am(){return Wc.logLevel}function tY(r){Wc.setLogLevel(r)}function Oe(r,...e){if(Wc.logLevel<=Ca.DEBUG){let t=e.map(qR);Wc.debug(`Firestore (${Ym}): ${r}`,...t)}}function Si(r,...e){if(Wc.logLevel<=Ca.ERROR){let t=e.map(qR);Wc.error(`Firestore (${Ym}): ${r}`,...t)}}function va(r,...e){if(Wc.logLevel<=Ca.WARN){let t=e.map(qR);Wc.warn(`Firestore (${Ym}): ${r}`,...t)}}function qR(r){if(typeof r=="string")return r;try{return function(t){return JSON.stringify(t)}(r)}catch{return r}}function st(r="Unexpected state"){let e=`FIRESTORE (${Ym}) INTERNAL ASSERTION FAILED: `+r;throw Si(e),new Error(e)}function pt(r,e){r||st()}function rY(r,e){r||st()}function Ye(r,e){return r}var _e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Re=class extends uP{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Gi=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var u_=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},jk=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Li.UNAUTHENTICATED))}shutdown(){}},$k=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Hk=class{constructor(e){this.t=e,this.currentUser=Li.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){pt(this.o===void 0);let i=this.i,n=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve(),o=new Gi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Gi,e.enqueueRetryable(()=>n(this.currentUser))};let a=()=>{let c=o;e.enqueueRetryable(()=>xe(this,null,function*(){yield c.promise,yield n(this.currentUser)}))},s=c=>{Oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>s(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?s(c):(Oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Gi)}},0),a()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(pt(typeof i.accessToken=="string"),new u_(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return pt(e===null||typeof e=="string"),new Li(e)}},Gk=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Li.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Wk=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new Gk(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Li.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Xk=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Kk=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){pt(this.o===void 0);let i=o=>{o.error!=null&&Oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let a=o.token!==this.R;return this.R=o.token,Oe("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let n=o=>{Oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>n(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?n(o):Oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(pt(typeof t.token=="string"),this.R=t.token,new Xk(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function pye(r){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}var d_=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let n=pye(40);for(let o=0;o<n.length;++o)i.length<20&&n[o]<t&&(i+=e.charAt(n[o]%e.length))}return i}};function Gt(r,e){return r<e?-1:r>e?1:0}function Fm(r,e,t){return r.length===e.length&&r.every((i,n)=>t(i,e[n]))}function iY(r){return r+"\0"}var hi=class r{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Re(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return r.fromMillis(Date.now())}static fromDate(e){return r.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new r(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Gt(this.nanoseconds,e.nanoseconds):Gt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Et=class r{constructor(e){this.timestamp=e}static fromTimestamp(e){return new r(e)}static min(){return new r(new hi(0,0))}static max(){return new r(new hi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var m_=class r{constructor(e,t,i){t===void 0?t=0:t>e.length&&st(),i===void 0?i=e.length-t:i>e.length-t&&st(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return r.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof r?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let n=0;n<i;n++){let o=e.get(n),a=t.get(n);if(o<a)return-1;if(o>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},_r=class r extends m_{construct(e,t,i){return new r(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new Re(_e.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(n=>n.length>0))}return new r(t)}static emptyPath(){return new r([])}},gye=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ti=class r extends m_{construct(e,t,i){return new r(e,t,i)}static isValidIdentifier(e){return gye.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),r.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new r(["__name__"])}static fromServerFormat(e){let t=[],i="",n=0,o=()=>{if(i.length===0)throw new Re(_e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""},a=!1;for(;n<e.length;){let s=e[n];if(s==="\\"){if(n+1===e.length)throw new Re(_e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[n+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Re(_e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,n+=2}else s==="`"?(a=!a,n++):s!=="."||a?(i+=s,n++):(o(),n++)}if(o(),a)throw new Re(_e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new r(t)}static emptyPath(){return new r([])}};var Ze=class r{constructor(e){this.path=e}static fromPath(e){return new r(_r.fromString(e))}static fromName(e){return new r(_r.fromString(e).popFirst(5))}static empty(){return new r(_r.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_r.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return _r.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new r(new _r(e.slice()))}};var Om=class{constructor(e,t,i,n){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=n}};function Qk(r){return r.fields.find(e=>e.kind===2)}function lu(r){return r.fields.filter(e=>e.kind!==2)}Om.UNKNOWN_ID=-1;var Nm=class{constructor(e,t){this.fieldPath=e,this.kind=t}};var Kp=class r{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new r(0,Xo.min())}};function nY(r,e){let t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,n=Et.fromTimestamp(i===1e9?new hi(t+1,0):new hi(t,i));return new Xo(n,Ze.empty(),e)}function oY(r){return new Xo(r.readTime,r.key,-1)}var Xo=class r{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new r(Et.min(),Ze.empty(),-1)}static max(){return new r(Et.max(),Ze.empty(),-1)}};function jR(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Ze.comparator(r.documentKey,e.documentKey),t!==0?t:Gt(r.largestBatchId,e.largestBatchId))}var aY="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",h_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function il(r){return xe(this,null,function*(){if(r.code!==_e.FAILED_PRECONDITION||r.message!==aY)throw r;Oe("LocalStore","Unexpectedly lost primary lease")})}var ve=class r{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&st(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new r((i,n)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,n)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,n)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof r?t:r.resolve(t)}catch(t){return r.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):r.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):r.reject(t)}static resolve(e){return new r((t,i)=>{t(e)})}static reject(e){return new r((t,i)=>{i(e)})}static waitFor(e){return new r((t,i)=>{let n=0,o=0,a=!1;e.forEach(s=>{++n,s.next(()=>{++o,a&&o===n&&t()},c=>i(c))}),a=!0,o===n&&t()})}static or(e){let t=r.resolve(!1);for(let i of e)t=t.next(n=>n?r.resolve(n):i());return t}static forEach(e,t){let i=[];return e.forEach((n,o)=>{i.push(t.call(this,n,o))}),this.waitFor(i)}static mapArray(e,t){return new r((i,n)=>{let o=e.length,a=new Array(o),s=0;for(let c=0;c<o;c++){let l=c;t(e[l]).next(u=>{a[l]=u,++s,s===o&&i(a)},u=>n(u))}})}static doWhile(e,t){return new r((i,n)=>{let o=()=>{e()===!0?t().next(()=>{o()},n):i()};o()})}};var f_=class r{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Gi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new pu(e,t.error)):this.V.resolve()},this.transaction.onerror=i=>{let n=$R(i.target.error);this.V.reject(new pu(e,n))}}static open(e,t,i,n){try{return new r(t,e.transaction(n,i))}catch(o){throw new pu(t,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Oe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let t=this.transaction.objectStore(e);return new Zk(t)}},Xc=class r{constructor(e,t,i){this.name=e,this.version=t,this.p=i,r.S(Rh())===12.2&&Si("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Oe("SimpleDb","Removing database:",e),uu(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!lv())return!1;if(r.v())return!0;let e=Rh(),t=r.S(e),i=0<t&&t<10,n=sY(e),o=0<n&&n<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,t){return e.store(t)}static S(e){let t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}M(e){return xe(this,null,function*(){return this.db||(Oe("SimpleDb","Opening database:",this.name),this.db=yield new Promise((t,i)=>{let n=indexedDB.open(this.name,this.version);n.onsuccess=o=>{let a=o.target.result;t(a)},n.onblocked=()=>{i(new pu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},n.onerror=o=>{let a=o.target.error;a.name==="VersionError"?i(new Re(_e.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?i(new Re(_e.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):i(new pu(e,a))},n.onupgradeneeded=o=>{Oe("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let a=o.target.result;this.p.O(a,n.transaction,o.oldVersion,this.version).next(()=>{Oe("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=t=>this.N(t)),this.db})}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,n){return xe(this,null,function*(){let o=t==="readonly",a=0;for(;;){++a;try{this.db=yield this.M(e);let s=f_.open(this.db,e,o?"readonly":"readwrite",i),c=n(s).next(l=>(s.g(),l)).catch(l=>(s.abort(l),ve.reject(l))).toPromise();return c.catch(()=>{}),yield s.m,c}catch(s){let c=s,l=c.name!=="FirebaseError"&&a<3;if(Oe("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),this.close(),!l)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}};function sY(r){let e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}var Yk=class{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return uu(this.B.delete())}},pu=class extends Re{constructor(e,t){super(_e.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}};function nl(r){return r.name==="IndexedDbTransactionError"}var Zk=class{constructor(e){this.store=e}put(e,t){let i;return t!==void 0?(Oe("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Oe("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),uu(i)}add(e){return Oe("SimpleDb","ADD",this.store.name,e,e),uu(this.store.add(e))}get(e){return uu(this.store.get(e)).next(t=>(t===void 0&&(t=null),Oe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Oe("SimpleDb","DELETE",this.store.name,e),uu(this.store.delete(e))}count(){return Oe("SimpleDb","COUNT",this.store.name),uu(this.store.count())}U(e,t){let i=this.options(e,t),n=i.index?this.store.index(i.index):this.store;if(typeof n.getAll=="function"){let o=n.getAll(i.range);return new ve((a,s)=>{o.onerror=c=>{s(c.target.error)},o.onsuccess=c=>{a(c.target.result)}})}{let o=this.cursor(i),a=[];return this.W(o,(s,c)=>{a.push(c)}).next(()=>a)}}G(e,t){let i=this.store.getAll(e,t===null?void 0:t);return new ve((n,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{n(a.target.result)}})}j(e,t){Oe("SimpleDb","DELETE ALL",this.store.name);let i=this.options(e,t);i.H=!1;let n=this.cursor(i);return this.W(n,(o,a,s)=>s.delete())}J(e,t){let i;t?i=e:(i={},t=e);let n=this.cursor(i);return this.W(n,t)}Y(e){let t=this.cursor({});return new ve((i,n)=>{t.onerror=o=>{let a=$R(o.target.error);n(a)},t.onsuccess=o=>{let a=o.target.result;a?e(a.primaryKey,a.value).next(s=>{s?a.continue():i()}):i()}})}W(e,t){let i=[];return new ve((n,o)=>{e.onerror=a=>{o(a.target.error)},e.onsuccess=a=>{let s=a.target.result;if(!s)return void n();let c=new Yk(s),l=t(s.primaryKey,s.value,c);if(l instanceof ve){let u=l.catch(d=>(c.done(),ve.reject(d)));i.push(u)}c.isDone?n():c.K===null?s.continue():s.continue(c.K)}}).next(()=>ve.waitFor(i))}options(e,t){let i;return e!==void 0&&(typeof e=="string"?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){let i=this.store.index(e.index);return e.H?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}};function uu(r){return new ve((e,t)=>{r.onsuccess=i=>{let n=i.target.result;e(n)},r.onerror=i=>{let n=$R(i.target.error);t(n)}})}var JK=!1;function $R(r){let e=Xc.S(Rh());if(e>=12.2&&e<13){let t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){let i=new Re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return JK||(JK=!0,setTimeout(()=>{throw i},0)),i}}return r}var Jk=class{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){Oe("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>xe(this,null,function*(){this.task=null;try{Oe("IndexBackfiller",`Documents written: ${yield this.Z.ee()}`)}catch(t){nl(t)?Oe("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",t):yield il(t)}yield this.X(6e4)}))}},e2=class{constructor(e,t){this.localStore=e,this.persistence=t}ee(e=50){return xe(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.te(t,e))})}te(e,t){let i=new Set,n=t,o=!0;return ve.doWhile(()=>o===!0&&n>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(a=>{if(a!==null&&!i.has(a))return Oe("IndexBackfiller",`Processing collection: ${a}`),this.ne(e,a,n).next(s=>{n-=s,i.add(a)});o=!1})).next(()=>t-n)}ne(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(n=>this.localStore.localDocuments.getNextDocuments(e,t,n,i).next(o=>{let a=o.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next(()=>this.re(n,o)).next(s=>(Oe("IndexBackfiller",`Updating offset: ${s}`),this.localStore.indexManager.updateCollectionGroup(e,t,s))).next(()=>a.size)}))}re(e,t){let i=e;return t.changes.forEach((n,o)=>{let a=oY(o);jR(a,i)>0&&(i=a)}),new Xo(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}};var wo=(()=>{class r{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=n=>this.ie(n),this.se=n=>i.writeSequenceNumber(n))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return r.oe=-1,r})();function gg(r){return r==null}function Qp(r){return r===0&&1/r==-1/0}function cY(r){return typeof r=="number"&&Number.isInteger(r)&&!Qp(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function zn(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=eQ(e)),e=vye(r.get(t),e);return eQ(e)}function vye(r,e){let t=e,i=r.length;for(let n=0;n<i;n++){let o=r.charAt(n);switch(o){case"\0":t+="";break;case"":t+="";break;default:t+=o}}return t}function eQ(r){return r+""}function qa(r){let e=r.length;if(pt(e>=2),e===2)return pt(r.charAt(0)===""&&r.charAt(1)===""),_r.emptyPath();let t=e-2,i=[],n="";for(let o=0;o<e;){let a=r.indexOf("",o);switch((a<0||a>t)&&st(),r.charAt(a+1)){case"":let s=r.substring(o,a),c;n.length===0?c=s:(n+=s,c=n,n=""),i.push(c);break;case"":n+=r.substring(o,a),n+="\0";break;case"":n+=r.substring(o,a+1);break;default:st()}o=a+2}return new _r(i)}var tQ=["userId","batchId"];function o_(r,e){return[r,zn(e)]}function lY(r,e,t){return[r,zn(e),t]}var yye={},bye=["prefixPath","collectionGroup","readTime","documentId"],_ye=["prefixPath","collectionGroup","documentId"],xye=["collectionGroup","readTime","prefixPath","documentId"],wye=["canonicalId","targetId"],Eye=["targetId","path"],Dye=["path","targetId"],Aye=["collectionId","parent"],Cye=["indexId","uid"],Sye=["uid","sequenceNumber"],Tye=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Iye=["indexId","uid","orderedDocumentKey"],Mye=["userId","collectionPath","documentId"],Nye=["userId","collectionPath","largestBatchId"],kye=["userId","collectionGroup","largestBatchId"],uY=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Rye=[...uY,"documentOverlays"],dY=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],mY=dY,HR=[...mY,"indexConfiguration","indexState","indexEntries"],Fye=HR,Oye=[...HR,"globals"];var Yp=class extends h_{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}};function Wi(r,e){let t=Ye(r);return Xc.F(t._e,e)}function rQ(r){let e=0;for(let t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Su(r,e){for(let t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function hY(r){for(let e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}var ti=class r{constructor(e,t){this.comparator=e,this.root=t||$a.EMPTY}insert(e,t){return new r(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$a.BLACK,null,null))}remove(e){return new r(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$a.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let n=this.comparator(e,i.key);if(n===0)return t+i.left.size;n<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mm(this.root,e,this.comparator,!0)}},Mm=class{constructor(e,t,i,n){this.isReverse=n,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&n&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},$a=class r{constructor(e,t,i,n,o){this.key=e,this.value=t,this.color=i??r.RED,this.left=n??r.EMPTY,this.right=o??r.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,n,o){return new r(e??this.key,t??this.value,i??this.color,n??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let n=this,o=i(e,n.key);return n=o<0?n.copy(null,null,null,n.left.insert(e,t,i),null):o===0?n.copy(null,t,null,null,null):n.copy(null,null,null,null,n.right.insert(e,t,i)),n.fixUp()}removeMin(){if(this.left.isEmpty())return r.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,n=this;if(t(e,n.key)<0)n.left.isEmpty()||n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed()&&(n=n.rotateRight()),n.right.isEmpty()||n.right.isRed()||n.right.left.isRed()||(n=n.moveRedRight()),t(e,n.key)===0){if(n.right.isEmpty())return r.EMPTY;i=n.right.min(),n=n.copy(i.key,i.value,null,null,n.right.removeMin())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,r.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw st();let e=this.left.check();if(e!==this.right.check())throw st();return e+(this.isRed()?0:1)}};$a.EMPTY=null,$a.RED=!0,$a.BLACK=!1;$a.EMPTY=new class{constructor(){this.size=0}get key(){throw st()}get value(){throw st()}get color(){throw st()}get left(){throw st()}get right(){throw st()}copy(e,t,i,n,o){return this}insert(e,t,i){return new $a(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Xr=class r{constructor(e){this.comparator=e,this.data=new ti(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let n=i.getNext();if(this.comparator(n.key,e[1])>=0)return;t(n.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new p_(this.data.getIterator())}getIteratorFrom(e){return new p_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof r)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let n=t.getNext().key,o=i.getNext().key;if(this.comparator(n,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new r(this.comparator);return t.data=e,t}},p_=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function xm(r){return r.hasNext()?r.getNext():void 0}var Eo=class r{constructor(e){this.fields=e,e.sort(Ti.comparator)}static empty(){return new r([])}unionWith(e){let t=new Xr(Ti.comparator);for(let i of this.fields)t=t.add(i);for(let i of e)t=t.add(i);return new r(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fm(this.fields,e.fields,(t,i)=>t.isEqual(i))}};var g_=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};function fY(){return typeof atob<"u"}var Mi=class r{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(n){try{return atob(n)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new g_("Invalid base64 string: "+o):o}}(e);return new r(t)}static fromUint8Array(e){let t=function(n){let o="";for(let a=0;a<n.length;++a)o+=String.fromCharCode(n[a]);return o}(e);return new r(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let i=new Uint8Array(t.length);for(let n=0;n<t.length;n++)i[n]=t.charCodeAt(n);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Gt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Mi.EMPTY_BYTE_STRING=new Mi("");var Pye=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ks(r){if(pt(!!r),typeof r=="string"){let e=0,t=Pye.exec(r);if(pt(!!t),t[1]){let n=t[1];n=(n+"000000000").substr(0,9),e=Number(n)}let i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ci(r.seconds),nanos:ci(r.nanos)}}function ci(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Kc(r){return typeof r=="string"?Mi.fromBase64String(r):Mi.fromUint8Array(r)}function sx(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function GR(r){let e=r.mapValue.fields.__previous_value__;return sx(e)?GR(e):e}function Zp(r){let e=ks(r.mapValue.fields.__local_write_time__.timestampValue);return new hi(e.seconds,e.nanos)}var t2=class{constructor(e,t,i,n,o,a,s,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=n,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=c,this.useFetchStreams=l}},Qc=class r{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new r("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof r&&e.projectId===this.projectId&&e.database===this.database}};var Hc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},a_={nullValue:"NULL_VALUE"};function gu(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?sx(r)?4:pY(r)?9007199254740991:cx(r)?10:11:st()}function Wa(r,e){if(r===e)return!0;let t=gu(r);if(t!==gu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Zp(r).isEqual(Zp(e));case 3:return function(n,o){if(typeof n.timestampValue=="string"&&typeof o.timestampValue=="string"&&n.timestampValue.length===o.timestampValue.length)return n.timestampValue===o.timestampValue;let a=ks(n.timestampValue),s=ks(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(n,o){return Kc(n.bytesValue).isEqual(Kc(o.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(n,o){return ci(n.geoPointValue.latitude)===ci(o.geoPointValue.latitude)&&ci(n.geoPointValue.longitude)===ci(o.geoPointValue.longitude)}(r,e);case 2:return function(n,o){if("integerValue"in n&&"integerValue"in o)return ci(n.integerValue)===ci(o.integerValue);if("doubleValue"in n&&"doubleValue"in o){let a=ci(n.doubleValue),s=ci(o.doubleValue);return a===s?Qp(a)===Qp(s):isNaN(a)&&isNaN(s)}return!1}(r,e);case 9:return Fm(r.arrayValue.values||[],e.arrayValue.values||[],Wa);case 10:case 11:return function(n,o){let a=n.mapValue.fields||{},s=o.mapValue.fields||{};if(rQ(a)!==rQ(s))return!1;for(let c in a)if(a.hasOwnProperty(c)&&(s[c]===void 0||!Wa(a[c],s[c])))return!1;return!0}(r,e);default:return st()}}function Jp(r,e){return(r.values||[]).find(t=>Wa(t,e))!==void 0}function Yc(r,e){if(r===e)return 0;let t=gu(r),i=gu(e);if(t!==i)return Gt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Gt(r.booleanValue,e.booleanValue);case 2:return function(o,a){let s=ci(o.integerValue||o.doubleValue),c=ci(a.integerValue||a.doubleValue);return s<c?-1:s>c?1:s===c?0:isNaN(s)?isNaN(c)?0:-1:1}(r,e);case 3:return iQ(r.timestampValue,e.timestampValue);case 4:return iQ(Zp(r),Zp(e));case 5:return Gt(r.stringValue,e.stringValue);case 6:return function(o,a){let s=Kc(o),c=Kc(a);return s.compareTo(c)}(r.bytesValue,e.bytesValue);case 7:return function(o,a){let s=o.split("/"),c=a.split("/");for(let l=0;l<s.length&&l<c.length;l++){let u=Gt(s[l],c[l]);if(u!==0)return u}return Gt(s.length,c.length)}(r.referenceValue,e.referenceValue);case 8:return function(o,a){let s=Gt(ci(o.latitude),ci(a.latitude));return s!==0?s:Gt(ci(o.longitude),ci(a.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return nQ(r.arrayValue,e.arrayValue);case 10:return function(o,a){var s,c,l,u;let d=o.fields||{},m=a.fields||{},h=(s=d.value)===null||s===void 0?void 0:s.arrayValue,f=(c=m.value)===null||c===void 0?void 0:c.arrayValue,p=Gt(((l=h?.values)===null||l===void 0?void 0:l.length)||0,((u=f?.values)===null||u===void 0?void 0:u.length)||0);return p!==0?p:nQ(h,f)}(r.mapValue,e.mapValue);case 11:return function(o,a){if(o===Hc.mapValue&&a===Hc.mapValue)return 0;if(o===Hc.mapValue)return 1;if(a===Hc.mapValue)return-1;let s=o.fields||{},c=Object.keys(s),l=a.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let d=0;d<c.length&&d<u.length;++d){let m=Gt(c[d],u[d]);if(m!==0)return m;let h=Yc(s[c[d]],l[u[d]]);if(h!==0)return h}return Gt(c.length,u.length)}(r.mapValue,e.mapValue);default:throw st()}}function iQ(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Gt(r,e);let t=ks(r),i=ks(e),n=Gt(t.seconds,i.seconds);return n!==0?n:Gt(t.nanos,i.nanos)}function nQ(r,e){let t=r.values||[],i=e.values||[];for(let n=0;n<t.length&&n<i.length;++n){let o=Yc(t[n],i[n]);if(o)return o}return Gt(t.length,i.length)}function Pm(r){return r2(r)}function r2(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){let i=ks(t);return`time(${i.seconds},${i.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Kc(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Ze.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let i="[",n=!0;for(let o of t.values||[])n?n=!1:i+=",",i+=r2(o);return i+"]"}(r.arrayValue):"mapValue"in r?function(t){let i=Object.keys(t.fields||{}).sort(),n="{",o=!0;for(let a of i)o?o=!1:n+=",",n+=`${a}:${r2(t.fields[a])}`;return n+"}"}(r.mapValue):st()}function vu(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function i2(r){return!!r&&"integerValue"in r}function eg(r){return!!r&&"arrayValue"in r}function oQ(r){return!!r&&"nullValue"in r}function aQ(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function s_(r){return!!r&&"mapValue"in r}function cx(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function $p(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){let e={mapValue:{fields:{}}};return Su(r.mapValue.fields,(t,i)=>e.mapValue.fields[t]=$p(i)),e}if(r.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$p(r.arrayValue.values[t]);return e}return Object.assign({},r)}function pY(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var gY={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Bye(r){return"nullValue"in r?a_:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?vu(Qc.empty(),Ze.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?cx(r)?gY:{mapValue:{}}:st()}function Lye(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?vu(Qc.empty(),Ze.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?gY:"mapValue"in r?cx(r)?{mapValue:{}}:Hc:st()}function sQ(r,e){let t=Yc(r.value,e.value);return t!==0?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function cQ(r,e){let t=Yc(r.value,e.value);return t!==0?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}var kn=class r{constructor(e){this.value=e}static empty(){return new r({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!s_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$p(t)}setAll(e){let t=Ti.emptyPath(),i={},n=[];e.forEach((a,s)=>{if(!t.isImmediateParentOf(s)){let c=this.getFieldsMap(t);this.applyChanges(c,i,n),i={},n=[],t=s.popLast()}a?i[s.lastSegment()]=$p(a):n.push(s.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,i,n)}delete(e){let t=this.field(e.popLast());s_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let n=t.mapValue.fields[e.get(i)];s_(n)&&n.mapValue.fields||(n={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=n),t=n}return t.mapValue.fields}applyChanges(e,t,i){Su(t,(n,o)=>e[n]=o);for(let n of i)delete e[n]}clone(){return new r($p(this.value))}};function vY(r){let e=[];return Su(r.fields,(t,i)=>{let n=new Ti([t]);if(s_(i)){let o=vY(i.mapValue).fields;if(o.length===0)e.push(n);else for(let a of o)e.push(n.child(a))}else e.push(n)}),new Eo(e)}var Vi=class r{constructor(e,t,i,n,o,a,s){this.key=e,this.documentType=t,this.version=i,this.readTime=n,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(e){return new r(e,0,Et.min(),Et.min(),Et.min(),kn.empty(),0)}static newFoundDocument(e,t,i,n){return new r(e,1,t,Et.min(),i,n,0)}static newNoDocument(e,t){return new r(e,2,t,Et.min(),Et.min(),kn.empty(),0)}static newUnknownDocument(e,t){return new r(e,3,t,Et.min(),Et.min(),kn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof r&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new r(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Xa=class{constructor(e,t){this.position=e,this.inclusive=t}};function lQ(r,e,t){let i=0;for(let n=0;n<r.position.length;n++){let o=e[n],a=r.position[n];if(o.field.isKeyField()?i=Ze.comparator(Ze.fromName(a.referenceValue),t.key):i=Yc(a,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function uQ(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Wa(r.position[t],e.position[t]))return!1;return!0}var yu=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function Vye(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}var v_=class{},fr=class r extends v_{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new a2(e,t,i):t==="array-contains"?new l2(e,i):t==="in"?new y_(e,i):t==="not-in"?new u2(e,i):t==="array-contains-any"?new d2(e,i):new r(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new s2(e,i):new c2(e,i)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Yc(t,this.value)):t!==null&&gu(this.value)===gu(t)&&this.matchesComparison(Yc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return st()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},zr=class r extends v_{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new r(e,t)}matches(e){return Bm(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Bm(r){return r.op==="and"}function n2(r){return r.op==="or"}function WR(r){return yY(r)&&Bm(r)}function yY(r){for(let e of r.filters)if(e instanceof zr)return!1;return!0}function o2(r){if(r instanceof fr)return r.field.canonicalString()+r.op.toString()+Pm(r.value);if(WR(r))return r.filters.map(e=>o2(e)).join(",");{let e=r.filters.map(t=>o2(t)).join(",");return`${r.op}(${e})`}}function bY(r,e){return r instanceof fr?function(i,n){return n instanceof fr&&i.op===n.op&&i.field.isEqual(n.field)&&Wa(i.value,n.value)}(r,e):r instanceof zr?function(i,n){return n instanceof zr&&i.op===n.op&&i.filters.length===n.filters.length?i.filters.reduce((o,a,s)=>o&&bY(a,n.filters[s]),!0):!1}(r,e):void st()}function _Y(r,e){let t=r.filters.concat(e);return zr.create(t,r.op)}function xY(r){return r instanceof fr?function(t){return`${t.field.canonicalString()} ${t.op} ${Pm(t.value)}`}(r):r instanceof zr?function(t){return t.op.toString()+" {"+t.getFilters().map(xY).join(" ,")+"}"}(r):"Filter"}var a2=class extends fr{constructor(e,t,i){super(e,t,i),this.key=Ze.fromName(i.referenceValue)}matches(e){let t=Ze.comparator(e.key,this.key);return this.matchesComparison(t)}},s2=class extends fr{constructor(e,t){super(e,"in",t),this.keys=wY("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},c2=class extends fr{constructor(e,t){super(e,"not-in",t),this.keys=wY("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function wY(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ze.fromName(i.referenceValue))}var l2=class extends fr{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return eg(t)&&Jp(t.arrayValue,this.value)}},y_=class extends fr{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Jp(this.value.arrayValue,t)}},u2=class extends fr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Jp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Jp(this.value.arrayValue,t)}},d2=class extends fr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!eg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Jp(this.value.arrayValue,i))}};var m2=class{constructor(e,t=null,i=[],n=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=n,this.limit=o,this.startAt=a,this.endAt=s,this.ue=null}};function h2(r,e=null,t=[],i=[],n=null,o=null,a=null){return new m2(r,e,t,i,n,o,a)}function bu(r){let e=Ye(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>o2(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),gg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Pm(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Pm(i)).join(",")),e.ue=t}return e.ue}function vg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!Vye(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!bY(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!uQ(r.startAt,e.startAt)&&uQ(r.endAt,e.endAt)}function b_(r){return Ze.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function __(r,e){return r.filters.filter(t=>t instanceof fr&&t.field.isEqual(e))}function dQ(r,e,t){let i=a_,n=!0;for(let o of __(r,e)){let a=a_,s=!0;switch(o.op){case"<":case"<=":a=Bye(o.value);break;case"==":case"in":case">=":a=o.value;break;case">":a=o.value,s=!1;break;case"!=":case"not-in":a=a_}sQ({value:i,inclusive:n},{value:a,inclusive:s})<0&&(i=a,n=s)}if(t!==null){for(let o=0;o<r.orderBy.length;++o)if(r.orderBy[o].field.isEqual(e)){let a=t.position[o];sQ({value:i,inclusive:n},{value:a,inclusive:t.inclusive})<0&&(i=a,n=t.inclusive);break}}return{value:i,inclusive:n}}function mQ(r,e,t){let i=Hc,n=!0;for(let o of __(r,e)){let a=Hc,s=!0;switch(o.op){case">=":case">":a=Lye(o.value),s=!1;break;case"==":case"in":case"<=":a=o.value;break;case"<":a=o.value,s=!1;break;case"!=":case"not-in":a=Hc}cQ({value:i,inclusive:n},{value:a,inclusive:s})>0&&(i=a,n=s)}if(t!==null){for(let o=0;o<r.orderBy.length;++o)if(r.orderBy[o].field.isEqual(e)){let a=t.position[o];cQ({value:i,inclusive:n},{value:a,inclusive:t.inclusive})>0&&(i=a,n=t.inclusive);break}}return{value:i,inclusive:n}}var ya=class{constructor(e,t=null,i=[],n=[],o=null,a="F",s=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=n,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function EY(r,e,t,i,n,o,a,s){return new ya(r,e,t,i,n,o,a,s)}function Zm(r){return new ya(r)}function hQ(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function XR(r){return r.collectionGroup!==null}function km(r){let e=Ye(r);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new Xr(Ti.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(s=s.add(l.field))})}),s})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new yu(o,i))}),t.has(Ti.keyField().canonicalString())||e.ce.push(new yu(Ti.keyField(),i))}return e.ce}function Un(r){let e=Ye(r);return e.le||(e.le=zye(e,km(r))),e.le}function zye(r,e){if(r.limitType==="F")return h2(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(n=>{let o=n.dir==="desc"?"asc":"desc";return new yu(n.field,o)});let t=r.endAt?new Xa(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new Xa(r.startAt.position,r.startAt.inclusive):null;return h2(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}function f2(r,e){let t=r.filters.concat([e]);return new ya(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function x_(r,e,t){return new ya(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function yg(r,e){return vg(Un(r),Un(e))&&r.limitType===e.limitType}function DY(r){return`${bu(Un(r))}|lt:${r.limitType}`}function Cm(r){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(n=>xY(n)).join(", ")}]`),gg(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(n=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(n)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(n=>Pm(n)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(n=>Pm(n)).join(",")),`Target(${i})`}(Un(r))}; limitType=${r.limitType})`}function bg(r,e){return e.isFoundDocument()&&function(i,n){let o=n.key.path;return i.collectionGroup!==null?n.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Ze.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(r,e)&&function(i,n){for(let o of km(i))if(!o.field.isKeyField()&&n.data.field(o.field)===null)return!1;return!0}(r,e)&&function(i,n){for(let o of i.filters)if(!o.matches(n))return!1;return!0}(r,e)&&function(i,n){return!(i.startAt&&!function(a,s,c){let l=lQ(a,s,c);return a.inclusive?l<=0:l<0}(i.startAt,km(i),n)||i.endAt&&!function(a,s,c){let l=lQ(a,s,c);return a.inclusive?l>=0:l>0}(i.endAt,km(i),n))}(r,e)}function AY(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function CY(r){return(e,t)=>{let i=!1;for(let n of km(r)){let o=Uye(n,e,t);if(o!==0)return o;i=i||n.field.isKeyField()}return 0}}function Uye(r,e,t){let i=r.field.isKeyField()?Ze.comparator(e.key,t.key):function(o,a,s){let c=a.data.field(o),l=s.data.field(o);return c!==null&&l!==null?Yc(c,l):st()}(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return st()}}var Ka=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(let[n,o]of i)if(this.equalsFn(n,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let i=this.mapKeyFn(e),n=this.inner[i];if(n===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<n.length;o++)if(this.equalsFn(n[o][0],e))return void(n[o]=[e,t]);n.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let n=0;n<i.length;n++)if(this.equalsFn(i[n][0],e))return i.length===1?delete this.inner[t]:i.splice(n,1),this.innerSize--,!0;return!1}forEach(e){Su(this.inner,(t,i)=>{for(let[n,o]of i)e(n,o)})}isEmpty(){return hY(this.inner)}size(){return this.innerSize}};var qye=new ti(Ze.comparator);function ro(){return qye}var SY=new ti(Ze.comparator);function qp(...r){let e=SY;for(let t of r)e=e.insert(t.key,t);return e}function TY(r){let e=SY;return r.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ja(){return Hp()}function IY(){return Hp()}function Hp(){return new Ka(r=>r.toString(),(r,e)=>r.isEqual(e))}var jye=new ti(Ze.comparator),$ye=new Xr(Ze.comparator);function Jt(...r){let e=$ye;for(let t of r)e=e.add(t);return e}var Hye=new Xr(Gt);function KR(){return Hye}function QR(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qp(e)?"-0":e}}function MY(r){return{integerValue:""+r}}function NY(r,e){return cY(e)?MY(e):QR(r,e)}var Lm=class{constructor(){this._=void 0}};function Gye(r,e,t){return r instanceof Zc?function(n,o){let a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:n.seconds,nanos:n.nanoseconds}}}};return o&&sx(o)&&(o=GR(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(t,e):r instanceof Rs?RY(r,e):r instanceof Fs?FY(r,e):function(n,o){let a=kY(n,o),s=fQ(a)+fQ(n.Pe);return i2(a)&&i2(n.Pe)?MY(s):QR(n.serializer,s)}(r,e)}function Wye(r,e,t){return r instanceof Rs?RY(r,e):r instanceof Fs?FY(r,e):t}function kY(r,e){return r instanceof Jc?function(i){return i2(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}var Zc=class extends Lm{},Rs=class extends Lm{constructor(e){super(),this.elements=e}};function RY(r,e){let t=OY(e);for(let i of r.elements)t.some(n=>Wa(n,i))||t.push(i);return{arrayValue:{values:t}}}var Fs=class extends Lm{constructor(e){super(),this.elements=e}};function FY(r,e){let t=OY(e);for(let i of r.elements)t=t.filter(n=>!Wa(n,i));return{arrayValue:{values:t}}}var Jc=class extends Lm{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function fQ(r){return ci(r.integerValue||r.doubleValue)}function OY(r){return eg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}var _u=class{constructor(e,t){this.field=e,this.transform=t}};function Xye(r,e){return r.field.isEqual(e.field)&&function(i,n){return i instanceof Rs&&n instanceof Rs||i instanceof Fs&&n instanceof Fs?Fm(i.elements,n.elements,Wa):i instanceof Jc&&n instanceof Jc?Wa(i.Pe,n.Pe):i instanceof Zc&&n instanceof Zc}(r.transform,e.transform)}var p2=class{constructor(e,t){this.version=e,this.transformResults=t}},_i=class r{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new r}static exists(e){return new r(void 0,e)}static updateTime(e){return new r(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function c_(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}var Vm=class{};function PY(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new tl(r.key,_i.none()):new el(r.key,r.data,_i.none());{let t=r.data,i=kn.empty(),n=new Xr(Ti.comparator);for(let o of e.fields)if(!n.has(o)){let a=t.field(o);a===null&&o.length>1&&(o=o.popLast(),a=t.field(o)),a===null?i.delete(o):i.set(o,a),n=n.add(o)}return new ba(r.key,i,new Eo(n.toArray()),_i.none())}}function Kye(r,e,t){r instanceof el?function(n,o,a){let s=n.value.clone(),c=gQ(n.fieldTransforms,o,a.transformResults);s.setAll(c),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()}(r,e,t):r instanceof ba?function(n,o,a){if(!c_(n.precondition,o))return void o.convertToUnknownDocument(a.version);let s=gQ(n.fieldTransforms,o,a.transformResults),c=o.data;c.setAll(BY(n)),c.setAll(s),o.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(r,e,t):function(n,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,t)}function Gp(r,e,t,i){return r instanceof el?function(o,a,s,c){if(!c_(o.precondition,a))return s;let l=o.value.clone(),u=vQ(o.fieldTransforms,c,a);return l.setAll(u),a.convertToFoundDocument(a.version,l).setHasLocalMutations(),null}(r,e,t,i):r instanceof ba?function(o,a,s,c){if(!c_(o.precondition,a))return s;let l=vQ(o.fieldTransforms,c,a),u=a.data;return u.setAll(BY(o)),u.setAll(l),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(r,e,t,i):function(o,a,s){return c_(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s}(r,e,t)}function Qye(r,e){let t=null;for(let i of r.fieldTransforms){let n=e.data.field(i.field),o=kY(i.transform,n||null);o!=null&&(t===null&&(t=kn.empty()),t.set(i.field,o))}return t||null}function pQ(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(i,n){return i===void 0&&n===void 0||!(!i||!n)&&Fm(i,n,(o,a)=>Xye(o,a))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}var el=class extends Vm{constructor(e,t,i,n=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=n,this.type=0}getFieldMask(){return null}},ba=class extends Vm{constructor(e,t,i,n,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=n,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function BY(r){let e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let i=r.data.field(t);e.set(t,i)}}),e}function gQ(r,e,t){let i=new Map;pt(r.length===t.length);for(let n=0;n<t.length;n++){let o=r[n],a=o.transform,s=e.data.field(o.field);i.set(o.field,Wye(a,s,t[n]))}return i}function vQ(r,e,t){let i=new Map;for(let n of r){let o=n.transform,a=t.data.field(n.field);i.set(n.field,Gye(o,a,e))}return i}var tl=class extends Vm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},tg=class extends Vm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var rg=class{constructor(e,t,i,n){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=n}applyToRemoteDocument(e,t){let i=t.mutationResults;for(let n=0;n<this.mutations.length;n++){let o=this.mutations[n];o.key.isEqual(e.key)&&Kye(o,e,i[n])}}applyToLocalView(e,t){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(t=Gp(i,e,t,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(t=Gp(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let i=IY();return this.mutations.forEach(n=>{let o=e.get(n.key),a=o.overlayedDocument,s=this.applyToLocalView(a,o.mutatedFields);s=t.has(n.key)?null:s;let c=PY(a,s);c!==null&&i.set(n.key,c),a.isValidDocument()||a.convertToNoDocument(Et.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Jt())}isEqual(e){return this.batchId===e.batchId&&Fm(this.mutations,e.mutations,(t,i)=>pQ(t,i))&&Fm(this.baseMutations,e.baseMutations,(t,i)=>pQ(t,i))}},g2=class r{constructor(e,t,i,n){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=n}static from(e,t,i){pt(e.mutations.length===i.length);let n=function(){return jye}(),o=e.mutations;for(let a=0;a<o.length;a++)n=n.insert(o[a].key,i[a].version);return new r(e,t,i,n)}};var ig=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var v2=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Pi,br;function LY(r){switch(r){default:return st();case _e.CANCELLED:case _e.UNKNOWN:case _e.DEADLINE_EXCEEDED:case _e.RESOURCE_EXHAUSTED:case _e.INTERNAL:case _e.UNAVAILABLE:case _e.UNAUTHENTICATED:return!1;case _e.INVALID_ARGUMENT:case _e.NOT_FOUND:case _e.ALREADY_EXISTS:case _e.PERMISSION_DENIED:case _e.FAILED_PRECONDITION:case _e.ABORTED:case _e.OUT_OF_RANGE:case _e.UNIMPLEMENTED:case _e.DATA_LOSS:return!0}}function VY(r){if(r===void 0)return Si("GRPC error has no .code"),_e.UNKNOWN;switch(r){case Pi.OK:return _e.OK;case Pi.CANCELLED:return _e.CANCELLED;case Pi.UNKNOWN:return _e.UNKNOWN;case Pi.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case Pi.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case Pi.INTERNAL:return _e.INTERNAL;case Pi.UNAVAILABLE:return _e.UNAVAILABLE;case Pi.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case Pi.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case Pi.NOT_FOUND:return _e.NOT_FOUND;case Pi.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case Pi.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case Pi.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case Pi.ABORTED:return _e.ABORTED;case Pi.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case Pi.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case Pi.DATA_LOSS:return _e.DATA_LOSS;default:return st()}}(br=Pi||(Pi={}))[br.OK=0]="OK",br[br.CANCELLED=1]="CANCELLED",br[br.UNKNOWN=2]="UNKNOWN",br[br.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",br[br.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",br[br.NOT_FOUND=5]="NOT_FOUND",br[br.ALREADY_EXISTS=6]="ALREADY_EXISTS",br[br.PERMISSION_DENIED=7]="PERMISSION_DENIED",br[br.UNAUTHENTICATED=16]="UNAUTHENTICATED",br[br.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",br[br.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",br[br.ABORTED=10]="ABORTED",br[br.OUT_OF_RANGE=11]="OUT_OF_RANGE",br[br.UNIMPLEMENTED=12]="UNIMPLEMENTED",br[br.INTERNAL=13]="INTERNAL",br[br.UNAVAILABLE=14]="UNAVAILABLE",br[br.DATA_LOSS=15]="DATA_LOSS";var yQ=null;function zY(){return new TextEncoder}var Yye=new zc([4294967295,4294967295],0);function bQ(r){let e=zY().encode(r),t=new kk;return t.update(e),new Uint8Array(t.digest())}function _Q(r){let e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),n=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new zc([t,i],0),new zc([n,o],0)]}var y2=class r{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new fu(`Invalid padding: ${t}`);if(i<0)throw new fu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new fu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new fu(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=zc.fromNumber(this.Ie)}Ee(e,t,i){let n=e.add(t.multiply(zc.fromNumber(i)));return n.compare(Yye)===1&&(n=new zc([n.getBits(0),n.getBits(1)],0)),n.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=bQ(e),[i,n]=_Q(t);for(let o=0;o<this.hashCount;o++){let a=this.Ee(i,n,o);if(!this.de(a))return!1}return!0}static create(e,t,i){let n=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new r(o,n,t);return i.forEach(s=>a.insert(s)),a}insert(e){if(this.Ie===0)return;let t=bQ(e),[i,n]=_Q(t);for(let o=0;o<this.hashCount;o++){let a=this.Ee(i,n,o);this.Ae(a)}}Ae(e){let t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}},fu=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var ng=class r{constructor(e,t,i,n,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=n,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){let n=new Map;return n.set(e,og.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new r(Et.min(),n,new ti(Gt),ro(),Jt())}},og=class r{constructor(e,t,i,n,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=n,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new r(i,t,Jt(),Jt(),Jt())}};var Rm=class{constructor(e,t,i,n){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=n}},w_=class{constructor(e,t){this.targetId=e,this.me=t}},E_=class{constructor(e,t,i=Mi.EMPTY_BYTE_STRING,n=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=n}},D_=class{constructor(){this.fe=0,this.ge=wQ(),this.pe=Mi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Jt(),t=Jt(),i=Jt();return this.ge.forEach((n,o)=>{switch(o){case 0:e=e.add(n);break;case 2:t=t.add(n);break;case 1:i=i.add(n);break;default:st()}}),new og(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=wQ()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,pt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},b2=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=ro(),this.qe=xQ(),this.Qe=new ti(Gt)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:st()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,n)=>{this.ze(n)&&t(n)})}He(e){let t=e.targetId,i=e.me.count,n=this.Je(t);if(n){let o=n.target;if(b_(o))if(i===0){let a=new Ze(o.path);this.Ue(t,a,Vi.newNoDocument(a,Et.min()))}else pt(i===1);else{let a=this.Ye(t);if(a!==i){let s=this.Ze(e),c=s?this.Xe(s,e,a):1;if(c!==0){this.je(t);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,l)}yQ?.et(function(u,d,m,h,f){var p,w,C,T,g,_;let v={localCacheCount:u,existenceFilterCount:d.count,databaseId:m.database,projectId:m.projectId},y=d.unchangedNames;return y&&(v.bloomFilter={applied:f===0,hashCount:(p=y?.hashCount)!==null&&p!==void 0?p:0,bitmapLength:(T=(C=(w=y?.bits)===null||w===void 0?void 0:w.bitmap)===null||C===void 0?void 0:C.length)!==null&&T!==void 0?T:0,padding:(_=(g=y?.bits)===null||g===void 0?void 0:g.padding)!==null&&_!==void 0?_:0,mightContain:A=>{var b;return(b=h?.mightContain(A))!==null&&b!==void 0&&b}}),v}(a,e.me,this.Le.tt(),s,c))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:i="",padding:n=0},hashCount:o=0}=t,a,s;try{a=Kc(i).toUint8Array()}catch(c){if(c instanceof g_)return va("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{s=new y2(a,n,o)}catch(c){return va(c instanceof fu?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return s.Ie===0?null:s}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){let i=this.Le.getRemoteKeysForTarget(t),n=0;return i.forEach(o=>{let a=this.Le.tt(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(s)||(this.Ue(t,o,null),n++)}),n}rt(e){let t=new Map;this.Be.forEach((o,a)=>{let s=this.Je(a);if(s){if(o.current&&b_(s.target)){let c=new Ze(s.target.path);this.ke.get(c)!==null||this.it(a,c)||this.Ue(a,c,Vi.newNoDocument(c,e))}o.be&&(t.set(a,o.ve()),o.Ce())}});let i=Jt();this.qe.forEach((o,a)=>{let s=!0;a.forEachWhile(c=>{let l=this.Je(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(i=i.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(e));let n=new ng(e,t,this.Qe,this.ke,i);return this.ke=ro(),this.qe=xQ(),this.Qe=new ti(Gt),n}$e(e,t){if(!this.ze(e))return;let i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;let n=this.Ge(e);this.it(e,t)?n.Fe(t,1):n.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new D_,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Xr(Gt),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||Oe("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new D_),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function xQ(){return new ti(Ze.comparator)}function wQ(){return new ti(Ze.comparator)}var Zye={asc:"ASCENDING",desc:"DESCENDING"},Jye={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ebe={and:"AND",or:"OR"},_2=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function x2(r,e){return r.useProto3Json||gg(e)?e:{value:e}}function zm(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UY(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function tbe(r,e){return zm(r,e.toTimestamp())}function Ii(r){return pt(!!r),Et.fromTimestamp(function(t){let i=ks(t);return new hi(i.seconds,i.nanos)}(r))}function YR(r,e){return w2(r,e).canonicalString()}function w2(r,e){let t=function(n){return new _r(["projects",n.projectId,"databases",n.database])}(r).child("documents");return e===void 0?t:t.child(e)}function qY(r){let e=_r.fromString(r);return pt(ZY(e)),e}function ag(r,e){return YR(r.databaseId,e.path)}function Ha(r,e){let t=qY(e);if(t.get(1)!==r.databaseId.projectId)throw new Re(_e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Re(_e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Ze(HY(t))}function jY(r,e){return YR(r.databaseId,e)}function $Y(r){let e=qY(r);return e.length===4?_r.emptyPath():HY(e)}function E2(r){return new _r(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function HY(r){return pt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function EQ(r,e,t){return{name:ag(r,e),fields:t.value.mapValue.fields}}function GY(r,e,t){let i=Ha(r,e.name),n=Ii(e.updateTime),o=e.createTime?Ii(e.createTime):Et.min(),a=new kn({mapValue:{fields:e.fields}}),s=Vi.newFoundDocument(i,n,o,a);return t&&s.setHasCommittedMutations(),t?s.setHasCommittedMutations():s}function rbe(r,e){return"found"in e?function(i,n){pt(!!n.found),n.found.name,n.found.updateTime;let o=Ha(i,n.found.name),a=Ii(n.found.updateTime),s=n.found.createTime?Ii(n.found.createTime):Et.min(),c=new kn({mapValue:{fields:n.found.fields}});return Vi.newFoundDocument(o,a,s,c)}(r,e):"missing"in e?function(i,n){pt(!!n.missing),pt(!!n.readTime);let o=Ha(i,n.missing),a=Ii(n.readTime);return Vi.newNoDocument(o,a)}(r,e):st()}function ibe(r,e){let t;if("targetChange"in e){e.targetChange;let i=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:st()}(e.targetChange.targetChangeType||"NO_CHANGE"),n=e.targetChange.targetIds||[],o=function(l,u){return l.useProto3Json?(pt(u===void 0||typeof u=="string"),Mi.fromBase64String(u||"")):(pt(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Mi.fromUint8Array(u||new Uint8Array))}(r,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(l){let u=l.code===void 0?_e.UNKNOWN:VY(l.code);return new Re(u,l.message||"")}(a);t=new E_(i,n,o,s||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let n=Ha(r,i.document.name),o=Ii(i.document.updateTime),a=i.document.createTime?Ii(i.document.createTime):Et.min(),s=new kn({mapValue:{fields:i.document.fields}}),c=Vi.newFoundDocument(n,o,a,s),l=i.targetIds||[],u=i.removedTargetIds||[];t=new Rm(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let n=Ha(r,i.document),o=i.readTime?Ii(i.readTime):Et.min(),a=Vi.newNoDocument(n,o),s=i.removedTargetIds||[];t=new Rm([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let n=Ha(r,i.document),o=i.removedTargetIds||[];t=new Rm([],o,n,null)}else{if(!("filter"in e))return st();{e.filter;let i=e.filter;i.targetId;let{count:n=0,unchangedNames:o}=i,a=new v2(n,o),s=i.targetId;t=new w_(s,a)}}return t}function sg(r,e){let t;if(e instanceof el)t={update:EQ(r,e.key,e.value)};else if(e instanceof tl)t={delete:ag(r,e.key)};else if(e instanceof ba)t={update:EQ(r,e.key,e.data),updateMask:lbe(e.fieldMask)};else{if(!(e instanceof tg))return st();t={verify:ag(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,a){let s=a.transform;if(s instanceof Zc)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Rs)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Fs)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Jc)return{fieldPath:a.field.canonicalString(),increment:s.Pe};throw st()}(0,i))),e.precondition.isNone||(t.currentDocument=function(n,o){return o.updateTime!==void 0?{updateTime:tbe(n,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:st()}(r,e.precondition)),t}function D2(r,e){let t=e.currentDocument?function(o){return o.updateTime!==void 0?_i.updateTime(Ii(o.updateTime)):o.exists!==void 0?_i.exists(o.exists):_i.none()}(e.currentDocument):_i.none(),i=e.updateTransforms?e.updateTransforms.map(n=>function(a,s){let c=null;if("setToServerValue"in s)pt(s.setToServerValue==="REQUEST_TIME"),c=new Zc;else if("appendMissingElements"in s){let u=s.appendMissingElements.values||[];c=new Rs(u)}else if("removeAllFromArray"in s){let u=s.removeAllFromArray.values||[];c=new Fs(u)}else"increment"in s?c=new Jc(a,s.increment):st();let l=Ti.fromServerFormat(s.fieldPath);return new _u(l,c)}(r,n)):[];if(e.update){e.update.name;let n=Ha(r,e.update.name),o=new kn({mapValue:{fields:e.update.fields}});if(e.updateMask){let a=function(c){let l=c.fieldPaths||[];return new Eo(l.map(u=>Ti.fromServerFormat(u)))}(e.updateMask);return new ba(n,o,a,t,i)}return new el(n,o,t,i)}if(e.delete){let n=Ha(r,e.delete);return new tl(n,t)}if(e.verify){let n=Ha(r,e.verify);return new tg(n,t)}return st()}function nbe(r,e){return r&&r.length>0?(pt(e!==void 0),r.map(t=>function(n,o){let a=n.updateTime?Ii(n.updateTime):Ii(o);return a.isEqual(Et.min())&&(a=Ii(o)),new p2(a,n.transformResults||[])}(t,e))):[]}function WY(r,e){return{documents:[jY(r,e.path)]}}function XY(r,e){let t={structuredQuery:{}},i=e.path,n;e.collectionGroup!==null?(n=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=jY(r,n);let o=function(l){if(l.length!==0)return YY(zr.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let a=function(l){if(l.length!==0)return l.map(u=>function(m){return{field:Sm(m.field),direction:abe(m.dir)}}(u))}(e.orderBy);a&&(t.structuredQuery.orderBy=a);let s=x2(r,e.limit);return s!==null&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:t,parent:n}}function KY(r){let e=$Y(r.parent),t=r.structuredQuery,i=t.from?t.from.length:0,n=null;if(i>0){pt(i===1);let u=t.from[0];u.allDescendants?n=u.collectionId:e=e.child(u.collectionId)}let o=[];t.where&&(o=function(d){let m=QY(d);return m instanceof zr&&WR(m)?m.getFilters():[m]}(t.where));let a=[];t.orderBy&&(a=function(d){return d.map(m=>function(f){return new yu(Tm(f.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction))}(m))}(t.orderBy));let s=null;t.limit&&(s=function(d){let m;return m=typeof d=="object"?d.value:d,gg(m)?null:m}(t.limit));let c=null;t.startAt&&(c=function(d){let m=!!d.before,h=d.values||[];return new Xa(h,m)}(t.startAt));let l=null;return t.endAt&&(l=function(d){let m=!d.before,h=d.values||[];return new Xa(h,m)}(t.endAt)),EY(e,n,a,o,s,"F",c,l)}function obe(r,e){let t=function(n){switch(n){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return st()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function QY(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let i=Tm(t.unaryFilter.field);return fr.create(i,"==",{doubleValue:NaN});case"IS_NULL":let n=Tm(t.unaryFilter.field);return fr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Tm(t.unaryFilter.field);return fr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let a=Tm(t.unaryFilter.field);return fr.create(a,"!=",{nullValue:"NULL_VALUE"});default:return st()}}(r):r.fieldFilter!==void 0?function(t){return fr.create(Tm(t.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return st()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return zr.create(t.compositeFilter.filters.map(i=>QY(i)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return st()}}(t.compositeFilter.op))}(r):st()}function abe(r){return Zye[r]}function sbe(r){return Jye[r]}function cbe(r){return ebe[r]}function Sm(r){return{fieldPath:r.canonicalString()}}function Tm(r){return Ti.fromServerFormat(r.fieldPath)}function YY(r){return r instanceof fr?function(t){if(t.op==="=="){if(aQ(t.value))return{unaryFilter:{field:Sm(t.field),op:"IS_NAN"}};if(oQ(t.value))return{unaryFilter:{field:Sm(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(aQ(t.value))return{unaryFilter:{field:Sm(t.field),op:"IS_NOT_NAN"}};if(oQ(t.value))return{unaryFilter:{field:Sm(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sm(t.field),op:sbe(t.op),value:t.value}}}(r):r instanceof zr?function(t){let i=t.getFilters().map(n=>YY(n));return i.length===1?i[0]:{compositeFilter:{op:cbe(t.op),filters:i}}}(r):st()}function lbe(r){let e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ZY(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}var Um=class r{constructor(e,t,i,n,o=Et.min(),a=Et.min(),s=Mi.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=n,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=c}withSequenceNumber(e){return new r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new r(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var A_=class{constructor(e){this.ct=e}};function ube(r,e){let t;if(e.document)t=GY(r.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let i=Ze.fromSegments(e.noDocument.path),n=wu(e.noDocument.readTime);t=Vi.newNoDocument(i,n),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return st();{let i=Ze.fromSegments(e.unknownDocument.path),n=wu(e.unknownDocument.version);t=Vi.newUnknownDocument(i,n)}}return e.readTime&&t.setReadTime(function(n){let o=new hi(n[0],n[1]);return Et.fromTimestamp(o)}(e.readTime)),t}function DQ(r,e){let t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:C_(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=function(o,a){return{name:ag(o,a.key),fields:a.data.value.mapValue.fields,updateTime:zm(o,a.version.toTimestamp()),createTime:zm(o,a.createTime.toTimestamp())}}(r.ct,e);else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:xu(e.version)};else{if(!e.isUnknownDocument())return st();i.unknownDocument={path:t.path.toArray(),version:xu(e.version)}}return i}function C_(r){let e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function xu(r){let e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function wu(r){let e=new hi(r.seconds,r.nanoseconds);return Et.fromTimestamp(e)}function du(r,e){let t=(e.baseMutations||[]).map(o=>D2(r.ct,o));for(let o=0;o<e.mutations.length-1;++o){let a=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){let s=e.mutations[o+1];a.updateTransforms=s.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}let i=e.mutations.map(o=>D2(r.ct,o)),n=hi.fromMillis(e.localWriteTimeMs);return new rg(e.batchId,n,t,i)}function jp(r){let e=wu(r.readTime),t=r.lastLimboFreeSnapshotVersion!==void 0?wu(r.lastLimboFreeSnapshotVersion):Et.min(),i;return i=function(o){return o.documents!==void 0}(r.query)?function(o){return pt(o.documents.length===1),Un(Zm($Y(o.documents[0])))}(r.query):function(o){return Un(KY(o))}(r.query),new Um(i,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,Mi.fromBase64String(r.resumeToken))}function JY(r,e){let t=xu(e.snapshotVersion),i=xu(e.lastLimboFreeSnapshotVersion),n;n=b_(e.target)?WY(r.ct,e.target):XY(r.ct,e.target)._t;let o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:bu(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function ZR(r){let e=KY({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?x_(e,e.limit,"L"):e}function Lk(r,e){return new ig(e.largestBatchId,D2(r.ct,e.overlayMutation))}function AQ(r,e){let t=e.path.lastSegment();return[r,zn(e.path.popLast()),t]}function CQ(r,e,t,i){return{indexId:r,uid:e,sequenceNumber:t,readTime:xu(i.readTime),documentKey:zn(i.documentKey.path),largestBatchId:i.largestBatchId}}var A2=class{getBundleMetadata(e,t){return SQ(e).get(t).next(i=>{if(i)return function(o){return{id:o.bundleId,createTime:wu(o.createTime),version:o.version}}(i)})}saveBundleMetadata(e,t){return SQ(e).put(function(n){return{bundleId:n.id,createTime:xu(Ii(n.createTime)),version:n.version}}(t))}getNamedQuery(e,t){return TQ(e).get(t).next(i=>{if(i)return function(o){return{name:o.name,query:ZR(o.bundledQuery),readTime:wu(o.readTime)}}(i)})}saveNamedQuery(e,t){return TQ(e).put(function(n){return{name:n.name,readTime:xu(Ii(n.readTime)),bundledQuery:n.bundledQuery}}(t))}};function SQ(r){return Wi(r,"bundles")}function TQ(r){return Wi(r,"namedQueries")}var S_=class r{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){let i=t.uid||"";return new r(e,i)}getOverlay(e,t){return Lp(e).get(AQ(this.userId,t)).next(i=>i?Lk(this.serializer,i):null)}getOverlays(e,t){let i=ja();return ve.forEach(t,n=>this.getOverlay(e,n).next(o=>{o!==null&&i.set(n,o)})).next(()=>i)}saveOverlays(e,t,i){let n=[];return i.forEach((o,a)=>{let s=new ig(t,a);n.push(this.ht(e,s))}),ve.waitFor(n)}removeOverlaysForBatchId(e,t,i){let n=new Set;t.forEach(a=>n.add(zn(a.getCollectionPath())));let o=[];return n.forEach(a=>{let s=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,i+1],!1,!0);o.push(Lp(e).j("collectionPathOverlayIndex",s))}),ve.waitFor(o)}getOverlaysForCollection(e,t,i){let n=ja(),o=zn(t),a=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Lp(e).U("collectionPathOverlayIndex",a).next(s=>{for(let c of s){let l=Lk(this.serializer,c);n.set(l.getKey(),l)}return n})}getOverlaysForCollectionGroup(e,t,i,n){let o=ja(),a,s=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Lp(e).J({index:"collectionGroupOverlayIndex",range:s},(c,l,u)=>{let d=Lk(this.serializer,l);o.size()<n||d.largestBatchId===a?(o.set(d.getKey(),d),a=d.largestBatchId):u.done()}).next(()=>o)}ht(e,t){return Lp(e).put(function(n,o,a){let[s,c,l]=AQ(o,a.mutation.key);return{userId:o,collectionPath:c,documentId:l,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:sg(n.ct,a.mutation)}}(this.serializer,this.userId,t))}};function Lp(r){return Wi(r,"documentOverlays")}var C2=class{Pt(e){return Wi(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(t=>{let i=t?.value;return i?Mi.fromUint8Array(i):Mi.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.Pt(e).put({name:"sessionToken",value:t.toUint8Array()})}};var Ms=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(ci(e.integerValue));else if("doubleValue"in e){let i=ci(e.doubleValue);isNaN(i)?this.dt(t,13):(this.dt(t,15),Qp(i)?t.At(0):t.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(t,20),typeof i=="string"&&(i=ks(i)),t.Rt(`${i.seconds||""}`),t.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Kc(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.dt(t,45),t.At(i.latitude||0),t.At(i.longitude||0)}else"mapValue"in e?pY(e)?this.dt(t,Number.MAX_SAFE_INTEGER):cx(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):st()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let i=e.fields||{};this.dt(t,55);for(let n of Object.keys(i))this.Vt(n,t),this.Tt(i[n],t)}wt(e,t){var i,n;let o=e.fields||{};this.dt(t,53);let a="value",s=((n=(i=o[a].arrayValue)===null||i===void 0?void 0:i.values)===null||n===void 0?void 0:n.length)||0;this.dt(t,15),t.At(ci(s)),this.Vt(a,t),this.Tt(o[a],t)}bt(e,t){let i=e.values||[];this.dt(t,50);for(let n of i)this.Tt(n,t)}yt(e,t){this.dt(t,37),Ze.fromName(e).path.forEach(i=>{this.dt(t,60),this.Dt(i,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};Ms.vt=new Ms;function dbe(r){if(r===0)return 8;let e=0;return!(r>>4)&&(e+=4,r<<=4),!(r>>6)&&(e+=2,r<<=2),!(r>>7)&&(e+=1),e}function IQ(r){let e=64-function(i){let n=0;for(let o=0;o<8;++o){let a=dbe(255&i[o]);if(n+=a,a!==8)break}return n}(r);return Math.ceil(e/8)}var S2=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){let t=e[Symbol.iterator](),i=t.next();for(;!i.done;)this.Ft(i.value),i=t.next();this.Mt()}xt(e){let t=e[Symbol.iterator](),i=t.next();for(;!i.done;)this.Ot(i.value),i=t.next();this.Nt()}Lt(e){for(let t of e){let i=t.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{let n=t.codePointAt(0);this.Ft(240|n>>>18),this.Ft(128|63&n>>>12),this.Ft(128|63&n>>>6),this.Ft(128|63&n)}}this.Mt()}Bt(e){for(let t of e){let i=t.charCodeAt(0);if(i<128)this.Ot(i);else if(i<2048)this.Ot(960|i>>>6),this.Ot(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Ot(480|i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i);else{let n=t.codePointAt(0);this.Ot(240|n>>>18),this.Ot(128|63&n>>>12),this.Ot(128|63&n>>>6),this.Ot(128|63&n)}}this.Nt()}kt(e){let t=this.qt(e),i=IQ(t);this.Qt(1+i),this.buffer[this.position++]=255&i;for(let n=t.length-i;n<t.length;++n)this.buffer[this.position++]=255&t[n]}Kt(e){let t=this.qt(e),i=IQ(t);this.Qt(1+i),this.buffer[this.position++]=~(255&i);for(let n=t.length-i;n<t.length;++n)this.buffer[this.position++]=~(255&t[n])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){let t=function(o){let a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,o,!1),new Uint8Array(a.buffer)}(e),i=(128&t[0])!=0;t[0]^=i?255:128;for(let n=1;n<t.length;++n)t[n]^=i?255:0;return t}Ft(e){let t=255&e;t===0?(this.Ut(0),this.Ut(255)):t===255?(this.Ut(255),this.Ut(0)):this.Ut(t)}Ot(e){let t=255&e;t===0?(this.Gt(0),this.Gt(255)):t===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){let t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);let n=new Uint8Array(i);n.set(this.buffer),this.buffer=n}},T2=class{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}},I2=class{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}},mu=class{constructor(){this.jt=new S2,this.Ht=new T2(this.jt),this.Jt=new I2(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}};var hu=class r{constructor(e,t,i,n){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=n}Zt(){let e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new r(this.indexId,this.documentKey,this.arrayValue,i)}};function Uc(r,e){let t=r.indexId-e.indexId;return t!==0?t:(t=MQ(r.arrayValue,e.arrayValue),t!==0?t:(t=MQ(r.directionalValue,e.directionalValue),t!==0?t:Ze.comparator(r.documentKey,e.documentKey)))}function MQ(r,e){for(let t=0;t<r.length&&t<e.length;++t){let i=r[t]-e[t];if(i!==0)return i}return r.length-e.length}var T_=class{constructor(e){this.Xt=new Xr((t,i)=>Ti.comparator(t.field,i.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(let t of e.filters){let i=t;i.isInequality()?this.Xt=this.Xt.add(i):this.tn.push(i)}}get nn(){return this.Xt.size>1}rn(e){if(pt(e.collectionGroup===this.collectionId),this.nn)return!1;let t=Qk(e);if(t!==void 0&&!this.sn(t))return!1;let i=lu(e),n=new Set,o=0,a=0;for(;o<i.length&&this.sn(i[o]);++o)n=n.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Xt.size>0){let s=this.Xt.getIterator().getNext();if(!n.has(s.field.canonicalString())){let c=i[o];if(!this.on(s,c)||!this._n(this.en[a++],c))return!1}++o}for(;o<i.length;++o){let s=i[o];if(a>=this.en.length||!this._n(this.en[a++],s))return!1}return!0}an(){if(this.nn)return null;let e=new Xr(Ti.comparator),t=[];for(let i of this.tn)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")t.push(new Nm(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new Nm(i.field,0))}for(let i of this.en)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new Nm(i.field,i.dir==="asc"?0:1)));return new Om(Om.UNKNOWN_ID,this.collectionId,t,Kp.empty())}sn(e){for(let t of this.tn)if(this.on(t,e))return!0;return!1}on(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;let i=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===i}_n(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}};function eZ(r){var e,t;if(pt(r instanceof fr||r instanceof zr),r instanceof fr){if(r instanceof y_){let n=((t=(e=r.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(o=>fr.create(r.field,"==",o)))||[];return zr.create(n,"or")}return r}let i=r.filters.map(n=>eZ(n));return zr.create(i,r.op)}function mbe(r){if(r.getFilters().length===0)return[];let e=k2(eZ(r));return pt(tZ(e)),M2(e)||N2(e)?[e]:e.getFilters()}function M2(r){return r instanceof fr}function N2(r){return r instanceof zr&&WR(r)}function tZ(r){return M2(r)||N2(r)||function(t){if(t instanceof zr&&n2(t)){for(let i of t.getFilters())if(!M2(i)&&!N2(i))return!1;return!0}return!1}(r)}function k2(r){if(pt(r instanceof fr||r instanceof zr),r instanceof fr)return r;if(r.filters.length===1)return k2(r.filters[0]);let e=r.filters.map(i=>k2(i)),t=zr.create(e,r.op);return t=I_(t),tZ(t)?t:(pt(t instanceof zr),pt(Bm(t)),pt(t.filters.length>1),t.filters.reduce((i,n)=>JR(i,n)))}function JR(r,e){let t;return pt(r instanceof fr||r instanceof zr),pt(e instanceof fr||e instanceof zr),t=r instanceof fr?e instanceof fr?function(n,o){return zr.create([n,o],"and")}(r,e):NQ(r,e):e instanceof fr?NQ(e,r):function(n,o){if(pt(n.filters.length>0&&o.filters.length>0),Bm(n)&&Bm(o))return _Y(n,o.getFilters());let a=n2(n)?n:o,s=n2(n)?o:n,c=a.filters.map(l=>JR(l,s));return zr.create(c,"or")}(r,e),I_(t)}function NQ(r,e){if(Bm(e))return _Y(e,r.getFilters());{let t=e.filters.map(i=>JR(r,i));return zr.create(t,"or")}}function I_(r){if(pt(r instanceof fr||r instanceof zr),r instanceof fr)return r;let e=r.getFilters();if(e.length===1)return I_(e[0]);if(yY(r))return r;let t=e.map(n=>I_(n)),i=[];return t.forEach(n=>{n instanceof fr?i.push(n):n instanceof zr&&(n.op===r.op?i.push(...n.filters):i.push(n))}),i.length===1?i[0]:zr.create(i,r.op)}var R2=class{constructor(){this.un=new cg}addToCollectionParentIndex(e,t){return this.un.add(t),ve.resolve()}getCollectionParents(e,t){return ve.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return ve.resolve()}deleteFieldIndex(e,t){return ve.resolve()}deleteAllFieldIndexes(e){return ve.resolve()}createTargetIndexes(e,t){return ve.resolve()}getDocumentsMatchingTarget(e,t){return ve.resolve(null)}getIndexType(e,t){return ve.resolve(0)}getFieldIndexes(e,t){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}getMinOffset(e,t){return ve.resolve(Xo.min())}getMinOffsetFromCollectionGroup(e,t){return ve.resolve(Xo.min())}updateCollectionGroup(e,t,i){return ve.resolve()}updateIndexEntries(e,t){return ve.resolve()}},cg=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),i=e.popLast(),n=this.index[t]||new Xr(_r.comparator),o=!n.has(i);return this.index[t]=n.add(i),o}has(e){let t=e.lastSegment(),i=e.popLast(),n=this.index[t];return n&&n.has(i)}getEntries(e){return(this.index[e]||new Xr(_r.comparator)).toArray()}};var t_=new Uint8Array(0),F2=class{constructor(e,t){this.databaseId=t,this.cn=new cg,this.ln=new Ka(i=>bu(i),(i,n)=>vg(i,n)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.cn.has(t)){let i=t.lastSegment(),n=t.popLast();e.addOnCommittedListener(()=>{this.cn.add(t)});let o={collectionId:i,parent:zn(n)};return kQ(e).put(o)}return ve.resolve()}getCollectionParents(e,t){let i=[],n=IDBKeyRange.bound([t,""],[iY(t),""],!1,!0);return kQ(e).U(n).next(o=>{for(let a of o){if(a.collectionId!==t)break;i.push(qa(a.parent))}return i})}addFieldIndex(e,t){let i=Vp(e),n=function(s){return{indexId:s.indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(t);delete n.indexId;let o=i.add(n);if(t.indexState){let a=Em(e);return o.next(s=>{a.put(CQ(s,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){let i=Vp(e),n=Em(e),o=wm(e);return i.delete(t.indexId).next(()=>n.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let t=Vp(e),i=wm(e),n=Em(e);return t.j().next(()=>i.j()).next(()=>n.j())}createTargetIndexes(e,t){return ve.forEach(this.hn(t),i=>this.getIndexType(e,i).next(n=>{if(n===0||n===1){let o=new T_(i).an();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){let i=wm(e),n=!0,o=new Map;return ve.forEach(this.hn(t),a=>this.Pn(e,a).next(s=>{n&&(n=!!s),o.set(a,s)})).next(()=>{if(n){let a=Jt(),s=[];return ve.forEach(o,(c,l)=>{Oe("IndexedDbIndexManager",`Using index ${function(g){return`id=${g.indexId}|cg=${g.collectionGroup}|f=${g.fields.map(_=>`${_.fieldPath}:${_.kind}`).join(",")}`}(c)} to execute ${bu(t)}`);let u=function(g,_){let v=Qk(_);if(v===void 0)return null;for(let y of __(g,v.fieldPath))switch(y.op){case"array-contains-any":return y.value.arrayValue.values||[];case"array-contains":return[y.value]}return null}(l,c),d=function(g,_){let v=new Map;for(let y of lu(_))for(let A of __(g,y.fieldPath))switch(A.op){case"==":case"in":v.set(y.fieldPath.canonicalString(),A.value);break;case"not-in":case"!=":return v.set(y.fieldPath.canonicalString(),A.value),Array.from(v.values())}return null}(l,c),m=function(g,_){let v=[],y=!0;for(let A of lu(_)){let b=A.kind===0?dQ(g,A.fieldPath,g.startAt):mQ(g,A.fieldPath,g.startAt);v.push(b.value),y&&(y=b.inclusive)}return new Xa(v,y)}(l,c),h=function(g,_){let v=[],y=!0;for(let A of lu(_)){let b=A.kind===0?mQ(g,A.fieldPath,g.endAt):dQ(g,A.fieldPath,g.endAt);v.push(b.value),y&&(y=b.inclusive)}return new Xa(v,y)}(l,c),f=this.In(c,l,m),p=this.In(c,l,h),w=this.Tn(c,l,d),C=this.En(c.indexId,u,f,m.inclusive,p,h.inclusive,w);return ve.forEach(C,T=>i.G(T,t.limit).next(g=>{g.forEach(_=>{let v=Ze.fromSegments(_.documentKey);a.has(v)||(a=a.add(v),s.push(v))})}))}).next(()=>s)}return ve.resolve(null)})}hn(e){let t=this.ln.get(e);return t||(e.filters.length===0?t=[e]:t=mbe(zr.create(e.filters,"and")).map(i=>h2(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,t),t)}En(e,t,i,n,o,a,s){let c=(t!=null?t.length:1)*Math.max(i.length,o.length),l=c/(t!=null?t.length:1),u=[];for(let d=0;d<c;++d){let m=t?this.dn(t[d/l]):t_,h=this.An(e,m,i[d%l],n),f=this.Rn(e,m,o[d%l],a),p=s.map(w=>this.An(e,m,w,!0));u.push(...this.createRange(h,f,p))}return u}An(e,t,i,n){let o=new hu(e,Ze.empty(),t,i);return n?o:o.Zt()}Rn(e,t,i,n){let o=new hu(e,Ze.empty(),t,i);return n?o.Zt():o}Pn(e,t){let i=new T_(t),n=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,n).next(o=>{let a=null;for(let s of o)i.rn(s)&&(!a||s.fields.length>a.fields.length)&&(a=s);return a})}getIndexType(e,t){let i=2,n=this.hn(t);return ve.forEach(n,o=>this.Pn(e,o).next(a=>{a?i!==0&&a.fields.length<function(c){let l=new Xr(Ti.comparator),u=!1;for(let d of c.filters)for(let m of d.getFlattenedFilters())m.field.isKeyField()||(m.op==="array-contains"||m.op==="array-contains-any"?u=!0:l=l.add(m.field));for(let d of c.orderBy)d.field.isKeyField()||(l=l.add(d.field));return l.size+(u?1:0)}(o)&&(i=1):i=0})).next(()=>function(a){return a.limit!==null}(t)&&n.length>1&&i===2?1:i)}Vn(e,t){let i=new mu;for(let n of lu(e)){let o=t.data.field(n.fieldPath);if(o==null)return null;let a=i.Yt(n.kind);Ms.vt.It(o,a)}return i.zt()}dn(e){let t=new mu;return Ms.vt.It(e,t.Yt(0)),t.zt()}mn(e,t){let i=new mu;return Ms.vt.It(vu(this.databaseId,t),i.Yt(function(o){let a=lu(o);return a.length===0?0:a[a.length-1].kind}(e))),i.zt()}Tn(e,t,i){if(i===null)return[];let n=[];n.push(new mu);let o=0;for(let a of lu(e)){let s=i[o++];for(let c of n)if(this.fn(t,a.fieldPath)&&eg(s))n=this.gn(n,a,s);else{let l=c.Yt(a.kind);Ms.vt.It(s,l)}}return this.pn(n)}In(e,t,i){return this.Tn(e,t,i.position)}pn(e){let t=[];for(let i=0;i<e.length;++i)t[i]=e[i].zt();return t}gn(e,t,i){let n=[...e],o=[];for(let a of i.arrayValue.values||[])for(let s of n){let c=new mu;c.seed(s.zt()),Ms.vt.It(a,c.Yt(t.kind)),o.push(c)}return o}fn(e,t){return!!e.filters.find(i=>i instanceof fr&&i.field.isEqual(t)&&(i.op==="in"||i.op==="not-in"))}getFieldIndexes(e,t){let i=Vp(e),n=Em(e);return(t?i.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.U()).next(o=>{let a=[];return ve.forEach(o,s=>n.get([s.indexId,this.uid]).next(c=>{a.push(function(u,d){let m=d?new Kp(d.sequenceNumber,new Xo(wu(d.readTime),new Ze(qa(d.documentKey)),d.largestBatchId)):Kp.empty(),h=u.fields.map(([f,p])=>new Nm(Ti.fromServerFormat(f),p));return new Om(u.indexId,u.collectionGroup,h,m)}(s,c))})).next(()=>a)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((i,n)=>{let o=i.indexState.sequenceNumber-n.indexState.sequenceNumber;return o!==0?o:Gt(i.collectionGroup,n.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){let n=Vp(e),o=Em(e);return this.yn(e).next(a=>n.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(s=>ve.forEach(s,c=>o.put(CQ(c.indexId,this.uid,a,i)))))}updateIndexEntries(e,t){let i=new Map;return ve.forEach(t,(n,o)=>{let a=i.get(n.collectionGroup);return(a?ve.resolve(a):this.getFieldIndexes(e,n.collectionGroup)).next(s=>(i.set(n.collectionGroup,s),ve.forEach(s,c=>this.wn(e,n,c).next(l=>{let u=this.Sn(o,c);return l.isEqual(u)?ve.resolve():this.bn(e,o,c,l,u)}))))})}Dn(e,t,i,n){return wm(e).put({indexId:n.indexId,uid:this.uid,arrayValue:n.arrayValue,directionalValue:n.directionalValue,orderedDocumentKey:this.mn(i,t.key),documentKey:t.key.path.toArray()})}vn(e,t,i,n){return wm(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,this.mn(i,t.key),t.key.path.toArray()])}wn(e,t,i){let n=wm(e),o=new Xr(Uc);return n.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.mn(i,t)])},(a,s)=>{o=o.add(new hu(i.indexId,t,s.arrayValue,s.directionalValue))}).next(()=>o)}Sn(e,t){let i=new Xr(Uc),n=this.Vn(t,e);if(n==null)return i;let o=Qk(t);if(o!=null){let a=e.data.field(o.fieldPath);if(eg(a))for(let s of a.arrayValue.values||[])i=i.add(new hu(t.indexId,e.key,this.dn(s),n))}else i=i.add(new hu(t.indexId,e.key,t_,n));return i}bn(e,t,i,n,o){Oe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);let a=[];return function(c,l,u,d,m){let h=c.getIterator(),f=l.getIterator(),p=xm(h),w=xm(f);for(;p||w;){let C=!1,T=!1;if(p&&w){let g=u(p,w);g<0?T=!0:g>0&&(C=!0)}else p!=null?T=!0:C=!0;C?(d(w),w=xm(f)):T?(m(p),p=xm(h)):(p=xm(h),w=xm(f))}}(n,o,Uc,s=>{a.push(this.Dn(e,t,i,s))},s=>{a.push(this.vn(e,t,i,s))}),ve.waitFor(a)}yn(e){let t=1;return Em(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,n,o)=>{o.done(),t=n.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((a,s)=>Uc(a,s)).filter((a,s,c)=>!s||Uc(a,c[s-1])!==0);let n=[];n.push(e);for(let a of i){let s=Uc(a,e),c=Uc(a,t);if(s===0)n[0]=e.Zt();else if(s>0&&c<0)n.push(a),n.push(a.Zt());else if(c>0)break}n.push(t);let o=[];for(let a=0;a<n.length;a+=2){if(this.Cn(n[a],n[a+1]))return[];let s=[n[a].indexId,this.uid,n[a].arrayValue,n[a].directionalValue,t_,[]],c=[n[a+1].indexId,this.uid,n[a+1].arrayValue,n[a+1].directionalValue,t_,[]];o.push(IDBKeyRange.bound(s,c))}return o}Cn(e,t){return Uc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(RQ)}getMinOffset(e,t){return ve.mapArray(this.hn(t),i=>this.Pn(e,i).next(n=>n||st())).next(RQ)}};function kQ(r){return Wi(r,"collectionParents")}function wm(r){return Wi(r,"indexEntries")}function Vp(r){return Wi(r,"indexConfiguration")}function Em(r){return Wi(r,"indexState")}function RQ(r){pt(r.length!==0);let e=r[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<r.length;i++){let n=r[i].indexState.offset;jR(n,e)<0&&(e=n),t<n.largestBatchId&&(t=n.largestBatchId)}return new Xo(e.readTime,e.documentKey,t)}var FQ={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Wo=class r{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new r(e,r.DEFAULT_COLLECTION_PERCENTILE,r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function rZ(r,e,t){let i=r.store("mutations"),n=r.store("documentMutations"),o=[],a=IDBKeyRange.only(t.batchId),s=0,c=i.J({range:a},(u,d,m)=>(s++,m.delete()));o.push(c.next(()=>{pt(s===1)}));let l=[];for(let u of t.mutations){let d=lY(e,u.key.path,t.batchId);o.push(n.delete(d)),l.push(u.key)}return ve.waitFor(o).next(()=>l)}function M_(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw st();e=r.noDocument}return JSON.stringify(e).length}Wo.DEFAULT_COLLECTION_PERCENTILE=10,Wo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wo.DEFAULT=new Wo(41943040,Wo.DEFAULT_COLLECTION_PERCENTILE,Wo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wo.DISABLED=new Wo(-1,0,0);var N_=class r{constructor(e,t,i,n){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=n,this.Fn={}}static lt(e,t,i,n){pt(e.uid!=="");let o=e.isAuthenticated()?e.uid:"";return new r(o,t,i,n)}checkEmpty(e){let t=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return qc(e).J({index:"userMutationsIndex",range:i},(n,o,a)=>{t=!1,a.done()}).next(()=>t)}addMutationBatch(e,t,i,n){let o=Im(e),a=qc(e);return a.add({}).next(s=>{pt(typeof s=="number");let c=new rg(s,t,i,n),l=function(h,f,p){let w=p.baseMutations.map(T=>sg(h.ct,T)),C=p.mutations.map(T=>sg(h.ct,T));return{userId:f,batchId:p.batchId,localWriteTimeMs:p.localWriteTime.toMillis(),baseMutations:w,mutations:C}}(this.serializer,this.userId,c),u=[],d=new Xr((m,h)=>Gt(m.canonicalString(),h.canonicalString()));for(let m of n){let h=lY(this.userId,m.key.path,s);d=d.add(m.key.path.popLast()),u.push(a.put(l)),u.push(o.put(h,yye))}return d.forEach(m=>{u.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Fn[s]=c.keys()}),ve.waitFor(u).next(()=>c)})}lookupMutationBatch(e,t){return qc(e).get(t).next(i=>i?(pt(i.userId===this.userId),du(this.serializer,i)):null)}Mn(e,t){return this.Fn[t]?ve.resolve(this.Fn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){let n=i.keys();return this.Fn[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){let i=t+1,n=IDBKeyRange.lowerBound([this.userId,i]),o=null;return qc(e).J({index:"userMutationsIndex",range:n},(a,s,c)=>{s.userId===this.userId&&(pt(s.batchId>=i),o=du(this.serializer,s)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){let t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return qc(e).J({index:"userMutationsIndex",range:t,reverse:!0},(n,o,a)=>{i=o.batchId,a.done()}).next(()=>i)}getAllMutationBatches(e){let t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return qc(e).U("userMutationsIndex",t).next(i=>i.map(n=>du(this.serializer,n)))}getAllMutationBatchesAffectingDocumentKey(e,t){let i=o_(this.userId,t.path),n=IDBKeyRange.lowerBound(i),o=[];return Im(e).J({range:n},(a,s,c)=>{let[l,u,d]=a,m=qa(u);if(l===this.userId&&t.path.isEqual(m))return qc(e).get(d).next(h=>{if(!h)throw st();pt(h.userId===this.userId),o.push(du(this.serializer,h))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Xr(Gt),n=[];return t.forEach(o=>{let a=o_(this.userId,o.path),s=IDBKeyRange.lowerBound(a),c=Im(e).J({range:s},(l,u,d)=>{let[m,h,f]=l,p=qa(h);m===this.userId&&o.path.isEqual(p)?i=i.add(f):d.done()});n.push(c)}),ve.waitFor(n).next(()=>this.xn(e,i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,n=i.length+1,o=o_(this.userId,i),a=IDBKeyRange.lowerBound(o),s=new Xr(Gt);return Im(e).J({range:a},(c,l,u)=>{let[d,m,h]=c,f=qa(m);d===this.userId&&i.isPrefixOf(f)?f.length===n&&(s=s.add(h)):u.done()}).next(()=>this.xn(e,s))}xn(e,t){let i=[],n=[];return t.forEach(o=>{n.push(qc(e).get(o).next(a=>{if(a===null)throw st();pt(a.userId===this.userId),i.push(du(this.serializer,a))}))}),ve.waitFor(n).next(()=>i)}removeMutationBatch(e,t){return rZ(e._e,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.On(t.batchId)}),ve.forEach(i,n=>this.referenceDelegate.markPotentiallyOrphaned(e,n))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ve.resolve();let i=IDBKeyRange.lowerBound(function(a){return[a]}(this.userId)),n=[];return Im(e).J({range:i},(o,a,s)=>{if(o[0]===this.userId){let c=qa(o[1]);n.push(c)}else s.done()}).next(()=>{pt(n.length===0)})})}containsKey(e,t){return iZ(e,this.userId,t)}Nn(e){return nZ(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function iZ(r,e,t){let i=o_(e,t.path),n=i[1],o=IDBKeyRange.lowerBound(i),a=!1;return Im(r).J({range:o,H:!0},(s,c,l)=>{let[u,d,m]=s;u===e&&d===n&&(a=!0),l.done()}).next(()=>a)}function qc(r){return Wi(r,"mutations")}function Im(r){return Wi(r,"documentMutations")}function nZ(r){return Wi(r,"mutationQueues")}var qm=class r{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new r(0)}static kn(){return new r(-1)}};var O2=class{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.qn(e).next(t=>{let i=new qm(t.highestTargetId);return t.highestTargetId=i.next(),this.Qn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(t=>Et.fromTimestamp(new hi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.qn(e).next(n=>(n.highestListenSequenceNumber=t,i&&(n.lastRemoteSnapshotVersion=i.toTimestamp()),t>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t),this.Qn(e,n)))}addTargetData(e,t){return this.Kn(e,t).next(()=>this.qn(e).next(i=>(i.targetCount+=1,this.$n(t,i),this.Qn(e,i))))}updateTargetData(e,t){return this.Kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Dm(e).delete(t.targetId)).next(()=>this.qn(e)).next(i=>(pt(i.targetCount>0),i.targetCount-=1,this.Qn(e,i)))}removeTargets(e,t,i){let n=0,o=[];return Dm(e).J((a,s)=>{let c=jp(s);c.sequenceNumber<=t&&i.get(c.targetId)===null&&(n++,o.push(this.removeTargetData(e,c)))}).next(()=>ve.waitFor(o)).next(()=>n)}forEachTarget(e,t){return Dm(e).J((i,n)=>{let o=jp(n);t(o)})}qn(e){return OQ(e).get("targetGlobalKey").next(t=>(pt(t!==null),t))}Qn(e,t){return OQ(e).put("targetGlobalKey",t)}Kn(e,t){return Dm(e).put(JY(this.serializer,t))}$n(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.qn(e).next(t=>t.targetCount)}getTargetData(e,t){let i=bu(t),n=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),o=null;return Dm(e).J({range:n,index:"queryTargetsIndex"},(a,s,c)=>{let l=jp(s);vg(t,l.target)&&(o=l,c.done())}).next(()=>o)}addMatchingKeys(e,t,i){let n=[],o=jc(e);return t.forEach(a=>{let s=zn(a.path);n.push(o.put({targetId:i,path:s})),n.push(this.referenceDelegate.addReference(e,i,a))}),ve.waitFor(n)}removeMatchingKeys(e,t,i){let n=jc(e);return ve.forEach(t,o=>{let a=zn(o.path);return ve.waitFor([n.delete([i,a]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,t){let i=jc(e),n=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(n)}getMatchingKeysForTargetId(e,t){let i=IDBKeyRange.bound([t],[t+1],!1,!0),n=jc(e),o=Jt();return n.J({range:i,H:!0},(a,s,c)=>{let l=qa(a[1]),u=new Ze(l);o=o.add(u)}).next(()=>o)}containsKey(e,t){let i=zn(t.path),n=IDBKeyRange.bound([i],[iY(i)],!1,!0),o=0;return jc(e).J({index:"documentTargetsIndex",H:!0,range:n},([a,s],c,l)=>{a!==0&&(o++,l.done())}).next(()=>o>0)}ot(e,t){return Dm(e).get(t).next(i=>i?jp(i):null)}};function Dm(r){return Wi(r,"targets")}function OQ(r){return Wi(r,"targetGlobal")}function jc(r){return Wi(r,"targetDocuments")}function PQ([r,e],[t,i]){let n=Gt(r,t);return n===0?Gt(e,i):n}var P2=class{constructor(e){this.Un=e,this.buffer=new Xr(PQ),this.Wn=0}Gn(){return++this.Wn}zn(e){let t=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(t);else{let i=this.buffer.last();PQ(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}},B2=class{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){Oe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>xe(this,null,function*(){this.jn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){nl(t)?Oe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):yield il(t)}yield this.Hn(3e5)}))}},L2=class{constructor(e,t){this.Jn=e,this.params=t}calculateTargetCount(e,t){return this.Jn.Yn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ve.resolve(wo.oe);let i=new P2(t);return this.Jn.forEachTarget(e,n=>i.zn(n.sequenceNumber)).next(()=>this.Jn.Zn(e,n=>i.zn(n))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Jn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Oe("LruGarbageCollector","Garbage collection skipped; disabled"),ve.resolve(FQ)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),FQ):this.Xn(e,t))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,t){let i,n,o,a,s,c,l,u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),n=this.params.maximumSequenceNumbersToCollect):n=d,a=Date.now(),this.nthSequenceNumber(e,n))).next(d=>(i=d,s=Date.now(),this.removeTargets(e,i,t))).next(d=>(o=d,c=Date.now(),this.removeOrphanedDocuments(e,i))).next(d=>(l=Date.now(),Am()<=Ca.DEBUG&&Oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-u}ms
	Determined least recently used ${n} in `+(s-a)+`ms
	Removed ${o} targets in `+(c-s)+`ms
	Removed ${d} documents in `+(l-c)+`ms
Total Duration: ${l-u}ms`),ve.resolve({didRun:!0,sequenceNumbersCollected:n,targetsRemoved:o,documentsRemoved:d})))}};function hbe(r,e){return new L2(r,e)}var V2=class{constructor(e,t){this.db=e,this.garbageCollector=hbe(this,t)}Yn(e){let t=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(n=>i+n))}er(e){let t=0;return this.Zn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Zn(e,t){return this.tr(e,(i,n)=>t(n))}addReference(e,t,i){return r_(e,i)}removeReference(e,t,i){return r_(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return r_(e,t)}nr(e,t){return function(n,o){let a=!1;return nZ(n).Y(s=>iZ(n,s,o).next(c=>(c&&(a=!0),ve.resolve(!c)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){let i=this.db.getRemoteDocumentCache().newChangeBuffer(),n=[],o=0;return this.tr(e,(a,s)=>{if(s<=t){let c=this.nr(e,a).next(l=>{if(!l)return o++,i.getEntry(e,a).next(()=>(i.removeEntry(a,Et.min()),jc(e).delete(function(d){return[0,zn(d.path)]}(a))))});n.push(c)}}).next(()=>ve.waitFor(n)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,t){let i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return r_(e,t)}tr(e,t){let i=jc(e),n,o=wo.oe;return i.J({index:"documentTargetsIndex"},([a,s],{path:c,sequenceNumber:l})=>{a===0?(o!==wo.oe&&t(new Ze(qa(n)),o),o=l,n=c):o=wo.oe}).next(()=>{o!==wo.oe&&t(new Ze(qa(n)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function r_(r,e){return jc(r).put(function(i,n){return{targetId:0,path:zn(i.path),sequenceNumber:n}}(e,r.currentSequenceNumber))}var k_=class{constructor(){this.changes=new Ka(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Vi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let i=this.changes.get(t);return i!==void 0?ve.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var z2=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return cu(e).put(i)}removeEntry(e,t,i){return cu(e).delete(function(o,a){let s=o.path.toArray();return[s.slice(0,s.length-2),s[s.length-2],C_(a),s[s.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.rr(e,i)))}getEntry(e,t){let i=Vi.newInvalidDocument(t);return cu(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(zp(t))},(n,o)=>{i=this.ir(t,o)}).next(()=>i)}sr(e,t){let i={size:0,document:Vi.newInvalidDocument(t)};return cu(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(zp(t))},(n,o)=>{i={document:this.ir(t,o),size:M_(o)}}).next(()=>i)}getEntries(e,t){let i=ro();return this._r(e,t,(n,o)=>{let a=this.ir(n,o);i=i.insert(n,a)}).next(()=>i)}ar(e,t){let i=ro(),n=new ti(Ze.comparator);return this._r(e,t,(o,a)=>{let s=this.ir(o,a);i=i.insert(o,s),n=n.insert(o,M_(a))}).next(()=>({documents:i,ur:n}))}_r(e,t,i){if(t.isEmpty())return ve.resolve();let n=new Xr(VQ);t.forEach(c=>n=n.add(c));let o=IDBKeyRange.bound(zp(n.first()),zp(n.last())),a=n.getIterator(),s=a.getNext();return cu(e).J({index:"documentKeyIndex",range:o},(c,l,u)=>{let d=Ze.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;s&&VQ(s,d)<0;)i(s,null),s=a.getNext();s&&s.isEqual(d)&&(i(s,l),s=a.hasNext()?a.getNext():null),s?u.$(zp(s)):u.done()}).next(()=>{for(;s;)i(s,null),s=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(e,t,i,n,o){let a=t.path,s=[a.popLast().toArray(),a.lastSegment(),C_(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],c=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return cu(e).U(IDBKeyRange.bound(s,c,!0)).next(l=>{o?.incrementDocumentReadCount(l.length);let u=ro();for(let d of l){let m=this.ir(Ze.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);m.isFoundDocument()&&(bg(t,m)||n.has(m.key))&&(u=u.insert(m.key,m))}return u})}getAllFromCollectionGroup(e,t,i,n){let o=ro(),a=LQ(t,i),s=LQ(t,Xo.max());return cu(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,s,!0)},(c,l,u)=>{let d=this.ir(Ze.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(d.key,d),o.size===n&&u.done()}).next(()=>o)}newChangeBuffer(e){return new U2(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return BQ(e).get("remoteDocumentGlobalKey").next(t=>(pt(!!t),t))}rr(e,t){return BQ(e).put("remoteDocumentGlobalKey",t)}ir(e,t){if(t){let i=ube(this.serializer,t);if(!(i.isNoDocument()&&i.version.isEqual(Et.min())))return i}return Vi.newInvalidDocument(e)}};function oZ(r){return new z2(r)}var U2=class extends k_{constructor(e,t){super(),this.cr=e,this.trackRemovals=t,this.lr=new Ka(i=>i.toString(),(i,n)=>i.isEqual(n))}applyChanges(e){let t=[],i=0,n=new Xr((o,a)=>Gt(o.canonicalString(),a.canonicalString()));return this.changes.forEach((o,a)=>{let s=this.lr.get(o);if(t.push(this.cr.removeEntry(e,o,s.readTime)),a.isValidDocument()){let c=DQ(this.cr.serializer,a);n=n.add(o.path.popLast());let l=M_(c);i+=l-s.size,t.push(this.cr.addEntry(e,o,c))}else if(i-=s.size,this.trackRemovals){let c=DQ(this.cr.serializer,a.convertToNoDocument(Et.min()));t.push(this.cr.addEntry(e,o,c))}}),n.forEach(o=>{t.push(this.cr.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.cr.updateMetadata(e,i)),ve.waitFor(t)}getFromCache(e,t){return this.cr.sr(e,t).next(i=>(this.lr.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.cr.ar(e,t).next(({documents:i,ur:n})=>(n.forEach((o,a)=>{this.lr.set(o,{size:a,readTime:i.get(o).readTime})}),i))}};function BQ(r){return Wi(r,"remoteDocumentGlobal")}function cu(r){return Wi(r,"remoteDocumentsV14")}function zp(r){let e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function LQ(r,e){let t=e.documentKey.path.toArray();return[r,C_(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function VQ(r,e){let t=r.path.toArray(),i=e.path.toArray(),n=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(n=Gt(t[o],i[o]),n)return n;return n=Gt(t.length,i.length),n||(n=Gt(t[t.length-2],i[i.length-2]),n||Gt(t[t.length-1],i[i.length-1]))}var q2=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var R_=class{constructor(e,t,i,n){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=n}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(n=>(i=n,this.remoteDocumentCache.getEntry(e,t))).next(n=>(i!==null&&Gp(i.mutation,n,Eo.empty(),hi.now()),n))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Jt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Jt()){let n=ja();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,i).next(o=>{let a=qp();return o.forEach((s,c)=>{a=a.insert(s,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){let i=ja();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Jt()))}populateOverlays(e,t,i){let n=[];return i.forEach(o=>{t.has(o)||n.push(o)}),this.documentOverlayCache.getOverlays(e,n).next(o=>{o.forEach((a,s)=>{t.set(a,s)})})}computeViews(e,t,i,n){let o=ro(),a=Hp(),s=function(){return Hp()}();return t.forEach((c,l)=>{let u=i.get(l.key);n.has(l.key)&&(u===void 0||u.mutation instanceof ba)?o=o.insert(l.key,l):u!==void 0?(a.set(l.key,u.mutation.getFieldMask()),Gp(u.mutation,l,u.mutation.getFieldMask(),hi.now())):a.set(l.key,Eo.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,u)=>a.set(l,u)),t.forEach((l,u)=>{var d;return s.set(l,new q2(u,(d=a.get(l))!==null&&d!==void 0?d:null))}),s))}recalculateAndSaveOverlays(e,t){let i=Hp(),n=new ti((a,s)=>a-s),o=Jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(let s of a)s.keys().forEach(c=>{let l=t.get(c);if(l===null)return;let u=i.get(c)||Eo.empty();u=s.applyToLocalView(l,u),i.set(c,u);let d=(n.get(s.batchId)||Jt()).add(c);n=n.insert(s.batchId,d)})}).next(()=>{let a=[],s=n.getReverseIterator();for(;s.hasNext();){let c=s.getNext(),l=c.key,u=c.value,d=IY();u.forEach(m=>{if(!o.has(m)){let h=PY(t.get(m),i.get(m));h!==null&&d.set(m,h),o=o.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(e,l,d))}return ve.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,n){return function(a){return Ze.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):XR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,n):this.getDocumentsMatchingCollectionQuery(e,t,i,n)}getNextDocuments(e,t,i,n){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,n).next(o=>{let a=n-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,n-o.size):ve.resolve(ja()),s=-1,c=o;return a.next(l=>ve.forEach(l,(u,d)=>(s<d.largestBatchId&&(s=d.largestBatchId),o.get(u)?ve.resolve():this.remoteDocumentCache.getEntry(e,u).next(m=>{c=c.insert(u,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,Jt())).next(u=>({batchId:s,changes:TY(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ze(t)).next(i=>{let n=qp();return i.isFoundDocument()&&(n=n.insert(i.key,i)),n})}getDocumentsMatchingCollectionGroupQuery(e,t,i,n){let o=t.collectionGroup,a=qp();return this.indexManager.getCollectionParents(e,o).next(s=>ve.forEach(s,c=>{let l=function(d,m){return new ya(m,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,i,n).next(u=>{u.forEach((d,m)=>{a=a.insert(d,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i,n){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,n))).next(a=>{o.forEach((c,l)=>{let u=l.getKey();a.get(u)===null&&(a=a.insert(u,Vi.newInvalidDocument(u)))});let s=qp();return a.forEach((c,l)=>{let u=o.get(c);u!==void 0&&Gp(u.mutation,l,Eo.empty(),hi.now()),bg(t,l)&&(s=s.insert(c,l))}),s})}};var j2=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return ve.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(n){return{id:n.id,version:n.version,createTime:Ii(n.createTime)}}(t)),ve.resolve()}getNamedQuery(e,t){return ve.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(n){return{name:n.name,query:ZR(n.bundledQuery),readTime:Ii(n.readTime)}}(t)),ve.resolve()}};var $2=class{constructor(){this.overlays=new ti(Ze.comparator),this.Ir=new Map}getOverlay(e,t){return ve.resolve(this.overlays.get(t))}getOverlays(e,t){let i=ja();return ve.forEach(t,n=>this.getOverlay(e,n).next(o=>{o!==null&&i.set(n,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((n,o)=>{this.ht(e,t,o)}),ve.resolve()}removeOverlaysForBatchId(e,t,i){let n=this.Ir.get(i);return n!==void 0&&(n.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(i)),ve.resolve()}getOverlaysForCollection(e,t,i){let n=ja(),o=t.length+1,a=new Ze(t.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){let c=s.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>i&&n.set(c.getKey(),c)}return ve.resolve(n)}getOverlaysForCollectionGroup(e,t,i,n){let o=new ti((l,u)=>l-u),a=this.overlays.getIterator();for(;a.hasNext();){let l=a.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>i){let u=o.get(l.largestBatchId);u===null&&(u=ja(),o=o.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}let s=ja(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>s.set(l,u)),!(s.size()>=n)););return ve.resolve(s)}ht(e,t,i){let n=this.overlays.get(i.key);if(n!==null){let a=this.Ir.get(n.largestBatchId).delete(i.key);this.Ir.set(n.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new ig(t,i));let o=this.Ir.get(t);o===void 0&&(o=Jt(),this.Ir.set(t,o)),this.Ir.set(t,o.add(i.key))}};var H2=class{constructor(){this.sessionToken=Mi.EMPTY_BYTE_STRING}getSessionToken(e){return ve.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ve.resolve()}};var lg=class{constructor(){this.Tr=new Xr(Bi.Er),this.dr=new Xr(Bi.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let i=new Bi(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Vr(new Bi(e,t))}mr(e,t){e.forEach(i=>this.removeReference(i,t))}gr(e){let t=new Ze(new _r([])),i=new Bi(t,e),n=new Bi(t,e+1),o=[];return this.dr.forEachInRange([i,n],a=>{this.Vr(a),o.push(a.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new Ze(new _r([])),i=new Bi(t,e),n=new Bi(t,e+1),o=Jt();return this.dr.forEachInRange([i,n],a=>{o=o.add(a.key)}),o}containsKey(e){let t=new Bi(e,0),i=this.Tr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}},Bi=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Ze.comparator(e.key,t.key)||Gt(e.wr,t.wr)}static Ar(e,t){return Gt(e.wr,t.wr)||Ze.comparator(e.key,t.key)}};var G2=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Xr(Bi.Er)}checkEmpty(e){return ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,n){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new rg(o,t,i,n);this.mutationQueue.push(a);for(let s of n)this.br=this.br.add(new Bi(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return ve.resolve(a)}lookupMutationBatch(e,t){return ve.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let i=t+1,n=this.vr(i),o=n<0?0:n;return ve.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let i=new Bi(t,0),n=new Bi(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([i,n],a=>{let s=this.Dr(a.wr);o.push(s)}),ve.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Xr(Gt);return t.forEach(n=>{let o=new Bi(n,0),a=new Bi(n,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,a],s=>{i=i.add(s.wr)})}),ve.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,n=i.length+1,o=i;Ze.isDocumentKey(o)||(o=o.child(""));let a=new Bi(new Ze(o),0),s=new Xr(Gt);return this.br.forEachWhile(c=>{let l=c.key.path;return!!i.isPrefixOf(l)&&(l.length===n&&(s=s.add(c.wr)),!0)},a),ve.resolve(this.Cr(s))}Cr(e){let t=[];return e.forEach(i=>{let n=this.Dr(i);n!==null&&t.push(n)}),t}removeMutationBatch(e,t){pt(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return ve.forEach(t.mutations,n=>{let o=new Bi(n.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,n.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,t){let i=new Bi(t,0),n=this.br.firstAfterOrEqual(i);return ve.resolve(t.isEqual(n&&n.key))}performConsistencyCheck(e){return this.mutationQueue.length,ve.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var W2=class{constructor(e){this.Mr=e,this.docs=function(){return new ti(Ze.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let i=t.key,n=this.docs.get(i),o=n?n.size:0,a=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let i=this.docs.get(t);return ve.resolve(i?i.document.mutableCopy():Vi.newInvalidDocument(t))}getEntries(e,t){let i=ro();return t.forEach(n=>{let o=this.docs.get(n);i=i.insert(n,o?o.document.mutableCopy():Vi.newInvalidDocument(n))}),ve.resolve(i)}getDocumentsMatchingQuery(e,t,i,n){let o=ro(),a=t.path,s=new Ze(a.child("")),c=this.docs.getIteratorFrom(s);for(;c.hasNext();){let{key:l,value:{document:u}}=c.getNext();if(!a.isPrefixOf(l.path))break;l.path.length>a.length+1||jR(oY(u),i)<=0||(n.has(u.key)||bg(t,u))&&(o=o.insert(u.key,u.mutableCopy()))}return ve.resolve(o)}getAllFromCollectionGroup(e,t,i,n){st()}Or(e,t){return ve.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new X2(this)}getSize(e){return ve.resolve(this.size)}},X2=class extends k_{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((i,n)=>{n.isValidDocument()?t.push(this.cr.addEntry(e,n)):this.cr.removeEntry(i)}),ve.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var K2=class{constructor(e){this.persistence=e,this.Nr=new Ka(t=>bu(t),vg),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.Lr=0,this.Br=new lg,this.targetCount=0,this.kr=qm.Bn()}forEachTarget(e,t){return this.Nr.forEach((i,n)=>t(n)),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),ve.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new qm(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,ve.resolve()}updateTargetData(e,t){return this.Kn(t),ve.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,t,i){let n=0,o=[];return this.Nr.forEach((a,s)=>{s.sequenceNumber<=t&&i.get(s.targetId)===null&&(this.Nr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),n++)}),ve.waitFor(o).next(()=>n)}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,t){let i=this.Nr.get(t)||null;return ve.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),ve.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);let n=this.persistence.referenceDelegate,o=[];return n&&t.forEach(a=>{o.push(n.markPotentiallyOrphaned(e,a))}),ve.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),ve.resolve()}getMatchingKeysForTargetId(e,t){let i=this.Br.yr(t);return ve.resolve(i)}containsKey(e,t){return ve.resolve(this.Br.containsKey(t))}};var F_=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new wo(0),this.Kr=!1,this.Kr=!0,this.$r=new H2,this.referenceDelegate=e(this),this.Ur=new K2(this),this.indexManager=new R2,this.remoteDocumentCache=function(n){return new W2(n)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new A_(t),this.Gr=new j2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new G2(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){Oe("MemoryPersistence","Starting transaction:",e);let n=new Q2(this.Qr.next());return this.referenceDelegate.zr(),i(n).next(o=>this.referenceDelegate.jr(n).next(()=>o)).toPromise().then(o=>(n.raiseOnCommittedEvent(),o))}Hr(e,t){return ve.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,t)))}},Q2=class extends h_{constructor(e){super(),this.currentSequenceNumber=e}},O_=class r{constructor(e){this.persistence=e,this.Jr=new lg,this.Yr=null}static Zr(e){return new r(e)}get Xr(){if(this.Yr)return this.Yr;throw st()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),ve.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),ve.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),ve.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(n=>this.Xr.add(n.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(n=>{n.forEach(o=>this.Xr.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.Xr,i=>{let n=Ze.fromPath(i);return this.ei(e,n).next(o=>{o||t.removeEntry(n,Et.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return ve.or([()=>ve.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var Y2=class{constructor(e){this.serializer=e}O(e,t,i,n){let o=new f_("createOrUpgrade",t);i<1&&n>=1&&(function(c){c.createObjectStore("owner")}(e),function(c){c.createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",tQ,{unique:!0}),c.createObjectStore("documentMutations")}(e),zQ(e),function(c){c.createObjectStore("remoteDocuments")}(e));let a=ve.resolve();return i<3&&n>=3&&(i!==0&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),zQ(e)),a=a.next(()=>function(c){let l=c.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Et.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",u)}(o))),i<4&&n>=4&&(i!==0&&(a=a.next(()=>function(c,l){return l.store("mutations").U().next(u=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",tQ,{unique:!0});let d=l.store("mutations"),m=u.map(h=>d.put(h));return ve.waitFor(m)})}(e,o))),a=a.next(()=>{(function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),i<5&&n>=5&&(a=a.next(()=>this.ni(o))),i<6&&n>=6&&(a=a.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.ri(o)))),i<7&&n>=7&&(a=a.next(()=>this.ii(o))),i<8&&n>=8&&(a=a.next(()=>this.si(e,o))),i<9&&n>=9&&(a=a.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),i<10&&n>=10&&(a=a.next(()=>this.oi(o))),i<11&&n>=11&&(a=a.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&n>=12&&(a=a.next(()=>{(function(c){let l=c.createObjectStore("documentOverlays",{keyPath:Mye});l.createIndex("collectionPathOverlayIndex",Nye,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",kye,{unique:!1})})(e)})),i<13&&n>=13&&(a=a.next(()=>function(c){let l=c.createObjectStore("remoteDocumentsV14",{keyPath:bye});l.createIndex("documentKeyIndex",_ye),l.createIndex("collectionGroupIndex",xye)}(e)).next(()=>this._i(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&n>=14&&(a=a.next(()=>this.ai(e,o))),i<15&&n>=15&&(a=a.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:Cye}).createIndex("sequenceNumberIndex",Sye,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:Tye}).createIndex("documentKeyIndex",Iye,{unique:!1})}(e))),i<16&&n>=16&&(a=a.next(()=>{t.objectStore("indexState").clear()}).next(()=>{t.objectStore("indexEntries").clear()})),i<17&&n>=17&&(a=a.next(()=>{(function(c){c.createObjectStore("globals",{keyPath:"name"})})(e)})),a}ri(e){let t=0;return e.store("remoteDocuments").J((i,n)=>{t+=M_(n)}).next(()=>{let i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}ni(e){let t=e.store("mutationQueues"),i=e.store("mutations");return t.U().next(n=>ve.forEach(n,o=>{let a=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.U("userMutationsIndex",a).next(s=>ve.forEach(s,c=>{pt(c.userId===o.userId);let l=du(this.serializer,c);return rZ(e,o.userId,l).next(()=>{})}))}))}ii(e){let t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(n=>{let o=[];return i.J((a,s)=>{let c=new _r(a),l=function(d){return[0,zn(d)]}(c);o.push(t.get(l).next(u=>u?ve.resolve():(d=>t.put({targetId:0,path:zn(d),sequenceNumber:n.highestListenSequenceNumber}))(c)))}).next(()=>ve.waitFor(o))})}si(e,t){e.createObjectStore("collectionParents",{keyPath:Aye});let i=t.store("collectionParents"),n=new cg,o=a=>{if(n.add(a)){let s=a.lastSegment(),c=a.popLast();return i.put({collectionId:s,parent:zn(c)})}};return t.store("remoteDocuments").J({H:!0},(a,s)=>{let c=new _r(a);return o(c.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([a,s,c],l)=>{let u=qa(s);return o(u.popLast())}))}oi(e){let t=e.store("targets");return t.J((i,n)=>{let o=jp(n),a=JY(this.serializer,o);return t.put(a)})}_i(e,t){let i=t.store("remoteDocuments"),n=[];return i.J((o,a)=>{let s=t.store("remoteDocumentsV14"),c=function(d){return d.document?new Ze(_r.fromString(d.document.name).popFirst(5)):d.noDocument?Ze.fromSegments(d.noDocument.path):d.unknownDocument?Ze.fromSegments(d.unknownDocument.path):st()}(a).path.toArray(),l={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};n.push(s.put(l))}).next(()=>ve.waitFor(n))}ai(e,t){let i=t.store("mutations"),n=oZ(this.serializer),o=new F_(O_.Zr,this.serializer.ct);return i.U().next(a=>{let s=new Map;return a.forEach(c=>{var l;let u=(l=s.get(c.userId))!==null&&l!==void 0?l:Jt();du(this.serializer,c).keys().forEach(d=>u=u.add(d)),s.set(c.userId,u)}),ve.forEach(s,(c,l)=>{let u=new Li(l),d=S_.lt(this.serializer,u),m=o.getIndexManager(u),h=N_.lt(u,this.serializer,m,o.referenceDelegate);return new R_(n,h,d,m).recalculateAndSaveOverlaysForDocumentKeys(new Yp(t,wo.oe),c).next()})})}};function zQ(r){r.createObjectStore("targetDocuments",{keyPath:Eye}).createIndex("documentTargetsIndex",Dye,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",wye,{unique:!0}),r.createObjectStore("targetGlobal")}var Vk="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Z2=class r{constructor(e,t,i,n,o,a,s,c,l,u,d=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.ui=o,this.window=a,this.document=s,this.ci=l,this.li=u,this.hi=d,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=m=>Promise.resolve(),!r.D())throw new Re(_e.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new V2(this,n),this.Ai=t+"main",this.serializer=new A_(c),this.Ri=new Xc(this.Ai,this.hi,new Y2(this.serializer)),this.$r=new C2,this.Ur=new O2(this.referenceDelegate,this.serializer),this.remoteDocumentCache=oZ(this.serializer),this.Gr=new A2,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,u===!1&&Si("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Re(_e.FAILED_PRECONDITION,Vk);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new wo(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=t=>xe(this,null,function*(){if(this.started)return e(t)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(t=>xe(this,null,function*(){t.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(()=>xe(this,null,function*(){this.started&&(yield this.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>i_(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(t=>{t||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(t=>this.isPrimary&&!t?this.bi(e).next(()=>!1):!!t&&this.Di(e).next(()=>!0))).catch(e=>{if(nl(e))return Oe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Oe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return Up(e).get("owner").next(t=>ve.resolve(this.vi(t)))}Ci(e){return i_(e).delete(this.clientId)}Fi(){return xe(this,null,function*(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{let i=Wi(t,"clientMetadata");return i.U().next(n=>{let o=this.xi(n,18e5),a=n.filter(s=>o.indexOf(s)===-1);return ve.forEach(a,s=>i.delete(s.clientId)).next(()=>a)})}).catch(()=>[]);if(this.Vi)for(let t of e)this.Vi.removeItem(this.Oi(t.clientId))}})}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?ve.resolve(!0):Up(e).get("owner").next(t=>{if(t!==null&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)){if(this.vi(t)&&this.networkEnabled)return!0;if(!this.vi(t)){if(!t.allowTabSynchronization)throw new Re(_e.FAILED_PRECONDITION,Vk);return!1}}return!(!this.networkEnabled||!this.inForeground)||i_(e).U().next(i=>this.xi(i,5e3).find(n=>{if(this.clientId!==n.clientId){let o=!this.networkEnabled&&n.networkEnabled,a=!this.inForeground&&n.inForeground,s=this.networkEnabled===n.networkEnabled;if(o||a&&s)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&Oe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){return xe(this,null,function*(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),yield this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let t=new Yp(e,wo.oe);return this.bi(t).next(()=>this.Ci(t))}),this.Ri.close(),this.qi()})}xi(e,t){return e.filter(i=>this.Mi(i.updateTimeMs,t)&&!this.Ni(i.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>i_(e).U().next(t=>this.xi(t,18e5).map(i=>i.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,t){return N_.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new F2(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return S_.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,t,i){Oe("IndexedDbPersistence","Starting transaction:",e);let n=t==="readonly"?"readonly":"readwrite",o=function(c){return c===17?Oye:c===16?Fye:c===15?HR:c===14?mY:c===13?dY:c===12?Rye:c===11?uY:void st()}(this.hi),a;return this.Ri.runTransaction(e,n,o,s=>(a=new Yp(s,this.Qr?this.Qr.next():wo.oe),t==="readwrite-primary"?this.wi(a).next(c=>!!c||this.Si(a)).next(c=>{if(!c)throw Si(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new Re(_e.FAILED_PRECONDITION,aY);return i(a)}).next(c=>this.Di(a).next(()=>c)):this.Ki(a).next(()=>i(a)))).then(s=>(a.raiseOnCommittedEvent(),s))}Ki(e){return Up(e).get("owner").next(t=>{if(t!==null&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)&&!this.vi(t)&&!(this.li||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Re(_e.FAILED_PRECONDITION,Vk)})}Di(e){let t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Up(e).put("owner",t)}static D(){return Xc.D()}bi(e){let t=Up(e);return t.get("owner").next(i=>this.vi(i)?(Oe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ve.resolve())}Mi(e,t){let i=Date.now();return!(e<i-t)&&(!(e>i)||(Si(`Detected an update time that is in the future: ${e} > ${i}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();let t=/(?:Version|Mobile)\/1[456]/;tw()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var t;try{let i=((t=this.Vi)===null||t===void 0?void 0:t.getItem(this.Oi(e)))!==null;return Oe("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Si("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Si("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function Up(r){return Wi(r,"owner")}function i_(r){return Wi(r,"clientMetadata")}function eF(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}var J2=class r{constructor(e,t,i,n){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=n}static Wi(e,t){let i=Jt(),n=Jt();for(let o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:n=n.add(o.doc.key)}return new r(e,t.fromCache,i,n)}};var eR=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var P_=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return tw()?8:sY(Rh())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,n){let o={result:null};return this.Yi(e,t).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Zi(e,t,n,i).next(a=>{o.result=a})}).next(()=>{if(o.result)return;let a=new eR;return this.Xi(e,t,a).next(s=>{if(o.result=s,this.zi)return this.es(e,t,a,s.size)})}).next(()=>o.result)}es(e,t,i,n){return i.documentReadCount<this.ji?(Am()<=Ca.DEBUG&&Oe("QueryEngine","SDK will not create cache indexes for query:",Cm(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ve.resolve()):(Am()<=Ca.DEBUG&&Oe("QueryEngine","Query:",Cm(t),"scans",i.documentReadCount,"local documents and returns",n,"documents as results."),i.documentReadCount>this.Hi*n?(Am()<=Ca.DEBUG&&Oe("QueryEngine","The SDK decides to create cache indexes for query:",Cm(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Un(t))):ve.resolve())}Yi(e,t){if(hQ(t))return ve.resolve(null);let i=Un(t);return this.indexManager.getIndexType(e,i).next(n=>n===0?null:(t.limit!==null&&n===1&&(t=x_(t,null,"F"),i=Un(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{let a=Jt(...o);return this.Ji.getDocuments(e,a).next(s=>this.indexManager.getMinOffset(e,i).next(c=>{let l=this.ts(t,s);return this.ns(t,l,a,c.readTime)?this.Yi(e,x_(t,null,"F")):this.rs(e,l,t,c)}))})))}Zi(e,t,i,n){return hQ(t)||n.isEqual(Et.min())?ve.resolve(null):this.Ji.getDocuments(e,i).next(o=>{let a=this.ts(t,o);return this.ns(t,a,i,n)?ve.resolve(null):(Am()<=Ca.DEBUG&&Oe("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Cm(t)),this.rs(e,a,t,nY(n,-1)).next(s=>s))})}ts(e,t){let i=new Xr(CY(e));return t.forEach((n,o)=>{bg(e,o)&&(i=i.add(o))}),i}ns(e,t,i,n){if(e.limit===null)return!1;if(i.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(n)>0)}Xi(e,t,i){return Am()<=Ca.DEBUG&&Oe("QueryEngine","Using full collection scan to execute query:",Cm(t)),this.Ji.getDocumentsMatchingQuery(e,t,Xo.min(),i)}rs(e,t,i,n){return this.Ji.getDocumentsMatchingQuery(e,i,n).next(o=>(t.forEach(a=>{o=o.insert(a.key,a)}),o))}};var tR=class{constructor(e,t,i,n){this.persistence=e,this.ss=t,this.serializer=n,this.os=new ti(Gt),this._s=new Ka(o=>bu(o),vg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new R_(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function aZ(r,e,t,i){return new tR(r,e,t,i)}function sZ(r,e){return xe(this,null,function*(){let t=Ye(r);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let n;return t.mutationQueue.getAllMutationBatches(i).next(o=>(n=o,t.ls(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{let a=[],s=[],c=Jt();for(let l of n){a.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}for(let l of o){s.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}return t.localDocuments.getDocuments(i,c).next(l=>({hs:l,removedBatchIds:a,addedBatchIds:s}))})})})}function fbe(r,e){let t=Ye(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let n=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(s,c,l,u){let d=l.batch,m=d.keys(),h=ve.resolve();return m.forEach(f=>{h=h.next(()=>u.getEntry(c,f)).next(p=>{let w=l.docVersions.get(f);pt(w!==null),p.version.compareTo(w)<0&&(d.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),u.addEntry(p)))})}),h.next(()=>s.mutationQueue.removeMutationBatch(c,d))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,n,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(s){let c=Jt();for(let l=0;l<s.mutationResults.length;++l)s.mutationResults[l].transformResults.length>0&&(c=c.add(s.batch.mutations[l].key));return c}(e))).next(()=>t.localDocuments.getDocuments(i,n))})}function cZ(r){let e=Ye(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function pbe(r,e){let t=Ye(r),i=e.snapshotVersion,n=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let a=t.cs.newChangeBuffer({trackRemovals:!0});n=t.os;let s=[];e.targetChanges.forEach((u,d)=>{let m=n.get(d);if(!m)return;s.push(t.Ur.removeMatchingKeys(o,u.removedDocuments,d).next(()=>t.Ur.addMatchingKeys(o,u.addedDocuments,d)));let h=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?h=h.withResumeToken(Mi.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,i)),n=n.insert(d,h),function(p,w,C){return p.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(m,h,u)&&s.push(t.Ur.updateTargetData(o,h))});let c=ro(),l=Jt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&s.push(t.persistence.referenceDelegate.updateLimboDocument(o,u))}),s.push(lZ(o,a,e.documentUpdates).next(u=>{c=u.Ps,l=u.Is})),!i.isEqual(Et.min())){let u=t.Ur.getLastRemoteSnapshotVersion(o).next(d=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,i));s.push(u)}return ve.waitFor(s).next(()=>a.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(t.os=n,o))}function lZ(r,e,t){let i=Jt(),n=Jt();return t.forEach(o=>i=i.add(o)),e.getEntries(r,i).next(o=>{let a=ro();return t.forEach((s,c)=>{let l=o.get(s);c.isFoundDocument()!==l.isFoundDocument()&&(n=n.add(s)),c.isNoDocument()&&c.version.isEqual(Et.min())?(e.removeEntry(s,c.readTime),a=a.insert(s,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),a=a.insert(s,c)):Oe("LocalStore","Ignoring outdated watch update for ",s,". Current version:",l.version," Watch version:",c.version)}),{Ps:a,Is:n}})}function gbe(r,e){let t=Ye(r);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function jm(r,e){let t=Ye(r);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let n;return t.Ur.getTargetData(i,e).next(o=>o?(n=o,ve.resolve(n)):t.Ur.allocateTargetId(i).next(a=>(n=new Um(e,a,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,n).next(()=>n))))}).then(i=>{let n=t.os.get(i.targetId);return(n===null||i.snapshotVersion.compareTo(n.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i})}function $m(r,e,t){return xe(this,null,function*(){let i=Ye(r),n=i.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,a=>i.persistence.referenceDelegate.removeTarget(a,n)))}catch(a){if(!nl(a))throw a;Oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}i.os=i.os.remove(e),i._s.delete(n.target)})}function B_(r,e,t){let i=Ye(r),n=Et.min(),o=Jt();return i.persistence.runTransaction("Execute query","readwrite",a=>function(c,l,u){let d=Ye(c),m=d._s.get(u);return m!==void 0?ve.resolve(d.os.get(m)):d.Ur.getTargetData(l,u)}(i,a,Un(e)).next(s=>{if(s)return n=s.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(a,s.targetId).next(c=>{o=c})}).next(()=>i.ss.getDocumentsMatchingQuery(a,e,t?n:Et.min(),t?o:Jt())).next(s=>(mZ(i,AY(e),s),{documents:s,Ts:o})))}function uZ(r,e){let t=Ye(r),i=Ye(t.Ur),n=t.os.get(e);return n?Promise.resolve(n.target):t.persistence.runTransaction("Get target data","readonly",o=>i.ot(o,e).next(a=>a?a.target:null))}function dZ(r,e){let t=Ye(r),i=t.us.get(e)||Et.min();return t.persistence.runTransaction("Get new document changes","readonly",n=>t.cs.getAllFromCollectionGroup(n,e,nY(i,-1),Number.MAX_SAFE_INTEGER)).then(n=>(mZ(t,e,n),n))}function mZ(r,e,t){let i=r.us.get(e)||Et.min();t.forEach((n,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),r.us.set(e,i)}function vbe(r,e,t,i){return xe(this,null,function*(){let n=Ye(r),o=Jt(),a=ro();for(let l of t){let u=e.Es(l.metadata.name);l.document&&(o=o.add(u));let d=e.ds(l);d.setReadTime(e.As(l.metadata.readTime)),a=a.insert(u,d)}let s=n.cs.newChangeBuffer({trackRemovals:!0}),c=yield jm(n,function(u){return Un(Zm(_r.fromString(`__bundle__/docs/${u}`)))}(i));return n.persistence.runTransaction("Apply bundle documents","readwrite",l=>lZ(l,s,a).next(u=>(s.apply(l),u)).next(u=>n.Ur.removeMatchingKeysForTargetId(l,c.targetId).next(()=>n.Ur.addMatchingKeys(l,o,c.targetId)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,u.Ps,u.Is)).next(()=>u.Ps)))})}function ybe(i,n){return xe(this,arguments,function*(r,e,t=Jt()){let o=yield jm(r,Un(ZR(e.bundledQuery))),a=Ye(r);return a.persistence.runTransaction("Save named query","readwrite",s=>{let c=Ii(e.readTime);if(o.snapshotVersion.compareTo(c)>=0)return a.Gr.saveNamedQuery(s,e);let l=o.withResumeToken(Mi.EMPTY_BYTE_STRING,c);return a.os=a.os.insert(l.targetId,l),a.Ur.updateTargetData(s,l).next(()=>a.Ur.removeMatchingKeysForTargetId(s,o.targetId)).next(()=>a.Ur.addMatchingKeys(s,t,o.targetId)).next(()=>a.Gr.saveNamedQuery(s,e))})})}function UQ(r,e){return`firestore_clients_${r}_${e}`}function qQ(r,e,t){let i=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function zk(r,e){return`firestore_targets_${r}_${e}`}var L_=class r{constructor(e,t,i,n){this.user=e,this.batchId=t,this.state=i,this.error=n}static Rs(e,t,i){let n=JSON.parse(i),o,a=typeof n=="object"&&["pending","acknowledged","rejected"].indexOf(n.state)!==-1&&(n.error===void 0||typeof n.error=="object");return a&&n.error&&(a=typeof n.error.message=="string"&&typeof n.error.code=="string",a&&(o=new Re(n.error.code,n.error.message))),a?new r(e,t,n.state,o):(Si("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Vs(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Wp=class r{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Rs(e,t){let i=JSON.parse(t),n,o=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(n=new Re(i.error.code,i.error.message))),o?new r(e,i.state,n):(Si("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Vs(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},V_=class r{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Rs(e,t){let i=JSON.parse(t),n=typeof i=="object"&&i.activeTargetIds instanceof Array,o=KR();for(let a=0;n&&a<i.activeTargetIds.length;++a)n=cY(i.activeTargetIds[a]),o=o.add(i.activeTargetIds[a]);return n?new r(e,o):(Si("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}},rR=class r{constructor(e,t){this.clientId=e,this.onlineState=t}static Rs(e){let t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new r(t.clientId,t.onlineState):(Si("SharedClientState",`Failed to parse online state: ${e}`),null)}},ug=class{constructor(){this.activeTargetIds=KR()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},Xp=class{constructor(e,t,i,n,o){this.window=e,this.ui=t,this.persistenceKey=i,this.ps=n,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new ti(Gt),this.started=!1,this.bs=[];let a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Ds=UQ(this.persistenceKey,this.ps),this.vs=function(c){return`firestore_sequence_number_${c}`}(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new ug),this.Cs=new RegExp(`^firestore_clients_${a}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${a}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${a}_(\\d+)$`),this.xs=function(c){return`firestore_online_state_${c}`}(this.persistenceKey),this.Os=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){return xe(this,null,function*(){let e=yield this.syncEngine.Qi();for(let i of e){if(i===this.ps)continue;let n=this.getItem(UQ(this.persistenceKey,i));if(n){let o=V_.Rs(i,n);o&&(this.Ss=this.Ss.insert(o.clientId,o))}}this.Ns();let t=this.storage.getItem(this.xs);if(t){let i=this.Ls(t);i&&this.Bs(i)}for(let i of this.bs)this.ws(i);this.bs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let t=!1;return this.Ss.forEach((i,n)=>{n.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,t,i){this.qs(e,t,i),this.Qs(e)}addLocalQueryTarget(e,t=!0){let i="not-current";if(this.isActiveQueryTarget(e)){let n=this.storage.getItem(zk(this.persistenceKey,e));if(n){let o=Wp.Rs(e,n);o&&(i=o.state)}}return t&&this.Ks.fs(e),this.Ns(),i}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(zk(this.persistenceKey,e))}updateQueryState(e,t,i){this.$s(e,t,i)}handleUserChange(e,t,i){t.forEach(n=>{this.Qs(n)}),this.currentUser=e,i.forEach(n=>{this.addPendingMutation(n)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){let t=this.storage.getItem(e);return Oe("SharedClientState","READ",e,t),t}setItem(e,t){Oe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Oe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){let t=e;if(t.storageArea===this.storage){if(Oe("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Ds)return void Si("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable(()=>xe(this,null,function*(){if(this.started){if(t.key!==null){if(this.Cs.test(t.key)){if(t.newValue==null){let i=this.Gs(t.key);return this.zs(i,null)}{let i=this.js(t.key,t.newValue);if(i)return this.zs(i.clientId,i)}}else if(this.Fs.test(t.key)){if(t.newValue!==null){let i=this.Hs(t.key,t.newValue);if(i)return this.Js(i)}}else if(this.Ms.test(t.key)){if(t.newValue!==null){let i=this.Ys(t.key,t.newValue);if(i)return this.Zs(i)}}else if(t.key===this.xs){if(t.newValue!==null){let i=this.Ls(t.newValue);if(i)return this.Bs(i)}}else if(t.key===this.vs){let i=function(o){let a=wo.oe;if(o!=null)try{let s=JSON.parse(o);pt(typeof s=="number"),a=s}catch(s){Si("SharedClientState","Failed to read sequence number from WebStorage",s)}return a}(t.newValue);i!==wo.oe&&this.sequenceNumberHandler(i)}else if(t.key===this.Os){let i=this.Xs(t.newValue);yield Promise.all(i.map(n=>this.syncEngine.eo(n)))}}}else this.bs.push(t)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,t,i){let n=new L_(this.currentUser,e,t,i),o=qQ(this.persistenceKey,this.currentUser,e);this.setItem(o,n.Vs())}Qs(e){let t=qQ(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Us(e){let t={clientId:this.ps,onlineState:e};this.storage.setItem(this.xs,JSON.stringify(t))}$s(e,t,i){let n=zk(this.persistenceKey,e),o=new Wp(e,t,i);this.setItem(n,o.Vs())}Ws(e){let t=JSON.stringify(Array.from(e));this.setItem(this.Os,t)}Gs(e){let t=this.Cs.exec(e);return t?t[1]:null}js(e,t){let i=this.Gs(e);return V_.Rs(i,t)}Hs(e,t){let i=this.Fs.exec(e),n=Number(i[1]),o=i[2]!==void 0?i[2]:null;return L_.Rs(new Li(o),n,t)}Ys(e,t){let i=this.Ms.exec(e),n=Number(i[1]);return Wp.Rs(n,t)}Ls(e){return rR.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){return xe(this,null,function*(){if(e.user.uid===this.currentUser.uid)return this.syncEngine.no(e.batchId,e.state,e.error);Oe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,t){let i=t?this.Ss.insert(e,t):this.Ss.remove(e),n=this.ks(this.Ss),o=this.ks(i),a=[],s=[];return o.forEach(c=>{n.has(c)||a.push(c)}),n.forEach(c=>{o.has(c)||s.push(c)}),this.syncEngine.io(a,s).then(()=>{this.Ss=i})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let t=KR();return e.forEach((i,n)=>{t=t.unionWith(n.activeTargetIds)}),t}},z_=class{constructor(){this.so=new ug,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ug,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var iR=class{_o(e){}shutdown(){}};var U_=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){Oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var n_=null;function Uk(){return n_===null?n_=function(){return 268435456+Math.round(2147483648*Math.random())}():n_++,"0x"+n_.toString(16)}var bbe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var nR=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Nn="WebChannelConnection",oR=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let i=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${n}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${n}`:`project_id=${n}&database_id=${o}`}get Fo(){return!1}Mo(t,i,n,o,a){let s=Uk(),c=this.xo(t,i.toUriEncodedString());Oe("RestConnection",`Sending RPC '${t}' ${s}:`,c,n);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,a),this.No(t,c,l,n).then(u=>(Oe("RestConnection",`Received RPC '${t}' ${s}: `,u),u),u=>{throw va("RestConnection",`RPC '${t}' ${s} failed with error: `,u,"url: ",c,"request:",n),u})}Lo(t,i,n,o,a,s){return this.Mo(t,i,n,o,a)}Oo(t,i,n){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ym}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,a)=>t[a]=o),n&&n.headers.forEach((o,a)=>t[a]=o)}xo(t,i){let n=bbe[t];return`${this.Do}/v1/${i}:${n}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,n){let o=Uk();return new Promise((a,s)=>{let c=new Rk;c.setWithCredentials(!0),c.listenOnce(Fk.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Bp.NO_ERROR:let u=c.getResponseJson();Oe(Nn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),a(u);break;case Bp.TIMEOUT:Oe(Nn,`RPC '${e}' ${o} timed out`),s(new Re(_e.DEADLINE_EXCEEDED,"Request time out"));break;case Bp.HTTP_ERROR:let d=c.getStatus();if(Oe(Nn,`RPC '${e}' ${o} failed with status:`,d,"response text:",c.getResponseText()),d>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);let h=m?.error;if(h&&h.status&&h.message){let f=function(w){let C=w.toLowerCase().replace(/_/g,"-");return Object.values(_e).indexOf(C)>=0?C:_e.UNKNOWN}(h.status);s(new Re(f,h.message))}else s(new Re(_e.UNKNOWN,"Server responded with status "+c.getStatus()))}else s(new Re(_e.UNAVAILABLE,"Connection failed."));break;default:st()}}finally{Oe(Nn,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(n);Oe(Nn,`RPC '${e}' ${o} sending request:`,n),c.send(t,"POST",l,i,15)})}Bo(e,t,i){let n=Uk(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Bk(),s=Pk(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,t,i),c.encodeInitMessageHeaders=!0;let u=o.join("");Oe(Nn,`Creating RPC '${e}' stream ${n}: ${u}`,c);let d=a.createWebChannel(u,c),m=!1,h=!1,f=new nR({Io:w=>{h?Oe(Nn,`Not sending because RPC '${e}' stream ${n} is closed:`,w):(m||(Oe(Nn,`Opening RPC '${e}' stream ${n} transport.`),d.open(),m=!0),Oe(Nn,`RPC '${e}' stream ${n} sending:`,w),d.send(w))},To:()=>d.close()}),p=(w,C,T)=>{w.listen(C,g=>{try{T(g)}catch(_){setTimeout(()=>{throw _},0)}})};return p(d,_m.EventType.OPEN,()=>{h||(Oe(Nn,`RPC '${e}' stream ${n} transport opened.`),f.yo())}),p(d,_m.EventType.CLOSE,()=>{h||(h=!0,Oe(Nn,`RPC '${e}' stream ${n} transport closed`),f.So())}),p(d,_m.EventType.ERROR,w=>{h||(h=!0,va(Nn,`RPC '${e}' stream ${n} transport errored:`,w),f.So(new Re(_e.UNAVAILABLE,"The operation could not be completed")))}),p(d,_m.EventType.MESSAGE,w=>{var C;if(!h){let T=w.data[0];pt(!!T);let g=T,_=g.error||((C=g[0])===null||C===void 0?void 0:C.error);if(_){Oe(Nn,`RPC '${e}' stream ${n} received error:`,_);let v=_.status,y=function(E){let D=Pi[E];if(D!==void 0)return VY(D)}(v),A=_.message;y===void 0&&(y=_e.INTERNAL,A="Unknown error status: "+v+" with message "+_.message),h=!0,f.So(new Re(y,A)),d.close()}else Oe(Nn,`RPC '${e}' stream ${n} received:`,T),f.bo(T)}}),p(s,Ok.STAT_EVENT,w=>{w.stat===e_.PROXY?Oe(Nn,`RPC '${e}' stream ${n} detected buffering proxy`):w.stat===e_.NOPROXY&&Oe(Nn,`RPC '${e}' stream ${n} detected no buffering proxy`)}),setTimeout(()=>{f.wo()},0),f}};function hZ(){return typeof window<"u"?window:null}function l_(){return typeof document<"u"?document:null}function _g(r){return new _2(r,!0)}var dg=class{constructor(e,t,i=1e3,n=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=n,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),n=Math.max(0,t-i);n>0&&Oe("ExponentialBackoff",`Backing off for ${n} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,n,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var q_=class{constructor(e,t,i,n,o,a,s,c){this.ui=e,this.Ho=i,this.Jo=n,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new dg(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return xe(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return xe(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return xe(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===_e.RESOURCE_EXHAUSTED?(Si(t.toString()),Si("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===_e.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,n])=>{this.Yo===t&&this.P_(i,n)},i=>{e(()=>{let n=new Re(_e.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(n)})})}P_(e,t){let i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(n=>{i(()=>this.I_(n))}),this.stream.onMessage(n=>{i(()=>++this.e_==1?this.E_(n):this.onNext(n))})}i_(){this.state=5,this.t_.Go(()=>xe(this,null,function*(){this.state=0,this.start()}))}I_(e){return Oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(Oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},aR=class extends q_{constructor(e,t,i,n,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,n,a),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=ibe(this.serializer,e),i=function(o){if(!("targetChange"in o))return Et.min();let a=o.targetChange;return a.targetIds&&a.targetIds.length?Et.min():a.readTime?Ii(a.readTime):Et.min()}(e);return this.listener.d_(t,i)}A_(e){let t={};t.database=E2(this.serializer),t.addTarget=function(o,a){let s,c=a.target;if(s=b_(c)?{documents:WY(o,c)}:{query:XY(o,c)._t},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=UY(o,a.resumeToken);let l=x2(o,a.expectedCount);l!==null&&(s.expectedCount=l)}else if(a.snapshotVersion.compareTo(Et.min())>0){s.readTime=zm(o,a.snapshotVersion.toTimestamp());let l=x2(o,a.expectedCount);l!==null&&(s.expectedCount=l)}return s}(this.serializer,e);let i=obe(this.serializer,e);i&&(t.labels=i),this.a_(t)}R_(e){let t={};t.database=E2(this.serializer),t.removeTarget=e,this.a_(t)}},sR=class extends q_{constructor(e,t,i,n,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,n,a),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return pt(!!e.streamToken),this.lastStreamToken=e.streamToken,pt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){pt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=nbe(e.writeResults,e.commitTime),i=Ii(e.commitTime);return this.listener.g_(i,t)}p_(){let e={};e.database=E2(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(i=>sg(this.serializer,i))};this.a_(t)}};var cR=class extends class{}{constructor(e,t,i,n){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=n,this.y_=!1}w_(){if(this.y_)throw new Re(_e.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,n){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,w2(t,i),n,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Re(_e.UNKNOWN,o.toString())})}Lo(e,t,i,n,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Lo(e,w2(t,i),n,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Re(_e.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},lR=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Si(t),this.D_=!1):Oe("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var uR=class{constructor(e,t,i,n,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{i.enqueueAndForget(()=>xe(this,null,function*(){ol(this)&&(Oe("RemoteStore","Restarting streams for network reachability change."),yield function(c){return xe(this,null,function*(){let l=Ye(c);l.L_.add(4),yield Jm(l),l.q_.set("Unknown"),l.L_.delete(4),yield xg(l)})}(this))}))}),this.q_=new lR(i,n)}};function xg(r){return xe(this,null,function*(){if(ol(r))for(let e of r.B_)yield e(!0)})}function Jm(r){return xe(this,null,function*(){for(let e of r.B_)yield e(!1)})}function lx(r,e){let t=Ye(r);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),iF(t)?rF(t):th(t).r_()&&tF(t,e))}function Hm(r,e){let t=Ye(r),i=th(t);t.N_.delete(e),i.r_()&&fZ(t,e),t.N_.size===0&&(i.r_()?i.o_():ol(t)&&t.q_.set("Unknown"))}function tF(r,e){if(r.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){let t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}th(r).A_(e)}function fZ(r,e){r.Q_.xe(e),th(r).R_(e)}function rF(r){r.Q_=new b2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.N_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),th(r).start(),r.q_.v_()}function iF(r){return ol(r)&&!th(r).n_()&&r.N_.size>0}function ol(r){return Ye(r).L_.size===0}function pZ(r){r.Q_=void 0}function _be(r){return xe(this,null,function*(){r.q_.set("Online")})}function xbe(r){return xe(this,null,function*(){r.N_.forEach((e,t)=>{tF(r,e)})})}function wbe(r,e){return xe(this,null,function*(){pZ(r),iF(r)?(r.q_.M_(e),rF(r)):r.q_.set("Unknown")})}function Ebe(r,e,t){return xe(this,null,function*(){if(r.q_.set("Online"),e instanceof E_&&e.state===2&&e.cause)try{yield function(n,o){return xe(this,null,function*(){let a=o.cause;for(let s of o.targetIds)n.N_.has(s)&&(yield n.remoteSyncer.rejectListen(s,a),n.N_.delete(s),n.Q_.removeTarget(s))})}(r,e)}catch(i){Oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield j_(r,i)}else if(e instanceof Rm?r.Q_.Ke(e):e instanceof w_?r.Q_.He(e):r.Q_.We(e),!t.isEqual(Et.min()))try{let i=yield cZ(r.localStore);t.compareTo(i)>=0&&(yield function(o,a){let s=o.Q_.rt(a);return s.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let u=o.N_.get(l);u&&o.N_.set(l,u.withResumeToken(c.resumeToken,a))}}),s.targetMismatches.forEach((c,l)=>{let u=o.N_.get(c);if(!u)return;o.N_.set(c,u.withResumeToken(Mi.EMPTY_BYTE_STRING,u.snapshotVersion)),fZ(o,c);let d=new Um(u.target,c,l,u.sequenceNumber);tF(o,d)}),o.remoteSyncer.applyRemoteEvent(s)}(r,t))}catch(i){Oe("RemoteStore","Failed to raise snapshot:",i),yield j_(r,i)}})}function j_(r,e,t){return xe(this,null,function*(){if(!nl(e))throw e;r.L_.add(1),yield Jm(r),r.q_.set("Offline"),t||(t=()=>cZ(r.localStore)),r.asyncQueue.enqueueRetryable(()=>xe(this,null,function*(){Oe("RemoteStore","Retrying IndexedDB access"),yield t(),r.L_.delete(1),yield xg(r)}))})}function gZ(r,e){return e().catch(t=>j_(r,t,e))}function eh(r){return xe(this,null,function*(){let e=Ye(r),t=rl(e),i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Dbe(e);)try{let n=yield gbe(e.localStore,i);if(n===null){e.O_.length===0&&t.o_();break}i=n.batchId,Abe(e,n)}catch(n){yield j_(e,n)}vZ(e)&&yZ(e)})}function Dbe(r){return ol(r)&&r.O_.length<10}function Abe(r,e){r.O_.push(e);let t=rl(r);t.r_()&&t.V_&&t.m_(e.mutations)}function vZ(r){return ol(r)&&!rl(r).n_()&&r.O_.length>0}function yZ(r){rl(r).start()}function Cbe(r){return xe(this,null,function*(){rl(r).p_()})}function Sbe(r){return xe(this,null,function*(){let e=rl(r);for(let t of r.O_)e.m_(t.mutations)})}function Tbe(r,e,t){return xe(this,null,function*(){let i=r.O_.shift(),n=g2.from(i,e,t);yield gZ(r,()=>r.remoteSyncer.applySuccessfulWrite(n)),yield eh(r)})}function Ibe(r,e){return xe(this,null,function*(){e&&rl(r).V_&&(yield function(i,n){return xe(this,null,function*(){if(function(a){return LY(a)&&a!==_e.ABORTED}(n.code)){let o=i.O_.shift();rl(i).s_(),yield gZ(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,n)),yield eh(i)}})}(r,e)),vZ(r)&&yZ(r)})}function jQ(r,e){return xe(this,null,function*(){let t=Ye(r);t.asyncQueue.verifyOperationInProgress(),Oe("RemoteStore","RemoteStore received new credentials");let i=ol(t);t.L_.add(3),yield Jm(t),i&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield xg(t)})}function dR(r,e){return xe(this,null,function*(){let t=Ye(r);e?(t.L_.delete(2),yield xg(t)):e||(t.L_.add(2),yield Jm(t),t.q_.set("Unknown"))})}function th(r){return r.K_||(r.K_=function(t,i,n){let o=Ye(t);return o.w_(),new aR(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,n)}(r.datastore,r.asyncQueue,{Eo:_be.bind(null,r),Ro:xbe.bind(null,r),mo:wbe.bind(null,r),d_:Ebe.bind(null,r)}),r.B_.push(e=>xe(this,null,function*(){e?(r.K_.s_(),iF(r)?rF(r):r.q_.set("Unknown")):(yield r.K_.stop(),pZ(r))}))),r.K_}function rl(r){return r.U_||(r.U_=function(t,i,n){let o=Ye(t);return o.w_(),new sR(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,n)}(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Cbe.bind(null,r),mo:Ibe.bind(null,r),f_:Sbe.bind(null,r),g_:Tbe.bind(null,r)}),r.B_.push(e=>xe(this,null,function*(){e?(r.U_.s_(),yield eh(r)):(yield r.U_.stop(),r.O_.length>0&&(Oe("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))}))),r.U_}var mR=class r{constructor(e,t,i,n,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=n,this.removalCallback=o,this.deferred=new Gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,n,o){let a=Date.now()+i,s=new r(e,t,a,n,o);return s.start(i),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Re(_e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function rh(r,e){if(Si("AsyncQueue",`${e}: ${r}`),nl(r))return new Re(_e.UNAVAILABLE,`${e}: ${r}`);throw r}var $_=class r{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ze.comparator(t.key,i.key):(t,i)=>Ze.comparator(t.key,i.key),this.keyedMap=qp(),this.sortedSet=new ti(this.comparator)}static emptySet(e){return new r(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof r)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){let n=t.getNext().key,o=i.getNext().key;if(!n.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let i=new r;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}};var H_=class{constructor(){this.W_=new ti(Ze.comparator)}track(e){let t=e.doc.key,i=this.W_.get(t);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(t,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(t):e.type===1&&i.type===2?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):st():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,i)=>{e.push(i)}),e}},Gm=class r{constructor(e,t,i,n,o,a,s,c,l){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=n,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,i,n,o){let a=[];return t.forEach(s=>{a.push({type:0,doc:s})}),new r(e,t,$_.emptySet(t),a,i,n,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let n=0;n<t.length;n++)if(t[n].type!==i[n].type||!t[n].doc.isEqual(i[n].doc))return!1;return!0}};var hR=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},fR=class{constructor(){this.queries=$Q(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,i){let n=Ye(t),o=n.queries;n.queries=$Q(),o.forEach((a,s)=>{for(let c of s.j_)c.onError(i)})})(this,new Re(_e.ABORTED,"Firestore shutting down"))}};function $Q(){return new Ka(r=>DY(r),yg)}function nF(r,e){return xe(this,null,function*(){let t=Ye(r),i=3,n=e.query,o=t.queries.get(n);o?!o.H_()&&e.J_()&&(i=2):(o=new hR,i=e.J_()?0:1);try{switch(i){case 0:o.z_=yield t.onListen(n,!0);break;case 1:o.z_=yield t.onListen(n,!1);break;case 2:yield t.onFirstRemoteStoreListen(n)}}catch(a){let s=rh(a,`Initialization of query '${Cm(e.query)}' failed`);return void e.onError(s)}t.queries.set(n,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&aF(t)})}function oF(r,e){return xe(this,null,function*(){let t=Ye(r),i=e.query,n=3,o=t.queries.get(i);if(o){let a=o.j_.indexOf(e);a>=0&&(o.j_.splice(a,1),o.j_.length===0?n=e.J_()?0:1:!o.H_()&&e.J_()&&(n=2))}switch(n){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}})}function Mbe(r,e){let t=Ye(r),i=!1;for(let n of e){let o=n.query,a=t.queries.get(o);if(a){for(let s of a.j_)s.X_(n)&&(i=!0);a.z_=n}}i&&aF(t)}function Nbe(r,e,t){let i=Ye(r),n=i.queries.get(e);if(n)for(let o of n.j_)o.onError(t);i.queries.delete(e)}function aF(r){r.Y_.forEach(e=>{e.next()})}var pR,HQ;(HQ=pR||(pR={})).ea="default",HQ.Cache="cache";var mg=class{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){let i=[];for(let n of e.docChanges)n.type!==3&&i.push(n);e=new Gm(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let i=t!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Gm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==pR.Cache}};var gR=class{constructor(e,t){this.aa=e,this.byteLength=t}ua(){return"metadata"in this.aa}};var G_=class{constructor(e){this.serializer=e}Es(e){return Ha(this.serializer,e)}ds(e){return e.metadata.exists?GY(this.serializer,e.document,!1):Vi.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return Ii(e)}},vR=class{constructor(e,t,i){this.ca=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=bZ(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++t;let i=_r.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ha(e){let t=new Map,i=new G_(this.serializer);for(let n of e)if(n.metadata.queries){let o=i.Es(n.metadata.name);for(let a of n.metadata.queries){let s=(t.get(a)||Jt()).add(o);t.set(a,s)}}return t}complete(){return xe(this,null,function*(){let e=yield vbe(this.localStore,new G_(this.serializer),this.documents,this.ca.id),t=this.ha(this.documents);for(let i of this.queries)yield ybe(this.localStore,i,t.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Pa:this.collectionGroups,Ia:e}})}};function bZ(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}var W_=class{constructor(e){this.key=e}},X_=class{constructor(e){this.key=e}},K_=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Jt(),this.mutatedKeys=Jt(),this.Aa=CY(e),this.Ra=new $_(this.Aa)}get Va(){return this.Ta}ma(e,t){let i=t?t.fa:new H_,n=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,a=n,s=!1,c=this.query.limitType==="F"&&n.size===this.query.limit?n.last():null,l=this.query.limitType==="L"&&n.size===this.query.limit?n.first():null;if(e.inorderTraversal((u,d)=>{let m=n.get(u),h=bg(this.query,d)?d:null,f=!!m&&this.mutatedKeys.has(m.key),p=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations),w=!1;m&&h?m.data.isEqual(h.data)?f!==p&&(i.track({type:3,doc:h}),w=!0):this.ga(m,h)||(i.track({type:2,doc:h}),w=!0,(c&&this.Aa(h,c)>0||l&&this.Aa(h,l)<0)&&(s=!0)):!m&&h?(i.track({type:0,doc:h}),w=!0):m&&!h&&(i.track({type:1,doc:m}),w=!0,(c||l)&&(s=!0)),w&&(h?(a=a.add(h),o=p?o.add(u):o.delete(u)):(a=a.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;a.size>this.query.limit;){let u=this.query.limitType==="F"?a.last():a.first();a=a.delete(u.key),o=o.delete(u.key),i.track({type:1,doc:u})}return{Ra:a,fa:i,ns:s,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,n){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let a=e.fa.G_();a.sort((u,d)=>function(h,f){let p=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return st()}};return p(h)-p(f)}(u.type,d.type)||this.Aa(u.doc,d.doc)),this.pa(i),n=n!=null&&n;let s=t&&!n?this.ya():[],c=this.da.size===0&&this.current&&!n?1:0,l=c!==this.Ea;return this.Ea=c,a.length!==0||l?{snapshot:new Gm(this.query,e.Ra,o,a,e.mutatedKeys,c===0,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new H_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=Jt(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});let t=[];return e.forEach(i=>{this.da.has(i)||t.push(new X_(i))}),this.da.forEach(i=>{e.has(i)||t.push(new W_(i))}),t}ba(e){this.Ta=e.Ts,this.da=Jt();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Gm.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},yR=class{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}},bR=class{constructor(e){this.key=e,this.va=!1}},_R=class{constructor(e,t,i,n,o,a){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=n,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Ka(s=>DY(s),yg),this.Ma=new Map,this.xa=new Set,this.Oa=new ti(Ze.comparator),this.Na=new Map,this.La=new lg,this.Ba={},this.ka=new Map,this.qa=qm.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function kbe(r,e,t=!0){return xe(this,null,function*(){let i=ux(r),n,o=i.Fa.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),n=o.view.Da()):n=yield _Z(i,e,t,!0),n})}function Rbe(r,e){return xe(this,null,function*(){let t=ux(r);yield _Z(t,e,!0,!1)})}function _Z(r,e,t,i){return xe(this,null,function*(){let n=yield jm(r.localStore,Un(e)),o=n.targetId,a=r.sharedClientState.addLocalQueryTarget(o,t),s;return i&&(s=yield sF(r,e,o,a==="current",n.resumeToken)),r.isPrimaryClient&&t&&lx(r.remoteStore,n),s})}function sF(r,e,t,i,n){return xe(this,null,function*(){r.Ka=(d,m,h)=>function(p,w,C,T){return xe(this,null,function*(){let g=w.view.ma(C);g.ns&&(g=yield B_(p.localStore,w.query,!1).then(({documents:A})=>w.view.ma(A,g)));let _=T&&T.targetChanges.get(w.targetId),v=T&&T.targetMismatches.get(w.targetId)!=null,y=w.view.applyChanges(g,p.isPrimaryClient,_,v);return xR(p,w.targetId,y.wa),y.snapshot})}(r,d,m,h);let o=yield B_(r.localStore,e,!0),a=new K_(e,o.Ts),s=a.ma(o.documents),c=og.createSynthesizedTargetChangeForCurrentChange(t,i&&r.onlineState!=="Offline",n),l=a.applyChanges(s,r.isPrimaryClient,c);xR(r,t,l.wa);let u=new yR(e,t,a);return r.Fa.set(e,u),r.Ma.has(t)?r.Ma.get(t).push(e):r.Ma.set(t,[e]),l.snapshot})}function Fbe(r,e,t){return xe(this,null,function*(){let i=Ye(r),n=i.Fa.get(e),o=i.Ma.get(n.targetId);if(o.length>1)return i.Ma.set(n.targetId,o.filter(a=>!yg(a,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(n.targetId),i.sharedClientState.isActiveQueryTarget(n.targetId)||(yield $m(i.localStore,n.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(n.targetId),t&&Hm(i.remoteStore,n.targetId),Wm(i,n.targetId)}).catch(il))):(Wm(i,n.targetId),yield $m(i.localStore,n.targetId,!0))})}function Obe(r,e){return xe(this,null,function*(){let t=Ye(r),i=t.Fa.get(e),n=t.Ma.get(i.targetId);t.isPrimaryClient&&n.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Hm(t.remoteStore,i.targetId))})}function Pbe(r,e,t){return xe(this,null,function*(){let i=dF(r);try{let n=yield function(a,s){let c=Ye(a),l=hi.now(),u=s.reduce((h,f)=>h.add(f.key),Jt()),d,m;return c.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=ro(),p=Jt();return c.cs.getEntries(h,u).next(w=>{f=w,f.forEach((C,T)=>{T.isValidDocument()||(p=p.add(C))})}).next(()=>c.localDocuments.getOverlayedDocuments(h,f)).next(w=>{d=w;let C=[];for(let T of s){let g=Qye(T,d.get(T.key).overlayedDocument);g!=null&&C.push(new ba(T.key,g,vY(g.value.mapValue),_i.exists(!0)))}return c.mutationQueue.addMutationBatch(h,l,C,s)}).next(w=>{m=w;let C=w.applyToLocalDocumentSet(d,p);return c.documentOverlayCache.saveOverlays(h,w.batchId,C)})}).then(()=>({batchId:m.batchId,changes:TY(d)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(n.batchId),function(a,s,c){let l=a.Ba[a.currentUser.toKey()];l||(l=new ti(Gt)),l=l.insert(s,c),a.Ba[a.currentUser.toKey()]=l}(i,n.batchId,t),yield Bs(i,n.changes),yield eh(i.remoteStore)}catch(n){let o=rh(n,"Failed to persist write");t.reject(o)}})}function xZ(r,e){return xe(this,null,function*(){let t=Ye(r);try{let i=yield pbe(t.localStore,e);e.targetChanges.forEach((n,o)=>{let a=t.Na.get(o);a&&(pt(n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size<=1),n.addedDocuments.size>0?a.va=!0:n.modifiedDocuments.size>0?pt(a.va):n.removedDocuments.size>0&&(pt(a.va),a.va=!1))}),yield Bs(t,i,e)}catch(i){yield il(i)}})}function GQ(r,e,t){let i=Ye(r);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){let n=[];i.Fa.forEach((o,a)=>{let s=a.view.Z_(e);s.snapshot&&n.push(s.snapshot)}),function(a,s){let c=Ye(a);c.onlineState=s;let l=!1;c.queries.forEach((u,d)=>{for(let m of d.j_)m.Z_(s)&&(l=!0)}),l&&aF(c)}(i.eventManager,e),n.length&&i.Ca.d_(n),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Bbe(r,e,t){return xe(this,null,function*(){let i=Ye(r);i.sharedClientState.updateQueryState(e,"rejected",t);let n=i.Na.get(e),o=n&&n.key;if(o){let a=new ti(Ze.comparator);a=a.insert(o,Vi.newNoDocument(o,Et.min()));let s=Jt().add(o),c=new ng(Et.min(),new Map,new ti(Gt),a,s);yield xZ(i,c),i.Oa=i.Oa.remove(o),i.Na.delete(e),uF(i)}else yield $m(i.localStore,e,!1).then(()=>Wm(i,e,t)).catch(il)})}function Lbe(r,e){return xe(this,null,function*(){let t=Ye(r),i=e.batch.batchId;try{let n=yield fbe(t.localStore,e);lF(t,i,null),cF(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Bs(t,n)}catch(n){yield il(n)}})}function Vbe(r,e,t){return xe(this,null,function*(){let i=Ye(r);try{let n=yield function(a,s){let c=Ye(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,s).next(d=>(pt(d!==null),u=d.keys(),c.mutationQueue.removeMutationBatch(l,d))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,s)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(i.localStore,e);lF(i,e,t),cF(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Bs(i,n)}catch(n){yield il(n)}})}function zbe(r,e){return xe(this,null,function*(){let t=Ye(r);ol(t.remoteStore)||Oe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let i=yield function(a){let s=Ye(a);return s.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>s.mutationQueue.getHighestUnacknowledgedBatchId(c))}(t.localStore);if(i===-1)return void e.resolve();let n=t.ka.get(i)||[];n.push(e),t.ka.set(i,n)}catch(i){let n=rh(i,"Initialization of waitForPendingWrites() operation failed");e.reject(n)}})}function cF(r,e){(r.ka.get(e)||[]).forEach(t=>{t.resolve()}),r.ka.delete(e)}function lF(r,e,t){let i=Ye(r),n=i.Ba[i.currentUser.toKey()];if(n){let o=n.get(e);o&&(t?o.reject(t):o.resolve(),n=n.remove(e)),i.Ba[i.currentUser.toKey()]=n}}function Wm(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(let i of r.Ma.get(e))r.Fa.delete(i),t&&r.Ca.$a(i,t);r.Ma.delete(e),r.isPrimaryClient&&r.La.gr(e).forEach(i=>{r.La.containsKey(i)||wZ(r,i)})}function wZ(r,e){r.xa.delete(e.path.canonicalString());let t=r.Oa.get(e);t!==null&&(Hm(r.remoteStore,t),r.Oa=r.Oa.remove(e),r.Na.delete(t),uF(r))}function xR(r,e,t){for(let i of t)i instanceof W_?(r.La.addReference(i.key,e),Ube(r,i)):i instanceof X_?(Oe("SyncEngine","Document no longer in limbo: "+i.key),r.La.removeReference(i.key,e),r.La.containsKey(i.key)||wZ(r,i.key)):st()}function Ube(r,e){let t=e.key,i=t.path.canonicalString();r.Oa.get(t)||r.xa.has(i)||(Oe("SyncEngine","New document in limbo: "+t),r.xa.add(i),uF(r))}function uF(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){let e=r.xa.values().next().value;r.xa.delete(e);let t=new Ze(_r.fromString(e)),i=r.qa.next();r.Na.set(i,new bR(t)),r.Oa=r.Oa.insert(t,i),lx(r.remoteStore,new Um(Un(Zm(t.path)),i,"TargetPurposeLimboResolution",wo.oe))}}function Bs(r,e,t){return xe(this,null,function*(){let i=Ye(r),n=[],o=[],a=[];i.Fa.isEmpty()||(i.Fa.forEach((s,c)=>{a.push(i.Ka(c,e,t).then(l=>{var u;if((l||t)&&i.isPrimaryClient){let d=l?!l.fromCache:(u=t?.targetChanges.get(c.targetId))===null||u===void 0?void 0:u.current;i.sharedClientState.updateQueryState(c.targetId,d?"current":"not-current")}if(l){n.push(l);let d=J2.Wi(c.targetId,l);o.push(d)}}))}),yield Promise.all(a),i.Ca.d_(n),yield function(c,l){return xe(this,null,function*(){let u=Ye(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>ve.forEach(l,m=>ve.forEach(m.$i,h=>u.persistence.referenceDelegate.addReference(d,m.targetId,h)).next(()=>ve.forEach(m.Ui,h=>u.persistence.referenceDelegate.removeReference(d,m.targetId,h)))))}catch(d){if(!nl(d))throw d;Oe("LocalStore","Failed to update sequence numbers: "+d)}for(let d of l){let m=d.targetId;if(!d.fromCache){let h=u.os.get(m),f=h.snapshotVersion,p=h.withLastLimboFreeSnapshotVersion(f);u.os=u.os.insert(m,p)}}})}(i.localStore,o))})}function qbe(r,e){return xe(this,null,function*(){let t=Ye(r);if(!t.currentUser.isEqual(e)){Oe("SyncEngine","User change. New user:",e.toKey());let i=yield sZ(t.localStore,e);t.currentUser=e,function(o,a){o.ka.forEach(s=>{s.forEach(c=>{c.reject(new Re(_e.CANCELLED,a))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Bs(t,i.hs)}})}function jbe(r,e){let t=Ye(r),i=t.Na.get(e);if(i&&i.va)return Jt().add(i.key);{let n=Jt(),o=t.Ma.get(e);if(!o)return n;for(let a of o){let s=t.Fa.get(a);n=n.unionWith(s.view.Va)}return n}}function $be(r,e){return xe(this,null,function*(){let t=Ye(r),i=yield B_(t.localStore,e.query,!0),n=e.view.ba(i);return t.isPrimaryClient&&xR(t,e.targetId,n.wa),n})}function Hbe(r,e){return xe(this,null,function*(){let t=Ye(r);return dZ(t.localStore,e).then(i=>Bs(t,i))})}function Gbe(r,e,t,i){return xe(this,null,function*(){let n=Ye(r),o=yield function(s,c){let l=Ye(s),u=Ye(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",d=>u.Mn(d,c).next(m=>m?l.localDocuments.getDocuments(d,m):ve.resolve(null)))}(n.localStore,e);o!==null?(t==="pending"?yield eh(n.remoteStore):t==="acknowledged"||t==="rejected"?(lF(n,e,i||null),cF(n,e),function(s,c){Ye(Ye(s).mutationQueue).On(c)}(n.localStore,e)):st(),yield Bs(n,o)):Oe("SyncEngine","Cannot apply mutation batch with id: "+e)})}function Wbe(r,e){return xe(this,null,function*(){let t=Ye(r);if(ux(t),dF(t),e===!0&&t.Qa!==!0){let i=t.sharedClientState.getAllActiveQueryTargets(),n=yield WQ(t,i.toArray());t.Qa=!0,yield dR(t.remoteStore,!0);for(let o of n)lx(t.remoteStore,o)}else if(e===!1&&t.Qa!==!1){let i=[],n=Promise.resolve();t.Ma.forEach((o,a)=>{t.sharedClientState.isLocalQueryTarget(a)?i.push(a):n=n.then(()=>(Wm(t,a),$m(t.localStore,a,!0))),Hm(t.remoteStore,a)}),yield n,yield WQ(t,i),function(a){let s=Ye(a);s.Na.forEach((c,l)=>{Hm(s.remoteStore,l)}),s.La.pr(),s.Na=new Map,s.Oa=new ti(Ze.comparator)}(t),t.Qa=!1,yield dR(t.remoteStore,!1)}})}function WQ(r,e,t){return xe(this,null,function*(){let i=Ye(r),n=[],o=[];for(let a of e){let s,c=i.Ma.get(a);if(c&&c.length!==0){s=yield jm(i.localStore,Un(c[0]));for(let l of c){let u=i.Fa.get(l),d=yield $be(i,u);d.snapshot&&o.push(d.snapshot)}}else{let l=yield uZ(i.localStore,a);s=yield jm(i.localStore,l),yield sF(i,EZ(l),a,!1,s.resumeToken)}n.push(s)}return i.Ca.d_(o),n})}function EZ(r){return EY(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function Xbe(r){return function(t){return Ye(Ye(t).persistence).Qi()}(Ye(r).localStore)}function Kbe(r,e,t,i){return xe(this,null,function*(){let n=Ye(r);if(n.Qa)return void Oe("SyncEngine","Ignoring unexpected query state notification.");let o=n.Ma.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{let a=yield dZ(n.localStore,AY(o[0])),s=ng.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Mi.EMPTY_BYTE_STRING);yield Bs(n,a,s);break}case"rejected":yield $m(n.localStore,e,!0),Wm(n,e,i);break;default:st()}})}function Qbe(r,e,t){return xe(this,null,function*(){let i=ux(r);if(i.Qa){for(let n of e){if(i.Ma.has(n)&&i.sharedClientState.isActiveQueryTarget(n)){Oe("SyncEngine","Adding an already active target "+n);continue}let o=yield uZ(i.localStore,n),a=yield jm(i.localStore,o);yield sF(i,EZ(o),a.targetId,!1,a.resumeToken),lx(i.remoteStore,a)}for(let n of t)i.Ma.has(n)&&(yield $m(i.localStore,n,!1).then(()=>{Hm(i.remoteStore,n),Wm(i,n)}).catch(il))}})}function ux(r){let e=Ye(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=xZ.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jbe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Bbe.bind(null,e),e.Ca.d_=Mbe.bind(null,e.eventManager),e.Ca.$a=Nbe.bind(null,e.eventManager),e}function dF(r){let e=Ye(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Lbe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Vbe.bind(null,e),e}function Ybe(r,e,t){let i=Ye(r);(function(o,a,s){return xe(this,null,function*(){try{let c=yield a.getMetadata();if(yield function(h,f){let p=Ye(h),w=Ii(f.createTime);return p.persistence.runTransaction("hasNewerBundle","readonly",C=>p.Gr.getBundleMetadata(C,f.id)).then(C=>!!C&&C.createTime.compareTo(w)>=0)}(o.localStore,c))return yield a.close(),s._completeWith(function(h){return{taskState:"Success",documentsLoaded:h.totalDocuments,bytesLoaded:h.totalBytes,totalDocuments:h.totalDocuments,totalBytes:h.totalBytes}}(c)),Promise.resolve(new Set);s._updateProgress(bZ(c));let l=new vR(c,o.localStore,a.serializer),u=yield a.Ua();for(;u;){let m=yield l.la(u);m&&s._updateProgress(m),u=yield a.Ua()}let d=yield l.complete();return yield Bs(o,d.Ia,void 0),yield function(h,f){let p=Ye(h);return p.persistence.runTransaction("Save bundle","readwrite",w=>p.Gr.saveBundleMetadata(w,f))}(o.localStore,c),s._completeWith(d.progress),Promise.resolve(d.Pa)}catch(c){return va("SyncEngine",`Loading bundle failed with ${c}`),s._failWith(c),Promise.resolve(new Set)}})})(i,e,t).then(n=>{i.sharedClientState.notifyBundleLoaded(n)})}var wR=(()=>{class r{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return xe(this,null,function*(){this.serializer=_g(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,i){return null}Ha(t,i){return null}za(t){return aZ(this.persistence,new P_,t.initialUser,this.serializer)}Ga(t){return new F_(O_.Zr,this.serializer)}Wa(t){return new z_}terminate(){return xe(this,null,function*(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return r.provider={build:()=>new r},r})();var Q_=class r extends wR{constructor(e,t,i){super(),this.Ja=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){return xe(this,null,function*(){yield Ox(r.prototype,this,"initialize").call(this,e),yield this.Ja.initialize(this,e),yield dF(this.Ja.syncEngine),yield eh(this.Ja.remoteStore),yield this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}za(e){return aZ(this.persistence,new P_,e.initialUser,this.serializer)}ja(e,t){let i=this.persistence.referenceDelegate.garbageCollector;return new B2(i,e.asyncQueue,t)}Ha(e,t){let i=new e2(t,this.persistence);return new Jk(e.asyncQueue,i)}Ga(e){let t=eF(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?Wo.withCacheSize(this.cacheSizeBytes):Wo.DEFAULT;return new Z2(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,hZ(),l_(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new z_}},ER=class r extends Q_{constructor(e,t){super(e,t,!1),this.Ja=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){return xe(this,null,function*(){yield Ox(r.prototype,this,"initialize").call(this,e);let t=this.Ja.syncEngine;this.sharedClientState instanceof Xp&&(this.sharedClientState.syncEngine={no:Gbe.bind(null,t),ro:Kbe.bind(null,t),io:Qbe.bind(null,t),Qi:Xbe.bind(null,t),eo:Hbe.bind(null,t)},yield this.sharedClientState.start()),yield this.persistence.yi(i=>xe(this,null,function*(){yield Wbe(this.Ja.syncEngine,i),this.gcScheduler&&(i&&!this.gcScheduler.started?this.gcScheduler.start():i||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(i&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():i||this.indexBackfillerScheduler.stop())}))})}Wa(e){let t=hZ();if(!Xp.D(t))throw new Re(_e.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let i=eF(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Xp(t,e.asyncQueue,i,e.clientId,e.initialUser)}},mF=(()=>{class r{initialize(t,i){return xe(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>GQ(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=qbe.bind(null,this.syncEngine),yield dR(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new fR}()}createDatastore(t){let i=_g(t.databaseInfo.databaseId),n=function(a){return new oR(a)}(t.databaseInfo);return function(a,s,c,l){return new cR(a,s,c,l)}(t.authCredentials,t.appCheckCredentials,n,i)}createRemoteStore(t){return function(n,o,a,s,c){return new uR(n,o,a,s,c)}(this.localStore,this.datastore,t.asyncQueue,i=>GQ(this.syncEngine,i,0),function(){return U_.D()?new U_:new iR}())}createSyncEngine(t,i){return function(o,a,s,c,l,u,d){let m=new _R(o,a,s,c,l,u);return d&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}terminate(){return xe(this,null,function*(){var t,i;yield function(o){return xe(this,null,function*(){let a=Ye(o);Oe("RemoteStore","RemoteStore shutting down."),a.L_.add(5),yield Jm(a),a.k_.shutdown(),a.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()})}}return r.provider={build:()=>new r},r})();function XQ(r,e=10240){let t=0;return{read(){return xe(this,null,function*(){if(t<r.byteLength){let n={value:r.slice(t,t+e),done:!1};return t+=e,n}return{done:!0}})},cancel(){return xe(this,null,function*(){})},releaseLock(){},closed:Promise.resolve()}}var Xm=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Si("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var DR=class{constructor(e,t){this.Xa=e,this.serializer=t,this.metadata=new Gi,this.buffer=new Uint8Array,this.eu=function(){return new TextDecoder("utf-8")}(),this.tu().then(i=>{i&&i.ua()?this.metadata.resolve(i.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(i?.aa)}`))},i=>this.metadata.reject(i))}close(){return this.Xa.cancel()}getMetadata(){return xe(this,null,function*(){return this.metadata.promise})}Ua(){return xe(this,null,function*(){return yield this.getMetadata(),this.tu()})}tu(){return xe(this,null,function*(){let e=yield this.nu();if(e===null)return null;let t=this.eu.decode(e),i=Number(t);isNaN(i)&&this.ru(`length string (${t}) is not valid number`);let n=yield this.iu(i);return new gR(JSON.parse(n),e.length+i)})}su(){return this.buffer.findIndex(e=>e===123)}nu(){return xe(this,null,function*(){for(;this.su()<0&&!(yield this.ou()););if(this.buffer.length===0)return null;let e=this.su();e<0&&this.ru("Reached the end of bundle when a length string is expected.");let t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t})}iu(e){return xe(this,null,function*(){for(;this.buffer.length<e;)(yield this.ou())&&this.ru("Reached the end of bundle when more is expected.");let t=this.eu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t})}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}ou(){return xe(this,null,function*(){let e=yield this.Xa.read();if(!e.done){let t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done})}};var AR=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){return xe(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Re(_e.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let t=yield function(n,o){return xe(this,null,function*(){let a=Ye(n),s={documents:o.map(d=>ag(a.serializer,d))},c=yield a.Lo("BatchGetDocuments",a.serializer.databaseId,_r.emptyPath(),s,o.length),l=new Map;c.forEach(d=>{let m=rbe(a.serializer,d);l.set(m.key.toString(),m)});let u=[];return o.forEach(d=>{let m=l.get(d.toString());pt(!!m),u.push(m)}),u})}(this.datastore,e);return t.forEach(i=>this.recordVersion(i)),t})}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new tl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return xe(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,i)=>{let n=Ze.fromPath(i);this.mutations.push(new tg(n,this.precondition(n)))}),yield function(i,n){return xe(this,null,function*(){let o=Ye(i),a={writes:n.map(s=>sg(o.serializer,s))};yield o.Mo("Commit",o.serializer.databaseId,_r.emptyPath(),a)})}(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw st();t=Et.min()}let i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Re(_e.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){let t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Et.min())?_i.exists(!1):_i.updateTime(t):_i.none()}preconditionForUpdate(e){let t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Et.min()))throw new Re(_e.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _i.updateTime(t)}return _i.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var CR=class{constructor(e,t,i,n,o){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=n,this.deferred=o,this._u=i.maxAttempts,this.t_=new dg(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(()=>xe(this,null,function*(){let e=new AR(this.datastore),t=this.cu(e);t&&t.then(i=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(i)}).catch(n=>{this.lu(n)}))}).catch(i=>{this.lu(i)})}))}cu(e){try{let t=this.updateFunction(e);return!gg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){let t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!LY(t)}return!1}};var SR=class{constructor(e,t,i,n,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=n,this.user=Li.UNAUTHENTICATED,this.clientId=d_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,a=>xe(this,null,function*(){Oe("FirestoreClient","Received user=",a.uid),yield this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(i,a=>(Oe("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>xe(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let i=rh(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function qk(r,e){return xe(this,null,function*(){r.asyncQueue.verifyOperationInProgress(),Oe("FirestoreClient","Initializing OfflineComponentProvider");let t=r.configuration;yield e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener(n=>xe(this,null,function*(){i.isEqual(n)||(yield sZ(e.localStore,n),i=n)})),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e})}function KQ(r,e){return xe(this,null,function*(){r.asyncQueue.verifyOperationInProgress();let t=yield hF(r);Oe("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,r.configuration),r.setCredentialChangeListener(i=>jQ(e.remoteStore,i)),r.setAppCheckTokenChangeListener((i,n)=>jQ(e.remoteStore,n)),r._onlineComponents=e})}function hF(r){return xe(this,null,function*(){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Oe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield qk(r,r._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(n){return n.name==="FirebaseError"?n.code===_e.FAILED_PRECONDITION||n.code===_e.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}(t))throw t;va("Error using user provided cache. Falling back to memory cache: "+t),yield qk(r,new wR)}}else Oe("FirestoreClient","Using default OfflineComponentProvider"),yield qk(r,new wR);return r._offlineComponents})}function dx(r){return xe(this,null,function*(){return r._onlineComponents||(r._uninitializedComponentsProvider?(Oe("FirestoreClient","Using user provided OnlineComponentProvider"),yield KQ(r,r._uninitializedComponentsProvider._online)):(Oe("FirestoreClient","Using default OnlineComponentProvider"),yield KQ(r,new mF))),r._onlineComponents})}function DZ(r){return hF(r).then(e=>e.persistence)}function fF(r){return hF(r).then(e=>e.localStore)}function AZ(r){return dx(r).then(e=>e.remoteStore)}function pF(r){return dx(r).then(e=>e.syncEngine)}function Zbe(r){return dx(r).then(e=>e.datastore)}function Km(r){return xe(this,null,function*(){let e=yield dx(r),t=e.eventManager;return t.onListen=kbe.bind(null,e.syncEngine),t.onUnlisten=Fbe.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Rbe.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Obe.bind(null,e.syncEngine),t})}function Jbe(r){return r.asyncQueue.enqueue(()=>xe(this,null,function*(){let e=yield DZ(r),t=yield AZ(r);return e.setNetworkEnabled(!0),function(n){let o=Ye(n);return o.L_.delete(0),xg(o)}(t)}))}function e_e(r){return r.asyncQueue.enqueue(()=>xe(this,null,function*(){let e=yield DZ(r),t=yield AZ(r);return e.setNetworkEnabled(!1),function(n){return xe(this,null,function*(){let o=Ye(n);o.L_.add(0),yield Jm(o),o.q_.set("Offline")})}(t)}))}function t_e(r,e){let t=new Gi;return r.asyncQueue.enqueueAndForget(()=>xe(this,null,function*(){return function(n,o,a){return xe(this,null,function*(){try{let s=yield function(l,u){let d=Ye(l);return d.persistence.runTransaction("read document","readonly",m=>d.localDocuments.getDocument(m,u))}(n,o);s.isFoundDocument()?a.resolve(s):s.isNoDocument()?a.resolve(null):a.reject(new Re(_e.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(s){let c=rh(s,`Failed to get document '${o} from cache`);a.reject(c)}})}(yield fF(r),e,t)})),t.promise}function CZ(r,e,t={}){let i=new Gi;return r.asyncQueue.enqueueAndForget(()=>xe(this,null,function*(){return function(o,a,s,c,l){let u=new Xm({next:m=>{u.Za(),a.enqueueAndForget(()=>oF(o,d));let h=m.docs.has(s);!h&&m.fromCache?l.reject(new Re(_e.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&m.fromCache&&c&&c.source==="server"?l.reject(new Re(_e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),d=new mg(Zm(s.path),u,{includeMetadataChanges:!0,_a:!0});return nF(o,d)}(yield Km(r),r.asyncQueue,e,t,i)})),i.promise}function r_e(r,e){let t=new Gi;return r.asyncQueue.enqueueAndForget(()=>xe(this,null,function*(){return function(n,o,a){return xe(this,null,function*(){try{let s=yield B_(n,o,!0),c=new K_(o,s.Ts),l=c.ma(s.documents),u=c.applyChanges(l,!1);a.resolve(u.snapshot)}catch(s){let c=rh(s,`Failed to execute query '${o} against cache`);a.reject(c)}})}(yield fF(r),e,t)})),t.promise}function SZ(r,e,t={}){let i=new Gi;return r.asyncQueue.enqueueAndForget(()=>xe(this,null,function*(){return function(o,a,s,c,l){let u=new Xm({next:m=>{u.Za(),a.enqueueAndForget(()=>oF(o,d)),m.fromCache&&c.source==="server"?l.reject(new Re(_e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),d=new mg(s,u,{includeMetadataChanges:!0,_a:!0});return nF(o,d)}(yield Km(r),r.asyncQueue,e,t,i)})),i.promise}function i_e(r,e){let t=new Xm(e);return r.asyncQueue.enqueueAndForget(()=>xe(this,null,function*(){return function(n,o){Ye(n).Y_.add(o),o.next()}(yield Km(r),t)})),()=>{t.Za(),r.asyncQueue.enqueueAndForget(()=>xe(this,null,function*(){return function(n,o){Ye(n).Y_.delete(o)}(yield Km(r),t)}))}}function n_e(r,e,t,i){let n=function(a,s){let c;return c=typeof a=="string"?zY().encode(a):a,function(u,d){return new DR(u,d)}(function(u,d){if(u instanceof Uint8Array)return XQ(u,d);if(u instanceof ArrayBuffer)return XQ(new Uint8Array(u),d);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),s)}(t,_g(e));r.asyncQueue.enqueueAndForget(()=>xe(this,null,function*(){Ybe(yield pF(r),n,i)}))}function o_e(r,e){return r.asyncQueue.enqueue(()=>xe(this,null,function*(){return function(i,n){let o=Ye(i);return o.persistence.runTransaction("Get named query","readonly",a=>o.Gr.getNamedQuery(a,n))}(yield fF(r),e)}))}function TZ(r){let e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}var QQ=new Map;function gF(r,e,t){if(!t)throw new Re(_e.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function vF(r,e,t,i){if(e===!0&&i===!0)throw new Re(_e.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function YQ(r){if(!Ze.isDocumentKey(r))throw new Re(_e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function ZQ(r){if(Ze.isDocumentKey(r))throw new Re(_e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function mx(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":st()}function Dr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Re(_e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=mx(r);throw new Re(_e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function IZ(r,e){if(e<=0)throw new Re(_e.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}var Y_=class{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Re(_e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Re(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TZ((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Re(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Re(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Re(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,n){return i.timeoutSeconds===n.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Eu=class{constructor(e,t,i,n){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Re(_e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Re(_e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y_(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new jk;switch(i.type){case"firstParty":return new Wk(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Re(_e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return xe(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let i=QQ.get(t);i&&(Oe("ComponentProvider","Removing Datastore"),QQ.delete(t),i.terminate())}(this),Promise.resolve()}};function MZ(r,e,t,i={}){var n;let o=(r=Dr(r,Eu))._getSettings(),a=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&va("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),i.mockUserToken){let s,c;if(typeof i.mockUserToken=="string")s=i.mockUserToken,c=Li.MOCK_USER;else{s=lP(i.mockUserToken,(n=r._app)===null||n===void 0?void 0:n.options.projectId);let l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new Re(_e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Li(l)}r._authCredentials=new $k(new u_(s,c))}}var dn=class r{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new r(this.firestore,e,this._query)}},Qr=class r{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new r(this.firestore,e,this._key)}},Ga=class r extends dn{constructor(e,t,i){super(e,t,Zm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Qr(this.firestore,null,new Ze(e))}withConverter(e){return new r(this.firestore,e,this._path)}};function yF(r,e,...t){if(r=ui(r),gF("collection","path",e),r instanceof Eu){let i=_r.fromString(e,...t);return ZQ(i),new Ga(r,null,i)}{if(!(r instanceof Qr||r instanceof Ga))throw new Re(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=r._path.child(_r.fromString(e,...t));return ZQ(i),new Ga(r.firestore,null,i)}}function NZ(r,e){if(r=Dr(r,Eu),gF("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Re(_e.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new dn(r,null,function(i){return new ya(_r.emptyPath(),i)}(e))}function wg(r,e,...t){if(r=ui(r),arguments.length===1&&(e=d_.newId()),gF("doc","path",e),r instanceof Eu){let i=_r.fromString(e,...t);return YQ(i),new Qr(r,null,new Ze(i))}{if(!(r instanceof Qr||r instanceof Ga))throw new Re(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=r._path.child(_r.fromString(e,...t));return YQ(i),new Qr(r.firestore,r instanceof Ga?r.converter:null,new Ze(i))}}function bF(r,e){return r=ui(r),e=ui(e),(r instanceof Qr||r instanceof Ga)&&(e instanceof Qr||e instanceof Ga)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function _F(r,e){return r=ui(r),e=ui(e),r instanceof dn&&e instanceof dn&&r.firestore===e.firestore&&yg(r._query,e._query)&&r.converter===e.converter}var Z_=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new dg(this,"async_queue_retry"),this.Vu=()=>{let i=l_();i&&Oe("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;let t=l_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=l_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new Gi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return xe(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!nl(e))throw e;Oe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;let n=function(a){let s=a.message||"";return a.stack&&(s=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),s}(i);throw Si("INTERNAL UNHANDLED ERROR: ",n),i}).then(i=>(this.du=!1,i))));return this.mu=t,t}enqueueAfterDelay(e,t,i){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let n=mR.createAndSchedule(this,e,t,i,o=>this.yu(o));return this.Tu.push(n),n}fu(){this.Eu&&st()}verifyOperationInProgress(){}wu(){return xe(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function TR(r){return function(t,i){if(typeof t!="object"||t===null)return!1;let n=t;for(let o of i)if(o in n&&typeof n[o]=="function")return!0;return!1}(r,["next","error","complete"])}var IR=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new Gi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}};var kZ=-1,fi=class extends Eu{constructor(e,t,i,n){super(e,t,i,n),this.type="firestore",this._queue=new Z_,this._persistenceKey=n?.name||"[DEFAULT]"}_terminate(){return xe(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Z_(e),this._firestoreClient=void 0,yield e}})}};function mn(r){if(r._terminated)throw new Re(_e.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||RZ(r),r._firestoreClient}function RZ(r){var e,t,i;let n=r._freezeSettings(),o=function(s,c,l,u){return new t2(s,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,TZ(u.experimentalLongPollingOptions),u.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,n);r._componentsProvider||!((t=n.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=n.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(r._componentsProvider={_offline:n.localCache._offlineComponentProvider,_online:n.localCache._onlineComponentProvider}),r._firestoreClient=new SR(r._authCredentials,r._appCheckCredentials,r._queue,o,r._componentsProvider&&function(s){let c=s?._online.build();return{_offline:s?._offline.build(c),_online:c}}(r._componentsProvider))}function FZ(r,e){va("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let t=r._freezeSettings();return PZ(r,mF.provider,{build:i=>new Q_(i,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function OZ(r){return xe(this,null,function*(){va("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let e=r._freezeSettings();PZ(r,mF.provider,{build:t=>new ER(t,e.cacheSizeBytes)})})}function PZ(r,e,t){if((r=Dr(r,fi))._firestoreClient||r._terminated)throw new Re(_e.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(r._componentsProvider||r._getSettings().localCache)throw new Re(_e.FAILED_PRECONDITION,"SDK cache is already specified.");r._componentsProvider={_online:e,_offline:t},RZ(r)}function BZ(r){if(r._initialized&&!r._terminated)throw new Re(_e.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let e=new Gi;return r._queue.enqueueAndForgetEvenWhileRestricted(()=>xe(this,null,function*(){try{yield function(i){return xe(this,null,function*(){if(!Xc.D())return Promise.resolve();let n=i+"main";yield Xc.delete(n)})}(eF(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function LZ(r){return function(t){let i=new Gi;return t.asyncQueue.enqueueAndForget(()=>xe(this,null,function*(){return zbe(yield pF(t),i)})),i.promise}(mn(r=Dr(r,fi)))}function VZ(r){return Jbe(mn(r=Dr(r,fi)))}function zZ(r){return e_e(mn(r=Dr(r,fi)))}function UZ(r,e){let t=mn(r=Dr(r,fi)),i=new IR;return n_e(t,r._databaseId,e,i),i}function qZ(r,e){return o_e(mn(r=Dr(r,fi)),e).then(t=>t?new dn(r,null,t.query):null)}var Qa=class r{constructor(e){this._byteString=e}static fromBase64String(e){try{return new r(Mi.fromBase64String(e))}catch(t){throw new Re(_e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new r(Mi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var _a=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Re(_e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ti(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Os=class{constructor(e){this._methodName=e}};var Du=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(_e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(_e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Gt(this._lat,e._lat)||Gt(this._long,e._long)}};var hg=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,n){if(i.length!==n.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==n[o])return!1;return!0}(this._values,e._values)}};var a_e=/^__.*__$/,MR=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ba(e,this.data,this.fieldMask,t,this.fieldTransforms):new el(e,this.data,t,this.fieldTransforms)}},J_=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ba(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function jZ(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw st()}}var ex=class r{constructor(e,t,i,n,o,a){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=n,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new r(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),n=this.Fu({path:i,xu:!1});return n.Ou(e),n}Nu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),n=this.Fu({path:i,xu:!1});return n.vu(),n}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return tx(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(jZ(this.Cu)&&a_e.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},NR=class{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||_g(e)}Qu(e,t,i,n=!1){return new ex({Cu:e,methodName:t,qu:i,path:Ti.emptyPath(),xu:!1,ku:n},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Tu(r){let e=r._freezeSettings(),t=_g(r._databaseId);return new NR(r._databaseId,!!e.ignoreUndefinedProperties,t)}function hx(r,e,t,i,n,o={}){let a=r.Qu(o.merge||o.mergeFields?2:0,e,t,n);EF("Data must be an object, but it was:",a,i);let s=GZ(i,a),c,l;if(o.merge)c=new Eo(a.fieldMask),l=a.fieldTransforms;else if(o.mergeFields){let u=[];for(let d of o.mergeFields){let m=PR(e,d,t);if(!a.contains(m))throw new Re(_e.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);XZ(u,m)||u.push(m)}c=new Eo(u),l=a.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=a.fieldTransforms;return new MR(new kn(s),c,l)}var fg=class r extends Os{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof r}};function $Z(r,e,t){return new ex({Cu:3,qu:e.settings.qu,methodName:r._methodName,xu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var kR=class r extends Os{_toFieldTransform(e){return new _u(e.path,new Zc)}isEqual(e){return e instanceof r}},RR=class r extends Os{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){let t=$Z(this,e,!0),i=this.Ku.map(o=>Iu(o,t)),n=new Rs(i);return new _u(e.path,n)}isEqual(e){return e instanceof r&&rw(this.Ku,e.Ku)}},FR=class r extends Os{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){let t=$Z(this,e,!0),i=this.Ku.map(o=>Iu(o,t)),n=new Fs(i);return new _u(e.path,n)}isEqual(e){return e instanceof r&&rw(this.Ku,e.Ku)}},OR=class r extends Os{constructor(e,t){super(e),this.$u=t}_toFieldTransform(e){let t=new Jc(e.serializer,NY(e.serializer,this.$u));return new _u(e.path,t)}isEqual(e){return e instanceof r&&this.$u===e.$u}};function xF(r,e,t,i){let n=r.Qu(1,e,t);EF("Data must be an object, but it was:",n,i);let o=[],a=kn.empty();Su(i,(c,l)=>{let u=DF(e,c,t);l=ui(l);let d=n.Nu(u);if(l instanceof fg)o.push(u);else{let m=Iu(l,d);m!=null&&(o.push(u),a.set(u,m))}});let s=new Eo(o);return new J_(a,s,n.fieldTransforms)}function wF(r,e,t,i,n,o){let a=r.Qu(1,e,t),s=[PR(e,i,t)],c=[n];if(o.length%2!=0)throw new Re(_e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)s.push(PR(e,o[m])),c.push(o[m+1]);let l=[],u=kn.empty();for(let m=s.length-1;m>=0;--m)if(!XZ(l,s[m])){let h=s[m],f=c[m];f=ui(f);let p=a.Nu(h);if(f instanceof fg)l.push(h);else{let w=Iu(f,p);w!=null&&(l.push(h),u.set(h,w))}}let d=new Eo(l);return new J_(u,d,a.fieldTransforms)}function HZ(r,e,t,i=!1){return Iu(t,r.Qu(i?4:3,e))}function Iu(r,e){if(WZ(r=ui(r)))return EF("Unsupported field value:",e,r),GZ(r,e);if(r instanceof Os)return function(i,n){if(!jZ(n.Cu))throw n.Bu(`${i._methodName}() can only be used with update() and set()`);if(!n.path)throw n.Bu(`${i._methodName}() is not currently supported inside arrays`);let o=i._toFieldTransform(n);o&&n.fieldTransforms.push(o)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(i,n){let o=[],a=0;for(let s of i){let c=Iu(s,n.Lu(a));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),a++}return{arrayValue:{values:o}}}(r,e)}return function(i,n){if((i=ui(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return NY(n.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let o=hi.fromDate(i);return{timestampValue:zm(n.serializer,o)}}if(i instanceof hi){let o=new hi(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:zm(n.serializer,o)}}if(i instanceof Du)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Qa)return{bytesValue:UY(n.serializer,i._byteString)};if(i instanceof Qr){let o=n.databaseId,a=i.firestore._databaseId;if(!a.isEqual(o))throw n.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:YR(i.firestore._databaseId||n.databaseId,i._key.path)}}if(i instanceof hg)return function(a,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw s.Bu("VectorValues must only contain numeric values.");return QR(s.serializer,c)})}}}}}}(i,n);throw n.Bu(`Unsupported field value: ${mx(i)}`)}(r,e)}function GZ(r,e){let t={};return hY(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Su(r,(i,n)=>{let o=Iu(n,e.Mu(i));o!=null&&(t[i]=o)}),{mapValue:{fields:t}}}function WZ(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof hi||r instanceof Du||r instanceof Qa||r instanceof Qr||r instanceof Os||r instanceof hg)}function EF(r,e,t){if(!WZ(t)||!function(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}(t)){let i=mx(t);throw i==="an object"?e.Bu(r+" a custom object"):e.Bu(r+" "+i)}}function PR(r,e,t){if((e=ui(e))instanceof _a)return e._internalPath;if(typeof e=="string")return DF(r,e);throw tx("Field path arguments must be of type string or ",r,!1,void 0,t)}var s_e=new RegExp("[~\\*/\\[\\]]");function DF(r,e,t){if(e.search(s_e)>=0)throw tx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new _a(...e.split("."))._internalPath}catch{throw tx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function tx(r,e,t,i,n){let o=i&&!i.isEmpty(),a=n!==void 0,s=`Function ${e}() called with invalid data`;t&&(s+=" (via `toFirestore()`)"),s+=". ";let c="";return(o||a)&&(c+=" (found",o&&(c+=` in field ${i}`),a&&(c+=` in document ${n}`),c+=")"),new Re(_e.INVALID_ARGUMENT,s+r+c)}function XZ(r,e){return r.some(t=>t.isEqual(e))}var Au=class{constructor(e,t,i,n,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=n,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Qr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new BR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(fx("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},BR=class extends Au{data(){return super.data()}};function fx(r,e){return typeof e=="string"?DF(r,e):e instanceof _a?e._internalPath:e._delegate._internalPath}function KZ(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Re(_e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var pg=class{},Cu=class extends pg{};function Ls(r,e,...t){let i=[];e instanceof pg&&i.push(e),i=i.concat(t),function(o){let a=o.filter(c=>c instanceof LR).length,s=o.filter(c=>c instanceof rx).length;if(a>1||a>0&&s>0)throw new Re(_e.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let n of i)r=n._apply(r);return r}var rx=class r extends Cu{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new r(e,t,i)}_apply(e){let t=this._parse(e);return oJ(e._query,t),new dn(e.firestore,e.converter,f2(e._query,t))}_parse(e){let t=Tu(e.firestore);return function(o,a,s,c,l,u,d){let m;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Re(_e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){eY(d,u);let h=[];for(let f of d)h.push(JQ(c,o,f));m={arrayValue:{values:h}}}else m=JQ(c,o,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||eY(d,u),m=HZ(s,a,d,u==="in"||u==="not-in");return fr.create(l,u,m)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function QZ(r,e,t){let i=e,n=fx("where",r);return rx._create(n,i,t)}var LR=class r extends pg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new r(e,t)}_parse(e){let t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:zr.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(n,o){let a=n,s=o.getFlattenedFilters();for(let c of s)oJ(a,c),a=f2(a,c)}(e._query,t),new dn(e.firestore,e.converter,f2(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var VR=class r extends Cu{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new r(e,t)}_apply(e){let t=function(n,o,a){if(n.startAt!==null)throw new Re(_e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(n.endAt!==null)throw new Re(_e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yu(o,a)}(e._query,this._field,this._direction);return new dn(e.firestore,e.converter,function(n,o){let a=n.explicitOrderBy.concat([o]);return new ya(n.path,n.collectionGroup,a,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}(e._query,t))}};function YZ(r,e="asc"){let t=e,i=fx("orderBy",r);return VR._create(i,t)}var ix=class r extends Cu{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new r(e,t,i)}_apply(e){return new dn(e.firestore,e.converter,x_(e._query,this._limit,this._limitType))}};function ZZ(r){return IZ("limit",r),ix._create("limit",r,"F")}function JZ(r){return IZ("limitToLast",r),ix._create("limitToLast",r,"L")}var nx=class r extends Cu{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new r(e,t,i)}_apply(e){let t=nJ(e,this.type,this._docOrFields,this._inclusive);return new dn(e.firestore,e.converter,function(n,o){return new ya(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,o,n.endAt)}(e._query,t))}};function eJ(...r){return nx._create("startAt",r,!0)}function tJ(...r){return nx._create("startAfter",r,!1)}var ox=class r extends Cu{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new r(e,t,i)}_apply(e){let t=nJ(e,this.type,this._docOrFields,this._inclusive);return new dn(e.firestore,e.converter,function(n,o){return new ya(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,n.startAt,o)}(e._query,t))}};function rJ(...r){return ox._create("endBefore",r,!1)}function iJ(...r){return ox._create("endAt",r,!0)}function nJ(r,e,t,i){if(t[0]=ui(t[0]),t[0]instanceof Au)return function(o,a,s,c,l){if(!c)throw new Re(_e.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${s}().`);let u=[];for(let d of km(o))if(d.field.isKeyField())u.push(vu(a,c.key));else{let m=c.data.field(d.field);if(sx(m))throw new Re(_e.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(m===null){let h=d.field.canonicalString();throw new Re(_e.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${h}' (used as the orderBy) does not exist.`)}u.push(m)}return new Xa(u,l)}(r._query,r.firestore._databaseId,e,t[0]._document,i);{let n=Tu(r.firestore);return function(a,s,c,l,u,d){let m=a.explicitOrderBy;if(u.length>m.length)throw new Re(_e.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let h=[];for(let f=0;f<u.length;f++){let p=u[f];if(m[f].field.isKeyField()){if(typeof p!="string")throw new Re(_e.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof p}`);if(!XR(a)&&p.indexOf("/")!==-1)throw new Re(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${p}' contains a slash.`);let w=a.path.child(_r.fromString(p));if(!Ze.isDocumentKey(w))throw new Re(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${w}' is not because it contains an odd number of segments.`);let C=new Ze(w);h.push(vu(s,C))}else{let w=HZ(c,l,p);h.push(w)}}return new Xa(h,d)}(r._query,r.firestore._databaseId,n,e,t,i)}}function JQ(r,e,t){if(typeof(t=ui(t))=="string"){if(t==="")throw new Re(_e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XR(e)&&t.indexOf("/")!==-1)throw new Re(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let i=e.path.child(_r.fromString(t));if(!Ze.isDocumentKey(i))throw new Re(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return vu(r,new Ze(i))}if(t instanceof Qr)return vu(r,t._key);throw new Re(_e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mx(t)}.`)}function eY(r,e){if(!Array.isArray(r)||r.length===0)throw new Re(_e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oJ(r,e){let t=function(n,o){for(let a of n)for(let s of a.getFlattenedFilters())if(o.indexOf(s.op)>=0)return s.op;return null}(r.filters,function(n){switch(n){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Re(_e.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Re(_e.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var Qm=class{convertValue(e,t="none"){switch(gu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ci(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Kc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw st()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let i={};return Su(e,(n,o)=>{i[n]=this.convertValue(o,t)}),i}convertVectorValue(e){var t,i,n;let o=(n=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||n===void 0?void 0:n.map(a=>ci(a.doubleValue));return new hg(o)}convertGeoPoint(e){return new Du(ci(e.latitude),ci(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":let i=GR(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Zp(e));default:return null}}convertTimestamp(e){let t=ks(e);return new hi(t.seconds,t.nanos)}convertDocumentKey(e,t){let i=_r.fromString(e);pt(ZY(i));let n=new Qc(i.get(1),i.get(3)),o=new Ze(i.popFirst(5));return n.isEqual(t)||Si(`Document ${o} contains a document reference within a different database (${n.projectId}/${n.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function px(r,e,t){let i;return i=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,i}var zR=class extends Qm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qa(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qr(this.firestore,null,t)}};var Ns=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ko=class extends Au{constructor(e,t,i,n,o,a){super(e,t,i,n,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let i=this._document.data.field(fx("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}},Gc=class extends Ko{data(e={}){return super.data(e)}},xa=class{constructor(e,t,i,n){this._firestore=e,this._userDataWriter=t,this._snapshot=n,this.metadata=new Ns(n.hasPendingWrites,n.fromCache),this.query=i}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Gc(this._firestore,this._userDataWriter,i.key,i,new Ns(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(_e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(n,o){if(n._snapshot.oldDocs.isEmpty()){let a=0;return n._snapshot.docChanges.map(s=>{let c=new Gc(n._firestore,n._userDataWriter,s.doc.key,s.doc,new Ns(n._snapshot.mutatedKeys.has(s.doc.key),n._snapshot.fromCache),n.query.converter);return s.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=n._snapshot.oldDocs;return n._snapshot.docChanges.filter(s=>o||s.type!==3).map(s=>{let c=new Gc(n._firestore,n._userDataWriter,s.doc.key,s.doc,new Ns(n._snapshot.mutatedKeys.has(s.doc.key),n._snapshot.fromCache),n.query.converter),l=-1,u=-1;return s.type!==0&&(l=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),s.type!==1&&(a=a.add(s.doc),u=a.indexOf(s.doc.key)),{type:c_e(s.type),doc:c,oldIndex:l,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function c_e(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return st()}}function AF(r,e){return r instanceof Ko&&e instanceof Ko?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(r._document===null?e._document===null:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof xa&&e instanceof xa&&r._firestore===e._firestore&&_F(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}function aJ(r){r=Dr(r,Qr);let e=Dr(r.firestore,fi);return CZ(mn(e),r._key).then(t=>IF(e,r,t))}var Ps=class extends Qm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qa(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qr(this.firestore,null,t)}};function sJ(r){r=Dr(r,Qr);let e=Dr(r.firestore,fi),t=mn(e),i=new Ps(e);return t_e(t,r._key).then(n=>new Ko(e,i,r._key,n,new Ns(n!==null&&n.hasLocalMutations,!0),r.converter))}function cJ(r){r=Dr(r,Qr);let e=Dr(r.firestore,fi);return CZ(mn(e),r._key,{source:"server"}).then(t=>IF(e,r,t))}function lJ(r){r=Dr(r,dn);let e=Dr(r.firestore,fi),t=mn(e),i=new Ps(e);return KZ(r._query),SZ(t,r._query).then(n=>new xa(e,i,r,n))}function uJ(r){r=Dr(r,dn);let e=Dr(r.firestore,fi),t=mn(e),i=new Ps(e);return r_e(t,r._query).then(n=>new xa(e,i,r,n))}function dJ(r){r=Dr(r,dn);let e=Dr(r.firestore,fi),t=mn(e),i=new Ps(e);return SZ(t,r._query,{source:"server"}).then(n=>new xa(e,i,r,n))}function CF(r,e,t){r=Dr(r,Qr);let i=Dr(r.firestore,fi),n=px(r.converter,e,t);return ih(i,[hx(Tu(i),"setDoc",r._key,n,r.converter!==null,t).toMutation(r._key,_i.none())])}function SF(r,e,t,...i){r=Dr(r,Qr);let n=Dr(r.firestore,fi),o=Tu(n),a;return a=typeof(e=ui(e))=="string"||e instanceof _a?wF(o,"updateDoc",r._key,e,t,i):xF(o,"updateDoc",r._key,e),ih(n,[a.toMutation(r._key,_i.exists(!0))])}function mJ(r){return ih(Dr(r.firestore,fi),[new tl(r._key,_i.none())])}function hJ(r,e){let t=Dr(r.firestore,fi),i=wg(r),n=px(r.converter,e);return ih(t,[hx(Tu(r.firestore),"addDoc",i._key,n,r.converter!==null,{}).toMutation(i._key,_i.exists(!1))]).then(()=>i)}function TF(r,...e){var t,i,n;r=ui(r);let o={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||TR(e[a])||(o=e[a],a++);let s={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(TR(e[a])){let d=e[a];e[a]=(t=d.next)===null||t===void 0?void 0:t.bind(d),e[a+1]=(i=d.error)===null||i===void 0?void 0:i.bind(d),e[a+2]=(n=d.complete)===null||n===void 0?void 0:n.bind(d)}let c,l,u;if(r instanceof Qr)l=Dr(r.firestore,fi),u=Zm(r._key.path),c={next:d=>{e[a]&&e[a](IF(l,r,d))},error:e[a+1],complete:e[a+2]};else{let d=Dr(r,dn);l=Dr(d.firestore,fi),u=d._query;let m=new Ps(l);c={next:h=>{e[a]&&e[a](new xa(l,m,d,h))},error:e[a+1],complete:e[a+2]},KZ(r._query)}return function(m,h,f,p){let w=new Xm(p),C=new mg(h,w,f);return m.asyncQueue.enqueueAndForget(()=>xe(this,null,function*(){return nF(yield Km(m),C)})),()=>{w.Za(),m.asyncQueue.enqueueAndForget(()=>xe(this,null,function*(){return oF(yield Km(m),C)}))}}(mn(l),u,s,c)}function fJ(r,e){return i_e(mn(r=Dr(r,fi)),TR(e)?e:{next:e})}function ih(r,e){return function(i,n){let o=new Gi;return i.asyncQueue.enqueueAndForget(()=>xe(this,null,function*(){return Pbe(yield pF(i),n,o)})),o.promise}(mn(r),e)}function IF(r,e,t){let i=t.docs.get(e._key),n=new Ps(r);return new Ko(r,n,e._key,i,new Ns(t.hasPendingWrites,t.fromCache),e.converter)}var l_e={maxAttempts:5};var ax=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Tu(e)}set(e,t,i){this._verifyNotCommitted();let n=$c(e,this._firestore),o=px(n.converter,t,i),a=hx(this._dataReader,"WriteBatch.set",n._key,o,n.converter!==null,i);return this._mutations.push(a.toMutation(n._key,_i.none())),this}update(e,t,i,...n){this._verifyNotCommitted();let o=$c(e,this._firestore),a;return a=typeof(t=ui(t))=="string"||t instanceof _a?wF(this._dataReader,"WriteBatch.update",o._key,t,i,n):xF(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(a.toMutation(o._key,_i.exists(!0))),this}delete(e){this._verifyNotCommitted();let t=$c(e,this._firestore);return this._mutations=this._mutations.concat(new tl(t._key,_i.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(_e.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function $c(r,e){if((r=ui(r)).firestore!==e)throw new Re(_e.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}var UR=class extends class{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=Tu(t)}get(t){let i=$c(t,this._firestore),n=new zR(this._firestore);return this._transaction.lookup([i._key]).then(o=>{if(!o||o.length!==1)return st();let a=o[0];if(a.isFoundDocument())return new Au(this._firestore,n,a.key,a,i.converter);if(a.isNoDocument())return new Au(this._firestore,n,i._key,null,i.converter);throw st()})}set(t,i,n){let o=$c(t,this._firestore),a=px(o.converter,i,n),s=hx(this._dataReader,"Transaction.set",o._key,a,o.converter!==null,n);return this._transaction.set(o._key,s),this}update(t,i,n,...o){let a=$c(t,this._firestore),s;return s=typeof(i=ui(i))=="string"||i instanceof _a?wF(this._dataReader,"Transaction.update",a._key,i,n,o):xF(this._dataReader,"Transaction.update",a._key,i),this._transaction.update(a._key,s),this}delete(t){let i=$c(t,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){let t=$c(e,this._firestore),i=new Ps(this._firestore);return super.get(e).then(n=>new Ko(this._firestore,i,t._key,n._document,new Ns(!1,!1),t.converter))}};function pJ(r,e,t){r=Dr(r,fi);let i=Object.assign(Object.assign({},l_e),t);return function(o){if(o.maxAttempts<1)throw new Re(_e.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(o,a,s){let c=new Gi;return o.asyncQueue.enqueueAndForget(()=>xe(this,null,function*(){let l=yield Zbe(o);new CR(o.asyncQueue,l,s,a,c).au()})),c.promise}(mn(r),n=>e(new UR(r,n)),i)}function gJ(){return new fg("deleteField")}function vJ(){return new kR("serverTimestamp")}function yJ(...r){return new RR("arrayUnion",r)}function bJ(...r){return new FR("arrayRemove",r)}function _J(r){return new OR("increment",r)}(function(e,t=!0){(function(n){Ym=n})(mP),Fh(new El("firestore",(i,{instanceIdentifier:n,options:o})=>{let a=i.getProvider("app").getImmediate(),s=new fi(new Hk(i.getProvider("auth-internal")),new Kk(i.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Re(_e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qc(l.options.projectId,u)}(a,n),a);return o=Object.assign({useFetchStreams:t},o),s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),Js(ZK,"4.7.3",e),Js(ZK,"4.7.3","esm2017")})();var u_e="@firebase/firestore-compat",d_e="0.3.38";function OF(r,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new Re("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return e}function xJ(){if(typeof Uint8Array>"u")throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function wJ(){if(!fY())throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}var gx=class r{constructor(e){this._delegate=e}static fromBase64String(e){return wJ(),new r(Qa.fromBase64String(e))}static fromUint8Array(e){return xJ(),new r(Qa.fromUint8Array(e))}toBase64(){return wJ(),this._delegate.toBase64()}toUint8Array(){return xJ(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function MF(r){return m_e(r,["next","error","complete"])}function m_e(r,e){if(typeof r!="object"||r===null)return!1;let t=r;for(let i of e)if(i in t&&typeof t[i]=="function")return!0;return!1}var NF=class{enableIndexedDbPersistence(e,t){return FZ(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return OZ(e._delegate)}clearIndexedDbPersistence(e){return BZ(e._delegate)}},vx=class{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Qc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){let t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&va("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,i={}){MZ(this._delegate,e,t,i)}enableNetwork(){return VZ(this._delegate)}disableNetwork(){return zZ(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,vF("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return LZ(this._delegate)}onSnapshotsInSync(e){return fJ(this._delegate,e)}get app(){if(!this._appCompat)throw new Re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ah(this,yF(this._delegate,e))}catch(t){throw qn(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ya(this,wg(this._delegate,e))}catch(t){throw qn(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ru(this,NZ(this._delegate,e))}catch(t){throw qn(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return pJ(this._delegate,t=>e(new yx(this,t)))}batch(){return mn(this._delegate),new bx(new ax(this._delegate,e=>ih(this._delegate,e)))}loadBundle(e){return UZ(this._delegate,e)}namedQuery(e){return qZ(this._delegate,e).then(t=>t?new Ru(this,t):null)}},nh=class extends Qm{constructor(e){super(),this.firestore=e}convertBytes(e){return new gx(new Qa(e))}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return Ya.forKey(t,this.firestore,null)}};function h_e(r){tY(r)}var yx=class{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new nh(e)}get(e){let t=Mu(e);return this._delegate.get(t).then(i=>new Nu(this._firestore,new Ko(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){let n=Mu(e);return i?(OF("Transaction.set",i),this._delegate.set(n,t,i)):this._delegate.set(n,t),this}update(e,t,i,...n){let o=Mu(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,i,...n),this}delete(e){let t=Mu(e);return this._delegate.delete(t),this}},bx=class{constructor(e){this._delegate=e}set(e,t,i){let n=Mu(e);return i?(OF("WriteBatch.set",i),this._delegate.set(n,t,i)):this._delegate.set(n,t),this}update(e,t,i,...n){let o=Mu(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,i,...n),this}delete(e){let t=Mu(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}},oh=class r{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){let i=new Gc(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ku(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){let i=r.INSTANCES,n=i.get(e);n||(n=new WeakMap,i.set(e,n));let o=n.get(t);return o||(o=new r(e,new nh(e),t),n.set(t,o)),o}};oh.INSTANCES=new WeakMap;var Ya=class r{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new nh(e)}static forPath(e,t,i){if(e.length%2!==0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new r(t,new Qr(t._delegate,i,new Ze(e)))}static forKey(e,t,i){return new r(t,new Qr(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new ah(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ah(this.firestore,yF(this._delegate,e))}catch(t){throw qn(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=ui(e),e instanceof Qr?bF(this._delegate,e):!1}set(e,t){t=OF("DocumentReference.set",t);try{return t?CF(this._delegate,e,t):CF(this._delegate,e)}catch(i){throw qn(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return arguments.length===1?SF(this._delegate,e):SF(this._delegate,e,t,...i)}catch(n){throw qn(n,"updateDoc()","DocumentReference.update()")}}delete(){return mJ(this._delegate)}onSnapshot(...e){let t=EJ(e),i=DJ(e,n=>new Nu(this.firestore,new Ko(this.firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,this._delegate.converter)));return TF(this._delegate,t,i)}get(e){let t;return e?.source==="cache"?t=sJ(this._delegate):e?.source==="server"?t=cJ(this._delegate):t=aJ(this._delegate),t.then(i=>new Nu(this.firestore,new Ko(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new r(this.firestore,e?this._delegate.withConverter(oh.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function qn(r,e,t){return r.message=r.message.replace(e,t),r}function EJ(r){for(let e of r)if(typeof e=="object"&&!MF(e))return e;return{}}function DJ(r,e){var t,i;let n;return MF(r[0])?n=r[0]:MF(r[1])?n=r[1]:typeof r[0]=="function"?n={next:r[0],error:r[1],complete:r[2]}:n={next:r[1],error:r[2],complete:r[3]},{next:o=>{n.next&&n.next(e(o))},error:(t=n.error)===null||t===void 0?void 0:t.bind(n),complete:(i=n.complete)===null||i===void 0?void 0:i.bind(n)}}var Nu=class{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ya(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return AF(this._delegate,e._delegate)}},ku=class extends Nu{data(e){let t=this._delegate.data(e);return this._delegate._converter||rY(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}},Ru=class r{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new nh(e)}where(e,t,i){try{return new r(this.firestore,Ls(this._delegate,QZ(e,t,i)))}catch(n){throw qn(n,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new r(this.firestore,Ls(this._delegate,YZ(e,t)))}catch(i){throw qn(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new r(this.firestore,Ls(this._delegate,ZZ(e)))}catch(t){throw qn(t,"limit()","Query.limit()")}}limitToLast(e){try{return new r(this.firestore,Ls(this._delegate,JZ(e)))}catch(t){throw qn(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new r(this.firestore,Ls(this._delegate,eJ(...e)))}catch(t){throw qn(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new r(this.firestore,Ls(this._delegate,tJ(...e)))}catch(t){throw qn(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new r(this.firestore,Ls(this._delegate,rJ(...e)))}catch(t){throw qn(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new r(this.firestore,Ls(this._delegate,iJ(...e)))}catch(t){throw qn(t,"endAt()","Query.endAt()")}}isEqual(e){return _F(this._delegate,e._delegate)}get(e){let t;return e?.source==="cache"?t=uJ(this._delegate):e?.source==="server"?t=dJ(this._delegate):t=lJ(this._delegate),t.then(i=>new Eg(this.firestore,new xa(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){let t=EJ(e),i=DJ(e,n=>new Eg(this.firestore,new xa(this.firestore._delegate,this._userDataWriter,this._delegate,n._snapshot)));return TF(this._delegate,t,i)}withConverter(e){return new r(this.firestore,e?this._delegate.withConverter(oh.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},kF=class{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new ku(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},Eg=class{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ru(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ku(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new kF(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new ku(this._firestore,i))})}isEqual(e){return AF(this._delegate,e._delegate)}},ah=class r extends Ru{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let e=this._delegate.parent;return e?new Ya(this.firestore,e):null}doc(e){try{return e===void 0?new Ya(this.firestore,wg(this._delegate)):new Ya(this.firestore,wg(this._delegate,e))}catch(t){throw qn(t,"doc()","CollectionReference.doc()")}}add(e){return hJ(this._delegate,e).then(t=>new Ya(this.firestore,t))}isEqual(e){return bF(this._delegate,e._delegate)}withConverter(e){return new r(this.firestore,e?this._delegate.withConverter(oh.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function Mu(r){return Dr(r,Qr)}var RF=class r{constructor(...e){this._delegate=new _a(...e)}static documentId(){return new r(Ti.keyField().canonicalString())}isEqual(e){return e=ui(e),e instanceof _a?this._delegate._internalPath.isEqual(e._internalPath):!1}};var FF=class r{constructor(e){this._delegate=e}static serverTimestamp(){let e=vJ();return e._methodName="FieldValue.serverTimestamp",new r(e)}static delete(){let e=gJ();return e._methodName="FieldValue.delete",new r(e)}static arrayUnion(...e){let t=yJ(...e);return t._methodName="FieldValue.arrayUnion",new r(t)}static arrayRemove(...e){let t=bJ(...e);return t._methodName="FieldValue.arrayRemove",new r(t)}static increment(e){let t=_J(e);return t._methodName="FieldValue.increment",new r(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}};var f_e={Firestore:vx,GeoPoint:Du,Timestamp:hi,Blob:gx,Transaction:yx,WriteBatch:bx,DocumentReference:Ya,DocumentSnapshot:Nu,Query:Ru,QueryDocumentSnapshot:ku,QuerySnapshot:Eg,CollectionReference:ah,FieldPath:RF,FieldValue:FF,setLogLevel:h_e,CACHE_SIZE_UNLIMITED:kZ};function p_e(r,e){r.INTERNAL.registerComponent(new El("firestore-compat",t=>{let i=t.getProvider("app-compat").getImmediate(),n=t.getProvider("firestore").getImmediate();return e(i,n)},"PUBLIC").setServiceProps(Object.assign({},f_e)))}function g_e(r){p_e(r,(e,t)=>new vx(e,t,new NF)),r.registerVersion(u_e,d_e)}g_e(On);function v_e(r,e=$g){return new gn(t=>{let i;return e!=null?e.schedule(()=>{i=r.onSnapshot({includeMetadataChanges:!0},t)}):i=r.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}function AJ(r,e){return v_e(r,e)}function y_e(r,e){return AJ(r,e).pipe(Do(void 0),Eh(),ct(t=>{let[i,n]=t;return n.exists?i?.exists?{payload:n,type:"modified"}:{payload:n,type:"added"}:{payload:n,type:"removed"}}))}function LF(r,e){return AJ(r,e).pipe(ct(t=>({payload:t,type:"query"})))}var _x=class{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){let i=this.ref.collection(e),{ref:n,query:o}=MJ(i,t);return new wx(n,o,this.afs)}snapshotChanges(){return y_e(this.ref,this.afs.schedulers.outsideAngular).pipe(to)}valueChanges(e={}){return this.snapshotChanges().pipe(ct(({payload:t})=>e.idField?Cr(Le({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return Zr(this.ref.get(e)).pipe(to)}};function xx(r,e){return LF(r,e).pipe(Do(void 0),Eh(),ct(t=>{let[i,n]=t,o=n.payload.docChanges(),a=o.map(s=>({type:s.type,payload:s}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(n.payload.metadata)&&n.payload.docs.forEach((s,c)=>{let l=o.find(d=>d.doc.ref.isEqual(s.ref)),u=i?.payload.docs.find(d=>d.ref.isEqual(s.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(s.metadata)||!l&&u&&JSON.stringify(u.metadata)===JSON.stringify(s.metadata)||a.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:s}})}),a}))}function CJ(r,e,t){return xx(r,t).pipe($u((i,n)=>b_e(i,n.map(o=>o.payload),e),[]),wh(),ct(i=>i.map(n=>({type:n.type,payload:n}))))}function b_e(r,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(r=__e(r,i))}),r}function PF(r,e,t,...i){let n=r.slice();return n.splice(e,t,...i),n}function __e(r,e){switch(e.type){case"added":if(!(r[e.newIndex]&&r[e.newIndex].doc.ref.isEqual(e.doc.ref)))return PF(r,e.newIndex,0,e);break;case"modified":if(r[e.oldIndex]==null||r[e.oldIndex].doc.ref.isEqual(e.doc.ref))if(e.oldIndex!==e.newIndex){let t=r.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}else return PF(r,e.newIndex,1,e);break;case"removed":if(r[e.oldIndex]&&r[e.oldIndex].doc.ref.isEqual(e.doc.ref))return PF(r,e.oldIndex,1);break}return r}function SJ(r){return(!r||r.length===0)&&(r=["added","removed","modified"]),r}var wx=class{ref;query;afs;constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=xx(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(ct(i=>i.filter(n=>e.indexOf(n.type)>-1)))),t.pipe(Do(void 0),Eh(),Ur(([i,n])=>n.length>0||!i),ct(([,i])=>i),to)}auditTrail(e){return this.stateChanges(e).pipe($u((t,i)=>[...t,...i],[]))}snapshotChanges(e){let t=SJ(e);return CJ(this.query,t,this.afs.schedulers.outsideAngular).pipe(to)}valueChanges(e={}){return LF(this.query,this.afs.schedulers.outsideAngular).pipe(ct(t=>t.payload.docs.map(i=>e.idField?Cr(Le({},i.data()),{[e.idField]:i.id}):i.data())),to)}get(e){return Zr(this.query.get(e)).pipe(to)}add(e){return this.ref.add(e)}doc(e){return new _x(this.ref.doc(e),this.afs)}},BF=class{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return!e||e.length===0?xx(this.query,this.afs.schedulers.outsideAngular).pipe(to):xx(this.query,this.afs.schedulers.outsideAngular).pipe(ct(t=>t.filter(i=>e.indexOf(i.type)>-1)),Ur(t=>t.length>0),to)}auditTrail(e){return this.stateChanges(e).pipe($u((t,i)=>[...t,...i],[]))}snapshotChanges(e){let t=SJ(e);return CJ(this.query,t,this.afs.schedulers.outsideAngular).pipe(to)}valueChanges(e={}){return LF(this.query,this.afs.schedulers.outsideAngular).pipe(ct(i=>i.payload.docs.map(n=>e.idField?Le({[e.idField]:n.id},n.data()):n.data())),to)}get(e){return Zr(this.query.get(e)).pipe(to)}},TJ=new Ve("angularfire2.enableFirestorePersistence"),IJ=new Ve("angularfire2.firestore.persistenceSettings"),x_e=new Ve("angularfire2.firestore.settings"),w_e=new Ve("angularfire2.firestore.use-emulator");function MJ(r,e=t=>t){return{query:e(r),ref:r}}var E_e=(()=>{class r{schedulers;firestore;persistenceEnabled$;constructor(t,i,n,o,a,s,c,l,u,d,m,h,f,p,w,C,T){this.schedulers=c;let g=kp(t,s,i),_=u;d&&Ik(g,s,m,f,p,w,h,C),[this.firestore,this.persistenceEnabled$]=Vb(`${g.name}.firestore`,"AngularFirestore",g.name,()=>{let v=s.runOutsideAngular(()=>g.firestore());if(o&&v.settings(o),_&&v.useEmulator(..._),n&&!Zs(a)){let y=()=>{try{return Zr(v.enablePersistence(l||void 0).then(()=>!0,()=>!1))}catch(A){return typeof console<"u"&&console.warn(A),ut(!1)}};return[v,s.runOutsideAngular(y)]}else return[v,ut(!1)]},[o,_,n])}collection(t,i){let n;typeof t=="string"?n=this.firestore.collection(t):n=t;let{ref:o,query:a}=MJ(n,i),s=this.schedulers.ngZone.run(()=>o);return new wx(s,a,this)}collectionGroup(t,i){let n=i||(a=>a),o=this.firestore.collectionGroup(t);return new BF(n(o),this)}doc(t){let i;typeof t=="string"?i=this.firestore.doc(t):i=t;let n=this.schedulers.ngZone.run(()=>i);return new _x(n,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||r)(me(vm),me(ym,8),me(TJ,8),me(x_e,8),me(Fn),me(Je),me(Pb),me(IJ,8),me(w_e,8),me(Rp,8),me(Ek,8),me(Dk,8),me(Ak,8),me(Ck,8),me(Sk,8),me(Tk,8),me(au,8))};static \u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"any"})}return r})(),NJ=(()=>{class r{constructor(){On.registerVersion("angularfire",su.full,"fst-compat")}static enablePersistence(t){return{ngModule:r,providers:[{provide:TJ,useValue:!0},{provide:IJ,useValue:t}]}}static \u0275fac=function(i){return new(i||r)};static \u0275mod=ot({type:r});static \u0275inj=nt({providers:[E_e]})}return r})();var VF={production:!1,firebaseConfig:{apiKey:"AIzaSyBkVIevIK_Z3kBMjt32JQy0xBVp-8MZP8E",authDomain:"frontti24.firebaseapp.com",projectId:"frontti24",storageBucket:"frontti24.firebasestorage.app",messagingSenderId:"437401428771",appId:"1:437401428771:web:cb0444183e58e9355ee296",measurementId:"G-S5KLMFXNGN"}};console.log(VF);var Ex=class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=ot({type:r,bootstrap:[Zb]});static \u0275inj=nt({providers:[$K()],imports:[bv,TK.initializeApp(VF.firebaseConfig),IK,NJ,$b,KK,Iv,PK,GK,IH,OH,_G,xG,Pp,bm,qK,ab,Op,Qb,Cp,pG,ZG,tW,OG,gG,NP]})};VP().bootstrapModule(Ex,{ngZoneEventCoalescing:!0}).catch(r=>console.error(r));
